{"version":3,"sources":["assets\\Game\\Scripts\\ui\\LevelupDialog.ts"],"names":[],"mappings":";;;;;AAAA,gCAA+C;AAC/C,iEAA4D;AAC5D,wDAAmD;AAE7C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;QAAA,qEAsEC;QAnEG,kBAAY,GAAY,IAAI,CAAC;QAI7B,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAY,IAAI,CAAC;QAGzB,gBAAU,GAAY,IAAI,CAAC;QAE3B,UAAI,GAAU,CAAC,CAAC;QAEhB,iBAAW,GAAU,CAAC,CAAC;;IAqD3B,CAAC;IAnDG,8BAAM,GAAN,cAAW,CAAC;IACZ,6BAAK,GAAL,cAAU,CAAC;IACX,+BAAO,GAAP,UAAQ,KAAK,EAAC,CAAC;QAEX,KAAK;QACL,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAClB,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAAC,EAAE,CAAC,CAAC,CAAA;QAC7C,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;QAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAC,KAAK,CAAC,CAAA;QAE7D,IAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,EACtB;YACI,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAA;YAC5B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAE,KAAK,CAAA;SAC1C;aAAI;YACD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAA;YAC7B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAA;SAChB;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAE,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAE,MAAM,CAAA;IAC/D,CAAC;IAED,iCAAS,GAAT;QAEI,eAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACtC,eAAQ,CAAC,IAAI,EAAE,CAAC;QAChB,IAAI,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,IAAI,EAAE,CAAA;IAClC,CAAC;IAED,iCAAS,GAAT;QAEI,eAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,eAAQ,CAAC,IAAI,EAAE,CAAC;QAChB,IAAI,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,IAAI,EAAE,CAAA;IAClC,CAAC;IAED,mCAAW,GAAX;QAEI,IAAI,MAAM,GAAG,eAAQ,CAAC,SAAS,CAAC,iBAAU,CAAC,OAAO,CAAC,CAAC;QACpD,IAAG,MAAM,IAAI,CAAC,EACd;YACI,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;SACvC;aAAK,IAAG,MAAM,IAAI,CAAC,EACpB;YACI,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;aAAI;YACD,OAAO;YACP,kBAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAA;SAC5C;IAEL,CAAC;IAlED;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uDACU;IAI7B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACQ;IAbV,aAAa;QADjC,OAAO;OACa,aAAa,CAsEjC;IAAD,oBAAC;CAtED,AAsEC,CAtE0C,EAAE,CAAC,SAAS,GAsEtD;kBAtEoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import { UserInfo, ChoiceType } from \"../Info\";\r\nimport View from \"../../../framework/plugin_boosts/ui/View\";\r\nimport Platform from \"../../../framework/Platform\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class LevelupDialog extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    diamondLabel:cc.Label = null;\r\n\r\n\r\n    @property(cc.Label)\r\n    btnLabel:cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    tipLabel:cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    levelLabel:cc.Label = null;\r\n\r\n    mult:number = 1;\r\n\r\n    baseDiamond:number = 0;\r\n\r\n    onLoad () {}\r\n    start () {}\r\n    onShown(level,p)\r\n    {\r\n        //给钻石\r\n        p = Math.min(p,1);\r\n        let diamond = Math.floor(Math.max(30 * p,10))\r\n        this.baseDiamond = diamond;\r\n        this.diamondLabel.string = diamond.toString();\r\n        this.levelLabel.string = cc.js.formatStr(\"- 第 %s 关 - \",level)\r\n\r\n        if(Math.random() > 0.7)\r\n        {\r\n            this.mult = g.randomInt(3,6)\r\n            this.btnLabel.string = this.mult +\"倍领取\"\r\n        }else{\r\n            this.btnLabel.string = \"双倍领取\"\r\n            this.mult = 2\r\n        }\r\n        this.tipLabel.string =\"恭喜获得\" + this.btnLabel.string +\"奖励机会\"\r\n    }\r\n\r\n    click_get()\r\n    {\r\n        UserInfo.addDiamond(this.baseDiamond);\r\n        UserInfo.save();\r\n        this.getComponent(View).hide()\r\n    }\r\n\r\n    share_suc()\r\n    {\r\n        UserInfo.addDiamond(this.baseDiamond*this.mult);\r\n        UserInfo.save();\r\n        this.getComponent(View).hide()\r\n    }\r\n\r\n    click_getex()\r\n    {\r\n        let choise = UserInfo.getChoice(ChoiceType.Levelup);\r\n        if(choise == 1)\r\n        {\r\n            Platform.share(this.share_suc,this);\r\n        }else if(choise == 0)\r\n        {\r\n            this.share_suc();\r\n        }else{\r\n            //video\r\n            Platform.watch_video(this.share_suc,this)\r\n        }\r\n        \r\n    }\r\n}"]}