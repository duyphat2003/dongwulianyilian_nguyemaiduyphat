{"version":3,"sources":["assets\\framework\\wxsdk\\WxRankDialog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["﻿import Platform from \"../Platform\";\r\nimport View from \"../plugin_boosts/ui/View\";\r\nimport ViewManager from \"../plugin_boosts/ui/ViewManager\";\r\nimport Common from \"../plugin_boosts/utils/Common\";\r\nimport Signal from \"../plugin_boosts/misc/Signal\";\r\nimport LanguageManager, { LanguageMode } from \"../../Game/Scripts/LanguageManager\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class WxRankDialog extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    closeLabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    titleLabel: cc.Label = null;\r\n\r\n    first:boolean = true;\r\n\r\n    closeSignal = new Signal();\r\n\r\n    @property({ type: cc.Integer })\r\n    ch_FontSize: number = 25;\r\n    @property({ type: cc.Integer })\r\n    vi_FontSize: number = 20;\r\n    @property({ type: cc.Integer })\r\n    eng_FontSize: number = 20;\r\n\r\n    onEnable() {\r\n        switch (LanguageManager.instance.currentLanguage) {\r\n            case LanguageMode.VI:\r\n                this.set_label_lang(\r\n                    \"Đóng cửa\",\r\n                    \"Hạng         Cấp         Tên\",\r\n                );\r\n                this.set_label_FontSize(this.vi_FontSize);\r\n                break;\r\n            case LanguageMode.EN:\r\n                this.set_label_lang(\r\n                    \"Closure\",\r\n                    \"Rank         Level         Name\",\r\n                );\r\n                this.set_label_FontSize(this.eng_FontSize);\r\n\r\n                break;\r\n            case LanguageMode.CN:\r\n                this.set_label_lang(\r\n                    \"关闭\",\r\n                    \"秩         等级         姓名\",\r\n                );\r\n                this.set_label_FontSize(this.ch_FontSize);\r\n                break;\r\n        }\r\n    }\r\n\r\n    set_label_lang(\r\n        closeLabelString: string,\r\n        titleLabelString: string,\r\n    ) {\r\n        this.closeLabel.string = closeLabelString;\r\n        this.titleLabel.string = titleLabelString;\r\n    }\r\n\r\n    set_label_FontSize(fontSize: number) {\r\n        this.closeLabel.fontSize = fontSize;\r\n    }\r\n\r\n    onShown(callback,target) {\r\n        this.closeSignal.on(callback,target)\r\n        if(this.first)\r\n        {\r\n            this.scheduleOnce(this.reOpen,0.1)\r\n        }else{\r\n            Platform.showRank();\r\n        }\r\n        \r\n    }\r\n\r\n    reOpen()\r\n    {\r\n        Platform.showRank();\r\n        this.first = false;\r\n        this.getComponent(View).hide();\r\n        // setTimeout(() => {\r\n            ViewManager.instance.show(\"wechat/WxRankDialog\")\r\n        // }, 100);\r\n    }\r\n\r\n    click_close()\r\n    {\r\n        Platform.hideRank();\r\n        this.getComponent(View).hide();\r\n        this.closeSignal.fire();\r\n    }\r\n}\r\n"]}