{"version":3,"sources":["assets\\Game\\Scripts\\ui\\GetDialog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["﻿import View from \"../../../framework/plugin_boosts/ui/View\";\r\nimport { UserInfo, ChoiceType } from \"../Info\";\r\nimport { Toast } from \"../../../framework/plugin_boosts/ui/ToastManager\";\r\nimport LuckyDialog from \"./LuckyDialog\";\r\nimport ViewManager from \"../../../framework/plugin_boosts/ui/ViewManager\";\r\nimport Device from \"../../../framework/plugin_boosts/gamesys/Device\";\r\nimport Platform from \"../../../framework/Platform\";\r\nimport LanguageManager, { LanguageMode } from \"../LanguageManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GetDialog extends cc.Component {\r\n\r\n    onLoad () {}\r\n    start() {\r\n\r\n    }\r\n\r\n    onEnable() {\r\n        switch (LanguageManager.instance.currentLanguage) {\r\n            case LanguageMode.CN:\r\n                this.set_label_lang(\"=   恭喜获得  =\",\r\n                    \"钻石 x\",\r\n                    \"领取\",\r\n                    \"双倍领取\",\r\n                );\r\n                this.set_label_FontSize(this.ch_FontSize);\r\n                break;\r\n            case LanguageMode.VI:\r\n                this.set_label_lang(\"= Xin chúc mừng bạn đã chiến thắng =\",\r\n                    \"Kim cương x\",\r\n                    \"Nhận được\",\r\n                    \"Nhân đôi số tiền\",\r\n                );\r\n                this.set_label_FontSize(this.vi_FontSize);\r\n                break;\r\n            case LanguageMode.EN:\r\n                this.set_label_lang(\"= Congratulations on winning =\",\r\n                    \"Diamond x\",\r\n                    \"Receive\",\r\n                    \"Double the amount\",\r\n                );\r\n                this.set_label_FontSize(this.eng_FontSize);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    @property(cc.Label)\r\n    bannerLabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    diamondLabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    receiveLabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    receiveDoubleLabel: cc.Label = null;\r\n\r\n    count:number = 0;\r\n\r\n    @property(cc.Node)\r\n    node_close: cc.Node = null;\r\n\r\n\r\n    set_label_lang(bannerString: string,\r\n        diamondString: string,\r\n        receiveString: string,\r\n        receiveDoubleString: string,\r\n    ) {\r\n        this.bannerLabel.string = bannerString;\r\n        this.diamondLabel.string = diamondString;\r\n        this.receiveLabel.string = receiveString;\r\n        this.receiveDoubleLabel.string = receiveDoubleString;\r\n    }\r\n\r\n    @property({ type: cc.Integer })\r\n    ch_FontSize: number;\r\n    @property({ type: cc.Integer })\r\n    vi_FontSize: number;\r\n    @property({ type: cc.Integer })\r\n    eng_FontSize: number;\r\n\r\n    set_label_FontSize(fontSize: number) {\r\n        this.bannerLabel.fontSize = fontSize;\r\n        this.diamondLabel.fontSize = fontSize;\r\n        this.receiveLabel.fontSize = fontSize;\r\n        this.receiveDoubleLabel.fontSize = fontSize;\r\n    }\r\n\r\n    share_suc()\r\n    {\r\n        UserInfo.addDiamond(this.count * 2 )\r\n        UserInfo.save();\r\n        // Device.playEffect(R.audio_get_diamond)\r\n        this.getComponent(View).hide();\r\n        ViewManager.instance.show(\"Game/LuckyDialog\")\r\n    }\r\n\r\n    click_double()\r\n    {\r\n        //share \r\n        //if share suc \r\n        // this.share_suc()\r\n        let choice = UserInfo.getChoice(ChoiceType.Get)\r\n        if(choice == 1)\r\n        {\r\n            Platform.share(this.share_suc, this); \r\n            cc.log(\"Platform.share(this.share_suc, this)\");\r\n\r\n        }else if(choice == 0)\r\n        {\r\n            this.share_suc();\r\n            cc.log(\" this.share_suc()\");\r\n\r\n        }else {\r\n            //video\\\r\n            Platform.watch_video(this.share_suc, this)\r\n            cc.log(\"Platform.watch_video(this.share_suc, this)\");\r\n\r\n        }\r\n    }\r\n\r\n    onShown(count)\r\n    {\r\n        this.count = count;\r\n        // SpriteFrameCache.instance.getSpriteFrame(\"Game/textures/car/\" + cfg.img).then(sf=>this.icon.spriteFrame= sf);\r\n        this.diamondLabel.string =  \"+\" + count;\r\n        this.node_close.active = false\r\n        this.unschedule(this.delayShow)\r\n        this.scheduleOnce(this.delayShow,2)\r\n    }\r\n\r\n    delayShow()\r\n    {\r\n        this.node_close.active = true\r\n    }\r\n\r\n    click_no()\r\n    {\r\n        this.getComponent(View).hide();\r\n        UserInfo.addDiamond(this.count )\r\n        UserInfo.save()\r\n        // Device.playEffect(R.audio_get_diamond)\r\n        ViewManager.instance.show(\"Game/LuckyDialog\")\r\n    }\r\n}"]}