
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/Game/Scripts/Info');
require('./assets/Game/Scripts/LanguageManager');
require('./assets/Game/Scripts/Main');
require('./assets/Game/Scripts/hex-lines-game/Animal');
require('./assets/Game/Scripts/hex-lines-game/Consts');
require('./assets/Game/Scripts/hex-lines-game/Game');
require('./assets/Game/Scripts/hex-lines-game/GridManager');
require('./assets/Game/Scripts/hex-lines-game/HexonTile');
require('./assets/Game/Scripts/hex-lines-game/Res');
require('./assets/Game/Scripts/hex-lines-game/base/com');
require('./assets/Game/Scripts/hex-lines-game/ds/IntMap');
require('./assets/Game/Scripts/ui/DCBackground');
require('./assets/Game/Scripts/ui/DCParticleSystem');
require('./assets/Game/Scripts/ui/DailyGetDialog');
require('./assets/Game/Scripts/ui/GetDialog');
require('./assets/Game/Scripts/ui/HbDialog');
require('./assets/Game/Scripts/ui/LevelDialog');
require('./assets/Game/Scripts/ui/LevelupDialog');
require('./assets/Game/Scripts/ui/LoseDialog');
require('./assets/Game/Scripts/ui/LuckyDialog');
require('./assets/Game/Scripts/ui/PauseDialog');
require('./assets/Game/Scripts/ui/RankItem');
require('./assets/Game/Scripts/ui/RankingList');
require('./assets/Game/Scripts/ui/ShopDialog');
require('./assets/Game/Scripts/ui/ShopItemTemplate');
require('./assets/Game/Scripts/ui/WinDialog');
require('./assets/framework/Platform');
require('./assets/framework/network/ConnectManager');
require('./assets/framework/network/Message');
require('./assets/framework/network/MessageBase');
require('./assets/framework/network/MessageDispatch');
require('./assets/framework/network/MessageHandler');
require('./assets/framework/network/MessageType');
require('./assets/framework/network/Socket');
require('./assets/framework/plugin_boosts/gamesys/Device');
require('./assets/framework/plugin_boosts/gamesys/FSM');
require('./assets/framework/plugin_boosts/gamesys/InfiniteBackground');
require('./assets/framework/plugin_boosts/gamesys/LocalLifeSystem');
require('./assets/framework/plugin_boosts/gamesys/LocalTimeSystem');
require('./assets/framework/plugin_boosts/gamesys/PoolManager');
require('./assets/framework/plugin_boosts/gamesys/PsFx');
require('./assets/framework/plugin_boosts/gamesys/PsFxPlayer');
require('./assets/framework/plugin_boosts/gamesys/PsSpawner');
require('./assets/framework/plugin_boosts/libs/easing');
require('./assets/framework/plugin_boosts/misc/BoostsAction');
require('./assets/framework/plugin_boosts/misc/ClickAudio');
require('./assets/framework/plugin_boosts/misc/ClickAudioManager');
require('./assets/framework/plugin_boosts/misc/DataCenter');
require('./assets/framework/plugin_boosts/misc/FrameSwitch');
require('./assets/framework/plugin_boosts/misc/InputSystem');
require('./assets/framework/plugin_boosts/misc/JoyStick');
require('./assets/framework/plugin_boosts/misc/Net');
require('./assets/framework/plugin_boosts/misc/Signal');
require('./assets/framework/plugin_boosts/misc/SpriteFrameCache');
require('./assets/framework/plugin_boosts/ui/DCLabel');
require('./assets/framework/plugin_boosts/ui/DCPandoraPoint');
require('./assets/framework/plugin_boosts/ui/DCSprite');
require('./assets/framework/plugin_boosts/ui/DCToggle');
require('./assets/framework/plugin_boosts/ui/DCUI');
require('./assets/framework/plugin_boosts/ui/LoadingManager');
require('./assets/framework/plugin_boosts/ui/MessageBoxComponent');
require('./assets/framework/plugin_boosts/ui/MessageBoxManager');
require('./assets/framework/plugin_boosts/ui/PandoraPoint');
require('./assets/framework/plugin_boosts/ui/ToastComponent');
require('./assets/framework/plugin_boosts/ui/ToastManager');
require('./assets/framework/plugin_boosts/ui/UIComponent');
require('./assets/framework/plugin_boosts/ui/UIFunctions');
require('./assets/framework/plugin_boosts/ui/View');
require('./assets/framework/plugin_boosts/ui/ViewManager');
require('./assets/framework/plugin_boosts/ui/game/LevelSelector');
require('./assets/framework/plugin_boosts/utils/Common');
require('./assets/framework/plugin_boosts/utils/EventManager');
require('./assets/framework/plugin_boosts/utils/Intersection');
require('./assets/framework/qqsdk/BKTool');
require('./assets/framework/qqsdk/SoundHelper');
require('./assets/framework/wxsdk/AddToMyFav');
require('./assets/framework/wxsdk/GameConfigs');
require('./assets/framework/wxsdk/MoreGameComponent');
require('./assets/framework/wxsdk/MoreGameDialog');
require('./assets/framework/wxsdk/MoreGameItem');
require('./assets/framework/wxsdk/MoreGameManager');
require('./assets/framework/wxsdk/MoreGameStyle');
require('./assets/framework/wxsdk/WxRankDialog');
require('./assets/framework/wxsdk/sdk');
require('./assets/migration/use_v2.0.x_cc.Toggle_event');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.0.x_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50795zUaKtEKpR26yc6eNG8', 'use_v2.0.x_cc.Toggle_event');
// migration/use_v2.0.x_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only compatible with projects prior to v2.1.0.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 之前版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */

if (cc.Toggle) {
  // Whether the 'toggle' and 'checkEvents' events are fired when 'toggle.check() / toggle.uncheck()' is called in the code
  // 在代码中调用 'toggle.check() / toggle.uncheck()' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_check = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbWlncmF0aW9uXFx1c2VfdjIuMC54X2NjLlRvZ2dsZV9ldmVudC5qcyJdLCJuYW1lcyI6WyJjYyIsIlRvZ2dsZSIsIl90cmlnZ2VyRXZlbnRJblNjcmlwdF9jaGVjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUlBLEVBQUUsQ0FBQ0MsTUFBTSxFQUFFO0VBQ1g7RUFDQTtFQUNBRCxFQUFFLENBQUNDLE1BQU0sQ0FBQ0MsMkJBQTJCLEdBQUcsSUFBSTtBQUNoRCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVGhpcyBzY3JpcHQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgQ29jb3MgQ3JlYXRvciBhbmQgaXMgb25seSBjb21wYXRpYmxlIHdpdGggcHJvamVjdHMgcHJpb3IgdG8gdjIuMS4wLlxyXG4gKiBZb3UgZG8gbm90IG5lZWQgdG8gbWFudWFsbHkgYWRkIHRoaXMgc2NyaXB0IGluIGFueSBvdGhlciBwcm9qZWN0LlxyXG4gKiBJZiB5b3UgZG9uJ3QgdXNlIGNjLlRvZ2dsZSBpbiB5b3VyIHByb2plY3QsIHlvdSBjYW4gZGVsZXRlIHRoaXMgc2NyaXB0IGRpcmVjdGx5LlxyXG4gKiBJZiB5b3VyIHByb2plY3QgaXMgaG9zdGVkIGluIFZDUyBzdWNoIGFzIGdpdCwgc3VibWl0IHRoaXMgc2NyaXB0IHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiDmraTohJrmnKznlLEgQ29jb3MgQ3JlYXRvciDoh6rliqjnlJ/miJDvvIzku4XnlKjkuo7lhbzlrrkgdjIuMS4wIOS5i+WJjeeJiOacrOeahOW3peeoi++8jFxyXG4gKiDkvaDml6DpnIDlnKjku7vkvZXlhbblroPpobnnm67kuK3miYvliqjmt7vliqDmraTohJrmnKzjgIJcclxuICog5aaC5p6c5L2g55qE6aG555uu5Lit5rKh55So5YiwIFRvZ2dsZe+8jOWPr+ebtOaOpeWIoOmZpOivpeiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67mnInmiZjnrqHkuo4gZ2l0IOetieeJiOacrOW6k++8jOivt+WwhuatpOiEmuacrOS4gOW5tuS4iuS8oOOAglxyXG4gKi9cclxuXHJcbmlmIChjYy5Ub2dnbGUpIHtcclxuICAgIC8vIFdoZXRoZXIgdGhlICd0b2dnbGUnIGFuZCAnY2hlY2tFdmVudHMnIGV2ZW50cyBhcmUgZmlyZWQgd2hlbiAndG9nZ2xlLmNoZWNrKCkgLyB0b2dnbGUudW5jaGVjaygpJyBpcyBjYWxsZWQgaW4gdGhlIGNvZGVcclxuICAgIC8vIOWcqOS7o+eggeS4reiwg+eUqCAndG9nZ2xlLmNoZWNrKCkgLyB0b2dnbGUudW5jaGVjaygpJyDml7bmmK/lkKbop6blj5EgJ3RvZ2dsZScg5LiOICdjaGVja0V2ZW50cycg5LqL5Lu2XHJcbiAgICBjYy5Ub2dnbGUuX3RyaWdnZXJFdmVudEluU2NyaXB0X2NoZWNrID0gdHJ1ZTtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/LanguageManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0105dG48yBJwLawk1oXeFXf', 'LanguageManager');
// Game/Scripts/LanguageManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LanguageMode = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LanguageMode;
(function (LanguageMode) {
    LanguageMode["EN"] = "en";
    LanguageMode["VI"] = "vi";
    LanguageMode["CN"] = "zh";
})(LanguageMode = exports.LanguageMode || (exports.LanguageMode = {}));
var LanguageManager = /** @class */ (function () {
    function LanguageManager() {
        this._currentLanguage = LanguageMode.CN;
        this.isLanguageFileExist = function () {
            if (cc.sys.isNative) {
                // Native: dùng jsb.fileUtils
                var path = jsb.fileUtils.getWritablePath() + "language.json";
                return jsb.fileUtils.isFileExist(path);
            }
            else {
                // Web/HTML5: kiểm tra localStorage
                return cc.sys.localStorage.getItem("language.json") != null;
            }
        };
    }
    LanguageManager_1 = LanguageManager;
    Object.defineProperty(LanguageManager.prototype, "currentLanguage", {
        get: function () {
            return this._currentLanguage;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LanguageManager, "instance", {
        get: function () {
            if (!this._instance) {
                this._instance = new LanguageManager_1();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    //Save JSON
    LanguageManager.prototype.saveLanguage = function (lang) {
        this._currentLanguage = lang;
        var data = { currentLanguage: lang };
        if (cc.sys.isNative) {
            // Android/iOS/PC
            var path = jsb.fileUtils.getWritablePath() + "language.json";
            jsb.fileUtils.writeStringToFile(JSON.stringify(data), path);
            cc.log("Saved language.json to:", path);
        }
        else {
            // Web/Mobile HTML5
            cc.sys.localStorage.setItem("language.json", JSON.stringify(data));
        }
    };
    //Load JSON
    LanguageManager.prototype.loadLanguage = function () {
        if (cc.sys.isNative) {
            var path = jsb.fileUtils.getWritablePath() + "language.json";
            if (jsb.fileUtils.isFileExist(path)) {
                var content = jsb.fileUtils.getStringFromFile(path);
                var data = JSON.parse(content);
                this._currentLanguage = data.currentLanguage;
            }
        }
        else {
            var saved = cc.sys.localStorage.getItem("language.json");
            if (saved) {
                var data = JSON.parse(saved);
                this._currentLanguage = data.currentLanguage;
            }
        }
        cc.log("Loaded language:", this._currentLanguage);
    };
    var LanguageManager_1;
    LanguageManager._instance = null;
    LanguageManager = LanguageManager_1 = __decorate([
        ccclass
    ], LanguageManager);
    return LanguageManager;
}());
exports.default = LanguageManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcTGFuZ3VhZ2VNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFN0MsSUFBWSxZQUlYO0FBSkQsV0FBWSxZQUFZO0lBQ3BCLHlCQUFTLENBQUE7SUFDVCx5QkFBUyxDQUFBO0lBQ1QseUJBQVMsQ0FBQTtBQUNiLENBQUMsRUFKVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQUl2QjtBQUdEO0lBQUE7UUFHWSxxQkFBZ0IsR0FBaUIsWUFBWSxDQUFDLEVBQUUsQ0FBQztRQVlsRCx3QkFBbUIsR0FBRztZQUN6QixJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFO2dCQUNqQiw2QkFBNkI7Z0JBQzdCLElBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLEdBQUcsZUFBZSxDQUFDO2dCQUMvRCxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzFDO2lCQUFNO2dCQUNILG1DQUFtQztnQkFDbkMsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksSUFBSSxDQUFDO2FBQy9EO1FBQ0wsQ0FBQyxDQUFBO0lBcUNMLENBQUM7d0JBN0RvQixlQUFlO0lBS2hDLHNCQUFXLDRDQUFlO2FBQTFCO1lBQ0ksT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBa0IsMkJBQVE7YUFBMUI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGlCQUFlLEVBQUUsQ0FBQzthQUMxQztZQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQWFELFdBQVc7SUFDSixzQ0FBWSxHQUFuQixVQUFvQixJQUFrQjtRQUNsQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQU0sSUFBSSxHQUFHLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxDQUFDO1FBRXZDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDakIsaUJBQWlCO1lBQ2pCLElBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLEdBQUcsZUFBZSxDQUFDO1lBQy9ELEdBQUcsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1RCxFQUFFLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNDO2FBQU07WUFDSCxtQkFBbUI7WUFDbkIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDdEU7SUFDTCxDQUFDO0lBRUQsV0FBVztJQUNKLHNDQUFZLEdBQW5CO1FBQ0ksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFNLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxHQUFHLGVBQWUsQ0FBQztZQUMvRCxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNqQyxJQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0RCxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGVBQStCLENBQUM7YUFDaEU7U0FDSjthQUFNO1lBQ0gsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzNELElBQUksS0FBSyxFQUFFO2dCQUNQLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZUFBK0IsQ0FBQzthQUNoRTtTQUNKO1FBQ0QsRUFBRSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN0RCxDQUFDOztJQTFEYyx5QkFBUyxHQUFvQixJQUFJLENBQUM7SUFGaEMsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQTZEbkM7SUFBRCxzQkFBQztDQTdERCxBQTZEQyxJQUFBO2tCQTdEb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIu+7v2NvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCBlbnVtIExhbmd1YWdlTW9kZSB7XG4gICAgRU4gPSBcImVuXCIsXG4gICAgVkkgPSBcInZpXCIsXG4gICAgQ04gPSBcInpoXCJcbn1cblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhbmd1YWdlTWFuYWdlciB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IExhbmd1YWdlTWFuYWdlciA9IG51bGw7XG4gICAgcHJpdmF0ZSBfY3VycmVudExhbmd1YWdlOiBMYW5ndWFnZU1vZGUgPSBMYW5ndWFnZU1vZGUuQ047XG5cbiAgICBwdWJsaWMgZ2V0IGN1cnJlbnRMYW5ndWFnZSgpOiBMYW5ndWFnZU1vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudExhbmd1YWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IExhbmd1YWdlTWFuYWdlciB7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IExhbmd1YWdlTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG4gICAgcHVibGljIGlzTGFuZ3VhZ2VGaWxlRXhpc3QgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGlmIChjYy5zeXMuaXNOYXRpdmUpIHtcbiAgICAgICAgICAgIC8vIE5hdGl2ZTogZMO5bmcganNiLmZpbGVVdGlsc1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGpzYi5maWxlVXRpbHMuZ2V0V3JpdGFibGVQYXRoKCkgKyBcImxhbmd1YWdlLmpzb25cIjtcbiAgICAgICAgICAgIHJldHVybiBqc2IuZmlsZVV0aWxzLmlzRmlsZUV4aXN0KHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV2ViL0hUTUw1OiBraeG7g20gdHJhIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgcmV0dXJuIGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxhbmd1YWdlLmpzb25cIikgIT0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy9TYXZlIEpTT05cbiAgICBwdWJsaWMgc2F2ZUxhbmd1YWdlKGxhbmc6IExhbmd1YWdlTW9kZSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50TGFuZ3VhZ2UgPSBsYW5nO1xuICAgICAgICBjb25zdCBkYXRhID0geyBjdXJyZW50TGFuZ3VhZ2U6IGxhbmcgfTtcblxuICAgICAgICBpZiAoY2Muc3lzLmlzTmF0aXZlKSB7XG4gICAgICAgICAgICAvLyBBbmRyb2lkL2lPUy9QQ1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGpzYi5maWxlVXRpbHMuZ2V0V3JpdGFibGVQYXRoKCkgKyBcImxhbmd1YWdlLmpzb25cIjtcbiAgICAgICAgICAgIGpzYi5maWxlVXRpbHMud3JpdGVTdHJpbmdUb0ZpbGUoSlNPTi5zdHJpbmdpZnkoZGF0YSksIHBhdGgpO1xuICAgICAgICAgICAgY2MubG9nKFwiU2F2ZWQgbGFuZ3VhZ2UuanNvbiB0bzpcIiwgcGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZWIvTW9iaWxlIEhUTUw1XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsYW5ndWFnZS5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vTG9hZCBKU09OXG4gICAgcHVibGljIGxvYWRMYW5ndWFnZSgpIHtcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGpzYi5maWxlVXRpbHMuZ2V0V3JpdGFibGVQYXRoKCkgKyBcImxhbmd1YWdlLmpzb25cIjtcbiAgICAgICAgICAgIGlmIChqc2IuZmlsZVV0aWxzLmlzRmlsZUV4aXN0KHBhdGgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGpzYi5maWxlVXRpbHMuZ2V0U3RyaW5nRnJvbUZpbGUocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudExhbmd1YWdlID0gZGF0YS5jdXJyZW50TGFuZ3VhZ2UgYXMgTGFuZ3VhZ2VNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2F2ZWQgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsYW5ndWFnZS5qc29uXCIpO1xuICAgICAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMYW5ndWFnZSA9IGRhdGEuY3VycmVudExhbmd1YWdlIGFzIExhbmd1YWdlTW9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYy5sb2coXCJMb2FkZWQgbGFuZ3VhZ2U6XCIsIHRoaXMuX2N1cnJlbnRMYW5ndWFnZSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/base/com.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e25bakBQd9I5LmDR7yLx+Jf', 'com');
// Game/Scripts/hex-lines-game/base/com.js

"use strict";

var com = function com() {};
com.dateStr = function (t) {
  var e = t.getMonth() + 1,
    n = t.getDate(),
    i = t.getHours(),
    s = t.getMinutes(),
    a = t.getSeconds();
  return t.getFullYear() + "-" + (10 > e ? "0" + e : "" + e) + "-" + (10 > n ? "0" + n : "" + n) + " " + (10 > i ? "0" + i : "" + i) + ":" + (10 > s ? "0" + s : "" + s) + ":" + (10 > a ? "0" + a : "" + a);
}, com.strDate = function (t) {
  switch (t.length) {
    case 8:
      var t = t.split(":"),
        e = new Date();
      return e.setTime(0), e.setUTCHours(t[0]), e.setUTCMinutes(t[1]), e.setUTCSeconds(t[2]), e;
    case 10:
      return t = t.split("-"), new Date(t[0], t[1] - 1, t[2], 0, 0, 0);
    case 19:
      return e = t.split(" "), t = e[0].split("-"), e = e[1].split(":"), new Date(t[0], t[1] - 1, t[2], e[0], e[1], e[2]);
    default:
      throw "Invalid date format : " + t;
  }
};
com.cca = function (t, e) {
  var n = t.charCodeAt(e);
  return n != n ? void 0 : n;
};
com.substr = function (t, e, n) {
  return null != e && 0 != e && null != n && 0 > n ? "" : (null == n && (n = t.length), 0 > e ? (e = t.length + e, 0 > e && (e = 0)) : 0 > n && (n = t.length + n - e), t.substr(e, n));
};
com.remove = function (t, e) {
  var n = t.indexOf(e);
  return -1 == n ? !1 : (t.splice(n, 1), !0);
};
com.iter = function (t) {
  return {
    cur: 0,
    arr: t,
    hasNext: function hasNext() {
      return this.cur < this.arr.length;
    },
    next: function next() {
      return this.arr[this.cur++];
    }
  };
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGJhc2VcXGNvbS5qcyJdLCJuYW1lcyI6WyJjb20iLCJkYXRlU3RyIiwidCIsImUiLCJnZXRNb250aCIsIm4iLCJnZXREYXRlIiwiaSIsImdldEhvdXJzIiwicyIsImdldE1pbnV0ZXMiLCJhIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwic3RyRGF0ZSIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsInNldFRpbWUiLCJzZXRVVENIb3VycyIsInNldFVUQ01pbnV0ZXMiLCJzZXRVVENTZWNvbmRzIiwiY2NhIiwiY2hhckNvZGVBdCIsInN1YnN0ciIsInJlbW92ZSIsImluZGV4T2YiLCJzcGxpY2UiLCJpdGVyIiwiY3VyIiwiYXJyIiwiaGFzTmV4dCIsIm5leHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsR0FBRyxHQUFHLFNBQU5BLEdBQUdBLENBQUEsRUFBYSxDQUFDLENBQUM7QUFFdEJBLEdBQUcsQ0FBQ0MsT0FBTyxHQUFHLFVBQVNDLENBQUMsRUFBRTtFQUN0QixJQUFJQyxDQUFDLEdBQUdELENBQUMsQ0FBQ0UsUUFBUSxFQUFFLEdBQUcsQ0FBQztJQUN4QkMsQ0FBQyxHQUFHSCxDQUFDLENBQUNJLE9BQU8sRUFBRTtJQUNmQyxDQUFDLEdBQUdMLENBQUMsQ0FBQ00sUUFBUSxFQUFFO0lBQ2hCQyxDQUFDLEdBQUdQLENBQUMsQ0FBQ1EsVUFBVSxFQUFFO0lBQ2xCQyxDQUFDLEdBQUdULENBQUMsQ0FBQ1UsVUFBVSxFQUFFO0VBQ2xCLE9BQU9WLENBQUMsQ0FBQ1csV0FBVyxFQUFFLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBR1YsQ0FBQyxHQUFHLEdBQUcsR0FBR0EsQ0FBQyxHQUFFLEVBQUUsR0FBR0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBR0UsQ0FBQyxHQUFHLEdBQUcsR0FBR0EsQ0FBQyxHQUFFLEVBQUUsR0FBR0EsQ0FB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LElBQUksQ0FBQyxHQUFHRSxDQUFDLEtBQUtBLENBQUMsR0FBR0gsQ0FBQyxDQUFDYSxNQUFNLEdBQUdWLENBQUMsR0FBR0YsQ0FBQyxDQUFDLEVBQUVELENBQUMsQ0FBQ3NCLE1BQU0sQ0FBQ3JCLENBQUMsRUFBRUUsQ0FBQyxDQUFDLENBQUM7QUFDeEwsQ0FBQztBQUNETCxHQUFHLENBQUN5QixNQUFNLEdBQUcsVUFBU3ZCLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0VBQ3hCLElBQUlFLENBQUMsR0FBR0gsQ0FBQyxDQUFDd0IsT0FBTyxDQUFDdkIsQ0FBQyxDQUFDO0VBQ3BCLE9BQU8sQ0FBRSxDQUFDLElBQUlFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSUgsQ0FBQyxDQUFDeUIsTUFBTSxDQUFDdEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFDREwsR0FBRyxDQUFDNEIsSUFBSSxHQUFHLFVBQVMxQixDQUFDLEVBQUU7RUFDbkIsT0FBTztJQUNIMkIsR0FBRyxFQUFFLENBQUM7SUFDTkMsR0FBRyxFQUFFNUIsQ0FBQztJQUNONkIsT0FBTyxFQUFFLFNBQUFBLFFBQUEsRUFBVztNQUNoQixPQUFPLElBQUksQ0FBQ0YsR0FBRyxHQUFHLElBQUksQ0FBQ0MsR0FBRyxDQUFDZixNQUFNO0lBQ3JDLENBQUM7SUFDRGlCLElBQUksRUFBRSxTQUFBQSxLQUFBLEVBQVc7TUFDYixPQUFPLElBQUksQ0FBQ0YsR0FBRyxDQUFDLElBQUksQ0FBQ0QsR0FBRyxFQUFFLENBQUM7SUFDL0I7RUFDSixDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbSA9IGZ1bmN0aW9uKCl7fVxuXG5jb20uZGF0ZVN0ciA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgZSA9IHQuZ2V0TW9udGgoKSArIDEsXG4gICAgbiA9IHQuZ2V0RGF0ZSgpLFxuICAgIGkgPSB0LmdldEhvdXJzKCksXG4gICAgcyA9IHQuZ2V0TWludXRlcygpLFxuICAgIGEgPSB0LmdldFNlY29uZHMoKTtcbiAgICByZXR1cm4gdC5nZXRGdWxsWWVhcigpICsgXCItXCIgKyAoMTAgPiBlID8gXCIwXCIgKyBlOiBcIlwiICsgZSkgKyBcIi1cIiArICgxMCA+IG4gPyBcIjBcIiArIG46IFwiXCIgKyBuKSArIFwiIFwiICsgKDEwID4gaSA/IFwiMFwiICsgaTogXCJcIiArIGkpICsgXCI6XCIgKyAoMTAgPiBzID8gXCIwXCIgKyBzOiBcIlwiICsgcykgKyBcIjpcIiArICgxMCA+IGEgPyBcIjBcIiArIGE6IFwiXCIgKyBhKVxufSxcblxuY29tLnN0ckRhdGUgPSBmdW5jdGlvbih0KSB7XG4gICAgc3dpdGNoICh0Lmxlbmd0aCkge1xuICAgIGNhc2UgODpcbiAgICAgICAgdmFyIHQgPSB0LnNwbGl0KFwiOlwiKSxcbiAgICAgICAgZSA9IG5ldyBEYXRlO1xuICAgICAgICByZXR1cm4gZS5zZXRUaW1lKDApLFxuICAgICAgICBlLnNldFVUQ0hvdXJzKHRbMF0pLFxuICAgICAgICBlLnNldFVUQ01pbnV0ZXModFsxXSksXG4gICAgICAgIGUuc2V0VVRDU2Vjb25kcyh0WzJdKSxcbiAgICAgICAgZTtcbiAgICBjYXNlIDEwOlxuICAgICAgICByZXR1cm4gdCA9IHQuc3BsaXQoXCItXCIpLFxuICAgICAgICBuZXcgRGF0ZSh0WzBdLCB0WzFdIC0gMSwgdFsyXSwgMCwgMCwgMCk7XG4gICAgY2FzZSAxOTpcbiAgICAgICAgcmV0dXJuIGUgPSB0LnNwbGl0KFwiIFwiKSxcbiAgICAgICAgdCA9IGVbMF0uc3BsaXQoXCItXCIpLFxuICAgICAgICBlID0gZVsxXS5zcGxpdChcIjpcIiksXG4gICAgICAgIG5ldyBEYXRlKHRbMF0sIHRbMV0gLSAxLCB0WzJdLCBlWzBdLCBlWzFdLCBlWzJdKTtcbiAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBcIkludmFsaWQgZGF0ZSBmb3JtYXQgOiBcIiArIHRcbiAgICB9XG59XG5jb20uY2NhID0gZnVuY3Rpb24odCwgZSkge1xuICAgIHZhciBuID0gdC5jaGFyQ29kZUF0KGUpO1xuICAgIHJldHVybiBuICE9IG4gPyB2b2lkIDAgOiBuXG59XG5jb20uc3Vic3RyID0gZnVuY3Rpb24odCwgZSwgbikge1xuICAgIHJldHVybiBudWxsICE9IGUgJiYgMCAhPSBlICYmIG51bGwgIT0gbiAmJiAwID4gbiA/IFwiXCI6IChudWxsID09IG4gJiYgKG4gPSB0Lmxlbmd0aCksIDAgPiBlID8gKGUgPSB0Lmxlbmd0aCArIGUsIDAgPiBlICYmIChlID0gMCkpIDogMCA+IG4gJiYgKG4gPSB0Lmxlbmd0aCArIG4gLSBlKSwgdC5zdWJzdHIoZSwgbikpXG59XG5jb20ucmVtb3ZlID0gZnVuY3Rpb24odCwgZSkge1xuICAgIHZhciBuID0gdC5pbmRleE9mKGUpO1xuICAgIHJldHVybiAtIDEgPT0gbiA/ICExIDogKHQuc3BsaWNlKG4sIDEpLCAhMClcbn1cbmNvbS5pdGVyID0gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGN1cjogMCxcbiAgICAgICAgYXJyOiB0LFxuICAgICAgICBoYXNOZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ciA8IHRoaXMuYXJyLmxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFyclt0aGlzLmN1cisrXVxuICAgICAgICB9XG4gICAgfVxufTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/Platform.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8fc52zVaq1FVrE4//XvMzeK', 'Platform');
// framework/Platform.ts

Object.defineProperty(exports, "__esModule", { value: true });
var sdk_1 = require("./wxsdk/sdk");
var ToastManager_1 = require("./plugin_boosts/ui/ToastManager");
var BKTool_1 = require("./qqsdk/BKTool");
var SpriteFrameCache_1 = require("./plugin_boosts/misc/SpriteFrameCache");
var Signal_1 = require("./plugin_boosts/misc/Signal");
var EventManager_1 = require("./plugin_boosts/utils/EventManager");
var WxCommands;
(function (WxCommands) {
    WxCommands[WxCommands["Hide"] = 99] = "Hide";
    WxCommands[WxCommands["Next"] = 100] = "Next";
    WxCommands[WxCommands["RankSmall"] = 101] = "RankSmall";
    WxCommands[WxCommands["Rank"] = 102] = "Rank";
})(WxCommands || (WxCommands = {}));
var Platform = /** @class */ (function () {
    function Platform() {
    }
    Platform.getOpenID = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // wechat 
            var userInfo = sdk_1.wxsdk.userInfo;
            if (userInfo && userInfo.openID) {
                return userInfo.openID;
            }
            else {
                return "";
            }
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return GameStatusInfo.openId;
        }
        else {
            return "123";
        }
    };
    Platform.getNick = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return BKTool_1.default.getNick();
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            return (sdk_1.wxsdk.userInfo && sdk_1.wxsdk.userInfo.nickName) || "自已";
        }
        else {
            return "玩家自已";
        }
    };
    Platform.getHead = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return BKTool_1.default.getHead();
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // avatarUrl:"https://wx.qlogo.cn/mmopen/vi_32/QlHaicGZOD7do9LuX5W4APHYSrUBqVaGULuwISLUf35IyOOYZ3IXl7nF5mW36JiaQ9snziawrAvkknX41SmeYa9AQ/132"city:""country:""gender:1language:"zh_CN"nickName:"Damon Ren⁶⁶⁶"province:""
            var userInfo = sdk_1.wxsdk.userInfo;
            if (userInfo && userInfo.avatarUrl) {
                return userInfo.avatarUrl;
            }
            else {
                return "https://tank.wdfunny.com/speed_logo/2.jpg";
            }
        }
        return "https://tank.wdfunny.com/speed_logo/1.jpg";
    };
    Platform.loadHeadQQ = function (sp) {
        var self = this;
        var absolutePath = "GameSandBox://_head/" + GameStatusInfo.openId + ".jpg";
        var isExit = BK.FileUtil.isFileExist(absolutePath);
        cc.log(absolutePath + " is exit :" + isExit);
        //如果指定目录中存在此图像就直接显示否则从网络获取
        if (isExit) {
            cc.loader.load(absolutePath, function (err, texture) {
                if (err == null) {
                    sp.spriteFrame = new cc.SpriteFrame(texture);
                }
            });
        }
        else {
            BK.MQQ.Account.getHeadEx(GameStatusInfo.openId, function (oId, imgPath) {
                cc.log("openId:" + oId + " imgPath:" + imgPath);
                var image = new Image();
                image.onload = function () {
                    var tex = new cc.Texture2D();
                    tex.initWithElement(image);
                    tex.handleLoadedTexture();
                    sp.spriteFrame = new cc.SpriteFrame(tex);
                };
                image.src = imgPath;
            });
        }
    };
    Platform.loadSelfHead = function (sprite) {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            this.loadHeadQQ(sprite);
        }
        else {
            SpriteFrameCache_1.default.instance.getSpriteFrame(Platform.getHead()).then(function (sf) { return sprite.spriteFrame = sf; });
        }
    };
    Platform.exit = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.offShow(Platform.onEnterForeground);
            wx.offHide(Platform.onEnterBackground);
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
        }
    };
    Platform.login = function () {
        var _this = this;
        this.isAndroid = cc.sys.os == "Android";
        console.log("================= os", cc.sys.os);
        this.isIOS = cc.sys.os == "iOS";
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.login();
            sdk_1.wxsdk.requestConfig(function (data) {
                _this.configGetSignal.fire(data);
            });
            // get conf 
            wx.onShow(Platform.onEnterForeground);
            wx.onHide(Platform.onEnterBackground);
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.login();
            BK.onEnterForeground(Platform.onEnterForeground);
            BK.onEnterBackground(Platform.onEnterBackground);
        }
    };
    Platform.requestServerConfigs = function (name, callback, target) {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.requestDB(name, callback, target);
        }
    };
    Platform.getGameID = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            GameStatusInfo.gameId;
        }
        return "speed_wanyiwan";
    };
    Platform.getLaunchOptions = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            return wx.getLaunchOptionsSync();
        }
        return {};
    };
    Platform.getCity = function () {
        return "";
    };
    Platform.share = function (callback, target) {
        console.log("######开始分享");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.openShare();
            var t_1 = new Date().getTime();
            Platform.onEnterForegroundSignal.on(function () {
                Platform.onEnterForegroundSignal.clear();
                var d = new Date().getTime() - t_1;
                if (d > 2333) {
                    setTimeout(function (_) {
                        if (callback)
                            callback.call(target);
                    }, 500);
                }
                else {
                    //用户及时返回分享失败 
                    ToastManager_1.Toast.make("分享失败,请尝试换其它群分享");
                }
            });
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.share(function (v) {
                if (v == "success") {
                    callback && callback.call(target);
                }
                else {
                    // Toast.make("分享失败")
                }
            });
        }
        else {
            callback && callback.call(target);
        }
    };
    Platform.watch_video = function (callback, target) {
        console.log("######开始看视频");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.loadVideoAd(function (code, isEnded) {
                if (code == "load") {
                    cc.audioEngine.pauseMusic();
                    Platform.bannnerRefreshEnabled = false;
                }
                else if (code == "close") {
                    Platform.bannnerRefreshEnabled = true;
                    if (!isEnded)
                        ToastManager_1.Toast.make("必须看完视频,才能获取奖励");
                    else
                        callback && callback.call(target);
                }
            });
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            //关闭背景
            cc.audioEngine.pauseMusic();
            var isFinish_1 = false;
            BKTool_1.default.loadVideoAd(function (v, video) {
                if (v == "load") {
                    video.show();
                }
                else if (v == "finish") {
                    isFinish_1 = true;
                }
                else if (v == "close") {
                    if (!isFinish_1)
                        ToastManager_1.Toast.make("必须看完视频,才能获取奖励");
                    else
                        callback && callback.call(target);
                }
            });
        }
        else {
            callback && callback.call(target);
        }
    };
    Platform.showBannerAd = function () {
        console.log("######显示Banner广告");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.showBannerAd();
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.showBannerAd();
        }
        else {
        }
    };
    Platform.initBannerAd = function (b) {
        if (b === void 0) { b = 1; }
        if (b == 0)
            return;
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            setInterval(function (_) {
                console.log("######加载Banner广告");
                BKTool_1.default.hideBannerAd();
                BKTool_1.default.loadBannerAd(function (v) {
                    v == "load" && BKTool_1.default.showBannerAd();
                });
            }, 30000);
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            setInterval(function (_) {
                if (Platform.bannnerRefreshEnabled) {
                    console.log("######加载Banner广告");
                    sdk_1.wxsdk.hideBannerAd();
                    sdk_1.wxsdk.loadBannerAd(function (v) {
                        v == "load" && sdk_1.wxsdk.showBannerAd();
                    });
                }
            }, 40000);
        }
    };
    Platform.jumpTo = function () {
        // var desGameId = 1234; //跳转的gameid，必须为数字
        // var extendInfo = ""; //额外参数，必须为字符串
        // BK.QQ.skipGame(desGameId, extendInfo);
    };
    Platform.showRankDialog = function () {
        console.log("[Platform]#showRankDialog");
        ToastManager_1.Toast.make("#[Platform]#showRankDialog");
        // ViewManager.instance.show("Game/RankDialog")
    };
    // Andriod 发送游戏快捷方式到桌面
    Platform.onEnterForeground = function () {
        console.log("=====================onEnterForeground=====================");
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            //onEnterForeground
            // Device.resumeMusic()
            cc.audioEngine.resumeMusic();
        }
        else {
            cc.audioEngine.resumeMusic();
        }
        Platform.onEnterForegroundSignal.fire();
        EventManager_1.event.emit("onEnterForeground");
    };
    Platform.onEnterBackground = function () {
        // BK.onEnterBackground(enterBackgroundListener);
        EventManager_1.event.emit("onEnterBackground");
    };
    Platform.onGameExit = function () {
        // BK.onGameClose(gameCloseListener);
    };
    Platform.showSmallRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.RankSmall);
    };
    Platform.showRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.Rank);
    };
    Platform.hideRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.RankSmall);
    };
    Platform.getRankList = function (callback, target) {
        console.log("[Platform]#获取排行榜数据");
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            return BKTool_1.default.getRankList(function (errorCode, list) {
                callback && callback.call(target, errorCode, list);
            });
        }
        else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
        }
    };
    Platform.uploadScore = function (score) {
        console.log("[Platform]#上传分数");
        if (!score) {
            console.log("score 上传失败：null");
            return;
        }
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            BKTool_1.default.uploadScore(score);
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // wxsdk.postMessage(WxCommands., score);
            sdk_1.wxsdk.uploadScore(score);
        }
        else {
            // Toast.make("#[Platform]#uploadScore")
        }
    };
    Platform.bannnerRefreshEnabled = true;
    Platform.onEnterForegroundSignal = new Signal_1.default();
    Platform.isAndroid = false;
    Platform.isIOS = false;
    Platform.configGetSignal = new Signal_1.default();
    return Platform;
}());
exports.default = Platform;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxQbGF0Zm9ybS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQW9DO0FBQ3BDLGdFQUF3RDtBQUN4RCx5Q0FBb0M7QUFFcEMsMEVBQXFFO0FBQ3JFLHNEQUFpRDtBQUNqRCxtRUFBMkQ7QUFFM0QsSUFBSyxVQU1KO0FBTkQsV0FBSyxVQUFVO0lBRVgsNENBQVMsQ0FBQTtJQUNULDZDQUFJLENBQUE7SUFDSix1REFBUyxDQUFBO0lBQ1QsNkNBQUksQ0FBQTtBQUNSLENBQUMsRUFOSSxVQUFVLEtBQVYsVUFBVSxRQU1kO0FBRUQ7SUFBQTtJQTJYQSxDQUFDO0lBblhVLGtCQUFTLEdBQWhCO1FBRUksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDeEM7WUFDSSxVQUFVO1lBQ1YsSUFBSSxRQUFRLEdBQUcsV0FBSyxDQUFDLFFBQVEsQ0FBQTtZQUM3QixJQUFHLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUM5QjtnQkFDSSxPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUE7YUFDekI7aUJBQUk7Z0JBQ0QsT0FBTyxFQUFFLENBQUE7YUFDWjtTQUNKO2FBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDM0M7WUFDSSxPQUFPLGNBQWMsQ0FBQyxNQUFNLENBQUM7U0FDaEM7YUFBSTtZQUNELE9BQU8sS0FBSyxDQUFBO1NBQ2Y7SUFDTCxDQUFDO0lBRU0sZ0JBQU8sR0FBZDtRQUVJLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQ3JDO1lBQ0ksT0FBTyxnQkFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQzNCO2FBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxFQUFF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LEdBQUcsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQ3BDO1lBQ0ksZ0JBQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDN0I7YUFBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQzdDLHlDQUF5QztZQUN6QyxXQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzNCO2FBQUk7WUFDRCx3Q0FBd0M7U0FDM0M7SUFDTCxDQUFDO0lBdlhNLDhCQUFxQixHQUFHLElBQUksQ0FBQztJQUM3QixnQ0FBdUIsR0FBRyxJQUFJLGdCQUFNLEVBQUUsQ0FBQztJQUV2QyxrQkFBUyxHQUFHLEtBQUssQ0FBQTtJQUNqQixjQUFLLEdBQUcsS0FBSyxDQUFDO0lBd0dkLHdCQUFlLEdBQVUsSUFBSSxnQkFBTSxFQUFFLENBQUM7SUE2UWpELGVBQUM7Q0EzWEQsQUEyWEMsSUFBQTtrQkEzWG9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3eHNkayB9IGZyb20gXCIuL3d4c2RrL3Nka1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xuaW1wb3J0IEJLVG9vbCBmcm9tIFwiLi9xcXNkay9CS1Rvb2xcIjtcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4vcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4vcGx1Z2luX2Jvb3N0cy9taXNjL1Nwcml0ZUZyYW1lQ2FjaGVcIjtcbmltcG9ydCBTaWduYWwgZnJvbSBcIi4vcGx1Z2luX2Jvb3N0cy9taXNjL1NpZ25hbFwiO1xuaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi9wbHVnaW5fYm9vc3RzL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xuXG5lbnVtIFd4Q29tbWFuZHNcbntcbiAgICBIaWRlID0gOTksXG4gICAgTmV4dCxcbiAgICBSYW5rU21hbGwsXG4gICAgUmFuayxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhdGZvcm1cbntcbiAgICBzdGF0aWMgYmFubm5lclJlZnJlc2hFbmFibGVkID0gdHJ1ZTtcbiAgICBzdGF0aWMgb25FbnRlckZvcmVncm91bmRTaWduYWwgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICBzdGF0aWMgaXNBbmRyb2lkID0gZmFsc2VcbiAgICBzdGF0aWMgaXNJT1MgPSBmYWxzZTtcblxuICAgIHN0YXRpYyBnZXRPcGVuSUQoKVxuICAgIHtcbiAgICAgICAgaWYoY2Muc3lzLldFQ0hBVF9HQU1FID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2VjaGF0IFxuICAgICAgICAgICAgbGV0IHVzZXJJbmZvID0gd3hzZGsudXNlckluZm9cbiAgICAgICAgICAgIGlmKHVzZXJJbmZvICYmIHVzZXJJbmZvLm9wZW5JRCApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJJbmZvLm9wZW5JRFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIEdhbWVTdGF0dXNJbmZvLm9wZW5JZDtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gXCIxMjNcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5pY2soKVxuICAgIHtcbiAgICAgICAgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIEJLVG9vbC5nZXROaWNrKCk7XG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gICh3eHNkay51c2VySW5mbyAmJiB3eHNkay51c2VySW5mby5uaWNrTmFtZSkgIHx8IFwi6Ieq5beyXCJcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gXCLnjqnlrrboh6rlt7JcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEhlYWQoKVxuICAgIHtcbiAgICAgICAgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIEJLVG9vbC5nZXRIZWFkKCk7XG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBhdmF0YXJVcmw6XCJodHRwczovL3d4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9RbEhhaWNHWk9EN2RvOUx1WDVXNEFQSFlTclVCcVZhR1VMdXdJU0xVZjM1SXlPT1laM0lYbDduRjVtVzM2SmlhUTlzbnppYXdyQXZra25YNDFTbWVZYTlBUS8xMzJcImNpdHk6XCJcImNvdW50cnk6XCJcImdlbmRlcjoxbGFuZ3VhZ2U6XCJ6aF9DTlwibmlja05hbWU6XCJEYW1vbiBSZW7igbbigbbigbZcInByb3ZpbmNlOlwiXCJcbiAgICAgICAgICAgIGxldCB1c2VySW5mbyA9IHd4c2RrLnVzZXJJbmZvXG4gICAgICAgICAgICBpZih1c2VySW5mbyAmJiB1c2VySW5mby5hdmF0YXJVcmwgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VySW5mby5hdmF0YXJVcmxcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHJldHVybiBcImh0dHBzOi8vdGFuay53ZGZ1bm55LmNvbS9zcGVlZF9sb2dvLzIuanBnXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJodHRwczovL3Rhbmsud2RmdW5ueS5jb20vc3BlZWRfbG9nby8xLmpwZ1wiXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgbG9hZEhlYWRRUShzcClcbiAgICB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IGFic29sdXRlUGF0aCA9IFwiR2FtZVNhbmRCb3g6Ly9faGVhZC9cIiArIEdhbWVTdGF0dXNJbmZvLm9wZW5JZCArIFwiLmpwZ1wiO1xuICAgICAgICBsZXQgaXNFeGl0ID0gQksuRmlsZVV0aWwuaXNGaWxlRXhpc3QoYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY2MubG9nKGFic29sdXRlUGF0aCArIFwiIGlzIGV4aXQgOlwiICsgaXNFeGl0KTtcbiAgICAgICAgLy/lpoLmnpzmjIflrprnm67lvZXkuK3lrZjlnKjmraTlm77lg4/lsLHnm7TmjqXmmL7npLrlkKbliJnku47nvZHnu5zojrflj5ZcbiAgICAgICAgaWYgKGlzRXhpdCkge1xuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoYWJzb2x1dGVQYXRoLCBmdW5jdGlvbiAoZXJyLCB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVyciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwLnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQksuTVFRLkFjY291bnQuZ2V0SGVhZEV4KEdhbWVTdGF0dXNJbmZvLm9wZW5JZCwgZnVuY3Rpb24gKG9JZCwgaW1nUGF0aCkge1xuICAgICAgICAgICAgICAgIGNjLmxvZyhcIm9wZW5JZDpcIiArIG9JZCArIFwiIGltZ1BhdGg6XCIgKyBpbWdQYXRoKTtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXggPSBuZXcgY2MuVGV4dHVyZTJEKCk7XG4gICAgICAgICAgICAgICAgICAgIHRleC5pbml0V2l0aEVsZW1lbnQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0ZXguaGFuZGxlTG9hZGVkVGV4dHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICBzcC5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWdQYXRoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbG9hZFNlbGZIZWFkKHNwcml0ZSlcbiAgICB7XG4gICAgICAgIGlmIChjYy5zeXMuUVFfUExBWSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEhlYWRRUShzcHJpdGUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUoUGxhdGZvcm0uZ2V0SGVhZCgpKS50aGVuKHNmPT5zcHJpdGUuc3ByaXRlRnJhbWUgPSBzZilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBleGl0KClcbiAgICB7XG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHd4Lm9mZlNob3coUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmQpXG4gICAgICAgICAgICB3eC5vZmZIaWRlKFBsYXRmb3JtLm9uRW50ZXJCYWNrZ3JvdW5kKVxuICAgICAgICB9ZWxzZSBpZiAoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjb25maWdHZXRTaWduYWw6U2lnbmFsID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgc3RhdGljIGxvZ2luKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXNBbmRyb2lkID0gY2Muc3lzLm9zID09IFwiQW5kcm9pZFwiXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT0gb3NcIiAsIGNjLnN5cy5vcyk7XG4gICAgICAgIHRoaXMuaXNJT1MgPSBjYy5zeXMub3MgPT0gXCJpT1NcIlxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB3eHNkay5sb2dpbigpXG4gICAgICAgICAgICB3eHNkay5yZXF1ZXN0Q29uZmlnKGRhdGE9PntcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ0dldFNpZ25hbC5maXJlKGRhdGEpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy8gZ2V0IGNvbmYgXG4gICAgICAgICAgICB3eC5vblNob3coUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmQpXG4gICAgICAgICAgICB3eC5vbkhpZGUoUGxhdGZvcm0ub25FbnRlckJhY2tncm91bmQpXG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMuUVFfUExBWSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJLVG9vbC5sb2dpbigpO1xuICAgICAgICAgICAgQksub25FbnRlckZvcmVncm91bmQoUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmQpO1xuICAgICAgICAgICAgQksub25FbnRlckJhY2tncm91bmQoUGxhdGZvcm0ub25FbnRlckJhY2tncm91bmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlcXVlc3RTZXJ2ZXJDb25maWdzKG5hbWUsY2FsbGJhY2ssdGFyZ2V0KVxuICAgIHtcbiAgICAgICAgaWYoY2Muc3lzLldFQ0hBVF9HQU1FID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgd3hzZGsucmVxdWVzdERCKG5hbWUsY2FsbGJhY2ssdGFyZ2V0KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEdhbWVJRCgpXG4gICAge1xuICAgICAgICBpZiAoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICBHYW1lU3RhdHVzSW5mby5nYW1lSWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwic3BlZWRfd2FueWl3YW5cIjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXRMYXVuY2hPcHRpb25zKClcbiAgICB7XG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB3eC5nZXRMYXVuY2hPcHRpb25zU3luYygpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9XG4gICAgfVxuXG4gICAgXG5cblxuICAgIHN0YXRpYyBnZXRDaXR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlwiXG4gICAgfVxuXG4gICAgc3RhdGljIHNoYXJlKGNhbGxiYWNrPyx0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCIjIyMjIyPlvIDlp4vliIbkuqtcIilcbiAgICAgICAgaWYoY2Muc3lzLldFQ0hBVF9HQU1FID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgd3hzZGsub3BlblNoYXJlKCk7XG4gICAgICAgICAgICBsZXQgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgICAgICBQbGF0Zm9ybS5vbkVudGVyRm9yZWdyb3VuZFNpZ25hbC5vbigoKT0+e1xuICAgICAgICAgICAgICAgIFBsYXRmb3JtLm9uRW50ZXJGb3JlZ3JvdW5kU2lnbmFsLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHQ7XG4gICAgICAgICAgICAgICAgaWYoZCA+IDIzMzMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF89PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICB9LDUwMClcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgLy/nlKjmiLflj4rml7bov5Tlm57liIbkuqvlpLHotKUgXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLliIbkuqvlpLHotKUs6K+35bCd6K+V5o2i5YW25a6D576k5YiG5LqrXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICBCS1Rvb2wuc2hhcmUodj0+e1xuICAgICAgICAgICAgICAgIGlmKHY9PVwic3VjY2Vzc1wiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgIGNhbGxiYWNrLmNhbGwodGFyZ2V0KVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdC5tYWtlKFwi5YiG5Lqr5aSx6LSlXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiAgY2FsbGJhY2suY2FsbCh0YXJnZXQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgd2F0Y2hfdmlkZW8oY2FsbGJhY2ssdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiIyMjIyMj5byA5aeL55yL6KeG6aKRXCIpXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHd4c2RrLmxvYWRWaWRlb0FkKChjb2RlLGlzRW5kZWQpPT57XG4gICAgICAgICAgICAgICAgaWYoY29kZSA9PSBcImxvYWRcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlTXVzaWMoKTtcbiAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm0uYmFubm5lclJlZnJlc2hFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoY29kZSA9PSBcImNsb3NlXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5iYW5ubmVyUmVmcmVzaEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZighaXNFbmRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLlv4XpobvnnIvlrozop4bpopEs5omN6IO96I635Y+W5aWW5YqxXCIpXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwodGFyZ2V0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy/lhbPpl63og4zmma9cbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlTXVzaWMoKTtcbiAgICAgICAgICAgIGxldCBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgICAgICAgICAgQktUb29sLmxvYWRWaWRlb0FkKCh2LHZpZGVvKT0+e1xuICAgICAgICAgICAgICAgIGlmKHYgPT0gXCJsb2FkXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2aWRlby5zaG93KClcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodiA9PSBcImZpbmlzaFwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodj09XCJjbG9zZVwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWlzRmluaXNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIuW/hemhu+eci+WujOinhumikSzmiY3og73ojrflj5blpZblirFcIilcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbCh0YXJnZXQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgIGNhbGxiYWNrLmNhbGwodGFyZ2V0KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNob3dCYW5uZXJBZCgpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcIiMjIyMjI+aYvuekukJhbm5lcuW5v+WRilwiKVxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB3eHNkay5zaG93QmFubmVyQWQoKTtcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICBCS1Rvb2wuc2hvd0Jhbm5lckFkKCk7XG4gICAgICAgIH1lbHNle1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdEJhbm5lckFkKGIgPSAxKVxuICAgIHtcbiAgICAgICAgaWYoYiA9PSAwKSByZXR1cm47XG4gICAgICAgIGlmKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoXz0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiIyMjIyMj5Yqg6L29QmFubmVy5bm/5ZGKXCIpXG4gICAgICAgICAgICAgICAgQktUb29sLmhpZGVCYW5uZXJBZCgpXG4gICAgICAgICAgICAgICAgQktUb29sLmxvYWRCYW5uZXJBZCh2PT57XG4gICAgICAgICAgICAgICAgICAgIHYgPT0gXCJsb2FkXCIgJiYgQktUb29sLnNob3dCYW5uZXJBZCgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9ICwgMzAwMDAgKVxuICAgICAgICB9ZWxzZSBpZiAoY2Muc3lzLldFQ0hBVF9HQU1FID09IGNjLnN5cy5wbGF0Zm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoXz0+e1xuICAgICAgICAgICAgICAgIGlmKFBsYXRmb3JtLmJhbm5uZXJSZWZyZXNoRW5hYmxlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiIyMjIyMj5Yqg6L29QmFubmVy5bm/5ZGKXCIpXG4gICAgICAgICAgICAgICAgICAgIHd4c2RrLmhpZGVCYW5uZXJBZCgpXG4gICAgICAgICAgICAgICAgICAgIHd4c2RrLmxvYWRCYW5uZXJBZCh2PT57XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID09IFwibG9hZFwiICYmIHd4c2RrLnNob3dCYW5uZXJBZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLCA0MDAwMCApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMganVtcFRvKClcbiAgICB7XG4gICAgICAgIC8vIHZhciBkZXNHYW1lSWQgPSAxMjM0OyAvL+i3s+i9rOeahGdhbWVpZO+8jOW/hemhu+S4uuaVsOWtl1xuICAgICAgICAvLyB2YXIgZXh0ZW5kSW5mbyA9IFwiXCI7IC8v6aKd5aSW5Y+C5pWw77yM5b+F6aG75Li65a2X56ym5LiyXG4gICAgICAgIC8vIEJLLlFRLnNraXBHYW1lKGRlc0dhbWVJZCwgZXh0ZW5kSW5mbyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHNob3dSYW5rRGlhbG9nKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW1BsYXRmb3JtXSNzaG93UmFua0RpYWxvZ1wiKTtcbiAgICAgICAgVG9hc3QubWFrZShcIiNbUGxhdGZvcm1dI3Nob3dSYW5rRGlhbG9nXCIpXG4gICAgICAgIFxuICAgICAgICAvLyBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9SYW5rRGlhbG9nXCIpXG4gICAgfVxuXG4gICAgLy8gQW5kcmlvZCDlj5HpgIHmuLjmiI/lv6vmjbfmlrnlvI/liLDmoYzpnaJcblxuICAgIHN0YXRpYyBvbkVudGVyRm9yZWdyb3VuZCgpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PW9uRW50ZXJGb3JlZ3JvdW5kPT09PT09PT09PT09PT09PT09PT09XCIpXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuUVFfUExBWSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy9vbkVudGVyRm9yZWdyb3VuZFxuICAgICAgICAgICAgLy8gRGV2aWNlLnJlc3VtZU11c2ljKClcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZU11c2ljKClcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVNdXNpYygpXG4gICAgICAgIH1cbiAgICAgICAgUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmRTaWduYWwuZmlyZSgpO1xuICAgICAgICBldmVudC5lbWl0KFwib25FbnRlckZvcmVncm91bmRcIilcbiAgICB9XG5cbiAgICBzdGF0aWMgb25FbnRlckJhY2tncm91bmQoKVxuICAgIHtcbiAgICAgICAgLy8gQksub25FbnRlckJhY2tncm91bmQoZW50ZXJCYWNrZ3JvdW5kTGlzdGVuZXIpO1xuICAgICAgICBldmVudC5lbWl0KFwib25FbnRlckJhY2tncm91bmRcIilcbiAgICB9XG5cbiAgICBzdGF0aWMgIG9uR2FtZUV4aXQoKVxuICAgIHtcbiAgICAgICAgLy8gQksub25HYW1lQ2xvc2UoZ2FtZUNsb3NlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaG93U21hbGxSYW5rKClcbiAgICB7XG4gICAgICAgIHd4c2RrLnBvc3RNZXNzYWdlKFd4Q29tbWFuZHMuUmFua1NtYWxsKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hvd1JhbmsoKVxuICAgIHtcbiAgICAgICAgd3hzZGsucG9zdE1lc3NhZ2UoV3hDb21tYW5kcy5SYW5rKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGlkZVJhbmsoKVxuICAgIHtcbiAgICAgICAgd3hzZGsucG9zdE1lc3NhZ2UoV3hDb21tYW5kcy5SYW5rU21hbGwpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldFJhbmtMaXN0KGNhbGxiYWNrLHRhcmdldD8pXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltQbGF0Zm9ybV0j6I635Y+W5o6S6KGM5qac5pWw5o2uXCIpO1xuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBCS1Rvb2wuZ2V0UmFua0xpc3QoKGVycm9yQ29kZSxsaXN0KT0+e1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwodGFyZ2V0LGVycm9yQ29kZSxsaXN0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHVwbG9hZFNjb3JlKHNjb3JlKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbUGxhdGZvcm1dI+S4iuS8oOWIhuaVsFwiKTtcbiAgICAgICAgaWYoIXNjb3JlKSB7IGNvbnNvbGUubG9nKFwic2NvcmUg5LiK5Lyg5aSx6LSl77yabnVsbFwiKTsgcmV0dXJufVxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJLVG9vbC51cGxvYWRTY29yZShzY29yZSk7XG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKSB7XG4gICAgICAgICAgICAvLyB3eHNkay5wb3N0TWVzc2FnZShXeENvbW1hbmRzLiwgc2NvcmUpO1xuICAgICAgICAgICAgd3hzZGsudXBsb2FkU2NvcmUoc2NvcmUpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gVG9hc3QubWFrZShcIiNbUGxhdGZvcm1dI3VwbG9hZFNjb3JlXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/game/LevelSelector.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7942O9SJ1JFpcT0/D7YiFO', 'LevelSelector');
// framework/plugin_boosts/ui/game/LevelSelector.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, help = _a.help;
var LevelSelector = /** @class */ (function (_super) {
    __extends(LevelSelector, _super);
    function LevelSelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pageview = null;
        _this.template = null;
        _this.onSelectLevel = new cc.Component.EventHandler();
        _this.onRefreshItem = new cc.Component.EventHandler();
        _this.index = 0;
        _this.max = 9;
        _this.itemCountPerPage = 0;
        _this.pages = [];
        _this.currentLevel = 1;
        _this.autoScrollToCurrentLevel = true;
        return _this;
        // update (dt) {}
    }
    LevelSelector.prototype.selectLevel = function (event, msg) {
        if (this.onSelectLevel)
            this.onSelectLevel.emit([event.target, Number(event.target.name)]);
        else
            console.warn("LevelSelector: onSelectLevel callback is nil");
    };
    LevelSelector.prototype.onLoad = function () {
        this.pages.splice(0, this.pages.length);
        this.itemCountPerPage = this.template.childrenCount;
        var pageCount = Math.floor(this.max / this.itemCountPerPage);
        var mod = this.max % this.itemCountPerPage;
        if (mod > 0) {
            pageCount = pageCount + 1;
        }
        for (var i = 0; i < pageCount - 1; i++) {
            var page = cc.instantiate(this.template);
            this.pageview.addPage(page);
            this.pages.push(page);
        }
        this.pages.push(this.template);
        for (var pageIdx = 0; pageIdx < pageCount; pageIdx++) {
            var page = this.pages[pageIdx];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var label = item.getChildByName("label");
                var level = pageIdx * this.itemCountPerPage + Number(itemIdx) + 1;
                if (level > this.max) {
                    item.active = false;
                }
                item.name = level + "";
                label.getComponent(cc.Label).string = item.name;
            }
        }
    };
    LevelSelector.prototype.refreshItem = function (item, level) {
        var lv = this.currentLevel;
        if (level > lv) {
            item.opacity = 100;
            item.getComponent(cc.Button).enabled = false;
        }
        else {
            item.opacity = 255;
            item.getComponent(cc.Button).enabled = true;
        }
    };
    LevelSelector.prototype.refresh = function () {
        console.log("LevelSelctor: refresh");
        for (var i = 0; i < this.pages.length; i++) {
            var page = this.pages[i];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var level = i * this.itemCountPerPage + Number(itemIdx) + 1;
                this.refreshItem(item, level);
                this.onRefreshItem.emit([item, level]);
            }
        }
        if (this.autoScrollToCurrentLevel)
            this.scrollToCurrentLevel();
    };
    LevelSelector.prototype.start = function () {
    };
    LevelSelector.prototype.scrollToCurrentLevel = function () {
        var lv = this.currentLevel;
        var curPage = Math.floor(lv / this.itemCountPerPage);
        var mod = lv % this.itemCountPerPage;
        if (mod == 0) {
            curPage = curPage - 1;
        }
        this.pageview.scrollToPage(curPage, 0.3);
    };
    LevelSelector.prototype.nextPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() + 1, 0.3);
    };
    LevelSelector.prototype.prevPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() - 1, 0.3);
    };
    __decorate([
        property(cc.PageView)
    ], LevelSelector.prototype, "pageview", void 0);
    __decorate([
        property(cc.Node)
    ], LevelSelector.prototype, "template", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onSelectLevel", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onRefreshItem", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "index", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "max", void 0);
    LevelSelector = __decorate([
        ccclass
    ], LevelSelector);
    return LevelSelector;
}(cc.Component));
exports.default = LevelSelector;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcZ2FtZVxcTGV2ZWxTZWxlY3Rvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUEyQixFQUFFLENBQUMsVUFBVSxFQUF2QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxJQUFJLFVBQWlCLENBQUM7QUFHL0M7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFxSUM7UUFsSUcsY0FBUSxHQUFnQixJQUFJLENBQUE7UUFHNUIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixtQkFBYSxHQUE2QixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7UUFHMUUsbUJBQWEsR0FBNkIsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRzFFLFdBQUssR0FBVyxDQUFDLENBQUM7UUFHbEIsU0FBRyxHQUFXLENBQUMsQ0FBQztRQUVoQixzQkFBZ0IsR0FBVyxDQUFDLENBQUM7UUFFN0IsV0FBSyxHQUFhLEVBQUUsQ0FBQztRQUVyQixrQkFBWSxHQUFVLENBQUMsQ0FBQztRQVV4Qiw4QkFBd0IsR0FBVyxJQUFJLENBQUM7O1FBa0d4QyxpQkFBaUI7SUFDckIsQ0FBQztJQTNHRyxtQ0FBVyxHQUFYLFVBQVksS0FBSyxFQUFDLEdBQUc7UUFFakIsSUFBRyxJQUFJLENBQUMsYUFBYTtZQUNqQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBOztZQUVqRSxPQUFPLENBQUMsSUFBSSxDQUFDLDhDQUE4QyxDQUFDLENBQUE7SUFDcEUsQ0FBQztJQUlELDhCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsSUFB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LEdBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3pFLENBQUM7SUFFRCxnQ0FBUSxHQUFSO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQTtJQUN6RSxDQUFDO0lBN0hEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7bURBQ007SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQzt3REFDc0M7SUFHMUU7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7d0RBQ3NDO0lBRzFFO1FBREMsUUFBUTtnREFDUztJQUdsQjtRQURDLFFBQVE7OENBQ087SUFsQkMsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXFJakM7SUFBRCxvQkFBQztDQXJJRCxBQXFJQyxDQXJJMEMsRUFBRSxDQUFDLFNBQVMsR0FxSXREO2tCQXJJb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LGhlbHB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsU2VsZWN0b3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlBhZ2VWaWV3KVxuICAgIHBhZ2V2aWV3IDpjYy5QYWdlVmlldyA9IG51bGxcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHRlbXBsYXRlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIpXG4gICAgb25TZWxlY3RMZXZlbDpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcblxuICAgIEBwcm9wZXJ0eShjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKVxuICAgIG9uUmVmcmVzaEl0ZW06Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XG5cbiAgICBAcHJvcGVydHlcbiAgICBpbmRleCA6bnVtYmVyID0gMDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIG1heDogbnVtYmVyID0gOTtcblxuICAgIGl0ZW1Db3VudFBlclBhZ2U6IG51bWJlciA9IDA7XG5cbiAgICBwYWdlczpjYy5Ob2RlW10gPSBbXTtcblxuICAgIGN1cnJlbnRMZXZlbDpudW1iZXIgPSAxO1xuXG4gICAgc2VsZWN0TGV2ZWwoZXZlbnQsbXNnKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5vblNlbGVjdExldmVsKVxuICAgICAgICAgICAgdGhpcy5vblNlbGVjdExldmVsLmVtaXQoW2V2ZW50LnRhcmdldCxOdW1iZXIoZXZlbnQudGFyZ2V0Lm5hbWUpXSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTGV2ZWxTZWxlY3Rvcjogb25TZWxlY3RMZXZlbCBjYWxsYmFjayBpcyBuaWxcIilcbiAgICB9XG5cbiAgICBhdXRvU2Nyb2xsVG9DdXJyZW50TGV2ZWw6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlcy5zcGxpY2UoMCx0aGlzLnBhZ2VzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuaXRlbUNvdW50UGVyUGFnZSA9IHRoaXMudGVtcGxhdGUuY2hpbGRyZW5Db3VudDtcbiAgICAgICAgbGV0IHBhZ2VDb3VudCA9IE1hdGguZmxvb3IodGhpcy5tYXgvdGhpcy5pdGVtQ291bnRQZXJQYWdlKTtcbiAgICAgICAgbGV0IG1vZCA9IHRoaXMubWF4JXRoaXMuaXRlbUNvdW50UGVyUGFnZSBcbiAgICAgICAgaWYgKG1vZCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VDb3VudCA9IHBhZ2VDb3VudCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBwYWdlQ291bnQgLTEgO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBhZ2UgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRlbXBsYXRlKVxuICAgICAgICAgICAgdGhpcy5wYWdldmlldy5hZGRQYWdlKHBhZ2UpOyBcbiAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VzLnB1c2godGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIGZvciAodmFyIHBhZ2VJZHggPSAwIDtwYWdlSWR4IDwgcGFnZUNvdW50OyBwYWdlSWR4KysgKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGFnZSA9IHRoaXMucGFnZXNbcGFnZUlkeF07XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtSWR4ID0gMDsgaXRlbUlkeCA8IHBhZ2UuY2hpbGRyZW5Db3VudDtpdGVtSWR4ICsrIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHBhZ2UuY2hpbGRyZW5baXRlbUlkeF07XG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcImxhYmVsXCIpO1xuICAgICAgICAgICAgICAgIGxldCBsZXZlbCA9IHBhZ2VJZHggKiB0aGlzLml0ZW1Db3VudFBlclBhZ2UgKyBOdW1iZXIoaXRlbUlkeCkgKyAxIDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiB0aGlzLm1heClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGxldmVsICtcIlwiO1xuICAgICAgICAgICAgICAgIGxhYmVsLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHJlZnJlc2hJdGVtKGl0ZW0sbGV2ZWwpXG4gICAge1xuICAgICAgICBsZXQgbHYgPSB0aGlzLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgaWYgKGxldmVsID4gbHYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGl0ZW0ub3BhY2l0eSA9IDEwMDtcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGl0ZW0ub3BhY2l0eSA9IDI1NTtcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZyZXNoKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGV2ZWxTZWxjdG9yOiByZWZyZXNoXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCB0aGlzLnBhZ2VzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwYWdlID0gdGhpcy5wYWdlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1JZHggPSAwOyBpdGVtSWR4IDwgcGFnZS5jaGlsZHJlbkNvdW50O2l0ZW1JZHggKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gcGFnZS5jaGlsZHJlbltpdGVtSWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWwgPSBpICogdGhpcy5pdGVtQ291bnRQZXJQYWdlICsgTnVtYmVyKGl0ZW1JZHgpICsgMSA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoSXRlbShpdGVtLGxldmVsKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVmcmVzaEl0ZW0uZW1pdChbaXRlbSxsZXZlbF0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5hdXRvU2Nyb2xsVG9DdXJyZW50TGV2ZWwpXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudExldmVsKClcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHNjcm9sbFRvQ3VycmVudExldmVsKClcbiAgICB7XG4gICAgICAgIGxldCBsdiA9IHRoaXMuY3VycmVudExldmVsO1xuICAgICAgICBsZXQgY3VyUGFnZSA9IE1hdGguZmxvb3IobHYvdGhpcy5pdGVtQ291bnRQZXJQYWdlKTtcbiAgICAgICAgbGV0IG1vZCA9IGx2JXRoaXMuaXRlbUNvdW50UGVyUGFnZSBcbiAgICAgICAgaWYgKG1vZCA9PSAgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VyUGFnZSA9IGN1clBhZ2UgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFnZXZpZXcuc2Nyb2xsVG9QYWdlKGN1clBhZ2UsMC4zKTtcbiAgICB9XG5cbiAgICBuZXh0UGFnZSgpXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2V2aWV3LnNjcm9sbFRvUGFnZSh0aGlzLnBhZ2V2aWV3LmdldEN1cnJlbnRQYWdlSW5kZXgoKSsxLDAuMylcbiAgICB9XG5cbiAgICBwcmV2UGFnZSgpXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2V2aWV3LnNjcm9sbFRvUGFnZSh0aGlzLnBhZ2V2aWV3LmdldEN1cnJlbnRQYWdlSW5kZXgoKS0xLDAuMylcbiAgICB9XG5cblxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/InfiniteBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ea63dhsLFFNTK51F3JClP8v', 'InfiniteBackground');
// framework/plugin_boosts/gamesys/InfiniteBackground.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var InfiniteBackground = /** @class */ (function (_super) {
    __extends(InfiniteBackground, _super);
    function InfiniteBackground() {
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgNode = null;
        _this.camera = null;
        _this.currentNode = null;
        _this.repeatCount = 0;
        return _this;
    }
    InfiniteBackground.prototype.onLoad = function () {
        this.currentNode = this.bgNode;
        this.size = this.currentNode.getContentSize();
        this.nodepool = new cc.NodePool();
    };
    InfiniteBackground.prototype.start = function () {
        if (this.prev == null) {
            this.prev = cc.instantiate(this.bgNode);
            this.node.addChild(this.prev);
            this.prev.y = -this.size.height;
        }
    };
    InfiniteBackground.prototype.reset = function () {
        this.repeatCount = 0;
        //todo :remove all 
        //todo:init all
    };
    InfiniteBackground.prototype.update = function (dt) {
        if (this.currentNode == null)
            return;
        var pos = cc.Vec2.ZERO;
        this.camera.getWorldToCameraPoint(this.currentNode.position, pos);
        var prev = this.prev;
        if (pos.y < 10) {
            // check has next 
            if (this.next == null) {
                this.pre_prev = this.prev;
                this.prev = this.currentNode;
                var road = this.nodepool.get();
                if (road == null)
                    road = cc.instantiate(this.currentNode);
                road.setPosition(0, this.size.height * ++this.repeatCount);
                this.node.addChild(road);
                this.currentNode = road;
                this.camera.getWorldToCameraPoint(road.position, pos);
                this.next = null;
                // console.log("create new road")
            }
        }
        if (pos.y > this.size.height - 10) {
            //remove previous
            if (this.pre_prev) {
                this.nodepool.put(this.pre_prev);
                // console.log("InfiniteBackground : recycle background:" ,this.nodepool.size())
            }
        }
        //todo remove 
    };
    __decorate([
        property(cc.Node)
    ], InfiniteBackground.prototype, "bgNode", void 0);
    __decorate([
        property(cc.Camera)
    ], InfiniteBackground.prototype, "camera", void 0);
    InfiniteBackground = __decorate([
        ccclass
    ], InfiniteBackground);
    return InfiniteBackground;
}(cc.Component));
exports.default = InfiniteBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxJbmZpbml0ZUJhY2tncm91bmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWdELHNDQUFZO0lBQTVEO1FBRUksd0JBQXdCO1FBQ3hCLGVBQWU7UUFIbkIscUVBOEVDO1FBeEVHLFlBQU0sR0FBVyxJQUFJLENBQUM7UUFHdEIsWUFBTSxHQUFZLElBQUksQ0FBQztRQUt2QixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUMzQixpQkFBVyxHQUFHLENBQUMsQ0FBQzs7SUErRHBCLENBQUM7SUExREcsbUNBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsa0NBQUssR0FBTDtRQUNJLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO1lBQ0ksSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUksQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFRCxrQ0FBSyxHQUFMO1FBRUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsbUJBQW1CO1FBQ25CLGVBQWU7SUFDbkIsQ0FBQztJQUVELG1DQUFNLEdBQU4sVUFBUSxFQUFFO1FBRU4sSUFBRyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUk7WUFBQyxPQUFNO1FBQ2xDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDaEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUNkO1lBQ0ksa0JBQWtCO1lBQ2xCLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFBO2dCQUM5QixJQUFHLElBQUksSUFBSSxJQUFJO29CQUNYLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO2dCQUNwRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDakIsaUNBQWlDO2FBQ3BDO1NBQ0o7UUFDRCxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUNoQztZQUNJLGlCQUFpQjtZQUNqQixJQUFHLElBQUksQ0FBQyxRQUFRLEVBQ2hCO2dCQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDakMsZ0ZBQWdGO2FBQ25GO1NBQ0o7UUFDRCxjQUFjO0lBQ2xCLENBQUM7SUF2RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzREFDSTtJQUd0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3NEQUNHO0lBVE4sa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0E4RXRDO0lBQUQseUJBQUM7Q0E5RUQsQUE4RUMsQ0E5RStDLEVBQUUsQ0FBQyxTQUFTLEdBOEUzRDtrQkE5RW9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5maW5pdGVCYWNrZ3JvdW5kIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYmdOb2RlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkNhbWVyYSlcbiAgICBjYW1lcmE6Y2MuQ2FtZXJhPSBudWxsO1xuXG4gICAgbmV4dDpjYy5Ob2RlO1xuICAgIHByZXY6Y2MuTm9kZTtcbiAgICBwcmVfcHJldiA6Y2MuTm9kZTtcbiAgICBjdXJyZW50Tm9kZTpjYy5Ob2RlID0gbnVsbDtcbiAgICByZXBlYXRDb3VudCA9IDA7XG5cbiAgICBzaXplIDogY2MuU2l6ZTtcblxuICAgIG5vZGVwb29sOmNjLk5vZGVQb29sO1xuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5iZ05vZGU7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuY3VycmVudE5vZGUuZ2V0Q29udGVudFNpemUoKTtcbiAgICAgICAgdGhpcy5ub2RlcG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgaWYodGhpcy5wcmV2ID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuYmdOb2RlKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZCh0aGlzLnByZXYpO1xuICAgICAgICAgICAgdGhpcy5wcmV2LnkgPSAgLSB0aGlzLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXBlYXRDb3VudCA9IDA7XG4gICAgICAgIC8vdG9kbyA6cmVtb3ZlIGFsbCBcbiAgICAgICAgLy90b2RvOmluaXQgYWxsXG4gICAgfVxuICAgIFxuICAgIHVwZGF0ZSAoZHQpIHtcblxuICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlID09IG51bGwpcmV0dXJuXG4gICAgICAgIGxldCBwb3MgPSBjYy5WZWMyLlpFUk87XG4gICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludCh0aGlzLmN1cnJlbnROb2RlLnBvc2l0aW9uLHBvcylcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnByZXY7XG4gICAgICAgIGlmIChwb3MueSA8IDEwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVjayBoYXMgbmV4dCBcbiAgICAgICAgICAgIGlmKHRoaXMubmV4dCA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlX3ByZXYgPSB0aGlzLnByZXY7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy5jdXJyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBsZXQgcm9hZCA9IHRoaXMubm9kZXBvb2wuZ2V0KClcbiAgICAgICAgICAgICAgICBpZihyb2FkID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJvYWQgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICByb2FkLnNldFBvc2l0aW9uKDAsdGhpcy5zaXplLmhlaWdodCAqICsrdGhpcy5yZXBlYXRDb3VudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHJvYWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSByb2FkO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludChyb2FkLnBvc2l0aW9uLHBvcylcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY3JlYXRlIG5ldyByb2FkXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYocG9zLnkgPiB0aGlzLnNpemUuaGVpZ2h0IC0gMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vcmVtb3ZlIHByZXZpb3VzXG4gICAgICAgICAgICBpZih0aGlzLnByZV9wcmV2KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXBvb2wucHV0KHRoaXMucHJlX3ByZXYpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSW5maW5pdGVCYWNrZ3JvdW5kIDogcmVjeWNsZSBiYWNrZ3JvdW5kOlwiICx0aGlzLm5vZGVwb29sLnNpemUoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3RvZG8gcmVtb3ZlIFxuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageDispatch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27032HakQBLd5OVLXAxtzCc', 'MessageDispatch');
// framework/network/MessageDispatch.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageDispatch = void 0;
var MessageDispatch = /** @class */ (function () {
    function MessageDispatch() {
        this._handler = null;
        this._allMessageBases = {};
    }
    MessageDispatch.getInstance = function () {
        if (this._instace == null) {
            this._instace = new MessageDispatch();
        }
        return this._instace;
    };
    MessageDispatch.prototype.register = function (key, msgPro) {
        if (key == null)
            return null;
        if (msgPro == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            this._allMessageBases[key] = [];
        this._allMessageBases[key].push(msgPro);
        return msgPro;
    };
    MessageDispatch.prototype.isNull = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return true;
        return false;
    };
    MessageDispatch.prototype.registerUnique = function (key, msgPro) {
        if (key == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return this._allMessageBases[key][0];
        else
            return this.register(key, msgPro);
    };
    MessageDispatch.prototype.getBean = function (key) {
        if (key == null)
            return null;
        var allBeans = this._allMessageBases[key];
        if (allBeans != null && allBeans.length > 0) {
            return allBeans[0];
        }
        return null;
    };
    MessageDispatch.prototype.unRegister = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            return;
        for (var i = 0; i < allBases.length; i++)
            allBases[i].onDestory();
        this._allMessageBases[key] = null;
        delete this._allMessageBases[key];
    };
    MessageDispatch.prototype.onMessage = function (msg) {
        for (var key in this._allMessageBases) {
            if (this._allMessageBases[key] == null)
                continue;
            var allBases = this._allMessageBases[key];
            for (var i = 0; i < allBases.length; i++)
                if (allBases[i].onMessage(msg))
                    return true;
        }
        return false;
    };
    MessageDispatch._instace = null;
    return MessageDispatch;
}());
exports.MessageDispatch = MessageDispatch;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlRGlzcGF0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQWNDO1FBQ0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBYmEsMkJBQVcsR0FBekI7UUFDQyxJQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztTQUN0QztRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN0QixDQUFDO0lBVU0sa0NBQVEsR0FBZixVQUFnQixHQUFXLEVBQUUsTUFBbUI7UUFDL0MsSUFBRyxHQUFHLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzVCLElBQUcsTUFBTSxJQUFJLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUMvQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFTSxnQ0FBTSxHQUFiLFVBQWMsR0FBVztRQUN4QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztZQUN6QyxPQUFPLElBQUksQ0FBQztRQUNiLE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQUVNLHdDQUFjLEdBQXJCLFVBQXNCLEdBQVcsRUFBRSxNQUFvQjtRQUN0RCxJQUFHLEdBQUcsSUFBSSxJQUFJO1lBQUcsT0FBTyxJQUFJLENBQUM7UUFDN0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUM7WUFDekMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ2pDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVNLGlDQUFPLEdBQWQsVUFBZSxHQUFXO1FBQ3pCLElBQUksR0FBRyxJQUFJLElBQUk7WUFBRyxPQUFPLElBQUksQ0FBQztRQUM5QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1lBQzFDLE9BQVksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVUsR0FBakIsVUFBa0IsR0FBVztRQUM1QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFFLE9BQU87UUFDNUIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO1lBQ3RDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFTSxtQ0FBUyxHQUFoQixVQUFpQixHQUFRO1FBQ3hCLEtBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFDO1lBQ3BDLElBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFFLElBQUk7Z0JBQUMsU0FBUztZQUM3QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUN0QyxJQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUFFLE9BQU8sSUFBSSxDQUFDO1NBQzVDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBbkVjLHdCQUFRLEdBQW9CLElBQUksQ0FBQztJQW9FakQsc0JBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQXRFWSwwQ0FBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWVzc2FnZUJhc2V9IGZyb20gXCIuL01lc3NhZ2VCYXNlXCJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlRGlzcGF0Y2h7XG5cblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhY2U6IE1lc3NhZ2VEaXNwYXRjaCA9IG51bGw7XG5cblx0cHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpe1xuXHRcdGlmKHRoaXMuX2luc3RhY2UgPT0gbnVsbCl7XG5cdFx0XHR0aGlzLl9pbnN0YWNlID0gbmV3IE1lc3NhZ2VEaXNwYXRjaCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5faW5zdGFjZTtcblx0fVxuXG5cdHByaXZhdGUgX2hhbmRsZXI6IGFueTtcblx0cHJpdmF0ZSBfYWxsTWVzc2FnZUJhc2VzOiB7W2tleTogc3RyaW5nXTogTWVzc2FnZUJhc2VbXX07XG5cblx0Y29uc3RydWN0b3IoKXtcblx0XHR0aGlzLl9oYW5kbGVyID0gbnVsbDtcblx0XHR0aGlzLl9hbGxNZXNzYWdlQmFzZXMgPSB7fTtcblx0fVxuXG5cdHB1YmxpYyByZWdpc3RlcihrZXk6IHN0cmluZywgbXNnUHJvOiBNZXNzYWdlQmFzZSl7XG5cdFx0aWYoa2V5ID09IG51bGwpIHJldHVybiBudWxsO1xuXHRcdGlmKG1zZ1BybyA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyA9PSBudWxsKXRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldID0gW107XG5cdFx0dGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV0ucHVzaChtc2dQcm8pO1xuXHRcdHJldHVybiBtc2dQcm87XG5cdH1cblxuXHRwdWJsaWMgaXNOdWxsKGtleTogc3RyaW5nKXtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyAhPSBudWxsICYmIGFsbEJhc2VzLmxlbmd0aCA+IDApXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgcmVnaXN0ZXJVbmlxdWUoa2V5OiBzdHJpbmcsIG1zZ1Bybz86IE1lc3NhZ2VCYXNlKXtcblx0XHRpZihrZXkgPT0gbnVsbCApIHJldHVybiBudWxsO1xuXHRcdGxldCBhbGxCYXNlcyA9IHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldO1xuXHRcdGlmKGFsbEJhc2VzICE9IG51bGwgJiYgYWxsQmFzZXMubGVuZ3RoID4gMClcblx0XHRcdHJldHVybiB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XVswXTtcblx0XHRlbHNlIHJldHVybiB0aGlzLnJlZ2lzdGVyKGtleSwgbXNnUHJvKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRCZWFuKGtleTogc3RyaW5nKSB7XG5cdFx0aWYoIGtleSA9PSBudWxsICkgcmV0dXJuIG51bGw7XG5cdFx0bGV0IGFsbEJlYW5zID0gdGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV07XG5cdFx0aWYoYWxsQmVhbnMgIT0gbnVsbCAmJiBhbGxCZWFucy5sZW5ndGggPiAwKXtcblx0XHRcdHJldHVybiA8YW55PmFsbEJlYW5zWzBdO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyB1blJlZ2lzdGVyKGtleTogc3RyaW5nKXtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyA9PSBudWxsKSByZXR1cm47XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFsbEJhc2VzLmxlbmd0aDsgaSsrKVxuXHRcdFx0YWxsQmFzZXNbaV0ub25EZXN0b3J5KCk7XG5cdFx0dGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV0gPSBudWxsO1xuXHRcdGRlbGV0ZSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0fVxuXG5cdHB1YmxpYyBvbk1lc3NhZ2UobXNnOiBhbnkpe1xuXHRcdGZvcihsZXQga2V5IGluIHRoaXMuX2FsbE1lc3NhZ2VCYXNlcyl7XG5cdFx0XHRpZih0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XT09bnVsbCljb250aW51ZTtcblx0XHRcdGxldCBhbGxCYXNlcyA9IHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldO1xuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFsbEJhc2VzLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRpZihhbGxCYXNlc1tpXS5vbk1lc3NhZ2UobXNnKSkgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '662f9RcpGtJGpMGll8qVj04', 'MoreGameComponent');
// framework/wxsdk/MoreGameComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameManager_1 = require("./MoreGameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameComponent = /** @class */ (function (_super) {
    __extends(MoreGameComponent, _super);
    function MoreGameComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isManaged = true;
        _this.refreshInterval = 60;
        _this.priority_min = 50;
        _this._list = [];
        return _this;
    }
    Object.defineProperty(MoreGameComponent.prototype, "count", {
        get: function () { return 0; },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MoreGameComponent.prototype, "manager", {
        get: function () {
            return MoreGameManager_1.default.instance;
        },
        enumerable: false,
        configurable: true
    });
    MoreGameComponent.prototype.requestTask = function () {
        var list = this.manager.getTasks(this.priority_min, this.count);
        this.manager.finishTasks(this._list);
        this.show(list);
        this.manager.startTasks(list);
    };
    MoreGameComponent.prototype.start = function () {
    };
    MoreGameComponent.prototype.onEnable = function () {
        this.schedule(this.requestTask, this.refreshInterval, cc.macro.REPEAT_FOREVER, 0);
    };
    MoreGameComponent.prototype.onDisable = function () {
        this.unschedule(this.requestTask);
    };
    MoreGameComponent.prototype.onShow = function () {
    };
    MoreGameComponent.prototype.show = function (list) {
        this._list = list;
        this.onShow();
    };
    Object.defineProperty(MoreGameComponent.prototype, "list", {
        get: function () {
            return this._list;
        },
        enumerable: false,
        configurable: true
    });
    __decorate([
        property
    ], MoreGameComponent.prototype, "refreshInterval", void 0);
    __decorate([
        property
    ], MoreGameComponent.prototype, "priority_min", void 0);
    MoreGameComponent = __decorate([
        ccclass
    ], MoreGameComponent);
    return MoreGameComponent;
}(cc.Component));
exports.default = MoreGameComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUErQyxxQ0FBWTtJQUEzRDtRQUFBLHFFQXlEQztRQXRERyxlQUFTLEdBQVcsSUFBSSxDQUFDO1FBR3pCLHFCQUFlLEdBQVcsRUFBRSxDQUFDO1FBRzdCLGtCQUFZLEdBQVcsRUFBRSxDQUFDO1FBRTFCLFdBQUssR0FBVSxFQUFFLENBQUE7O0lBOENyQixDQUFDO0lBNUNHLHNCQUFJLG9DQUFLO2FBQVQsY0FBWSxPQUFPLENBQUMsQ0FBQyxDQUFBLENBQUM7OztPQUFBO0lBRXRCLHNCQUFJLHNDQUFPO2FBQVg7WUFFSSxPQUFPLHlCQUFlLENBQUMsUUFBUSxDQUFDO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsdUNBQVcsR0FBWDtRQUVJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxpQ0FBSyxHQUFMO0lBR0EsQ0FBQztJQUVELG9DQUFRLEdBQVI7UUFFSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLGVBQWUsRUFBQyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNsRixDQUFDO0lBRUQscUNBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxrQ0FBTSxHQUFOO0lBR0EsQ0FBQztJQUVELGdDQUFJLEdBQUosVUFBSyxJQUFJO1FBRUwsSUFBSSxDQUFDLEtBQUssR0FBSSxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxzQkFBSSxtQ0FBSTthQUFSO1lBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFBO1FBQ3JCLENBQUM7OztPQUFBO0lBbEREO1FBREMsUUFBUTs4REFDb0I7SUFHN0I7UUFEQyxRQUFROzJEQUNpQjtJQVRULGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBeURyQztJQUFELHdCQUFDO0NBekRELEFBeURDLENBekQ4QyxFQUFFLENBQUMsU0FBUyxHQXlEMUQ7a0JBekRvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVNYW5hZ2VyLCB7IFRhc2sgfSBmcm9tIFwiLi9Nb3JlR2FtZU1hbmFnZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9yZUdhbWVDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnRcbntcbiAgICBfbWFuYWdlcjpNb3JlR2FtZU1hbmFnZXI7XG4gICAgaXNNYW5hZ2VkOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQHByb3BlcnR5XG4gICAgcmVmcmVzaEludGVydmFsOiBudW1iZXIgPSA2MDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIHByaW9yaXR5X21pbiA6bnVtYmVyID0gNTA7XG5cbiAgICBfbGlzdDpUYXNrW10gPSBbXVxuXG4gICAgZ2V0IGNvdW50KCl7cmV0dXJuIDA7fVxuXG4gICAgZ2V0IG1hbmFnZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICByZXF1ZXN0VGFzaygpXG4gICAge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMubWFuYWdlci5nZXRUYXNrcyh0aGlzLnByaW9yaXR5X21pbix0aGlzLmNvdW50KTtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmZpbmlzaFRhc2tzKHRoaXMuX2xpc3QpXG4gICAgICAgIHRoaXMuc2hvdyhsaXN0KTtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnN0YXJ0VGFza3MobGlzdCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgb25FbmFibGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLnJlcXVlc3RUYXNrLHRoaXMucmVmcmVzaEludGVydmFsLGNjLm1hY3JvLlJFUEVBVF9GT1JFVkVSLDApXG4gICAgfVxuXG4gICAgb25EaXNhYmxlKClcbiAgICB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLnJlcXVlc3RUYXNrKTtcbiAgICB9XG5cbiAgICBvblNob3coKVxuICAgIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2hvdyhsaXN0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9ICBsaXN0O1xuICAgICAgICB0aGlzLm9uU2hvdygpO1xuICAgIH1cblxuICAgIGdldCBsaXN0KCk6IFRhc2tbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/qqsdk/BKTool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '313f56eFUNNW6GE0RObNSkH', 'BKTool');
// framework/qqsdk/BKTool.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Global = /** @class */ (function () {
    function Global() {
    }
    Global.PUIN = "2896237320";
    Global.headUrl = "";
    Global.nickName = "";
    Global.videoAd = undefined;
    Global.bannerAd = undefined;
    Global.videoAdLoadCount = 0; //视频广告加载次数
    Global.viewAdLoadCount = 0;
    Global.bannerAdLoadCount = 0; //banner广告加载次数
    return Global;
}());
// GameStatusInfo.src 其他取值
// 场景值（src）	场景描述	期望体验
// 100	AIO面板点击开始游戏	进入游戏大厅
// 108	AIO面板点击大面板小房子按钮	进入游戏大厅
// 110	AIO消息流文字识别	进入游戏大厅
// 202	热聊folder中点击进入游戏按钮	进入游戏大厅
// 207	旧版玩一玩WEB页面启动游戏	进入游戏大厅
// 208	新版玩一玩WEB页面启动游戏	进入游戏大厅
// 209	厘米城WEB页面启动游戏	进入游戏大厅
// 220	扫描二维码打开游戏	进入游戏大厅
// 200	点击AIO游戏邀请消息	"判断roomid若可加入则直接加入游戏不可加入相应提示后打开大厅"
// 204	在微信点击游戏邀请后打开手Q后启动游戏	同200
// 203	同200	将在手Q7.6.0后废弃
// 201	点击AIO游戏分享消息	根据拓展数据做相应处理
var BKTool = /** @class */ (function () {
    function BKTool() {
    }
    // static BKGet(url, callback, custom) {
    //     let httpUtil = new BK.HttpUtil(url);
    //     httpUtil.setHttpMethod("get");
    //     httpUtil.custom = custom;
    //     //绑定回调对象
    //     httpUtil.requestAsync(callback.bind(httpUtil));
    // }
    /**
     * 跳转到其他游戏
     * @param {Number} gameId
     */
    BKTool.skipGame = function (gameId) {
        BK.QQ.skipGame(gameId, "IJPay");
    };
    /**
     * 判断手Q版本
     * @param {String} ver1 7.9.0.3820 当前版本
     * @param {String} ver2 7.8.5 指定版本
     */
    BKTool.versionCompare = function (ver1, ver2) {
        ver1 = parseInt(ver1.replace(/\./g, "").substring(0, 3));
        ver2 = parseInt(ver2.replace(/\./g, "").substring(0, 3));
        if (ver1 >= ver2) {
            return true;
        }
        else {
            return false;
        }
    };
    BKTool.shareToArk = function () {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            isToFriend: true,
            summary: '单渠道分享-By Javen',
            extendInfo: 'IJPay',
            success: function (succObj) {
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
            },
            complete: function () {
                console.log('分享完成，不论成功失败');
            }
        });
    };
    BKTool.share = function (callback) {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            socialPicPath: 'GameRes://qrcode.png',
            title: '测试轻游戏',
            summary: '多渠道分享-By Javen',
            extendInfo: 'IJPay',
            // isToFriend:"false",
            success: function (succObj) {
                //{"reqCode":1,"ret":0,"gameId":3603,"aioType":1,"shareTo":0,"isFirstTimeShare":0}
                //ret成功：0；失败：1；取消：2
                //shareTo 分享渠道：QQ：0；QZone：1；微信：2；朋友圈：3
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
                if (succObj.data.ret == 0) {
                    callback && callback("success", succObj.data);
                }
                else {
                    callback && callback("fail", succObj.data);
                }
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
                callback && callback("fail");
            },
            complete: function () {
                console.log('分享完成，不论成功失败');
            }
        });
    };
    BKTool.shareLink = function () {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            msgUrl: 'https://gitee.com/javen205/Brickengine_Guide?',
            title: '测试轻游戏',
            summary: 'H5链接分享-By Javen',
        });
    };
    BKTool.screenShotShare = function () {
        //实际像素
        var pixelSize = BK.Director.screenPixelSize;
        var pWidth = pixelSize.width;
        var pWheight = pixelSize.height;
        BK.Share.share({
            range: {
                x: pWidth / 2,
                y: pWheight / 2,
                width: pWidth,
                height: pWheight
            },
            qqImgUrl: "",
            title: '测试轻游戏',
            summary: "截图分享-By Javen",
            extendInfo: 'IJPay',
            success: function (succObj) {
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
            },
            complete: function () {
                console.log('分享完成,不论成功失败');
            }
        });
    };
    BKTool.follow = function () {
        console.log("Global.PUIN>" + Global.PUIN);
        BK.QQ.enterPubAccountCard(Global.PUIN);
    };
    BKTool.getNick = function () {
        return Global.nickName;
    };
    BKTool.createShortCut = function () {
        var extendInfo = ""; //扩展字段
        BK.QQ.createShortCut(extendInfo);
    };
    BKTool.getHead = function () {
        return Global.headUrl;
    };
    /**
        打开一个网页
    */
    BKTool.prototype.openUrl = function (url) {
        BK.MQQ.Webview.open(url);
    };
    /**
* 存储游戏个人私有数据
* @param data 要存储的数据.
*/
    BKTool.prototype.saveGameData = function (data) {
        // 存储游戏个人私有数据
        // var data = {
        //     maxScore: 100,              // 一个历史最高积分
        //     // 不同游戏模式下存的数据，列表来的，可以根据自身需求使用，这里面的数据，后台不做任何处理，怎么来怎么回
        //     modeDatas:[
        //         {       // 字段都是自己定义的，后台不做任何处理
        //             maxScore: 1,
        //             mode: 1,
        //         },
        //         {       // 字段都是自己定义的，后台不做任何处理
        //             maxScore: 2,
        //             mode: 2,
        //         },
        //     ],
        // }
        return new Promise(function (resolve) {
            // 保存个人数据
            BK.QQ.saveGameData(data, function (errCode, cmd, data) {
                BK.Console.log(1, 1, 'saveGameData : ' + errCode + ', ' + cmd + ', ' + data);
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    /**
    * 拉取游戏个人私有数据
    */
    BKTool.prototype.loadGameData = function () {
        return new Promise(function (resolve) {
            BK.QQ.loadGameData(function (errCode, cmd, data) {
                // 这里返回的 data，就是上面存储游戏个人私有数据时候传入的 data
                BK.Console.log(1, 1, 'loadGameData : ' + errCode + ', ' + cmd + ', ' + data);
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    /**
  * 派发红包
  * @param {string} extendInfo 扩展的信息..
  */
    BKTool.prototype.sendB2CRedPacket = function (extendInfo) {
        return new Promise(function (resolve) {
            // var extendInfo = "xxxxxxx";
            BK.QQ.sendB2CRedPacket(extendInfo, function (errCode, cmd, data) {
                BK.Script.log(1, 1, 'sendB2CRedPacket : ' + errCode + ', ' + cmd + ', ' + JSON.stringify(data));
                if (errCode == 0) {
                    //派发成功
                }
                else {
                    //派发失败
                }
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    BKTool.login = function () {
        BK.MQQ.Account.getHead(GameStatusInfo.openId, function (openId, imgPath) {
            // resolve(imgPath)
            Global.headUrl = imgPath;
        });
        BK.MQQ.Account.getNick(GameStatusInfo.openId, function (openId, nickName) {
            Global.nickName = nickName;
        });
    };
    BKTool.test = function () {
        // BK.QQ.fetchOpenKey(function (errCode, cmd, data) {
        // 	console.log("[fetchOpenKey]",errCode, cmd, data)
        //     if (errCode == 0) {
        //          var openKey = data.openKey;
        //      }
        // });
        var openId = GameStatusInfo.openId;
        console.log("openId:", openId);
        var systemInfo = BK.getSystemInfoSync();
        BK.Console.log('游戏版本号:' + systemInfo.gameVersion);
        BK.Console.log('是否房主:' + systemInfo.isMaster); //使用厘米秀房间时才有效
        BK.Console.log('房间号:' + systemInfo.roomId); //使用厘米秀房间时才有效
        BK.Console.log('系统版本:' + systemInfo.osVersion);
        BK.Console.log('网络类型:' + systemInfo.networkType);
        BK.Console.log('平台:' + systemInfo.platform);
        BK.Console.log('当前用户的标识:' + systemInfo.openId);
        BK.Console.log('手机qq版本:' + systemInfo.QQVer);
        BK.Console.log('是否首次安装:' + systemInfo.isFirstInstall);
        BK.Console.log('当前聊天窗类型:' + systemInfo.aioType);
        BK.Console.log('游戏启动入口:' + systemInfo.src);
        BK.Console.log('是否为管理账号:' + systemInfo.isWhiteUser);
        BK.Console.log('游戏类型:' + systemInfo.gameType);
        BK.Console.log('具体机型:' + systemInfo.model);
        BK.Console.log('性别:' + systemInfo.sex);
    };
    /**
     * 成绩上报
     * @param {*} level
     * @param {*} callback
     */
    BKTool.uploadScore = function (score, callback) {
        var data = {
            userData: [{
                    openId: GameStatusInfo.openId,
                    startMs: (new Date().getTime() - 60 * 5 * 1000).toString(),
                    endMs: ((new Date()).getTime()).toString(),
                    scoreInfo: {
                        score: score,
                    },
                },],
            attr: {
                score: {
                    type: 'rank',
                    order: 1,
                }
            },
        };
        BK.QQ.uploadScoreWithoutRoom(1, data, function (errCode, cmd, data) {
            console.log("-------------uploadScoreWithoutRoom callback  cmd" + cmd + " errCode:" + errCode + "  data:" + JSON.stringify(data));
            if (callback) {
                callback(errCode, data);
            }
        });
    };
    /**
     * 拉取排行榜数据
     * @param {*} callback [code,list]
     */
    BKTool.getRankList = function (callback) {
        var attr = "score";
        var order = 1; //排序的方法：[ 1: 从大到小(单局)，2: 从小到大(单局)，3: 由大到小(累积)]
        var rankType = 0; //要查询的排行榜类型，0: 好友排行榜
        BK.QQ.getRankListWithoutRoom(attr, order, rankType, function (errCode, cmd, data) {
            console.log("--------------------getRankListWithoutRoom callback  cmd" + cmd + " errCode:" + errCode);
            if (errCode != 0) {
                callback && callback(errCode);
                return;
            }
            if (data) {
                var rankList = data.data.ranking_list;
                console.log("=====data not null " + rankList.length);
                //{"data":{"ranking_list":["nick":"Damon Ren","score":304,"selfFlag":1,"url":"","seqId":0]}}
                console.log(JSON.stringify(data));
                if (callback) {
                    callback(errCode, rankList);
                }
            }
        });
    };
    /**
     * //展示广告 Global.videoAd.show();
     * 预加载视频广告
     */
    BKTool.loadVideoAd = function (callback) {
        console.log("============BKTOOl.loadVideoAD", Global.videoAd);
        // if (!Global.videoAd ) { //如果没有广告资源就加载新的视频广告
        var videoAd = BK.Advertisement.createVideoAd();
        videoAd.onError(function (err) {
            //加载失败
            console.log(">>>>>>>>>BKTools onError code:" + err.code + " msg:" + err.msg);
            Global.viewAdLoadCount += 1;
            //尝试4次
            if (Global.viewAdLoadCount < 4) {
                BKTool.loadVideoAd(callback);
            }
            if (callback)
                callback("error");
        });
        videoAd.onPlayFinish(function () {
            //播放结束
            console.log("BKTools onPlayFinish...");
            Global.videoAd = undefined;
            if (callback)
                callback("finish");
        });
        videoAd.onClose(function () {
            //播放结束
            console.log("BKTools onClose...");
            if (callback)
                callback("close");
            Global.videoAd = undefined;
        });
        videoAd.onLoad(function () {
            //加载成功
            console.log("BKTools onLoad");
            Global.videoAd = videoAd;
            Global.videoAdLoadCount = 0;
            if (callback)
                callback("load", videoAd);
        });
    };
    //  else {
    //     console.log("BKTools 已存在广告资源 或者 非QQ玩一玩平台....");
    // }
    /**
     * //展示广告 Global.bannerAd.show();
     * 预加载banner广告
     * 1001静态banner，1002动态banner，1003 广点通banner(7.8.0)
     */
    BKTool.loadBannerAd = function (callback, viewId) {
        if (!viewId) {
            var qqVer = BK.getSystemInfoSync().QQVer;
            console.log("当前手Q版本:" + qqVer);
            var isBig = BKTool.versionCompare(qqVer, "7.8.5"); //如果大于7.8.5
            console.log("当前版本大于7.8.5:" + isBig);
            if (isBig) {
                viewId = 1003;
            }
            else {
                viewId = 1002;
            }
        }
        console.log("loadBannerAd viewId:" + viewId);
        var bannerAd = BK.Advertisement.createBannerAd({
            viewId: viewId,
        });
        bannerAd.onError(function (err) {
            //加载失败
            console.log("BKTools onError code:" + err.code + " msg:" + err.msg);
            Global.bannerAdLoadCount += 1;
            if (Global.bannerAdLoadCount < 4) {
                BKTool.loadBannerAd(callback, viewId);
            }
            if (callback)
                callback("error");
        });
        bannerAd.onLoad(function () {
            //加载成功
            console.log("BKTools onLoad");
            Global.bannerAd = bannerAd;
            Global.viewAdLoadCount = 0;
            if (callback)
                callback("load", bannerAd);
        });
    };
    BKTool.showBannerAd = function () {
        console.log("BKTools 显示banner广告");
        if (Global.bannerAd) {
            Global.bannerAd.show();
        }
        else {
            console.log("BKTools 不存在banner资源....");
            BKTool.loadBannerAd(function (v, ad) {
                if (v == "load") {
                    BKTool.showBannerAd();
                }
            });
        }
    };
    BKTool.hideBannerAd = function () {
        if (Global.bannerAd) {
            Global.bannerAd.hide();
            Global.bannerAd = undefined;
        }
        else {
            console.log("BKTools 不存在banner资源无法关闭....");
        }
    };
    BKTool.showToast = function (title, duration) {
        if (!duration) {
            duration = 3000;
        }
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            BK.UI.showToast({
                title: title,
                duration: duration,
                complete: function () {
                    console.log("BKTools showToast complete:" + title);
                }
            });
        }
    };
    /**
     * 开启屏幕常亮
     */
    BKTool.keepScreenOn = function () {
        BK.Device.keepScreenOn({
            isKeepOn: true
        });
    };
    /**
     * 取消屏幕常亮
     */
    BKTool.cancelKeepScreenOn = function () {
        BK.Device.keepScreenOn({
            isKeepOn: false
        });
    };
    return BKTool;
}());
exports.default = BKTool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxxcXNka1xcQktUb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBWUEsQ0FBQztJQVZVLFdBQUksR0FBRSxZQUFZLENBQUE7SUFFbEIsY0FBTyxHQUFHLEVBQUUsQ0FBQTtJQUNaLGVBQVEsR0FBRyxFQUFFLENBQUM7SUFDZCxjQUFPLEdBQUUsU0FBUyxDQUFBO0lBQ2xCLGVBQVEsR0FBRSxTQUFTLENBQUE7SUFFbkIsdUJBQWdCLEdBQUUsQ0FBQyxDQUFBLENBQUMsVUFBVTtJQUM5QixzQkFBZSxHQUFHLENBQUMsQ0FBQTtJQUNuQix3QkFBaUIsR0FBRSxDQUFDLENBQUEsQ0FBQyxjQUFjO0lBQzlDLGFBQUM7Q0FaRCxBQVlDLElBQUE7QUFDRCwwQkFBMEI7QUFDMUIscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qiw2QkFBNkI7QUFDN0Isd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQiw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQix1QkFBdUI7QUFDdkIscURBQXFEO0FBQ3JELCtCQUErQjtBQUMvQix3QkFBd0I7QUFDeEIsOEJBQThCO0FBRTlCO0lBQUE7SUFnY0EsQ0FBQztJQTdiRyx3Q0FBd0M7SUFDeEMsMkNBQTJDO0lBQzNDLHFDQUFxQztJQUNyQyxnQ0FBZ0M7SUFDaEMsZUFBZTtJQUNmLHNEQUFzRDtJQUN0RCxJQUFJO0lBRUo7OztPQUdHO0lBQ0ksZUFBUSxHQUFmLFVBQWdCLE1BQU07UUFDbEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDRDs7OztPQUlHO0lBQ0kscUJBQWMsR0FBckIsVUFBc0IsSUFBSSxFQUFFLElBQUk7UUFDNUIsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxT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QUFPLEdBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFL0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFM0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNwRCxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNsRCxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUduQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGtCQUFXLEdBQWxCLFVBQW1CLEtBQUssRUFBRSxRQUFTO1FBQy9CLElBQUksSUFBSSxHQUFHO1lB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QUFDLEdBQUcsQ0FBQyw2QkFBNkIsR0FBRyxLQUFLLENBQUMsQ0FBQztnQkFDdkQsQ0FBQzthQUNKLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUNEOztPQUVHO0lBQ0ksbUJBQVksR0FBbkI7UUFDSSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUNuQixRQUFRLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0Q7O09BRUc7SUFDSSx5QkFBa0IsR0FBekI7UUFDSSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUNuQixRQUFRLEVBQUUsS0FBSztTQUNsQixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUwsYUFBQztBQUFELENBaGNBLEFBZ2NDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBHbG9iYWxcbntcbiAgICBzdGF0aWMgUFVJTj0gXCIyODk2MjM3MzIwXCJcblxuICAgIHN0YXRpYyBoZWFkVXJsID0gXCJcIlxuICAgIHN0YXRpYyBuaWNrTmFtZSA9IFwiXCI7XG4gICAgc3RhdGljIHZpZGVvQWQ9IHVuZGVmaW5lZFxuICAgIHN0YXRpYyBiYW5uZXJBZD0gdW5kZWZpbmVkXG5cbiAgICBzdGF0aWMgdmlkZW9BZExvYWRDb3VudD0gMCAvL+inhumikeW5v+WRiuWKoOi9veasoeaVsFxuICAgIHN0YXRpYyB2aWV3QWRMb2FkQ291bnQgPSAwIFxuICAgIHN0YXRpYyBiYW5uZXJBZExvYWRDb3VudD0gMCAvL2Jhbm5lcuW5v+WRiuWKoOi9veasoeaVsFxufVxuLy8gR2FtZVN0YXR1c0luZm8uc3JjIOWFtuS7luWPluWAvFxuLy8g5Zy65pmv5YC877yIc3Jj77yJXHTlnLrmma/mj4/ov7BcdOacn+acm+S9k+mqjFxuLy8gMTAwXHRBSU/pnaLmnb/ngrnlh7vlvIDlp4vmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMTA4XHRBSU/pnaLmnb/ngrnlh7vlpKfpnaLmnb/lsI/miL/lrZDmjInpkq5cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMTEwXHRBSU/mtojmga/mtYHmloflrZfor4bliKtcdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjAyXHTng63ogYpmb2xkZXLkuK3ngrnlh7vov5vlhaXmuLjmiI/mjInpkq5cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjA3XHTml6fniYjnjqnkuIDnjqlXRULpobXpnaLlkK/liqjmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjA4XHTmlrDniYjnjqnkuIDnjqlXRULpobXpnaLlkK/liqjmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjA5XHTljpjnsbPln45XRULpobXpnaLlkK/liqjmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjIwXHTmiavmj4/kuoznu7TnoIHmiZPlvIDmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxuLy8gMjAwXHTngrnlh7tBSU/muLjmiI/pgoDor7fmtojmga9cdFwi5Yik5patcm9vbWlk6Iul5Y+v5Yqg5YWl5YiZ55u05o6l5Yqg5YWl5ri45oiP5LiN5Y+v5Yqg5YWl55u45bqU5o+Q56S65ZCO5omT5byA5aSn5Y6FXCJcbi8vIDIwNFx05Zyo5b6u5L+h54K55Ye75ri45oiP6YKA6K+35ZCO5omT5byA5omLUeWQjuWQr+WKqOa4uOaIj1x05ZCMMjAwXG4vLyAyMDNcdOWQjDIwMFx05bCG5Zyo5omLUTcuNi4w5ZCO5bqf5byDXG4vLyAyMDFcdOeCueWHu0FJT+a4uOaIj+WIhuS6q+a2iOaBr1x05qC55o2u5ouT5bGV5pWw5o2u5YGa55u45bqU5aSE55CGXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJLVG9vbFxue1xuXG4gICAgLy8gc3RhdGljIEJLR2V0KHVybCwgY2FsbGJhY2ssIGN1c3RvbSkge1xuICAgIC8vICAgICBsZXQgaHR0cFV0aWwgPSBuZXcgQksuSHR0cFV0aWwodXJsKTtcbiAgICAvLyAgICAgaHR0cFV0aWwuc2V0SHR0cE1ldGhvZChcImdldFwiKTtcbiAgICAvLyAgICAgaHR0cFV0aWwuY3VzdG9tID0gY3VzdG9tO1xuICAgIC8vICAgICAvL+e7keWumuWbnuiwg+WvueixoVxuICAgIC8vICAgICBodHRwVXRpbC5yZXF1ZXN0QXN5bmMoY2FsbGJhY2suYmluZChodHRwVXRpbCkpO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIOi3s+i9rOWIsOWFtuS7lua4uOaIj1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnYW1lSWQgXG4gICAgICovXG4gICAgc3RhdGljIHNraXBHYW1lKGdhbWVJZCkge1xuICAgICAgICBCSy5RUS5za2lwR2FtZShnYW1lSWQsIFwiSUpQYXlcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWIpOaWreaJi1HniYjmnKxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmVyMSA3LjkuMC4zODIwIOW9k+WJjeeJiOacrFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2ZXIyIDcuOC41IOaMh+WumueJiOacrFxuICAgICAqL1xuICAgIHN0YXRpYyB2ZXJzaW9uQ29tcGFyZSh2ZXIxLCB2ZXIyKSB7XG4gICAgICAgIHZlcjEgPSBwYXJzZUludCh2ZXIxLnJlcGxhY2UoL1xcLi9nLCBcIlwiKS5zdWJzdHJpbmcoMCwgMykpO1xuICAgICAgICB2ZXIyID0gcGFyc2VJbnQodmVyMi5yZXBsYWNlKC9cXC4vZywgXCJcIikuc3Vic3RyaW5nKDAsIDMpKTtcbiAgICAgICAgaWYgKHZlcjEgPj0gdmVyMikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2hhcmVUb0FyaygpIHtcbiAgICAgICAgQksuU2hhcmUuc2hhcmUoe1xuICAgICAgICAgICAgcXFJbWdVcmw6ICdodHRwOi8vaHVkb25nLnFxLmNvbS9kb2NzL2VuZ2luZS9pbWcvODQ4Qjc2QjU1MzBBQTdFRTdCMzhFOUExMjY3RDcwODYucG5nJyxcbiAgICAgICAgICAgIGlzVG9GcmllbmQ6IHRydWUsXG4gICAgICAgICAgICBzdW1tYXJ5OiAn5Y2V5rig6YGT5YiG5LqrLUJ5IEphdmVuJyxcbiAgICAgICAgICAgIGV4dGVuZEluZm86ICdJSlBheScsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3VjY09iaikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvmiJDlip8nLCBzdWNjT2JqLmNvZGUsIEpTT04uc3RyaW5naWZ5KHN1Y2NPYmouZGF0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChmYWlsT2JqKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+Wksei0pScsIGZhaWxPYmouY29kZSwgSlNPTi5zdHJpbmdpZnkoZmFpbE9iai5tc2cpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvlrozmiJDvvIxcYuS4jeiuuuaIkOWKn+Wksei0pScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hhcmUoY2FsbGJhY2spIHtcbiAgICAgICAgQksuU2hhcmUuc2hhcmUoe1xuICAgICAgICAgICAgcXFJbWdVcmw6ICdodHRwOi8vaHVkb25nLnFxLmNvbS9kb2NzL2VuZ2luZS9pbWcvODQ4Qjc2QjU1MzBBQTdFRTdCMzhFOUExMjY3RDcwODYucG5nJyxcbiAgICAgICAgICAgIHNvY2lhbFBpY1BhdGg6ICdHYW1lUmVzOi8vcXJjb2RlLnBuZycsXG4gICAgICAgICAgICB0aXRsZTogJ+a1i+ivlei9u+a4uOaIjycsXG4gICAgICAgICAgICBzdW1tYXJ5OiAn5aSa5rig6YGT5YiG5LqrLUJ5IEphdmVuJyxcbiAgICAgICAgICAgIGV4dGVuZEluZm86ICdJSlBheScsXG4gICAgICAgICAgICAvLyBpc1RvRnJpZW5kOlwiZmFsc2VcIixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdWNjT2JqKSB7XG4gICAgICAgICAgICAgICAgLy97XCJyZXFDb2RlXCI6MSxcInJldFwiOjAsXCJnYW1lSWRcIjozNjAzLFwiYWlvVHlwZVwiOjEsXCJzaGFyZVRvXCI6MCxcImlzRmlyc3RUaW1lU2hhcmVcIjowfVxuICAgICAgICAgICAgICAgIC8vcmV05oiQ5Yqf77yaMO+8m+Wksei0pe+8mjHvvJvlj5bmtojvvJoyXG4gICAgICAgICAgICAgICAgLy9zaGFyZVRvIOWIhuS6q+a4oOmBk++8mlFR77yaMO+8m1Fab25l77yaMe+8m+W+ruS/oe+8mjLvvJvmnIvlj4vlnIjvvJozXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+aIkOWKnycsIHN1Y2NPYmouY29kZSwgSlNPTi5zdHJpbmdpZnkoc3VjY09iai5kYXRhKSk7XG4gICAgICAgICAgICAgICAgaWYoc3VjY09iai5kYXRhLnJldCA9PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soXCJzdWNjZXNzXCIsc3VjY09iai5kYXRhKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soXCJmYWlsXCIsc3VjY09iai5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGZhaWxPYmopIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5aSx6LSlJywgZmFpbE9iai5jb2RlLCBKU09OLnN0cmluZ2lmeShmYWlsT2JqLm1zZykpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFwiZmFpbFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvlrozmiJDvvIxcYuS4jeiuuuaIkOWKn+Wksei0pScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hhcmVMaW5rKCkge1xuICAgICAgICBCSy5TaGFyZS5zaGFyZSh7XG4gICAgICAgICAgICBxcUltZ1VybDogJ2h0dHA6Ly9odWRvbmcucXEuY29tL2RvY3MvZW5naW5lL2ltZy84NDhCNzZCNTUzMEFBN0VFN0IzOEU5QTEyNjdENzA4Ni5wbmcnLFxuICAgICAgICAgICAgbXNnVXJsOiAnaHR0cHM6Ly9naXRlZS5jb20vamF2ZW4yMDUvQnJpY2tlbmdpbmVfR3VpZGU/JywgLy/kuI3liqDpl67lj7fliIbkuqvnmoTpk77mjqXml6Dms5Xnm7TmjqXorr/pl65cbiAgICAgICAgICAgIHRpdGxlOiAn5rWL6K+V6L275ri45oiPJyxcbiAgICAgICAgICAgIHN1bW1hcnk6ICdINemTvuaOpeWIhuS6qy1CeSBKYXZlbicsXG4gICAgICAgICAgICAvL+WIhuS6q+WHuuWOu+eahOmTvuaOpeS4ulxuICAgICAgICAgICAgLy9odHRwczovL2dpdGVlLmNvbS9qYXZlbjIwNS9Ccmlja2VuZ2luZV9HdWlkZT8mZ2FtZUlkPea4uOaIj0lEJnJvb21JZD3miL/pl7RJRCZnYW1lVmVyc2lvbj3muLjmiI/niYjmnKzlj7cmdWluPVFR5Y+356CBXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBzY3JlZW5TaG90U2hhcmUoKSB7XG4gICAgICAgIC8v5a6e6ZmF5YOP57SgXG4gICAgICAgIHZhciBwaXhlbFNpemUgPSBCSy5EaXJlY3Rvci5zY3JlZW5QaXhlbFNpemU7XG4gICAgICAgIHZhciBwV2lkdGggPSBwaXhlbFNpemUud2lkdGg7XG4gICAgICAgIHZhciBwV2hlaWdodCA9IHBpeGVsU2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgQksuU2hhcmUuc2hhcmUoe1xuICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICB4OiBwV2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHk6IHBXaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICB3aWR0aDogcFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcFdoZWlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxcUltZ1VybDpcIlwiLC8vIOWIhuS6q+WIsFFR55qE5Zu+54mH572R57uc6ZO+5o6l77yM5b+F6YCJ77yM5LuF5pSv5oyB572R57uc6ZO+5o6lXG4gICAgICAgICAgICB0aXRsZTogJ+a1i+ivlei9u+a4uOaIjycsXG4gICAgICAgICAgICBzdW1tYXJ5OiBcIuaIquWbvuWIhuS6qy1CeSBKYXZlblwiLFxuICAgICAgICAgICAgZXh0ZW5kSW5mbzogJ0lKUGF5JyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdWNjT2JqKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+aIkOWKnycsIHN1Y2NPYmouY29kZSwgSlNPTi5zdHJpbmdpZnkoc3VjY09iai5kYXRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGZhaWxPYmopIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5aSx6LSlJywgZmFpbE9iai5jb2RlLCBKU09OLnN0cmluZ2lmeShmYWlsT2JqLm1zZykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+WujOaIkCzkuI3orrrmiJDlip/lpLHotKUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZvbGxvdygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJHbG9iYWwuUFVJTj5cIiArIEdsb2JhbC5QVUlOKTtcbiAgICAgICAgQksuUVEuZW50ZXJQdWJBY2NvdW50Q2FyZChHbG9iYWwuUFVJTik7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5pY2soKSB7XG4gICAgICAgIHJldHVybiBHbG9iYWwubmlja05hbWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZVNob3J0Q3V0KClcbiAgICB7XG4gICAgICAgIHZhciBleHRlbmRJbmZvID0gXCJcIjsvL+aJqeWxleWtl+autVxuICAgICAgICBCSy5RUS5jcmVhdGVTaG9ydEN1dChleHRlbmRJbmZvKVxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldEhlYWQoKXtcbiAgICBcdHJldHVybiBHbG9iYWwuaGVhZFVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICBcdOaJk+W8gOS4gOS4que9kemhtVxuICAgICovXG4gICAgb3BlblVybCh1cmwpe1xuICAgIFx0QksuTVFRLldlYnZpZXcub3Blbih1cmwpO1xuICAgIH1cblxuICAgICAgICAvKipcbiAgICAqIOWtmOWCqOa4uOaIj+S4quS6uuengeacieaVsOaNrlxuICAgICogQHBhcmFtIGRhdGEg6KaB5a2Y5YKo55qE5pWw5o2uLlxuICAgICovXG4gICAgc2F2ZUdhbWVEYXRhKGRhdGEpe1xuICAgICAgICAvLyDlrZjlgqjmuLjmiI/kuKrkurrnp4HmnInmlbDmja5cbiAgICAgICAgLy8gdmFyIGRhdGEgPSB7XG4gICAgICAgIC8vICAgICBtYXhTY29yZTogMTAwLCAgICAgICAgICAgICAgLy8g5LiA5Liq5Y6G5Y+y5pyA6auY56ev5YiGXG4gICAgICAgIC8vICAgICAvLyDkuI3lkIzmuLjmiI/mqKHlvI/kuIvlrZjnmoTmlbDmja7vvIzliJfooajmnaXnmoTvvIzlj6/ku6XmoLnmja7oh6rouqvpnIDmsYLkvb/nlKjvvIzov5nph4zpnaLnmoTmlbDmja7vvIzlkI7lj7DkuI3lgZrku7vkvZXlpITnkIbvvIzmgI7kuYjmnaXmgI7kuYjlm55cbiAgICAgICAgLy8gICAgIG1vZGVEYXRhczpbXG4gICAgICAgIC8vICAgICAgICAgeyAgICAgICAvLyDlrZfmrrXpg73mmK/oh6rlt7HlrprkuYnnmoTvvIzlkI7lj7DkuI3lgZrku7vkvZXlpITnkIZcbiAgICAgICAgLy8gICAgICAgICAgICAgbWF4U2NvcmU6IDEsXG4gICAgICAgIC8vICAgICAgICAgICAgIG1vZGU6IDEsXG4gICAgICAgIC8vICAgICAgICAgfSxcbiAgICAgICAgLy8gICAgICAgICB7ICAgICAgIC8vIOWtl+autemDveaYr+iHquW3seWumuS5ieeahO+8jOWQjuWPsOS4jeWBmuS7u+S9leWkhOeQhlxuICAgICAgICAvLyAgICAgICAgICAgICBtYXhTY29yZTogMixcbiAgICAgICAgLy8gICAgICAgICAgICAgbW9kZTogMixcbiAgICAgICAgLy8gICAgICAgICB9LFxuICAgICAgICAvLyAgICAgXSxcbiAgICAgICAgLy8gfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57XG4gICAgICAgICAgICAvLyDkv53lrZjkuKrkurrmlbDmja5cbiAgICAgICAgICAgIEJLLlFRLnNhdmVHYW1lRGF0YShkYXRhLCAoZXJyQ29kZSwgY21kLCBkYXRhKT0+e1xuICAgICAgICAgICAgICAgIEJLLkNvbnNvbGUubG9nKDEsIDEsICdzYXZlR2FtZURhdGEgOiAnICsgZXJyQ29kZSArICcsICcgKyBjbWQgKyAnLCAnICsgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7ZXJyQ29kZTplcnJDb2RlLCBjbWQ6Y21kLCBkYXRhOmRhdGF9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICog5ouJ5Y+W5ri45oiP5Liq5Lq656eB5pyJ5pWw5o2uXG4gICAgKi9cbiAgICBsb2FkR2FtZURhdGEoKXtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKT0+e1xuICAgICAgICAgICAgQksuUVEubG9hZEdhbWVEYXRhKChlcnJDb2RlLCBjbWQsIGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgIC8vIOi/memHjOi/lOWbnueahCBkYXRh77yM5bCx5piv5LiK6Z2i5a2Y5YKo5ri45oiP5Liq5Lq656eB5pyJ5pWw5o2u5pe25YCZ5Lyg5YWl55qEIGRhdGFcbiAgICAgICAgICAgICAgICBCSy5Db25zb2xlLmxvZygxLCAxLCAnbG9hZEdhbWVEYXRhIDogJyArIGVyckNvZGUgKyAnLCAnICsgY21kICsgJywgJyArIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoe2VyckNvZGU6ZXJyQ29kZSwgY21kOmNtZCwgZGF0YTpkYXRhfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgICAgLyoqXG4gICAgKiDmtL7lj5HnuqLljIVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbmRJbmZvIOaJqeWxleeahOS/oeaBry4uXG4gICAgKi9cbiAgICBzZW5kQjJDUmVkUGFja2V0KGV4dGVuZEluZm8pe1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57XG4gICAgICAgICAgICAvLyB2YXIgZXh0ZW5kSW5mbyA9IFwieHh4eHh4eFwiO1xuICAgICAgICAgICAgQksuUVEuc2VuZEIyQ1JlZFBhY2tldChleHRlbmRJbmZvLGZ1bmN0aW9uKGVyckNvZGUsIGNtZCwgZGF0YSl7XG4gICAgICAgICAgICAgICAgQksuU2NyaXB0LmxvZygxLCAxLCAnc2VuZEIyQ1JlZFBhY2tldCA6ICcgKyBlcnJDb2RlICsgJywgJyArIGNtZCArICcsICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgaWYoZXJyQ29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgLy/mtL7lj5HmiJDlip9cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgLy/mtL7lj5HlpLHotKVcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKHtlcnJDb2RlOmVyckNvZGUsIGNtZDpjbWQsIGRhdGE6ZGF0YX0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2dpbigpXG4gICAge1xuICAgICAgICBCSy5NUVEuQWNjb3VudC5nZXRIZWFkKEdhbWVTdGF0dXNJbmZvLm9wZW5JZCwob3BlbklkLCBpbWdQYXRoKT0+IHtcbiAgICAgICAgICAgIC8vIHJlc29sdmUoaW1nUGF0aClcbiAgICAgICAgICAgIEdsb2JhbC5oZWFkVXJsID0gaW1nUGF0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIEJLLk1RUS5BY2NvdW50LmdldE5pY2soR2FtZVN0YXR1c0luZm8ub3BlbklkLCAob3BlbklkLG5pY2tOYW1lKT0+e1xuICAgICAgICAgICAgR2xvYmFsLm5pY2tOYW1lID0gbmlja05hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyB0ZXN0KCl7XG5cdFx0Ly8gQksuUVEuZmV0Y2hPcGVuS2V5KGZ1bmN0aW9uIChlcnJDb2RlLCBjbWQsIGRhdGEpIHtcblx0XHQvLyBcdGNvbnNvbGUubG9nKFwiW2ZldGNoT3BlbktleV1cIixlcnJDb2RlLCBjbWQsIGRhdGEpXG5cdFx0Ly8gICAgIGlmIChlcnJDb2RlID09IDApIHtcblx0XHQvLyAgICAgICAgICB2YXIgb3BlbktleSA9IGRhdGEub3BlbktleTtcblx0XHQvLyAgICAgIH1cblx0XHQvLyB9KTtcblx0XHR2YXIgb3BlbklkID0gR2FtZVN0YXR1c0luZm8ub3BlbklkO1xuXHRcdGNvbnNvbGUubG9nKFwib3BlbklkOlwiLG9wZW5JZCk7XG4gICAgXHR2YXIgc3lzdGVtSW5mbyA9IEJLLmdldFN5c3RlbUluZm9TeW5jKCk7XG5cblx0XHRCSy5Db25zb2xlLmxvZygn5ri45oiP54mI5pys5Y+3Oicrc3lzdGVtSW5mby5nYW1lVmVyc2lvbik7XG5cdFx0QksuQ29uc29sZS5sb2coJ+aYr+WQpuaIv+S4uzonK3N5c3RlbUluZm8uaXNNYXN0ZXIpOyAgIC8v5L2/55So5Y6Y57Gz56eA5oi/6Ze05pe25omN5pyJ5pWIXG5cdFx0QksuQ29uc29sZS5sb2coJ+aIv+mXtOWPtzonK3N5c3RlbUluZm8ucm9vbUlkKTsgLy/kvb/nlKjljpjnsbPnp4DmiL/pl7Tml7bmiY3mnInmlYhcblx0XHRCSy5Db25zb2xlLmxvZygn57O757uf54mI5pysOicrc3lzdGVtSW5mby5vc1ZlcnNpb24pO1xuXHRcdEJLLkNvbnNvbGUubG9nKCfnvZHnu5znsbvlnos6JytzeXN0ZW1JbmZvLm5ldHdvcmtUeXBlKTtcblxuXHRcdEJLLkNvbnNvbGUubG9nKCflubPlj7A6JytzeXN0ZW1JbmZvLnBsYXRmb3JtKTtcblx0XHRCSy5Db25zb2xlLmxvZygn5b2T5YmN55So5oi355qE5qCH6K+GOicrc3lzdGVtSW5mby5vcGVuSWQpO1xuXHRcdEJLLkNvbnNvbGUubG9nKCfmiYvmnLpxceeJiOacrDonK3N5c3RlbUluZm8uUVFWZXIpO1xuXG5cdFx0QksuQ29uc29sZS5sb2coJ+aYr+WQpummluasoeWuieijhTonK3N5c3RlbUluZm8uaXNGaXJzdEluc3RhbGwpO1xuXHRcdEJLLkNvbnNvbGUubG9nKCflvZPliY3ogYrlpKnnqpfnsbvlnos6JytzeXN0ZW1JbmZvLmFpb1R5cGUpO1xuXHRcdEJLLkNvbnNvbGUubG9nKCfmuLjmiI/lkK/liqjlhaXlj6M6JytzeXN0ZW1JbmZvLnNyYyk7XG5cdFx0QksuQ29uc29sZS5sb2coJ+aYr+WQpuS4uueuoeeQhui0puWPtzonK3N5c3RlbUluZm8uaXNXaGl0ZVVzZXIpO1xuXHRcdEJLLkNvbnNvbGUubG9nKCfmuLjmiI/nsbvlnos6JytzeXN0ZW1JbmZvLmdhbWVUeXBlKTtcblx0XHRCSy5Db25zb2xlLmxvZygn5YW35L2T5py65Z6LOicrc3lzdGVtSW5mby5tb2RlbCk7XG5cdFx0QksuQ29uc29sZS5sb2coJ+aAp+WIqzonK3N5c3RlbUluZm8uc2V4KTtcblxuICAgIFx0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5oiQ57up5LiK5oqlXG4gICAgICogQHBhcmFtIHsqfSBsZXZlbCBcbiAgICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrIFxuICAgICAqL1xuICAgIHN0YXRpYyB1cGxvYWRTY29yZShzY29yZSwgY2FsbGJhY2s/KSB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgdXNlckRhdGE6IFt7XG4gICAgICAgICAgICAgICAgb3BlbklkOiBHYW1lU3RhdHVzSW5mby5vcGVuSWQsXG4gICAgICAgICAgICAgICAgc3RhcnRNczogKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gNjAgKiA1ICogMTAwMCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBlbmRNczogKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgc2NvcmVJbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwgXSxcbiAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICBzY29yZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmFuaycsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiAxLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIEJLLlFRLnVwbG9hZFNjb3JlV2l0aG91dFJvb20oMSwgZGF0YSwgZnVuY3Rpb24gKGVyckNvZGUsIGNtZCwgZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tdXBsb2FkU2NvcmVXaXRob3V0Um9vbSBjYWxsYmFjayAgY21kXCIgKyBjbWQgKyBcIiBlcnJDb2RlOlwiICsgZXJyQ29kZSArIFwiICBkYXRhOlwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyQ29kZSwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmi4nlj5bmjpLooYzmppzmlbDmja5cbiAgICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrIFtjb2RlLGxpc3RdXG4gICAgICovXG4gICAgc3RhdGljIGdldFJhbmtMaXN0KGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBhdHRyID0gXCJzY29yZVwiO1xuICAgICAgICBsZXQgb3JkZXIgPSAxOyAvL+aOkuW6j+eahOaWueazle+8mlsgMTog5LuO5aSn5Yiw5bCPKOWNleWxgCnvvIwyOiDku47lsI/liLDlpKco5Y2V5bGAKe+8jDM6IOeUseWkp+WIsOWwjyjntK/np68pXVxuICAgICAgICBsZXQgcmFua1R5cGUgPSAwOy8v6KaB5p+l6K+i55qE5o6S6KGM5qac57G75Z6L77yMMDog5aW95Y+L5o6S6KGM5qacXG4gICAgICAgIEJLLlFRLmdldFJhbmtMaXN0V2l0aG91dFJvb20oYXR0ciwgb3JkZXIsIHJhbmtUeXBlLCBmdW5jdGlvbiAoZXJyQ29kZSwgY21kLCBkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tZ2V0UmFua0xpc3RXaXRob3V0Um9vbSBjYWxsYmFjayAgY21kXCIgKyBjbWQgKyBcIiBlcnJDb2RlOlwiICsgZXJyQ29kZSk7XG4gICAgICAgICAgICBpZiAoZXJyQ29kZSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZXJyQ29kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFua0xpc3QgPSBkYXRhLmRhdGEucmFua2luZ19saXN0O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1kYXRhIG5vdCBudWxsIFwiICsgcmFua0xpc3QubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvL3tcImRhdGFcIjp7XCJyYW5raW5nX2xpc3RcIjpbXCJuaWNrXCI6XCJEYW1vbiBSZW5cIixcInNjb3JlXCI6MzA0LFwic2VsZkZsYWdcIjoxLFwidXJsXCI6XCJcIixcInNlcUlkXCI6MF19fVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyQ29kZSwgcmFua0xpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIC8v5bGV56S65bm/5ZGKIEdsb2JhbC52aWRlb0FkLnNob3coKTtcbiAgICAgKiDpooTliqDovb3op4bpopHlub/lkYpcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZFZpZGVvQWQoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT1CS1RPT2wubG9hZFZpZGVvQURcIiAsIEdsb2JhbC52aWRlb0FkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIGlmICghR2xvYmFsLnZpZGVvQWQgKSB7IC8v5aaC5p6c5rKh5pyJ5bm/5ZGK6LWE5rqQ5bCx5Yqg6L295paw55qE6KeG6aKR5bm/5ZGKXG4gICAgICAgIGxldCB2aWRlb0FkID0gQksuQWR2ZXJ0aXNlbWVudC5jcmVhdGVWaWRlb0FkKCk7XG4gICAgICAgIHZpZGVvQWQub25FcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAvL+WKoOi9veWksei0pVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4+Pj4+Pj5CS1Rvb2xzIG9uRXJyb3IgY29kZTpcIiArIGVyci5jb2RlICsgXCIgbXNnOlwiICsgZXJyLm1zZyk7XG4gICAgICAgICAgICBHbG9iYWwudmlld0FkTG9hZENvdW50ICs9IDE7XG4gICAgICAgICAgICAvL+WwneivlTTmrKFcbiAgICAgICAgICAgIGlmIChHbG9iYWwudmlld0FkTG9hZENvdW50IDwgNCkge1xuICAgICAgICAgICAgICAgIEJLVG9vbC5sb2FkVmlkZW9BZChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soXCJlcnJvclwiKVxuICAgICAgICB9KTtcblxuICAgICAgICB2aWRlb0FkLm9uUGxheUZpbmlzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL+aSreaUvue7k+adn1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCS1Rvb2xzIG9uUGxheUZpbmlzaC4uLlwiKTtcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiZmluaXNoXCIpXG4gICAgICAgIH0pO1xuICAgICAgICB2aWRlb0FkLm9uQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy/mkq3mlL7nu5PmnZ9cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyBvbkNsb3NlLi4uXCIpO1xuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiY2xvc2VcIilcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcblxuICAgICAgICB2aWRlb0FkLm9uTG9hZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL+WKoOi9veaIkOWKn1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCS1Rvb2xzIG9uTG9hZFwiKTtcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gdmlkZW9BZDtcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkTG9hZENvdW50ID0gMDtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsIHZpZGVvQWQpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAgICAgLy8gIGVsc2Uge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJCS1Rvb2xzIOW3suWtmOWcqOW5v+WRiui1hOa6kCDmiJbogIUg6Z2eUVHnjqnkuIDnjqnlubPlj7AuLi4uXCIpO1xuICAgICAgICAvLyB9XG5cbiAgICAvKipcbiAgICAgKiAvL+WxleekuuW5v+WRiiBHbG9iYWwuYmFubmVyQWQuc2hvdygpO1xuICAgICAqIOmihOWKoOi9vWJhbm5lcuW5v+WRilxuICAgICAqIDEwMDHpnZnmgIFiYW5uZXLvvIwxMDAy5Yqo5oCBYmFubmVy77yMMTAwMyDlub/ngrnpgJpiYW5uZXIoNy44LjApXG4gICAgICovXG4gICAgc3RhdGljIGxvYWRCYW5uZXJBZChjYWxsYmFjaz8sIHZpZXdJZD8pIHtcbiAgICAgICAgaWYgKCF2aWV3SWQpIHtcbiAgICAgICAgICAgIGxldCBxcVZlciA9IEJLLmdldFN5c3RlbUluZm9TeW5jKCkuUVFWZXI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW9k+WJjeaJi1HniYjmnKw6XCIgKyBxcVZlcik7XG4gICAgICAgICAgICBsZXQgaXNCaWcgPSBCS1Rvb2wudmVyc2lvbkNvbXBhcmUocXFWZXIsIFwiNy44LjVcIik7IC8v5aaC5p6c5aSn5LqONy44LjVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5b2T5YmN54mI5pys5aSn5LqONy44LjU6XCIgKyBpc0JpZyk7XG4gICAgICAgICAgICBpZiAoaXNCaWcpIHtcbiAgICAgICAgICAgICAgICB2aWV3SWQgPSAxMDAzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWV3SWQgPSAxMDAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9hZEJhbm5lckFkIHZpZXdJZDpcIiArIHZpZXdJZCk7XG4gICAgICAgIGxldCBiYW5uZXJBZCA9IEJLLkFkdmVydGlzZW1lbnQuY3JlYXRlQmFubmVyQWQoe1xuICAgICAgICAgICAgdmlld0lkOiB2aWV3SWQsXG4gICAgICAgIH0pO1xuICAgICAgICBiYW5uZXJBZC5vbkVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIC8v5Yqg6L295aSx6LSlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgb25FcnJvciBjb2RlOlwiICsgZXJyLmNvZGUgKyBcIiBtc2c6XCIgKyBlcnIubXNnKTtcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZExvYWRDb3VudCArPSAxO1xuICAgICAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZExvYWRDb3VudCA8IDQpIHtcbiAgICAgICAgICAgICAgICBCS1Rvb2wubG9hZEJhbm5lckFkKGNhbGxiYWNrLHZpZXdJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soXCJlcnJvclwiKVxuICAgICAgICB9KTtcbiAgICAgICAgYmFubmVyQWQub25Mb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8v5Yqg6L295oiQ5YqfXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgb25Mb2FkXCIpO1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkID0gYmFubmVyQWQ7XG4gICAgICAgICAgICBHbG9iYWwudmlld0FkTG9hZENvdW50ID0gMDtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsYmFubmVyQWQpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaG93QmFubmVyQWQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyDmmL7npLpiYW5uZXLlub/lkYpcIilcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyDkuI3lrZjlnKhiYW5uZXLotYTmupAuLi4uXCIpO1xuICAgICAgICAgICAgQktUb29sLmxvYWRCYW5uZXJBZCgodixhZCk9PntcbiAgICAgICAgICAgICAgICBpZih2PT1cImxvYWRcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEJLVG9vbC5zaG93QmFubmVyQWQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGhpZGVCYW5uZXJBZCgpIHtcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyDkuI3lrZjlnKhiYW5uZXLotYTmupDml6Dms5XlhbPpl60uLi4uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNob3dUb2FzdCh0aXRsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgICAgICAgZHVyYXRpb24gPSAzMDAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpIHtcbiAgICAgICAgICAgIEJLLlVJLnNob3dUb2FzdCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgc2hvd1RvYXN0IGNvbXBsZXRlOlwiICsgdGl0bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOW8gOWQr+Wxj+W5leW4uOS6rlxuICAgICAqL1xuICAgIHN0YXRpYyBrZWVwU2NyZWVuT24oKSB7XG4gICAgICAgIEJLLkRldmljZS5rZWVwU2NyZWVuT24oe1xuICAgICAgICAgICAgaXNLZWVwT246IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWPlua2iOWxj+W5leW4uOS6rlxuICAgICAqL1xuICAgIHN0YXRpYyBjYW5jZWxLZWVwU2NyZWVuT24oKSB7XG4gICAgICAgIEJLLkRldmljZS5rZWVwU2NyZWVuT24oe1xuICAgICAgICAgICAgaXNLZWVwT246IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCParticleSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f51daFLsqdJ/4k4IuDQeRuR', 'DCParticleSystem');
// Game/Scripts/ui/DCParticleSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var Info_1 = require("../Info");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCParticleSystem = /** @class */ (function (_super) {
    __extends(DCParticleSystem, _super);
    function DCParticleSystem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCParticleSystem.prototype.onLoad = function () {
    };
    DCParticleSystem.prototype.start = function () { };
    DCParticleSystem.prototype.onValueChanged = function (v) {
        var _this = this;
        var data = Info_1.UserInfo.getSkinById(v);
        // data.ps
        if (this.ps && this.ps.node)
            this.ps.node.destroy();
        cc.loader.loadRes("Game/Particles/" + data.ps, cc.ParticleAsset, function (err, ps) {
            console.log(data.ps, ps);
            var particleNode = new cc.Node();
            _this.ps = particleNode.addComponent(cc.ParticleSystem);
            _this.ps.file = ps;
            _this.node.addChild(particleNode);
        });
        // this.ps.file = cc.url.raw("resources/Game/Particles/" + data.ps+".plist");
        // cc.loader.loadRes("Game/Particles/"+data.ps,cc.ParticleAsset,(err,ps)=>{
        //     console.log(data.ps,ps);
        //     this.ps.file = ps;
        // })
    };
    DCParticleSystem = __decorate([
        ccclass
    ], DCParticleSystem);
    return DCParticleSystem;
}(DCUI_1.default));
exports.default = DCParticleSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDUGFydGljbGVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFHN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBOEMsb0NBQUk7SUFBbEQ7O0lBNkJBLENBQUM7SUExQkcsaUNBQU0sR0FBTjtJQUdBLENBQUM7SUFFRCxnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQUVYLHlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBQWhCLGlCQWtCQztRQWhCRyxJQUFJLElBQUksR0FBRyxlQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLFVBQVU7UUFDVixJQUFHLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixHQUFDLElBQUksQ0FBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLGFBQWEsRUFBQyxVQUFDLEdBQUcsRUFBQyxFQUFFO1lBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztZQUN4QixJQUFJLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNqQyxLQUFJLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZELEtBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtRQUNGLDZFQUE2RTtRQUM3RSwyRUFBMkU7UUFDM0UsK0JBQStCO1FBQy9CLHlCQUF5QjtRQUN6QixLQUFLO0lBQ1QsQ0FBQztJQTVCZ0IsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0E2QnBDO0lBQUQsdUJBQUM7Q0E3QkQsQUE2QkMsQ0E3QjZDLGNBQUksR0E2QmpEO2tCQTdCb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL0RDVUlcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENQYXJ0aWNsZVN5c3RlbSBleHRlbmRzIERDVUkge1xuXG4gICAgcHM6Y2MuUGFydGljbGVTeXN0ZW07XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHt9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgbGV0IGRhdGEgPSBVc2VySW5mby5nZXRTa2luQnlJZCh2KTtcbiAgICAgICAgLy8gZGF0YS5wc1xuICAgICAgICBpZih0aGlzLnBzICYmIHRoaXMucHMubm9kZSlcbiAgICAgICAgICAgIHRoaXMucHMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwiR2FtZS9QYXJ0aWNsZXMvXCIrZGF0YS5wcyxjYy5QYXJ0aWNsZUFzc2V0LChlcnIscHMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnBzLHBzKTtcbiAgICAgICAgICAgIGxldCBwYXJ0aWNsZU5vZGUgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICAgICAgdGhpcy5wcyA9IHBhcnRpY2xlTm9kZS5hZGRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0pO1xuICAgICAgICAgICAgdGhpcy5wcy5maWxlID0gcHM7XG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQocGFydGljbGVOb2RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gdGhpcy5wcy5maWxlID0gY2MudXJsLnJhdyhcInJlc291cmNlcy9HYW1lL1BhcnRpY2xlcy9cIiArIGRhdGEucHMrXCIucGxpc3RcIik7XG4gICAgICAgIC8vIGNjLmxvYWRlci5sb2FkUmVzKFwiR2FtZS9QYXJ0aWNsZXMvXCIrZGF0YS5wcyxjYy5QYXJ0aWNsZUFzc2V0LChlcnIscHMpPT57XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhkYXRhLnBzLHBzKTtcbiAgICAgICAgLy8gICAgIHRoaXMucHMuZmlsZSA9IHBzO1xuICAgICAgICAvLyB9KVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/ds/IntMap.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11eeadKZERHbLgjtZ/2KsFr', 'IntMap');
// Game/Scripts/hex-lines-game/ds/IntMap.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap = /** @class */ (function () {
    function IntMap() {
        this.h = {};
    }
    IntMap.prototype.set = function (t, e) {
        this.h[t] = e;
    };
    IntMap.prototype.get = function (t) {
        return this.h[t];
    };
    IntMap.prototype.exists = function (t) {
        return this.h.hasOwnProperty(t);
    };
    IntMap.prototype.remove = function (t) {
        return this.h.hasOwnProperty(t) ? (delete this.h[t], !0) : !1;
    };
    IntMap.prototype.keys = function () {
        var t, e = [];
        for (t in this.h)
            this.h.hasOwnProperty(t) && e.push(0 | t);
        return com.iter(e);
    };
    return IntMap;
}());
exports.default = IntMap;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGRzXFxJbnRNYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7UUFFSSxNQUFDLEdBQUcsRUFBRSxDQUFBO0lBa0JWLENBQUM7SUFqQkcsb0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBRSxDQUFDO1FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDakIsQ0FBQztJQUNELG9CQUFHLEdBQUgsVUFBSSxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3BCLENBQUM7SUFDRCx1QkFBTSxHQUFOLFVBQU8sQ0FBQztRQUNKLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUNELHVCQUFNLEdBQU4sVUFBTyxDQUFDO1FBQ0osT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNELHFCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2QsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7WUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1RCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDdEIsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQXBCQSxBQW9CQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50TWFwXG57XG4gICAgaCA9IHt9XG4gICAgc2V0KHQsIGUpIHtcbiAgICAgICAgdGhpcy5oW3RdID0gZVxuICAgIH1cbiAgICBnZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oW3RdXG4gICAgfVxuICAgIGV4aXN0cyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmguaGFzT3duUHJvcGVydHkodClcbiAgICB9XG4gICAgcmVtb3ZlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaC5oYXNPd25Qcm9wZXJ0eSh0KSA/IChkZWxldGUgdGhpcy5oW3RdLCAhMCkgOiAhMVxuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICB2YXIgdCwgZSA9IFtdO1xuICAgICAgICBmb3IgKHQgaW4gdGhpcy5oKSB0aGlzLmguaGFzT3duUHJvcGVydHkodCkgJiYgZS5wdXNoKDAgfCB0KTtcbiAgICAgICAgcmV0dXJuIGNvbS5pdGVyKGUpXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/libs/easing.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e6742QWT6FGKZZTNPiWFV4s', 'easing');
// framework/plugin_boosts/libs/easing.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.easeInOutBounce = exports.easeOutBounce = exports.easeInBounce = exports.easeInOutBack = exports.easeOutBack = exports.easeInBack = exports.easeInOutElastic = exports.easeOutElastic = exports.easeInElastic = exports.easeInOutCirc = exports.easeOutCirc = exports.easeInCirc = exports.easeInOutExpo = exports.easeOutExpo = exports.easeInExpo = exports.easeInOutSine = exports.easeOutSine = exports.easeInSine = exports.easeInOutQuint = exports.easeOutQuint = exports.easeInQuint = exports.easeInOutQuart = exports.easeOutQuart = exports.easeInQuart = exports.easeInOutCubic = exports.easeOutCubic = exports.easeInCubic = exports.easeInOutQuad = exports.easeOutQuad = exports.easeInQuad = exports.linear = void 0;
function linear(t, b, c, d) {
    return c * t / d + b;
}
exports.linear = linear;
function easeInQuad(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed + initialValue;
}
exports.easeInQuad = easeInQuad;
function easeOutQuad(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (elapsed /= duration) * (elapsed - 2) + initialValue;
}
exports.easeOutQuad = easeOutQuad;
function easeInOutQuad(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * (--elapsed * (elapsed - 2) - 1) + initialValue;
}
exports.easeInOutQuad = easeInOutQuad;
function easeInCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed + initialValue;
}
exports.easeInCubic = easeInCubic;
function easeOutCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutCubic = easeOutCubic;
function easeInOutCubic(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutCubic = easeInOutCubic;
function easeInQuart(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuart = easeInQuart;
function easeOutQuart(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed - 1) + initialValue;
}
exports.easeOutQuart = easeOutQuart;
function easeInOutQuart(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed - 2) + initialValue;
}
exports.easeInOutQuart = easeInOutQuart;
function easeInQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuint = easeInQuint;
function easeOutQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutQuint = easeOutQuint;
function easeInOutQuint(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutQuint = easeInOutQuint;
function easeInSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * Math.cos(elapsed / duration * (Math.PI / 2)) + amountOfChange + initialValue;
}
exports.easeInSine = easeInSine;
function easeOutSine(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sin(elapsed / duration * (Math.PI / 2)) + initialValue;
}
exports.easeOutSine = easeOutSine;
function easeInOutSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange / 2 * (Math.cos(Math.PI * elapsed / duration) - 1) + initialValue;
}
exports.easeInOutSine = easeInOutSine;
function easeInExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === 0 ? initialValue : amountOfChange * Math.pow(2, 10 * (elapsed / duration - 1)) + initialValue;
}
exports.easeInExpo = easeInExpo;
function easeOutExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === duration
        ? initialValue + amountOfChange
        : amountOfChange * (-Math.pow(2, -10 * elapsed / duration) + 1) + initialValue;
}
exports.easeOutExpo = easeOutExpo;
function easeInOutExpo(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed === 0) {
        return initialValue;
    }
    if (elapsed === duration) {
        return initialValue + amountOfChange;
    }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * Math.pow(2, 10 * (elapsed - 1)) + initialValue;
    }
    return amountOfChange / 2 * (-Math.pow(2, -10 * --elapsed) + 2) + initialValue;
}
exports.easeInOutExpo = easeInOutExpo;
function easeInCirc(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (Math.sqrt(1 - (elapsed /= duration) * elapsed) - 1) + initialValue;
}
exports.easeInCirc = easeInCirc;
function easeOutCirc(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sqrt(1 - (elapsed = elapsed / duration - 1) * elapsed) + initialValue;
}
exports.easeOutCirc = easeOutCirc;
function easeInOutCirc(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return -amountOfChange / 2 * (Math.sqrt(1 - elapsed * elapsed) - 1) + initialValue;
    }
    return amountOfChange / 2 * (Math.sqrt(1 - (elapsed -= 2) * elapsed) + 1) + initialValue;
}
exports.easeInOutCirc = easeInOutCirc;
function easeInElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return -(a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
}
exports.easeInElastic = easeInElastic;
function easeOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return a * Math.pow(2, -10 * elapsed) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) + amountOfChange + initialValue;
}
exports.easeOutElastic = easeOutElastic;
function easeInOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration / 2) === 2) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * (0.3 * 1.5);
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    if (elapsed < 1) {
        return -0.5 * (a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
    }
    return (a * Math.pow(2, -10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) * 0.5 + amountOfChange + initialValue);
}
exports.easeInOutElastic = easeInOutElastic;
function easeInBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * (elapsed /= duration) * elapsed * ((s + 1) * elapsed - s) + initialValue;
}
exports.easeInBack = easeInBack;
function easeOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * ((s + 1) * elapsed + s) + 1) + initialValue;
}
exports.easeOutBack = easeOutBack;
function easeInOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * (elapsed * elapsed * (((s *= 1.525) + 1) * elapsed - s)) + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * (((s *= 1.525) + 1) * elapsed + s) + 2) + initialValue;
}
exports.easeInOutBack = easeInOutBack;
function easeInBounce(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange - easeOutBounce(duration - elapsed, 0, amountOfChange, duration) + initialValue;
}
exports.easeInBounce = easeInBounce;
function easeOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration) < 1 / 2.75) {
        return amountOfChange * (7.5625 * elapsed * elapsed) + initialValue;
    }
    else if (elapsed < 2 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 1.5 / 2.75) * elapsed + 0.75) + initialValue;
    }
    else if (elapsed < 2.5 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 2.25 / 2.75) * elapsed + 0.9375) + initialValue;
    }
    else {
        return amountOfChange * (7.5625 * (elapsed -= 2.625 / 2.75) * elapsed + 0.984375) + initialValue;
    }
}
exports.easeOutBounce = easeOutBounce;
function easeInOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed < duration / 2) {
        return easeInBounce(elapsed * 2, 0, amountOfChange, duration) * 0.5 + initialValue;
    }
    return easeOutBounce(elapsed * 2 - duration, 0, amountOfChange, duration) * 0.5 + amountOfChange * 0.5 + initialValue;
}
exports.easeInOutBounce = easeInOutBounce;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxsaWJzXFxlYXNpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxTQUFnQixNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUU3QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNyQixDQUFDO0FBSEQsd0JBR0M7QUFFRCxTQUFnQixVQUFVLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUN6RyxPQUFPLGNBQWMsR0FBRyxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsWUFBWSxDQUFDO0FBQ3hFLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQy9FLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7S0FDN0Q7SUFDRCxPQUFPLENBQUMsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUM3RSxDQUFDO0FBTEQsc0NBS0M7QUFFRCxT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QUFDO0tBQ3BFO1NBQU0sSUFBSSxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRTtRQUM5QixPQUFPLGNBQWMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLE9BQU8sSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLFlBQVksQ0FBQztLQUMzRjtTQUFNLElBQUksT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUU7UUFDaEMsT0FBTyxjQUFjLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxZQUFZLENBQUM7S0FDOUY7U0FBTTtRQUNOLE9BQU8sY0FBYyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsT0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQ2pHO0FBQ0YsQ0FBQztBQVZELHNDQVVDO0FBRUQsU0FBZ0IsZUFBZSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDOUcsSUFBSSxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsRUFBRTtRQUMzQixPQUFPLFlBQVksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLFlBQVksQ0FBQztLQUNuRjtJQUNELE9BQU8sYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDO0FBQ3ZILENBQUM7QUFMRCwwQ0FLQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0LGIsYyxkKTpudW1iZXJcbntcblx0cmV0dXJuIGMgKiB0IC8gZCArIGIgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFkKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dFF1YWQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiAoZWxhcHNlZCAtIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVhZChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xuXHR9XG5cdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKC0tZWxhcHNlZCAqIChlbGFwc2VkIC0gMikgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkN1YmljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkICogZWxhcHNlZCArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0Q3ViaWMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFydChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dFF1YXJ0KGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAtIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluUXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIChlbGFwc2VkIC89IGR1cmF0aW9uKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKChlbGFwc2VkIC09IDIpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluU2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIC1hbW91bnRPZkNoYW5nZSAqIE1hdGguY29zKGVsYXBzZWQgLyBkdXJhdGlvbiAqIChNYXRoLlBJIC8gMikpICsgYW1vdW50T2ZDaGFuZ2UgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0U2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogTWF0aC5zaW4oZWxhcHNlZCAvIGR1cmF0aW9uICogKE1hdGguUEkgLyAyKSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRTaW5lKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogZWxhcHNlZCAvIGR1cmF0aW9uKSAtIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluRXhwbyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGVsYXBzZWQgPT09IDAgPyBpbml0aWFsVmFsdWUgOiBhbW91bnRPZkNoYW5nZSAqIE1hdGgucG93KDIsIDEwICogKGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRFeHBvKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gZWxhcHNlZCA9PT0gZHVyYXRpb25cblx0XHQ/IGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlXG5cdFx0OiBhbW91bnRPZkNoYW5nZSAqICgtTWF0aC5wb3coMiwgLTEwICogZWxhcHNlZCAvIGR1cmF0aW9uKSArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0RXhwbyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKGVsYXBzZWQgPT09IDApIHtcblx0XHRyZXR1cm4gaW5pdGlhbFZhbHVlO1xuXHR9XG5cdGlmIChlbGFwc2VkID09PSBkdXJhdGlvbikge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogTWF0aC5wb3coMiwgMTAgKiAoZWxhcHNlZCAtIDEpKSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLWVsYXBzZWQpICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5DaXJjKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKE1hdGguc3FydCgxIC0gKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCkgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRDaXJjKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiBNYXRoLnNxcnQoMSAtIChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dENpcmMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKE1hdGguc3FydCgxIC0gZWxhcHNlZCAqIGVsYXBzZWQpIC0gMSkgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIChNYXRoLnNxcnQoMSAtIChlbGFwc2VkIC09IDIpICogZWxhcHNlZCkgKyAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkVsYXN0aWMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGxldCBzID0gMS43MDE1ODtcblx0bGV0IHAgPSAwO1xuXHRsZXQgYSA9IGFtb3VudE9mQ2hhbmdlO1xuXHRpZiAoZWxhcHNlZCA9PT0gMCkge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWU7XG5cdH1cblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA9PT0gMSkge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoIXApIHtcblx0XHRwID0gZHVyYXRpb24gKiAwLjM7XG5cdH1cblx0aWYgKGEgPCBNYXRoLmFicyhhbW91bnRPZkNoYW5nZSkpIHtcblx0XHRhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdFx0cyA9IHAgLyA0O1xuXHR9IGVsc2Uge1xuXHRcdHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihhbW91bnRPZkNoYW5nZSAvIGEpO1xuXHR9XG5cdHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqIChlbGFwc2VkIC09IDEpKSAqIE1hdGguc2luKChlbGFwc2VkICogZHVyYXRpb24gLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0bGV0IHMgPSAxLjcwMTU4O1xuXHRsZXQgcCA9IDA7XG5cdGxldCBhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdGlmIChlbGFwc2VkID09PSAwKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24pID09PSAxKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlO1xuXHR9XG5cdGlmICghcCkge1xuXHRcdHAgPSBkdXJhdGlvbiAqIDAuMztcblx0fVxuXHRpZiAoYSA8IE1hdGguYWJzKGFtb3VudE9mQ2hhbmdlKSkge1xuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcblx0XHRzID0gcCAvIDQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XG5cdH1cblx0cmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiBlbGFwc2VkKSAqIE1hdGguc2luKChlbGFwc2VkICogZHVyYXRpb24gLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGFtb3VudE9mQ2hhbmdlICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0RWxhc3RpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0bGV0IHMgPSAxLjcwMTU4O1xuXHRsZXQgcCA9IDA7XG5cdGxldCBhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdGlmIChlbGFwc2VkID09PSAwKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA9PT0gMikge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoIXApIHtcblx0XHRwID0gZHVyYXRpb24gKiAoMC4zICogMS41KTtcblx0fVxuXHRpZiAoYSA8IE1hdGguYWJzKGFtb3VudE9mQ2hhbmdlKSkge1xuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcblx0XHRzID0gcCAvIDQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XG5cdH1cblx0aWYgKGVsYXBzZWQgPCAxKSB7XG5cdFx0cmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKGVsYXBzZWQgLT0gMSkpICogTWF0aC5zaW4oKGVsYXBzZWQgKiBkdXJhdGlvbiAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gKFxuXHRcdGEgKiBNYXRoLnBvdygyLCAtMTAgKiAoZWxhcHNlZCAtPSAxKSkgKiBNYXRoLnNpbigoZWxhcHNlZCAqIGR1cmF0aW9uIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBhbW91bnRPZkNoYW5nZSArIGluaXRpYWxWYWx1ZVxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluQmFjayhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBzOiBudW1iZXIgPSAxLjcwMTU4KTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCAqICgocyArIDEpICogZWxhcHNlZCAtIHMpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJhY2soZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgczogbnVtYmVyID0gMS43MDE1OCk6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqICgocyArIDEpICogZWxhcHNlZCArIHMpICsgMSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRCYWNrKFxuXHRlbGFwc2VkOiBudW1iZXIsXG5cdGluaXRpYWxWYWx1ZTogbnVtYmVyLFxuXHRhbW91bnRPZkNoYW5nZTogbnVtYmVyLFxuXHRkdXJhdGlvbjogbnVtYmVyLFxuXHRzOiBudW1iZXIgPSAxLjcwMTU4XG4pOiBudW1iZXIge1xuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKGVsYXBzZWQgKiBlbGFwc2VkICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIGVsYXBzZWQgLSBzKSkgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiAoKChzICo9IDEuNTI1KSArIDEpICogZWxhcHNlZCArIHMpICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAtIGVhc2VPdXRCb3VuY2UoZHVyYXRpb24gLSBlbGFwc2VkLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJvdW5jZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA8IDEgLyAyLjc1KSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKDcuNTYyNSAqIGVsYXBzZWQgKiBlbGFwc2VkKSArIGluaXRpYWxWYWx1ZTtcblx0fSBlbHNlIGlmIChlbGFwc2VkIDwgMiAvIDIuNzUpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMS41IC8gMi43NSkgKiBlbGFwc2VkICsgMC43NSkgKyBpbml0aWFsVmFsdWU7XG5cdH0gZWxzZSBpZiAoZWxhcHNlZCA8IDIuNSAvIDIuNzUpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMi4yNSAvIDIuNzUpICogZWxhcHNlZCArIDAuOTM3NSkgKyBpbml0aWFsVmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKDcuNTYyNSAqIChlbGFwc2VkIC09IDIuNjI1IC8gMi43NSkgKiBlbGFwc2VkICsgMC45ODQzNzUpICsgaW5pdGlhbFZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRCb3VuY2UoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmIChlbGFwc2VkIDwgZHVyYXRpb24gLyAyKSB7XG5cdFx0cmV0dXJuIGVhc2VJbkJvdW5jZShlbGFwc2VkICogMiwgMCwgYW1vdW50T2ZDaGFuZ2UsIGR1cmF0aW9uKSAqIDAuNSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gZWFzZU91dEJvdW5jZShlbGFwc2VkICogMiAtIGR1cmF0aW9uLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICogMC41ICsgYW1vdW50T2ZDaGFuZ2UgKiAwLjUgKyBpbml0aWFsVmFsdWU7XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudio.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ee8a8X6jFF5qtYOWlGoNww', 'ClickAudio');
// framework/plugin_boosts/misc/ClickAudio.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("../gamesys/Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudio = /** @class */ (function (_super) {
    __extends(ClickAudio, _super);
    function ClickAudio() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        _this._oldScale = 1;
        return _this;
        // update (dt) {}
    }
    ClickAudio.prototype.anim2 = function () {
        var act = cc.scaleBy(0.6, 0.9, 0.9).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.anim2back = function () {
        var act = cc.scaleTo(0.6, this._oldScale, this._oldScale).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.onLoad = function () {
        var _this = this;
        if (this.elastic) {
            var btn = this.getComponent(cc.Button);
            btn.transition = cc.Button.Transition.COLOR;
            btn.normalColor = cc.Color.WHITE;
            btn.pressedColor = new cc.Color(200, 200, 200);
            this._oldScale = this.node.scale;
        }
        this.node.on('touchstart', function (_) {
            //cc.EaseElasticOut:create(
            // this.node.stopAllActions();
            _this.elastic && _this.anim2();
        }, this.node);
        this.node.on("touchend", function (_) {
            Device_1.default.playEffect(_this.audio, false);
            _this.elastic && _this.anim2back();
        });
        this.node.on("touchcancel", function (_) {
            _this.elastic && _this.anim2back();
        });
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudio.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudio.prototype, "elastic", void 0);
    ClickAudio = __decorate([
        ccclass
    ], ClickAudio);
    return ClickAudio;
}(cc.Component));
exports.default = ClickAudio;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0Q0FBdUM7QUFFakMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFnREM7UUE3Q0csV0FBSyxHQUFpQixJQUFJLENBQUM7UUFHM0IsYUFBTyxHQUFXLEtBQUssQ0FBQztRQUV4QixlQUFTLEdBQVUsQ0FBQyxDQUFDOztRQXVDckIsaUJBQWlCO0lBQ3JCLENBQUM7SUF0Q0csMEJBQUssR0FBTDtRQUVJLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCw4QkFBUyxHQUFUO1FBRUksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsMkJBQU0sR0FBTjtRQUFBLGlCQXVCQztRQXRCRyxJQUFHLElBQUksQ0FBQyxPQUFPLEVBQ2Y7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN0QyxHQUFHLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUM1QyxHQUFHLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ2pDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNwQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxVQUFBLENBQUM7WUFDeEIsMkJBQTJCO1lBQzNCLDhCQUE4QjtZQUM5QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFDLFVBQUEsQ0FBQztZQUNyQixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFJLENBQUMsS0FBSyxFQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ25DLEtBQUksQ0FBQyxPQUFPLElBQUksS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFDLFVBQUEsQ0FBQztZQUN4QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUExQ0Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNKO0lBRzNCO1FBREMsUUFBUTsrQ0FDZTtJQU5QLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FnRDlCO0lBQUQsaUJBQUM7Q0FoREQsQUFnREMsQ0FoRHVDLEVBQUUsQ0FBQyxTQUFTLEdBZ0RuRDtrQkFoRG9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuLi9nYW1lc3lzL0RldmljZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrQXVkaW8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvIDpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZWxhc3RpYzpib29sZWFuID0gZmFsc2U7XG5cbiAgICBfb2xkU2NhbGU6bnVtYmVyID0gMTtcblxuICAgIGFuaW0yKClcbiAgICB7XG4gICAgICAgIGxldCBhY3QgPSBjYy5zY2FsZUJ5KDAuNiwgMC45LDAuOSkuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuMykpO1xuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdCk7XG4gICAgfVxuICAgIFxuICAgIGFuaW0yYmFjaygpXG4gICAge1xuICAgICAgICBsZXQgYWN0ID0gY2Muc2NhbGVUbygwLjYsIHRoaXMuX29sZFNjYWxlLHRoaXMuX29sZFNjYWxlKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC4zKSk7XG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0KTtcbiAgICB9XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBpZih0aGlzLmVsYXN0aWMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBidG4gPSB0aGlzLmdldENvbXBvbmVudChjYy5CdXR0b24pXG4gICAgICAgICAgICBidG4udHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLkNPTE9SO1xuICAgICAgICAgICAgYnRuLm5vcm1hbENvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgICAgICBidG4ucHJlc3NlZENvbG9yID0gbmV3IGNjLkNvbG9yKDIwMCwyMDAsMjAwKTtcbiAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlID0gdGhpcy5ub2RlLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5vZGUub24oJ3RvdWNoc3RhcnQnLCBfPT57XG4gICAgICAgICAgICAvL2NjLkVhc2VFbGFzdGljT3V0OmNyZWF0ZShcbiAgICAgICAgICAgIC8vIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5lbGFzdGljICYmIHRoaXMuYW5pbTIoKTtcbiAgICAgICAgfSwgdGhpcy5ub2RlKTtcblxuICAgICAgICB0aGlzLm5vZGUub24oXCJ0b3VjaGVuZFwiLF89PntcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KHRoaXMuYXVkaW8sZmFsc2UpXG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ub2RlLm9uKFwidG91Y2hjYW5jZWxcIixfPT57XG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/EventManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '334c9avVx5ILbx/6NU/H45V', 'EventManager');
// framework/plugin_boosts/utils/EventManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.event = void 0;
/**
* name
*/
var EventManager = /** @class */ (function () {
    function EventManager() {
        this._eventList = {};
    }
    EventManager.prototype.on = function (key, listen, target) {
        if (this._eventList[key] != null) {
            var array = this._eventList[key];
            array.push({ listen: listen, target: target });
        }
        else {
            var array = new Array();
            array.push({ listen: listen, target: target });
            this._eventList[key] = array;
        }
    };
    EventManager.prototype.off = function (key, listener, target) {
        if (listener != null && !(listener instanceof Function)) {
            target = listener;
            listener = null;
        }
        if (this._eventList[key] != null) {
            if (listener == null && target == null) {
                delete this._eventList[key];
            }
            else {
                var array = this._eventList[key];
                for (var i = array.length - 1; i >= 0; i--) {
                    if (listener != null && target != null) {
                        if (array[i].listen == listener && array[i].target == target) {
                            array.splice(i, 1);
                        }
                    }
                    else if (listener != null && array[i].listen == listener) {
                        array.splice(i, 1);
                    }
                    else if (target != null && array[i].target == target) {
                        array.splice(i, 1);
                    }
                }
            }
        }
    };
    EventManager.prototype.emit = function (tag) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var sendOk = false;
        if (this._eventList[tag] != null) {
            var array = this._eventList[tag];
            console.log("emit message: ", tag, array.length);
            for (var i = 0; i < array.length; i++) {
                var obj = array[i];
                if (obj.target != null) {
                    if (obj.listen.apply(obj.target, params))
                        sendOk = true;
                }
                else {
                    if (obj.listen.apply(this, params))
                        sendOk = true;
                }
            }
        }
        return sendOk;
    };
    return EventManager;
}());
exports.event = new EventManager();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcRXZlbnRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0VBRUU7QUFDRDtJQUlDO1FBQ0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVNLHlCQUFFLEdBQVQsVUFBVSxHQUFVLEVBQUUsTUFBZ0IsRUFBRSxNQUFXO1FBQ2xELElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUM1QzthQUFJO1lBQ0osSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQU8sQ0FBQztZQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM3QjtJQUNGLENBQUM7SUFFTSwwQkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLFFBQWEsRUFBRSxNQUFXO1FBQ2pELElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsUUFBUSxZQUFZLFFBQVEsQ0FBQyxFQUFDO1lBQzFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFDbEIsUUFBUSxHQUFHLElBQUksQ0FBQztTQUNuQjtRQUNWLElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUM7Z0JBQ3JDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM1QjtpQkFBSTtnQkFDSixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQyxLQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7b0JBQ3pDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxFQUFDO3dCQUNyQyxJQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDOzRCQUMzRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt5QkFDbkI7cUJBQ0Q7eUJBQUssSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxFQUFDO3dCQUN4RCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7eUJBQUssSUFBRyxNQUFNLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDO3dCQUNwRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7aUJBQ0Q7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUVNLDJCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQUUsZ0JBQWdCO2FBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtZQUFoQiwrQkFBZ0I7O1FBQ3hDLElBQUksTUFBTSxHQUFXLEtBQUssQ0FBQztRQUMzQixJQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUNwQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUcsR0FBRyxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUM7b0JBQ3JCLElBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7d0JBQ3RDLE1BQU0sR0FBRyxJQUFJLENBQUE7aUJBQ2Q7cUJBQ0c7b0JBQ0gsSUFBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDO3dCQUNoQyxNQUFNLEdBQUcsSUFBSSxDQUFBO2lCQUNkO2FBQ0Q7U0FDRDtRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2QsQ0FBQztJQUVGLG1CQUFDO0FBQUQsQ0FoRUEsQUFnRUMsSUFBQTtBQUVVLFFBQUEsS0FBSyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogbmFtZSBcbiovXG5cdGNsYXNzIEV2ZW50TWFuYWdlciB7XG5cblx0XHRwcml2YXRlIF9ldmVudExpc3Q6IHtba2V5OnN0cmluZ106QXJyYXk8e2xpc3RlbjpGdW5jdGlvbiwgdGFyZ2V0OiBhbnl9Pn07XG5cblx0XHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0XHR0aGlzLl9ldmVudExpc3QgPSB7fTtcblx0XHR9XG5cblx0XHRwdWJsaWMgb24oa2V5OnN0cmluZywgbGlzdGVuOiBGdW5jdGlvbiwgdGFyZ2V0Pzphbnkpe1xuXHRcdFx0aWYodGhpcy5fZXZlbnRMaXN0W2tleV0gIT0gbnVsbCl7XG5cdFx0XHRcdGxldCBhcnJheSA9IHRoaXMuX2V2ZW50TGlzdFtrZXldO1xuXHRcdFx0XHRhcnJheS5wdXNoKHtsaXN0ZW46IGxpc3RlbiwgdGFyZ2V0OnRhcmdldH0pO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGxldCBhcnJheSA9IG5ldyBBcnJheTxhbnk+KCk7XG5cdFx0XHRcdGFycmF5LnB1c2goe2xpc3RlbjpsaXN0ZW4sIHRhcmdldDp0YXJnZXR9KTtcblx0XHRcdFx0dGhpcy5fZXZlbnRMaXN0W2tleV0gPSBhcnJheTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRwdWJsaWMgb2ZmKGtleTogc3RyaW5nLCBsaXN0ZW5lcj86YW55LCB0YXJnZXQ/OmFueSl7XG5cdFx0XHRpZihsaXN0ZW5lciAhPSBudWxsICYmICEobGlzdGVuZXIgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGxpc3RlbmVyO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cblx0XHRcdGlmKHRoaXMuX2V2ZW50TGlzdFtrZXldICE9IG51bGwpe1xuXHRcdFx0XHRpZihsaXN0ZW5lciA9PSBudWxsICYmIHRhcmdldCA9PSBudWxsKXtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRMaXN0W2tleV07XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGxldCBhcnJheSA9IHRoaXMuX2V2ZW50TGlzdFtrZXldO1xuXHRcdFx0XHRcdGZvcihsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0XHRcdGlmKGxpc3RlbmVyICE9IG51bGwgJiYgdGFyZ2V0ICE9IG51bGwpe1xuXHRcdFx0XHRcdFx0XHRpZihhcnJheVtpXS5saXN0ZW4gPT0gbGlzdGVuZXIgJiYgYXJyYXlbaV0udGFyZ2V0ID09IHRhcmdldCl7XG5cdFx0XHRcdFx0XHRcdFx0YXJyYXkuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ZWxzZSBpZihsaXN0ZW5lciAhPSBudWxsICYmIGFycmF5W2ldLmxpc3RlbiA9PSBsaXN0ZW5lcil7XG5cdFx0XHRcdFx0XHRcdGFycmF5LnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmKHRhcmdldCAhPSBudWxsICYmIGFycmF5W2ldLnRhcmdldCA9PSB0YXJnZXQpe1xuXHRcdFx0XHRcdFx0XHRhcnJheS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHVibGljIGVtaXQodGFnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pe1xuXHRcdFx0bGV0IHNlbmRPazpib29sZWFuID0gZmFsc2U7XG5cdFx0XHRpZih0aGlzLl9ldmVudExpc3RbdGFnXSAhPSBudWxsKXtcblx0XHRcdFx0bGV0IGFycmF5ID0gdGhpcy5fZXZlbnRMaXN0W3RhZ107XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZW1pdCBtZXNzYWdlOiBcIiAsdGFnLCBhcnJheS5sZW5ndGgpO1xuXHRcdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdGxldCBvYmogPSBhcnJheVtpXTtcblx0XHRcdFx0XHRpZihvYmoudGFyZ2V0ICE9IG51bGwpe1xuXHRcdFx0XHRcdFx0aWYob2JqLmxpc3Rlbi5hcHBseShvYmoudGFyZ2V0LCBwYXJhbXMpKVxuXHRcdFx0XHRcdFx0XHRzZW5kT2sgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2V7XG5cdFx0XHRcdFx0XHRpZihvYmoubGlzdGVuLmFwcGx5KHRoaXMsIHBhcmFtcykpXG5cdFx0XHRcdFx0XHRcdHNlbmRPayA9IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBzZW5kT2sgXG5cdFx0fVxuXG5cdH1cblxuXHRleHBvcnQgdmFyIGV2ZW50ID0gbmV3IEV2ZW50TWFuYWdlcigpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageHandler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'af7b1a7LUJIBaVXazyQWhWN', 'MessageHandler');
// framework/network/MessageHandler.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageHandler = void 0;
var Message_1 = require("./Message");
var MessageType_1 = require("./MessageType");
var MessageDispatch_1 = require("./MessageDispatch");
var MessageHandler = /** @class */ (function () {
    function MessageHandler(webSocket) {
        this._writeMessage = null;
        this._messages = null;
        this._messages = [];
        this._heartbeatTime = 0;
        this._writeMessage = [];
        this._webSocket = webSocket;
        this.setHeartbeatInterval(30); //30秒
        this._isEnableHeartbeat = false;
    }
    Object.defineProperty(MessageHandler.prototype, "enableHeartbeat", {
        get: function () {
            return this._isEnableHeartbeat;
        },
        set: function (flag) {
            this._isEnableHeartbeat = flag;
        },
        enumerable: false,
        configurable: true
    });
    MessageHandler.prototype.setHeartbeatInterval = function (time) {
        if (time <= 0)
            time = 1;
        this._heartbeatInterval = time * 1000;
    };
    MessageHandler.prototype.onUpdate = function (timeStamp) {
        if (this._writeMessage.length > 0) {
            var msg = this._writeMessage[0];
            var message = msg.pack();
            if (this._webSocket.readyState == WebSocket.OPEN) {
                console.log("size: " + message.byteLength);
                this._webSocket.send(message);
                this._writeMessage.shift();
            }
        }
        if (this._messages.length > 0) {
            var msg = this._messages.shift();
            this.dispatchMessage(msg);
        }
        if (this._isEnableHeartbeat)
            this.checkHeartbeat();
        return false;
    };
    MessageHandler.prototype.checkHeartbeat = function () {
        var diff = new Date().getTime() - this._heartbeatTime;
        if (diff >= this._heartbeatInterval) {
            this.sendMessage(new Message_1.Message(game.Command.Heartbeat));
            this._heartbeatTime = new Date().getTime();
        }
    };
    MessageHandler.prototype.dispatchMessage = function (msg) {
        var dispatch = MessageDispatch_1.MessageDispatch.getInstance();
        if (!dispatch.onMessage(msg)) {
            this._messages.push(msg);
        }
    };
    MessageHandler.prototype.dispatchSocket = function (type) {
        var obj = { type: type };
        this.dispatchMessage(obj);
    };
    MessageHandler.prototype.dispatch = function (type, msg) {
        var _this = this;
        if (type == MessageType_1.SocketTag.KSOCKET_OPEN) {
            // cc.director.getScheduler().unschedule(this.onUpdate,this)
            // cc.director.getScheduler().schedule(this.onUpdate,this,0);
            clearInterval(this.updateTimer);
            this.updateTimer = setInterval(function (dt) { return _this.onUpdate(dt); }, 1000 / 60);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_CLOSE) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_ERROR) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var obj = { type: type, msg: msg };
            this.dispatchMessage(obj);
        }
    };
    MessageHandler.prototype.clearWriteMessage = function () {
        this._writeMessage = [];
    };
    MessageHandler.prototype.clearMessage = function () {
        this._messages = [];
    };
    MessageHandler.prototype.sendMessage = function (msg) {
        this._writeMessage.push(msg);
    };
    return MessageHandler;
}());
exports.MessageHandler = MessageHandler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlSGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFDQUFvQztBQUNwQyw2Q0FBdUM7QUFDdkMscURBQWlEO0FBQ2pEO0lBUUMsd0JBQW1CLFNBQWM7UUFOekIsa0JBQWEsR0FBYyxJQUFJLENBQUM7UUFDaEMsY0FBUyxHQUFVLElBQUksQ0FBQztRQU0vQixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQSxLQUFLO1FBQ25DLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7SUFDakMsQ0FBQztJQUVELHNCQUFXLDJDQUFlO2FBSTFCO1lBQ0MsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDaEMsQ0FBQzthQU5ELFVBQTJCLElBQWE7WUFDdkMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztRQUNoQyxDQUFDOzs7T0FBQTtJQU1NLDZDQUFvQixHQUEzQixVQUE0QixJQUFZO1FBQ3ZDLElBQUcsSUFBSSxJQUFJLENBQUM7WUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFTyxpQ0FBUSxHQUFoQixVQUFpQixTQUFpQjtRQUNqQyxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztZQUNoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksT0FB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QUFHLEVBQUUsR0FBRyxFQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMxQjtJQUNGLENBQUM7SUFFTSwwQ0FBaUIsR0FBeEI7UUFDQyxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0scUNBQVksR0FBbkI7UUFDQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWTtRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQ0YscUJBQUM7QUFBRCxDQW5HQSxBQW1HQyxJQUFBO0FBbkdZLHdDQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuL01lc3NhZ2VcIjtcbmltcG9ydCB7U29ja2V0VGFnfSBmcm9tIFwiLi9NZXNzYWdlVHlwZVwiXG5pbXBvcnQge01lc3NhZ2VEaXNwYXRjaH0gZnJvbSBcIi4vTWVzc2FnZURpc3BhdGNoXCJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlSGFuZGxlciB7XG5cdHByaXZhdGUgX3dlYlNvY2tldDogV2ViU29ja2V0O1xuXHRwcml2YXRlIF93cml0ZU1lc3NhZ2U6IE1lc3NhZ2VbXSA9IG51bGw7XG5cdHByaXZhdGUgX21lc3NhZ2VzOiBhbnlbXSA9IG51bGw7XG5cdHByaXZhdGUgX2hlYXJ0YmVhdEludGVydmFsOiBudW1iZXI7XG5cdHByaXZhdGUgX2hlYXJ0YmVhdFRpbWU6IG51bWJlcjtcblx0cHJpdmF0ZSBfaXNFbmFibGVIZWFydGJlYXQ6IGJvb2xlYW47XG5cdHByaXZhdGUgdXBkYXRlVGltZXI6bnVtYmVyO1xuXHRwdWJsaWMgY29uc3RydWN0b3Iod2ViU29ja2V0OiBhbnkpe1xuXHRcdHRoaXMuX21lc3NhZ2VzID0gW107XG5cdFx0dGhpcy5faGVhcnRiZWF0VGltZSA9IDA7XG5cdFx0dGhpcy5fd3JpdGVNZXNzYWdlID0gW107XG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gd2ViU29ja2V0O1xuXHRcdHRoaXMuc2V0SGVhcnRiZWF0SW50ZXJ2YWwoMzApOy8vMzDnp5Jcblx0XHR0aGlzLl9pc0VuYWJsZUhlYXJ0YmVhdCA9IGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHNldCBlbmFibGVIZWFydGJlYXQoZmxhZzogYm9vbGVhbil7XG5cdFx0dGhpcy5faXNFbmFibGVIZWFydGJlYXQgPSBmbGFnO1xuXHR9XG5cblx0cHVibGljIGdldCBlbmFibGVIZWFydGJlYXQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzRW5hYmxlSGVhcnRiZWF0O1xuXHR9XG5cblx0cHVibGljIHNldEhlYXJ0YmVhdEludGVydmFsKHRpbWU6IG51bWJlcil7Ly/np5Jcblx0XHRpZih0aW1lIDw9IDApIHRpbWUgPSAxO1xuXHRcdHRoaXMuX2hlYXJ0YmVhdEludGVydmFsID0gdGltZSAqIDEwMDA7XG5cdH1cblxuXHRwcml2YXRlIG9uVXBkYXRlKHRpbWVTdGFtcDogbnVtYmVyKTogYm9vbGVhbntcblx0XHRpZih0aGlzLl93cml0ZU1lc3NhZ2UubGVuZ3RoID4gMCl7XG5cdFx0XHRsZXQgbXNnID0gdGhpcy5fd3JpdGVNZXNzYWdlWzBdO1xuXHRcdFx0bGV0IG1lc3NhZ2UgPSBtc2cucGFjaygpO1xuXHRcdFx0aWYodGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0Lk9QRU4pe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcInNpemU6IFwiICsgbWVzc2FnZS5ieXRlTGVuZ3RoKTtcblx0XHRcdFx0dGhpcy5fd2ViU29ja2V0LnNlbmQobWVzc2FnZSk7XG5cdFx0XHRcdHRoaXMuX3dyaXRlTWVzc2FnZS5zaGlmdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZih0aGlzLl9tZXNzYWdlcy5sZW5ndGggPiAwKXtcblx0XHRcdGxldCBtc2cgPSB0aGlzLl9tZXNzYWdlcy5zaGlmdCgpO1xuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2UobXNnKTtcblx0XHR9XG5cdFx0aWYodGhpcy5faXNFbmFibGVIZWFydGJlYXQpXG5cdFx0XHR0aGlzLmNoZWNrSGVhcnRiZWF0KCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHJpdmF0ZSBjaGVja0hlYXJ0YmVhdCgpe1xuXHRcdGxldCBkaWZmID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9oZWFydGJlYXRUaW1lO1xuXHRcdGlmKCBkaWZmID49IHRoaXMuX2hlYXJ0YmVhdEludGVydmFsKXtcblx0XHRcdHRoaXMuc2VuZE1lc3NhZ2UobmV3IE1lc3NhZ2UoZ2FtZS5Db21tYW5kLkhlYXJ0YmVhdCkpO1xuXHRcdFx0dGhpcy5faGVhcnRiZWF0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBkaXNwYXRjaE1lc3NhZ2UobXNnOiBhbnkpe1xuXHRcdGxldCBkaXNwYXRjaCA9IE1lc3NhZ2VEaXNwYXRjaC5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmKCFkaXNwYXRjaC5vbk1lc3NhZ2UobXNnKSkge1xuXHRcdFx0dGhpcy5fbWVzc2FnZXMucHVzaChtc2cpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZGlzcGF0Y2hTb2NrZXQodHlwZTogU29ja2V0VGFnKXtcblx0XHRsZXQgb2JqID0ge3R5cGU6IHR5cGV9O1xuXHRcdHRoaXMuZGlzcGF0Y2hNZXNzYWdlKG9iaik7XG5cdH1cblxuXHRwdWJsaWMgZGlzcGF0Y2godHlwZTogU29ja2V0VGFnLCBtc2c6IGFueSl7XG5cdFx0aWYodHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9PUEVOKXtcblx0XHRcdC8vIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGUodGhpcy5vblVwZGF0ZSx0aGlzKVxuXHRcdFx0Ly8gY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUodGhpcy5vblVwZGF0ZSx0aGlzLDApO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWVyKTtcblx0XHRcdHRoaXMudXBkYXRlVGltZXIgPSBzZXRJbnRlcnZhbChkdD0+dGhpcy5vblVwZGF0ZShkdCksIDEwMDAvNjApO1xuXHRcdFx0dGhpcy5kaXNwYXRjaFNvY2tldCh0eXBlKTtcblx0XHR9ZWxzZSBpZih0eXBlID09IFNvY2tldFRhZy5LU09DS0VUX0NMT1NFKXtcblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lcik7XG5cdFx0XHR0aGlzLmRpc3BhdGNoU29ja2V0KHR5cGUpO1xuXHRcdH1lbHNlIGlmKHR5cGUgPT0gU29ja2V0VGFnLktTT0NLRVRfRVJST1Ipe1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWVyKTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hTb2NrZXQodHlwZSk7XG5cdFx0fWVsc2UgaWYodHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9NRVNTQUdFKXtcblx0XHRcdGxldCBvYmogPSB7dHlwZTogdHlwZSwgbXNnOiBtc2d9O1xuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2Uob2JqKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2xlYXJXcml0ZU1lc3NhZ2UoKXtcblx0XHR0aGlzLl93cml0ZU1lc3NhZ2UgPSBbXTtcblx0fVxuXG5cdHB1YmxpYyBjbGVhck1lc3NhZ2UoKXtcblx0XHR0aGlzLl9tZXNzYWdlcyA9IFtdO1xuXHR9XG5cblx0cHVibGljIHNlbmRNZXNzYWdlKG1zZzogTWVzc2FnZSl7XG5cdFx0dGhpcy5fd3JpdGVNZXNzYWdlLnB1c2gobXNnKTtcblx0fVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9f654W7umlMeasjS7fKQj29', 'MessageType');
// framework/network/MessageType.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.SocketTag = void 0;
/**
* name
*/
var SocketTag;
(function (SocketTag) {
    SocketTag[SocketTag["KSOCKET_OPEN"] = 0] = "KSOCKET_OPEN";
    SocketTag[SocketTag["KSOCKET_CLOSE"] = 1] = "KSOCKET_CLOSE";
    SocketTag[SocketTag["KSOCKET_MESSAGE"] = 2] = "KSOCKET_MESSAGE";
    SocketTag[SocketTag["KSOCKET_ERROR"] = 3] = "KSOCKET_ERROR";
})(SocketTag = exports.SocketTag || (exports.SocketTag = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlVHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztFQUVFO0FBQ0QsSUFBWSxTQUtYO0FBTEQsV0FBWSxTQUFTO0lBQ3BCLHlEQUFZLENBQUE7SUFDWiwyREFBYSxDQUFBO0lBQ2IsK0RBQWUsQ0FBQTtJQUNmLDJEQUFhLENBQUE7QUFDZCxDQUFDLEVBTFcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFLcEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogbmFtZSBcbiovXG5cdGV4cG9ydCBlbnVtIFNvY2tldFRhZyB7XG5cdFx0S1NPQ0tFVF9PUEVOLFxuXHRcdEtTT0NLRVRfQ0xPU0UsXG5cdFx0S1NPQ0tFVF9NRVNTQUdFLFxuXHRcdEtTT0NLRVRfRVJST1IsXG5cdH1cdCJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dde8btrP25FeqHeKW+G4Pfb', 'MessageBase');
// framework/network/MessageBase.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBase = void 0;
var MessageType_1 = require("./MessageType");
var Message_1 = require("./Message");
var ConnectManager_1 = require("./ConnectManager");
var MessageBase = /** @class */ (function () {
    function MessageBase() {
        this.Cmd = {};
        this.Error = {};
        this._allFuncs = {};
        for (var i in game.Command) {
            var v = game.Command[i];
            this.Cmd[v] = i;
        }
        for (var i in game.ErrorCode) {
            var v = game.ErrorCode[i];
            this.Error[v] = i;
        }
    }
    MessageBase.prototype.useSocketKey = function (key) {
        this._socketKey = key;
    };
    MessageBase.prototype.addListener = function (cmd, func) {
        this._allFuncs[cmd] = func;
    };
    MessageBase.prototype.removeListener = function (cmd) {
        if (this._allFuncs[cmd] != null) {
            this._allFuncs[cmd] = null;
        }
    };
    MessageBase.prototype.onMessage = function (obj) {
        if (obj.type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var int8a = new Uint8Array(obj.msg);
            var buffer = new flatbuffers.ByteBuffer(int8a);
            var msg = game.Package.getRootAsPackage(buffer);
            if (this._allFuncs[msg.cmd()] != null) {
                return this._allFuncs[msg.cmd()].call(this, msg);
            }
            else
                return this.onHandler(msg);
        }
        else {
            this.onSocket(obj.type);
            return true;
        }
    };
    /**
     * 处理socket消息
     * @param type
     */
    MessageBase.prototype.onSocket = function (type) {
    };
    /**
     * 重写消息处理函数
     * return 消息处理结果，处理完成返回真，否则返回假(消息会入消息队列，等待下次处理)
     */
    MessageBase.prototype.onHandler = function (msg) {
        return false;
    };
    MessageBase.prototype.sendMessage = function (msg) {
        ConnectManager_1.connManager.sendMessage(msg, this._socketKey);
    };
    MessageBase.prototype.onDestory = function () {
        this._allFuncs = null;
    };
    MessageBase.prototype.send = function (cmd, cmdstr, procedure, build) {
        if (cmdstr === void 0) { cmdstr = ""; }
        if (procedure === void 0) { procedure = null; }
        if (build === void 0) { build = null; }
        console.log("Send Message : [" + this.Cmd[cmd] + "]");
        var socket = ConnectManager_1.connManager.getDefault();
        var msg = new Message_1.Message(cmd);
        var ds = game[cmdstr];
        if (ds != null) {
            if (build == null) {
                build = this.createBuilder();
            }
            var startFunc = ds["start" + cmdstr];
            var endFunc = ds["end" + cmdstr];
            startFunc.call(ds, build);
            if (procedure) {
                procedure(build);
                //game[cmd].addTaskId(build,task_id);
            }
            build.finish(endFunc.call(ds, build));
            msg.addBuilder(build);
        }
        else {
            msg.addString(cmdstr);
        }
        socket.sendMessage(msg);
    };
    MessageBase.prototype.createBuilder = function () {
        return new flatbuffers.Builder();
    };
    return MessageBase;
}());
exports.MessageBase = MessageBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlQmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF1QztBQUN2QyxxQ0FBaUM7QUFDakMsbURBQStDO0FBQy9DO0lBT0M7UUFGQSxRQUFHLEdBQUksRUFBRSxDQUFBO1FBQ1QsVUFBSyxHQUFHLEVBQUUsQ0FBQTtRQUVULElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBRXBCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFDcEI7WUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUN0QjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0I7SUFFRixDQUFDO0lBRU0sa0NBQVksR0FBbkIsVUFBb0IsR0FBVztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztJQUN2QixDQUFDO0lBRU0saUNBQVcsR0FBbEIsVUFBbUIsR0FBUSxFQUFFLElBQWM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLG9DQUFjLEdBQXJCLFVBQXNCLEdBQVE7UUFDN0IsSUFBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBQztZQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztTQUMzQjtJQUNGLENBQUM7SUFF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YSxHQUFiO1FBRUksT0FBTyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQTdHQSxBQTZHQyxJQUFBO0FBN0dZLGtDQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSBcIi4vTWVzc2FnZVwiXG5pbXBvcnQgeyBjb25uTWFuYWdlciB9IGZyb20gXCIuL0Nvbm5lY3RNYW5hZ2VyXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZUJhc2Uge1xuXG5cdHByaXZhdGUgX3NvY2tldEtleTogc3RyaW5nO1xuXHRwcml2YXRlIF9hbGxGdW5jczoge1tjbWQ6IG51bWJlcl06IEZ1bmN0aW9ufTtcblxuXHRDbWQgID0ge31cblx0RXJyb3IgPSB7fVxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5fYWxsRnVuY3MgPSB7fTtcblxuXHRcdGZvciAodmFyIGkgaW4gZ2FtZS5Db21tYW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IGdhbWUuQ29tbWFuZFtpXVxuICAgICAgICAgICAgdGhpcy5DbWRbdl0gPSBpO1xuXHRcdH1cblx0XHRmb3IgKHZhciBpIGluIGdhbWUuRXJyb3JDb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IGdhbWUuRXJyb3JDb2RlW2ldXG4gICAgICAgICAgICB0aGlzLkVycm9yW3ZdID0gaTtcblx0XHR9XG5cdFx0XG5cdH1cblxuXHRwdWJsaWMgdXNlU29ja2V0S2V5KGtleTogc3RyaW5nKXtcblx0XHR0aGlzLl9zb2NrZXRLZXkgPSBrZXk7XG5cdH1cblxuXHRwdWJsaWMgYWRkTGlzdGVuZXIoY21kOiBhbnksIGZ1bmM6IEZ1bmN0aW9uKXtcblx0XHR0aGlzLl9hbGxGdW5jc1tjbWRdID0gZnVuYztcblx0fVxuXG5cdHB1YmxpYyByZW1vdmVMaXN0ZW5lcihjbWQ6IGFueSl7XG5cdFx0aWYodGhpcy5fYWxsRnVuY3NbY21kXSAhPSBudWxsKXtcblx0XHRcdHRoaXMuX2FsbEZ1bmNzW2NtZF0gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBvbk1lc3NhZ2Uob2JqOiBhbnkpe1xuXHRcdGlmKG9iai50eXBlID09IFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0Upe1xuXHRcdFx0bGV0IGludDhhID0gbmV3IFVpbnQ4QXJyYXkob2JqLm1zZyk7XG5cdFx0XHRsZXQgYnVmZmVyID0gbmV3IGZsYXRidWZmZXJzLkJ5dGVCdWZmZXIoaW50OGEpO1xuXHRcdFx0bGV0IG1zZzphbnkgPSBnYW1lLlBhY2thZ2UuZ2V0Um9vdEFzUGFja2FnZShidWZmZXIpO1xuXHRcdFx0aWYodGhpcy5fYWxsRnVuY3NbbXNnLmNtZCgpXSAhPSBudWxsKXtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2FsbEZ1bmNzW21zZy5jbWQoKV0uY2FsbCh0aGlzLCBtc2cpO1xuXHRcdFx0fWVsc2UgcmV0dXJuIHRoaXMub25IYW5kbGVyKG1zZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub25Tb2NrZXQob2JqLnR5cGUpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIOWkhOeQhnNvY2tldOa2iOaBr1xuXHQgKiBAcGFyYW0gdHlwZSBcblx0ICovXG5cdHB1YmxpYyBvblNvY2tldCh0eXBlOiBTb2NrZXRUYWcpe1xuXG5cdH1cblx0XG5cdC8qKlxuXHQgKiDph43lhpnmtojmga/lpITnkIblh73mlbBcblx0ICogcmV0dXJuIOa2iOaBr+WkhOeQhue7k+aenO+8jOWkhOeQhuWujOaIkOi/lOWbnuecn++8jOWQpuWImei/lOWbnuWBhyjmtojmga/kvJrlhaXmtojmga/pmJ/liJfvvIznrYnlvoXkuIvmrKHlpITnkIYpXG5cdCAqL1xuXHRwdWJsaWMgb25IYW5kbGVyKG1zZzogZ2FtZS5QYWNrYWdlKXtcblx0XHRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlKXtcblx0XHRjb25uTWFuYWdlci5zZW5kTWVzc2FnZShtc2csIHRoaXMuX3NvY2tldEtleSk7XG5cdH1cblxuXHRwdWJsaWMgb25EZXN0b3J5KCl7XG5cdFx0dGhpcy5fYWxsRnVuY3MgPSBudWxsO1xuXHR9XG5cblx0c2VuZChjbWQsY21kc3RyPVwiXCIscHJvY2VkdXJlPW51bGwsYnVpbGQgPSBudWxsKVxuXHR7XG5cdFx0Y29uc29sZS5sb2coXCJTZW5kIE1lc3NhZ2UgOiBbXCIgKyB0aGlzLkNtZFtjbWRdICtcIl1cIilcbiAgICAgICAgbGV0IHNvY2tldCA9IGNvbm5NYW5hZ2VyLmdldERlZmF1bHQoKTtcblx0XHRsZXQgbXNnID0gbmV3IE1lc3NhZ2UoY21kKTtcblx0XHRsZXQgZHMgPSBnYW1lW2NtZHN0cl0gXG4gICAgICAgIGlmKGRzICE9IG51bGwpXG4gICAgICAgIHtcblx0XHRcdGlmKGJ1aWxkID09IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGJ1aWxkID0gdGhpcy5jcmVhdGVCdWlsZGVyKCk7XG5cdFx0XHR9XG4gICAgICAgICAgICBsZXQgc3RhcnRGdW5jID0gZHNbXCJzdGFydFwiICsgY21kc3RyXSBcblx0XHRcdGxldCBlbmRGdW5jID0gZHNbXCJlbmRcIiArIGNtZHN0cl0gXG5cdFx0XHRzdGFydEZ1bmMuY2FsbChkcywgYnVpbGQpO1xuICAgICAgICAgICAgaWYocHJvY2VkdXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb2NlZHVyZShidWlsZClcbiAgICAgICAgICAgICAgICAvL2dhbWVbY21kXS5hZGRUYXNrSWQoYnVpbGQsdGFza19pZCk7XG4gICAgICAgICAgICB9XG5cdFx0XHRidWlsZC5maW5pc2goZW5kRnVuYy5jYWxsKGRzLGJ1aWxkKSlcblx0XHRcdG1zZy5hZGRCdWlsZGVyKGJ1aWxkKTtcblx0XHR9ZWxzZXtcblx0XHRcdG1zZy5hZGRTdHJpbmcoY21kc3RyKTtcblx0XHR9XG4gICAgICAgIHNvY2tldC5zZW5kTWVzc2FnZShtc2cpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJ1aWxkZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmbGF0YnVmZmVycy5CdWlsZGVyKCk7XG4gICAgfVxuXHRcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Message.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fb4e0zpbzJB4YN77Kns7y3M', 'Message');
// framework/network/Message.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Message = void 0;
var Message = /** @class */ (function () {
    function Message(cmd) {
        this._cmd = cmd;
        this._data = null;
    }
    Message.prototype.addBuilder = function (data) {
        this._data = data.asUint8Array();
    };
    Message.prototype.addString = function (data) {
        this._data = data;
    };
    Message.prototype.pack = function () {
        var build = this.toString();
        var buf = build.asUint8Array();
        var newBuf = new Uint8Array(buf);
        console.log("send message: " + newBuf);
        return newBuf.buffer;
    };
    Message.prototype.toString = function () {
        var build = new flatbuffers.Builder();
        var data = null;
        if (this._data != null)
            data = build.createString(this._data);
        game.Package.startPackage(build);
        game.Package.addCmd(build, this._cmd);
        if (this._data != null)
            game.Package.addData(build, data);
        var pack = game.Package.endPackage(build);
        build.finish(pack);
        return build;
    };
    return Message;
}());
exports.Message = Message;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFLQyxpQkFBbUIsR0FBUTtRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0lBRU0sNEJBQVUsR0FBakIsVUFBa0IsSUFBeUI7UUFDMUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVNLDJCQUFTLEdBQWhCLFVBQWlCLElBQVk7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVNLHNCQUFJLEdBQVg7UUFDQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQy9CLElBQUksTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDdkMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTywwQkFBUSxHQUFoQjtRQUNDLElBQUksS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFDRixjQUFDO0FBQUQsQ0F2Q0EsQUF1Q0MsSUFBQTtBQXZDWSwwQkFBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIE1lc3NhZ2Uge1xuXG5cdHByaXZhdGUgX2NtZDogYW55O1xuXHRwcml2YXRlIF9kYXRhOiBhbnk7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGNtZDogYW55KSB7XG5cdFx0dGhpcy5fY21kID0gY21kO1xuXHRcdHRoaXMuX2RhdGEgPSBudWxsO1xuXHR9XG5cblx0cHVibGljIGFkZEJ1aWxkZXIoZGF0YTogZmxhdGJ1ZmZlcnMuQnVpbGRlcikge1xuXHRcdHRoaXMuX2RhdGEgPSBkYXRhLmFzVWludDhBcnJheSgpO1xuXHR9XG5cblx0cHVibGljIGFkZFN0cmluZyhkYXRhOiBTdHJpbmcpIHtcblx0XHR0aGlzLl9kYXRhID0gZGF0YTtcblx0fVxuXG5cdHB1YmxpYyBwYWNrKCk6IEFycmF5QnVmZmVyIHtcblx0XHRsZXQgYnVpbGQgPSB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0bGV0IGJ1ZiA9IGJ1aWxkLmFzVWludDhBcnJheSgpO1xuXHRcdGxldCBuZXdCdWYgPSBuZXcgVWludDhBcnJheShidWYpO1xuXHRcdGNvbnNvbGUubG9nKFwic2VuZCBtZXNzYWdlOiBcIiArIG5ld0J1Zik7XG5cdFx0cmV0dXJuIG5ld0J1Zi5idWZmZXI7XG5cdH1cblxuXHRwcml2YXRlIHRvU3RyaW5nKCk6IGZsYXRidWZmZXJzLkJ1aWxkZXIge1xuXHRcdGxldCBidWlsZCA9IG5ldyBmbGF0YnVmZmVycy5CdWlsZGVyKCk7XG5cdFx0bGV0IGRhdGEgPSBudWxsO1xuXHRcdGlmKHRoaXMuX2RhdGEgIT0gbnVsbCkgXG5cdFx0XHRkYXRhID0gYnVpbGQuY3JlYXRlU3RyaW5nKHRoaXMuX2RhdGEpO1xuXHRcdGdhbWUuUGFja2FnZS5zdGFydFBhY2thZ2UoYnVpbGQpO1xuXHRcdGdhbWUuUGFja2FnZS5hZGRDbWQoYnVpbGQsIHRoaXMuX2NtZCk7XG5cdFx0aWYodGhpcy5fZGF0YSAhPSBudWxsKVxuXHRcdFx0Z2FtZS5QYWNrYWdlLmFkZERhdGEoYnVpbGQsIGRhdGEpO1xuXHRcdGxldCBwYWNrID0gZ2FtZS5QYWNrYWdlLmVuZFBhY2thZ2UoYnVpbGQpO1xuXHRcdGJ1aWxkLmZpbmlzaChwYWNrKTtcblx0XHRyZXR1cm4gYnVpbGQ7XG5cdH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/ConnectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ac5faec2blDKJorwXTfZFZx', 'ConnectManager');
// framework/network/ConnectManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.connManager = void 0;
var Socket_1 = require("./Socket");
var ConnectManager = /** @class */ (function () {
    function ConnectManager() {
        this._allConns = null;
        this._allConns = {};
    }
    ConnectManager.getInstance = function () {
        if (this._instance == null) {
            this._instance = new ConnectManager();
        }
        return this._instance;
    };
    ConnectManager.prototype.create = function (name, conf) {
        if (this._allConns[name] == null) {
            var socket = new Socket_1.Socket(conf);
            this._allConns[name] = socket;
            if (this._defaultKey == null)
                this._defaultKey = name;
        }
    };
    ConnectManager.prototype.setDefaultKey = function (key) {
        if (key != null && this._allConns[key]) {
            this._defaultKey = key;
        }
    };
    ConnectManager.prototype.getDefault = function () {
        return this.getConn(this._defaultKey);
    };
    ConnectManager.prototype.getConn = function (name) {
        if (name == null)
            return null;
        if (this._allConns[name] != null) {
            return this._allConns[name];
        }
        return null;
    };
    ConnectManager.prototype.sendMessage = function (msg, name) {
        if (name == null)
            name = this._defaultKey;
        var conn = this.getConn(name);
        if (conn != null) {
            conn.sendMessage(msg);
        }
    };
    ConnectManager.prototype.enableHeartbeat = function (name) {
        var conn = this.getConn(name);
        conn.enableHeartbeat(true);
    };
    ConnectManager.prototype.sendCustomMessage = function (msg) {
        var conn = this.getConn(this._defaultKey);
        if (conn != null)
            conn.sendCustomMessage(msg);
    };
    ConnectManager.prototype.remove = function (name) {
        var conn = this.getConn(name);
        if (conn != null) {
            delete this._allConns[name];
            conn.close();
        }
    };
    ConnectManager._instance = null;
    return ConnectManager;
}());
exports.connManager = ConnectManager.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxDb25uZWN0TWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFrQztBQUlsQztJQWFDO1FBRlEsY0FBUyxHQUE2QixJQUFJLENBQUM7UUFHbEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQVphLDBCQUFXLEdBQXpCO1FBQ0MsSUFBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFBQztZQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7U0FDdEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdkIsQ0FBQztJQVNNLCtCQUFNLEdBQWIsVUFBYyxJQUFZLEVBQUUsSUFBUztRQUNwQyxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksTUFBTSxHQUFHLElBQUksZUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQzlCLElBQUcsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJO2dCQUMxQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUN6QjtJQUNGLENBQUM7SUFFTSxzQ0FBYSxHQUFwQixVQUFxQixHQUFXO1FBQy9CLElBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1NBQ3ZCO0lBQ0YsQ0FBQztJQUVNLG1DQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRU0sZ0NBQU8sR0FBZCxVQUFlLElBQVk7UUFDMUIsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzdCLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWSxFQUFFLElBQWE7UUFDN0MsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBRyxJQUFJLElBQUksSUFBSSxFQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN0QjtJQUNGLENBQUM7SUFFTSx3Q0FBZSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sMENBQWlCLEdBQXhCLFVBQXlCLEdBQVk7UUFDcEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLElBQVk7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixJQUFHLElBQUksSUFBSSxJQUFJLEVBQUM7WUFDZixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2I7SUFDRixDQUFDO0lBbEVjLHdCQUFTLEdBQW1CLElBQUksQ0FBQztJQW9FakQscUJBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQUVVLFFBQUEsV0FBVyxHQUFtQixjQUFjLENBQUMsV0FBVyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9Tb2NrZXRcIjtcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tIFwiLi9NZXNzYWdlXCI7XG5cblxuY2xhc3MgQ29ubmVjdE1hbmFnZXIge1xuXHRcblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBDb25uZWN0TWFuYWdlciA9IG51bGw7XG5cdHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29ubmVjdE1hbmFnZXJ7XG5cdFx0aWYodGhpcy5faW5zdGFuY2UgPT0gbnVsbCl7XG5cdFx0XHR0aGlzLl9pbnN0YW5jZSA9IG5ldyBDb25uZWN0TWFuYWdlcigpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5faW5zdGFuY2U7XG5cdH1cblx0XG5cdHByaXZhdGUgX2RlZmF1bHRLZXk6IHN0cmluZztcblx0cHJpdmF0ZSBfYWxsQ29ubnM6IHsgW25hbWU6c3RyaW5nXTogU29ja2V0fSA9IG51bGw7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKCl7XG5cdFx0dGhpcy5fYWxsQ29ubnMgPSB7fTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUobmFtZTogc3RyaW5nLCBjb25mOiBhbnkpe1xuXHRcdGlmKHRoaXMuX2FsbENvbm5zW25hbWVdID09IG51bGwpe1xuXHRcdFx0bGV0IHNvY2tldCA9IG5ldyBTb2NrZXQoY29uZik7XG5cdFx0XHR0aGlzLl9hbGxDb25uc1tuYW1lXSA9IHNvY2tldDtcblx0XHRcdGlmKHRoaXMuX2RlZmF1bHRLZXkgPT0gbnVsbClcblx0XHRcdFx0dGhpcy5fZGVmYXVsdEtleSA9IG5hbWU7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHNldERlZmF1bHRLZXkoa2V5OiBzdHJpbmcpe1xuXHRcdGlmKGtleSAhPSBudWxsICYmIHRoaXMuX2FsbENvbm5zW2tleV0pIHtcblx0XHRcdHRoaXMuX2RlZmF1bHRLZXkgPSBrZXk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldERlZmF1bHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q29ubih0aGlzLl9kZWZhdWx0S2V5KTtcblx0fVxuXG5cdHB1YmxpYyBnZXRDb25uKG5hbWU6IHN0cmluZyl7XG5cdFx0aWYobmFtZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRpZih0aGlzLl9hbGxDb25uc1tuYW1lXSAhPSBudWxsKXtcblx0XHRcdHJldHVybiB0aGlzLl9hbGxDb25uc1tuYW1lXTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlLCBuYW1lPzogc3RyaW5nKXtcblx0XHRpZihuYW1lID09IG51bGwpIG5hbWUgPSB0aGlzLl9kZWZhdWx0S2V5O1xuXHRcdGxldCBjb25uID0gdGhpcy5nZXRDb25uKG5hbWUpO1xuXHRcdGlmKGNvbm4gIT0gbnVsbCl7XG5cdFx0XHRjb25uLnNlbmRNZXNzYWdlKG1zZyk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGVuYWJsZUhlYXJ0YmVhdChuYW1lOiBzdHJpbmcpIHtcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcblx0XHRjb25uLmVuYWJsZUhlYXJ0YmVhdCh0cnVlKTtcblx0fVxuXG5cdHB1YmxpYyBzZW5kQ3VzdG9tTWVzc2FnZShtc2c6IE1lc3NhZ2Upe1xuXHRcdGxldCBjb25uID0gdGhpcy5nZXRDb25uKHRoaXMuX2RlZmF1bHRLZXkpO1xuXHRcdGlmIChjb25uICE9IG51bGwpIGNvbm4uc2VuZEN1c3RvbU1lc3NhZ2UobXNnKTtcblx0fVxuXG5cdHB1YmxpYyByZW1vdmUobmFtZTogc3RyaW5nKXtcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcblx0XHRpZihjb25uICE9IG51bGwpe1xuXHRcdFx0ZGVsZXRlIHRoaXMuX2FsbENvbm5zW25hbWVdO1xuXHRcdFx0Y29ubi5jbG9zZSgpO1xuXHRcdH1cblx0fVxuXHRcbn1cblxuZXhwb3J0IHZhciBjb25uTWFuYWdlcjogQ29ubmVjdE1hbmFnZXIgPSBDb25uZWN0TWFuYWdlci5nZXRJbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Socket.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8cfb4mvQk5BQqbWZvml7K36', 'Socket');
// framework/network/Socket.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Socket = void 0;
var MessageHandler_1 = require("./MessageHandler");
var MessageType_1 = require("./MessageType");
/**
* name
*/
var Socket = /** @class */ (function () {
    function Socket(conf) {
        this._config = null;
        this._reconnetTimes = 200;
        this._defaultTimeout = 10000;
        this.retryTimer = 0;
        this.initSocket(conf);
    }
    Socket.prototype.initSocket = function (conf) {
        this._config = conf;
        if (!this._config.timeout)
            this._config.timeout = this._defaultTimeout;
        if (this._config.retime)
            this._reconnetTimes = this._config.retime;
        this.connect();
    };
    Socket.prototype.connect = function () {
        var _this = this;
        var addr = this._config.host;
        if (this._config.port) {
            addr = this._config.host + ":" + this._config.port;
        }
        console.log("start connect server>>>>", addr);
        this._webSocket = new WebSocket(addr);
        this._messageHandler = new MessageHandler_1.MessageHandler(this._webSocket);
        // this._webSocket.endian = Laya.Byte.BIG_ENDIAN;
        // if(this._config.timeout)this._webSocket.timeout=this._config.timeout;
        this._webSocket.onopen = function (event) { return _this.onSocketOpen(); };
        this._webSocket.onmessage = function (event) { return _this.onReceiveMessage(event); };
        this._webSocket.onclose = function (event) { return _this.onSocketClose(); };
        this._webSocket.onerror = function (event) { return _this.onSocketError(); };
    };
    Socket.prototype.close = function () {
        if (this._webSocket) {
            // this._webSocket.offAll(null);
            this._webSocket.close();
        }
    };
    Socket.prototype.flush = function () {
        // if(this._webSocket.connected){
        // this._webSocket.flush();
        // }
    };
    Socket.prototype.enableHeartbeat = function (enable) {
        this._messageHandler.enableHeartbeat = enable;
    };
    Socket.prototype.onSocketOpen = function () {
        console.log("connect " + this._config.host + " success");
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_OPEN, "");
    };
    Socket.prototype.onReceiveMessage = function (event) {
        var _this = this;
        if (event === void 0) { event = null; }
        console.log("websocket receive message:" + event.data);
        if (typeof (wx) == "undefined") {
            this.toArrayBuffer(event.data).then(function (arrbuf) {
                _this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, arrbuf);
            });
        }
        else {
            this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, event.data);
        }
    };
    Socket.prototype.toArrayBuffer = function (blob) {
        //将Blob 对象转换成 ArrayBuffer
        var arrayBuffer;
        var reader = new FileReader();
        reader.readAsArrayBuffer(blob);
        return new Promise(function (resolve, reject) {
            reader.onload = function (e) {
                arrayBuffer = reader.result;
                resolve(arrayBuffer);
            };
        });
    };
    Socket.prototype.sendMessage = function (msg) {
        if (this._webSocket.readyState == WebSocket.OPEN) {
            this._messageHandler.sendMessage(msg);
            return true;
        }
        return false;
    };
    Socket.prototype.sendCustomMessage = function (msg) {
        this._messageHandler.dispatchMessage(msg);
    };
    Socket.prototype.reconnect = function () {
        var _this = this;
        // cc.director.getScheduler().unscheduleAllForTarget(this);
        if (Socket.count >= 2 || this._webSocket.readyState == WebSocket.OPEN) {
            clearTimeout(this.retryTimer);
        }
        else {
            if (this._webSocket.readyState == WebSocket.CLOSED) {
                this.connect();
            }
            this.retryTimer = setTimeout(function () {
                _this.reconnect();
            }, this._reconnetTimes);
        }
    };
    Socket.prototype.onSocketClose = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_CLOSE, "");
        console.log("websocket connect close.", this._webSocket.readyState);
        this.close();
        this.reconnect();
    };
    Socket.prototype.onSocketError = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_ERROR, "");
        console.log("websocket io error.");
        // this.reconnect(true);
    };
    Socket.count = 0;
    return Socket;
}());
exports.Socket = Socket;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxTb2NrZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBa0Q7QUFDbEQsNkNBQXVDO0FBRXZDOztFQUVFO0FBRUY7SUFPQyxnQkFBbUIsSUFBSTtRQU5mLFlBQU8sR0FBUSxJQUFJLENBQUM7UUFHcEIsbUJBQWMsR0FBVSxHQUFHLENBQUM7UUFDNUIsb0JBQWUsR0FBVyxLQUFLLENBQUM7UUFDeEMsZUFBVSxHQUFVLENBQUMsQ0FBQztRQUVyQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFHTywyQkFBVSxHQUFsQixVQUFtQixJQUFRO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU87WUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQ3RFLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNsRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDZixDQUFDO0lBRU8sd0JBQU8sR0FBZjtRQUFBLGlCQWlCQztRQWhCQSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUNwQjtZQUNDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRSxHQUFHLEdBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUE7U0FDaEQ7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFHLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxVQUFVLEdB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QUNsQixDQUFDO0lBRU0sOEJBQWEsR0FBcEIsVUFBcUIsQ0FBYTtRQUFiLGtCQUFBLEVBQUEsUUFBYTtRQUNqQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyx1QkFBUyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMzRCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDbkMsd0JBQXdCO0lBQ3pCLENBQUM7SUE3Qk0sWUFBSyxHQUFHLENBQUMsQ0FBQztJQThCbEIsYUFBQztDQWpJRCxBQWlJQyxJQUFBO0FBaklZLHdCQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZUhhbmRsZXIgfSBmcm9tIFwiLi9NZXNzYWdlSGFuZGxlclwiO1xuaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tIFwiLi9NZXNzYWdlXCI7XG4vKipcbiogbmFtZSBcbiovXG5cbmV4cG9ydCBjbGFzcyBTb2NrZXR7XG5cdHByaXZhdGUgX2NvbmZpZzogYW55ID0gbnVsbDtcblx0cHJpdmF0ZSBfd2ViU29ja2V0OiBXZWJTb2NrZXQ7XG5cdHByaXZhdGUgX21lc3NhZ2VIYW5kbGVyOiBNZXNzYWdlSGFuZGxlcjtcblx0cHJpdmF0ZSBfcmVjb25uZXRUaW1lczpudW1iZXIgPSAyMDA7XG5cdHByaXZhdGUgX2RlZmF1bHRUaW1lb3V0OiBudW1iZXIgPSAxMDAwMDtcblx0cmV0cnlUaW1lcjpudW1iZXIgPSAwO1xuXHRwdWJsaWMgY29uc3RydWN0b3IoY29uZikge1xuXHRcdHRoaXMuaW5pdFNvY2tldChjb25mKTtcblx0fVxuXG5cblx0cHJpdmF0ZSBpbml0U29ja2V0KGNvbmY6YW55KXtcblx0XHR0aGlzLl9jb25maWcgPSBjb25mO1xuXHRcdGlmKCF0aGlzLl9jb25maWcudGltZW91dCkgdGhpcy5fY29uZmlnLnRpbWVvdXQgPSB0aGlzLl9kZWZhdWx0VGltZW91dDtcblx0XHRpZih0aGlzLl9jb25maWcucmV0aW1lKSB0aGlzLl9yZWNvbm5ldFRpbWVzID0gdGhpcy5fY29uZmlnLnJldGltZTtcblx0XHR0aGlzLmNvbm5lY3QoKVxuXHR9XG5cblx0cHJpdmF0ZSBjb25uZWN0KCl7XG5cdFx0bGV0IGFkZHIgPSB0aGlzLl9jb25maWcuaG9zdDtcblx0XHRpZih0aGlzLl9jb25maWcucG9ydClcblx0XHR7XG5cdFx0XHRhZGRyID0gdGhpcy5fY29uZmlnLmhvc3QgK1wiOlwiICt0aGlzLl9jb25maWcucG9ydFxuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcInN0YXJ0IGNvbm5lY3Qgc2VydmVyPj4+PlwiICwgYWRkcik7XG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gbmV3IFdlYlNvY2tldChhZGRyKTtcblx0XHR0aGlzLl9tZXNzYWdlSGFuZGxlciA9IG5ldyBNZXNzYWdlSGFuZGxlcih0aGlzLl93ZWJTb2NrZXQpO1xuXHRcdC8vIHRoaXMuX3dlYlNvY2tldC5lbmRpYW4gPSBMYXlhLkJ5dGUuQklHX0VORElBTjtcblx0XHQvLyBpZih0aGlzLl9jb25maWcudGltZW91dCl0aGlzLl93ZWJTb2NrZXQudGltZW91dD10aGlzLl9jb25maWcudGltZW91dDtcblx0XHRcblx0XHR0aGlzLl93ZWJTb2NrZXQub25vcGVuID0gKGV2ZW50KT0+dGhpcy5vblNvY2tldE9wZW4oKTtcblx0XHR0aGlzLl93ZWJTb2NrZXQub25tZXNzYWdlID0gKGV2ZW50KT0+dGhpcy5vblJlY2VpdmVNZXNzYWdlKGV2ZW50KTtcblx0XHR0aGlzLl93ZWJTb2NrZXQub25jbG9zZSA9IChldmVudCk9PnRoaXMub25Tb2NrZXRDbG9zZSgpO1xuXHRcdHRoaXMuX3dlYlNvY2tldC5vbmVycm9yID0gKGV2ZW50KT0+dGhpcy5vblNvY2tldEVycm9yKCk7XG5cblx0fVxuXG5cdHB1YmxpYyBjbG9zZSgpe1xuXHRcdGlmKHRoaXMuX3dlYlNvY2tldCl7XG5cdFx0XHQvLyB0aGlzLl93ZWJTb2NrZXQub2ZmQWxsKG51bGwpO1xuXHRcdFx0dGhpcy5fd2ViU29ja2V0LmNsb3NlKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGZsdXNoKCl7XG5cdFx0Ly8gaWYodGhpcy5fd2ViU29ja2V0LmNvbm5lY3RlZCl7XG5cdFx0XHQvLyB0aGlzLl93ZWJTb2NrZXQuZmx1c2goKTtcblx0XHQvLyB9XG5cdH1cblxuXHRwdWJsaWMgZW5hYmxlSGVhcnRiZWF0KGVuYWJsZSkge1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmVuYWJsZUhlYXJ0YmVhdCA9IGVuYWJsZTtcblx0fVxuXG5cdHByaXZhdGUgb25Tb2NrZXRPcGVuKCk6IHZvaWR7XG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0IFwiICsgdGhpcy5fY29uZmlnLmhvc3QgK1wiIHN1Y2Nlc3NcIik7XG5cdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfT1BFTiwgXCJcIik7XG5cdH1cblxuXHRwcml2YXRlIG9uUmVjZWl2ZU1lc3NhZ2UoZXZlbnQ6IGFueSA9IG51bGwpOiB2b2lke1xuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IHJlY2VpdmUgbWVzc2FnZTpcIiArIGV2ZW50LmRhdGEpO1xuXHRcdGlmICh0eXBlb2Yod3gpID09IFwidW5kZWZpbmVkXCIpXG5cdFx0e1xuXHRcdFx0dGhpcy50b0FycmF5QnVmZmVyKGV2ZW50LmRhdGEpLnRoZW4oYXJyYnVmPT57XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0UsIGFycmJ1Zik7XG5cdFx0XHR9KVxuXHRcdH1lbHNle1xuXHRcdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfTUVTU0FHRSwgZXZlbnQuZGF0YSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSB0b0FycmF5QnVmZmVyKGJsb2IpOlByb21pc2U8QXJyYXlCdWZmZXI+XG5cdHtcblx0XHQvL+WwhkJsb2Ig5a+56LGh6L2s5o2i5oiQIEFycmF5QnVmZmVyXG5cdFx0dmFyIGFycmF5QnVmZmVyO1xuXHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuXHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdGFycmF5QnVmZmVyID0gcmVhZGVyLnJlc3VsdDtcblx0XHRcdFx0cmVzb2x2ZShhcnJheUJ1ZmZlcik7XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG5cdFxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlKTogYm9vbGVhbntcblx0XHRpZiggdGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0Lk9QRU4gKXtcblx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLnNlbmRNZXNzYWdlKG1zZyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHNlbmRDdXN0b21NZXNzYWdlKG1zZzogTWVzc2FnZSkge1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoTWVzc2FnZShtc2cpO1xuXHR9XG5cblx0c3RhdGljIGNvdW50ID0gMDtcblxuXHRwcml2YXRlIHJlY29ubmVjdCgpe1xuXHRcdC8vIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGVBbGxGb3JUYXJnZXQodGhpcyk7XG5cdFx0aWYoU29ja2V0LmNvdW50ID49IDJ8fHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlID09IFdlYlNvY2tldC5PUEVOKVxuXHRcdHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZXIpO1xuXHRcdH1lbHNle1xuXHRcdFx0aWYodGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0LkNMT1NFRClcblx0XHRcdHtcblx0XHRcdFx0dGhpcy5jb25uZWN0KCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnJldHJ5VGltZXIgPSBzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdHRoaXMucmVjb25uZWN0KCk7XG5cdFx0XHR9LHRoaXMuX3JlY29ubmV0VGltZXMpXG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG9uU29ja2V0Q2xvc2UoZTogYW55ID0gbnVsbCl7XG5cdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfQ0xPU0UsIFwiXCIpO1xuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IGNvbm5lY3QgY2xvc2UuXCIgLHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlKTtcblx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0dGhpcy5yZWNvbm5lY3QoKTtcblx0fVxuXG5cdHB1YmxpYyBvblNvY2tldEVycm9yKGU6IGFueSA9IG51bGwpe1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX0VSUk9SLCBcIlwiKTtcblx0XHRjb25zb2xlLmxvZyhcIndlYnNvY2tldCBpbyBlcnJvci5cIik7XG5cdFx0Ly8gdGhpcy5yZWNvbm5lY3QodHJ1ZSk7XG5cdH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/qqsdk/SoundHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '09a8fa41vxIUZkdgCG77DBM', 'SoundHelper');
// framework/qqsdk/SoundHelper.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundHelper = /** @class */ (function () {
    function SoundHelper() {
    }
    // LIFE-CYCLE CALLBACKS:
    SoundHelper.int = function () {
        for (var i = 0; i < this.music.length; i++) {
            this.music[i].id = -1;
        }
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic = [
                new BK.Audio(0, 'GameRes://' + this.music[0].nativeUrl, -1),
                new BK.Audio(0, 'GameRes://' + this.music[1].nativeUrl, -1),
                new BK.Audio(0, 'GameRes://' + this.music[2].nativeUrl, -1),
            ];
        }
    };
    ;
    //播放背景音
    SoundHelper.playMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            if (this.music[num].id === -1) {
                this.QQMusic[num].startMusic();
                this.music[num].id = 1;
            }
            else {
                this.QQMusic[num].resumeMusic();
            }
            if (num !== 0)
                this.qqFlag = false;
            return;
        }
        if (this.music[num].id === -1) {
            this.music[num].id = cc.audioEngine.play(this.music[num], true, this.musicVolume);
        }
        else {
            cc.audioEngine.resume(this.music[num].id);
        }
    };
    ;
    SoundHelper.getSoundContext = function () {
        var sc = this._soundContext[this._soundContext.length];
        if (!sc) {
            sc = BK.createAudioContext();
        }
        else {
            this._soundContext.pop();
        }
        return sc;
    };
    SoundHelper.playSound2 = function (sound) {
        var audio = new BK.Audio(1, 'GameRes://' + sound.toString(), 1);
        audio.startMusic(sound);
    };
    //播放音效
    SoundHelper.playSound = function (sound) {
        if (this.QQSoundContext == null)
            this.QQSoundContext = BK.createAudioContext({ "type": "effect" });
        // let soundContext = this.getSoundContext();
        this.QQSoundContext.src = "GameRes://" + sound.toString();
        this.QQSoundContext.play();
        // soundContext.play({complete:function(result){
        //     SoundHelper._soundContext.push(soundContext)
        // }});
        // soundContext.play();
        // soundContext.on("ended",function(){
        // SoundHelper._soundContext.push(soundContext)
        // })
    };
    ;
    //停止背景音
    SoundHelper.stopMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (this.music[num].id === -1)
            return;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic[num].stopMusic();
            this.music[num].id = -1;
            this.QQMusic[num] = new BK.Audio(0, 'GameRes://' + this.music[num].nativeUrl, -1);
            return;
        }
        cc.audioEngine.stop(this.music[num].id);
        this.music[num].id = -1;
    };
    ;
    //暂停背景音
    SoundHelper.pauseMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic[num].pauseMusic();
            return;
        }
        if (this.music[num].id === -1 || cc.audioEngine.AudioState.PLAYING !== cc.audioEngine.getState(this.music[num].id))
            return;
        cc.audioEngine.pause(this.music[num].id);
    };
    ;
    //设置背景音开关
    SoundHelper.setMusicOff = function (bool) {
        if (bool) {
            this.playMusic();
        }
        else {
            for (var i = 0; i < this.music.length; i++) {
                this.pauseMusic(i);
            }
        }
    };
    ;
    //设置音效开关
    SoundHelper.setSoundOff = function (bool) {
    };
    ;
    //设置背景音里
    SoundHelper.setMusicVolume = function (value) {
        this.musicVolume = value;
        for (var i = 0; i < this.music.length; i++) {
            if (this.music[i].id !== -1 && cc.audioEngine.AudioState.PLAYING === cc.audioEngine.getState(this.music[i].id)) {
                cc.audioEngine.setVolume(this.music[i].id, this.musicVolume);
            }
        }
    };
    ;
    //设置音效音量
    SoundHelper.setSoundVolume = function (value) {
        // this.soundVolume = value;
    };
    ;
    SoundHelper.qqMusicResume = function () {
        if (cc.sys.platform !== cc.sys.QQ_PLAY)
            return;
        if (this.music[1].id !== -1 || this.music[2].id !== -1 || this.qqFlag)
            return;
        this.playMusic(0);
    };
    ;
    SoundHelper.musicVolume = 1;
    SoundHelper.music = [];
    SoundHelper.QQSoundContext = null;
    SoundHelper.qqFlag = true;
    SoundHelper._soundContext = [];
    return SoundHelper;
}());
exports.default = SoundHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxxcXNka1xcU291bmRIZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2SUEsQ0FBQztJQXRJRyx3QkFBd0I7SUFFakIsZUFBRyxHQUFWO1FBQ0ksS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFDO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQztZQUNuQyxJQUFJLENBQUMsT0FBTyxHQUFFO2dCQUNWLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsWUFBWSxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2RCxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLFlBQVksR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkQsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxZQUFZLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUQsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUFBLENBQUM7SUFHRixPQUFPO0lBQ0EscUJBQVMsR0FBaEIsVUFBaUIsR0FBSTtRQUNqQixHQUFHLEdBQUcsR0FBRyxLQUFJLFNBQVMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUM7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QUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQy9EO1NBQ0o7SUFDTCxDQUFDO0lBQUEsQ0FBQztJQUNGLFFBQVE7SUFDRCwwQkFBYyxHQUFyQixVQUFzQixLQUFLO1FBQ3ZCLDRCQUE0QjtJQUNoQyxDQUFDO0lBQUEsQ0FBQztJQUdLLHlCQUFhLEdBQXBCO1FBQ0ksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU87WUFBRSxPQUFPO1FBQy9DLElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU07WUFBRSxPQUFPO1FBQzVFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUFBLENBQUM7SUExSUssdUJBQVcsR0FBQyxDQUFDLENBQUM7SUFDZCxpQkFBSyxHQUFHLEVBQUUsQ0FBQztJQUNYLDBCQUFjLEdBQU8sSUFBSSxDQUFDO0lBRTFCLGtCQUFNLEdBQUMsSUFBSSxDQUFDO0lBdUNaLHlCQUFhLEdBQXFCLEVBQUUsQ0FBQTtJQWlHL0Msa0JBQUM7Q0E3SUQsQUE2SUMsSUFBQTtrQkE3SW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VuZEhlbHBlcntcbiAgICBzdGF0aWMgbXVzaWNWb2x1bWU9MTtcbiAgICBzdGF0aWMgbXVzaWMgPSBbXTtcbiAgICBzdGF0aWMgUVFTb3VuZENvbnRleHQ6YW55ID0gbnVsbDtcbiAgICBzdGF0aWMgUVFNdXNpYzphbnk7XG4gICAgc3RhdGljIHFxRmxhZz10cnVlO1xuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICBzdGF0aWMgaW50KCkge1xuICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMubXVzaWMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICB0aGlzLm11c2ljW2ldLmlkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLlFRX1BMQVkpe1xuICAgICAgICAgICAgdGhpcy5RUU11c2ljID1bXG4gICAgICAgICAgICAgICAgbmV3IEJLLkF1ZGlvKDAsJ0dhbWVSZXM6Ly8nK3RoaXMubXVzaWNbMF0ubmF0aXZlVXJsLC0xKSxcbiAgICAgICAgICAgICAgICBuZXcgQksuQXVkaW8oMCwnR2FtZVJlczovLycrdGhpcy5tdXNpY1sxXS5uYXRpdmVVcmwsLTEpLFxuICAgICAgICAgICAgICAgIG5ldyBCSy5BdWRpbygwLCdHYW1lUmVzOi8vJyt0aGlzLm11c2ljWzJdLm5hdGl2ZVVybCwtMSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLy/mkq3mlL7og4zmma/pn7NcbiAgICBzdGF0aWMgcGxheU11c2ljKG51bT8pe1xuICAgICAgICBudW0gPSBudW0gPT09dW5kZWZpbmVkPzA6bnVtO1xuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuUVFfUExBWSl7XG4gICAgICAgICAgICBpZih0aGlzLm11c2ljW251bV0uaWQgPT09IC0xKXtcbiAgICAgICAgICAgICAgICB0aGlzLlFRTXVzaWNbbnVtXS5zdGFydE11c2ljKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1tudW1dLmlkID0gMTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuUVFNdXNpY1tudW1dLnJlc3VtZU11c2ljKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihudW0hPT0wKSB0aGlzLnFxRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5tdXNpY1tudW1dLmlkID09PSAtMSl7XG4gICAgICAgICAgICB0aGlzLm11c2ljW251bV0uaWQgPSBjYy5hdWRpb0VuZ2luZS5wbGF5KHRoaXMubXVzaWNbbnVtXSwgdHJ1ZSwgdGhpcy5tdXNpY1ZvbHVtZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lKHRoaXMubXVzaWNbbnVtXS5pZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgc3RhdGljIF9zb3VuZENvbnRleHQ6QksuQXVkaW9FbGVtZW50W10gPSBbXVxuXG4gICAgc3RhdGljIGdldFNvdW5kQ29udGV4dCgpOkJLLkF1ZGlvRWxlbWVudFxuICAgIHtcbiAgICAgICAgbGV0IHNjOkJLLkF1ZGlvRWxlbWVudCA9IHRoaXMuX3NvdW5kQ29udGV4dFt0aGlzLl9zb3VuZENvbnRleHQubGVuZ3RoXTtcbiAgICAgICAgaWYoIXNjKVxuICAgICAgICB7XG4gICAgICAgICAgICBzYyA9IEJLLmNyZWF0ZUF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5fc291bmRDb250ZXh0LnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYztcbiAgICB9XG5cbiAgICBzdGF0aWMgcGxheVNvdW5kMihzb3VuZClcbiAgICB7XG4gICAgICAgIGxldCBhdWRpbyA9IG5ldyBCSy5BdWRpbygxLCdHYW1lUmVzOi8vJytzb3VuZC50b1N0cmluZygpLDEpO1xuICAgICAgICBhdWRpby5zdGFydE11c2ljKHNvdW5kKTtcbiAgICB9XG5cbiAgICAvL+aSreaUvumfs+aViFxuICAgIHN0YXRpYyBwbGF5U291bmQoc291bmQpe1xuICAgICAgICBpZih0aGlzLlFRU291bmRDb250ZXh0ID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLlFRU291bmRDb250ZXh0ID0gQksuY3JlYXRlQXVkaW9Db250ZXh0KHtcInR5cGVcIjpcImVmZmVjdFwifSk7XG4gICAgICAgIC8vIGxldCBzb3VuZENvbnRleHQgPSB0aGlzLmdldFNvdW5kQ29udGV4dCgpO1xuICAgICAgICB0aGlzLlFRU291bmRDb250ZXh0LnNyYyA9IFwiR2FtZVJlczovL1wiK3NvdW5kLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuUVFTb3VuZENvbnRleHQucGxheSgpO1xuICAgICAgICAvLyBzb3VuZENvbnRleHQucGxheSh7Y29tcGxldGU6ZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gICAgIFNvdW5kSGVscGVyLl9zb3VuZENvbnRleHQucHVzaChzb3VuZENvbnRleHQpXG4gICAgICAgIC8vIH19KTtcbiAgICAgICAgLy8gc291bmRDb250ZXh0LnBsYXkoKTtcbiAgICAgICAgLy8gc291bmRDb250ZXh0Lm9uKFwiZW5kZWRcIixmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gU291bmRIZWxwZXIuX3NvdW5kQ29udGV4dC5wdXNoKHNvdW5kQ29udGV4dClcbiAgICAgICAgLy8gfSlcbiAgICB9O1xuXG4gICAgLy/lgZzmraLog4zmma/pn7NcbiAgICBzdGF0aWMgc3RvcE11c2ljKG51bSl7XG4gICAgICAgIG51bSA9IG51bSA9PT11bmRlZmluZWQ/MDpudW07XG4gICAgICAgIGlmKHRoaXMubXVzaWNbbnVtXS5pZCA9PT0tMSApcmV0dXJuO1xuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuUVFfUExBWSl7XG4gICAgICAgICAgICB0aGlzLlFRTXVzaWNbbnVtXS5zdG9wTXVzaWMoKTtcbiAgICAgICAgICAgIHRoaXMubXVzaWNbbnVtXS5pZCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5RUU11c2ljW251bV0gPSAgbmV3IEJLLkF1ZGlvKDAsJ0dhbWVSZXM6Ly8nK3RoaXMubXVzaWNbbnVtXS5uYXRpdmVVcmwsLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcCh0aGlzLm11c2ljW251bV0uaWQpO1xuICAgICAgICB0aGlzLm11c2ljW251bV0uaWQgPSAtMTtcbiAgICB9O1xuXG4gICAgLy/mmoLlgZzog4zmma/pn7NcbiAgICBzdGF0aWMgcGF1c2VNdXNpYyhudW0pe1xuICAgICAgICBudW0gPSBudW0gPT09dW5kZWZpbmVkPzA6bnVtO1xuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuUVFfUExBWSl7XG4gICAgICAgICAgICB0aGlzLlFRTXVzaWNbbnVtXS5wYXVzZU11c2ljKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5tdXNpY1tudW1dLmlkID09PS0xIHx8IGNjLmF1ZGlvRW5naW5lLkF1ZGlvU3RhdGUuUExBWUlORyAhPT0gY2MuYXVkaW9FbmdpbmUuZ2V0U3RhdGUodGhpcy5tdXNpY1tudW1dLmlkKSApcmV0dXJuO1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZSh0aGlzLm11c2ljW251bV0uaWQpO1xuICAgIH07XG5cbiAgICAvL+iuvue9ruiDjOaZr+mfs+W8gOWFs1xuICAgIHN0YXRpYyBzZXRNdXNpY09mZihib29sKXtcbiAgICAgICAgaWYoYm9vbCl7XG4gICAgICAgICAgICB0aGlzLnBsYXlNdXNpYygpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5tdXNpYy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlTXVzaWMoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8v6K6+572u6Z+z5pWI5byA5YWzXG4gICAgc3RhdGljIHNldFNvdW5kT2ZmKGJvb2wpe1xuICAgIH07XG5cbiAgICAvL+iuvue9ruiDjOaZr+mfs+mHjFxuICAgIHN0YXRpYyBzZXRNdXNpY1ZvbHVtZSh2YWx1ZSl7XG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSB2YWx1ZTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLm11c2ljLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgaWYodGhpcy5tdXNpY1tpXS5pZCAhPT0gLTEgJiYgY2MuYXVkaW9FbmdpbmUuQXVkaW9TdGF0ZS5QTEFZSU5HID09PSBjYy5hdWRpb0VuZ2luZS5nZXRTdGF0ZSh0aGlzLm11c2ljW2ldLmlkKSl7XG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0Vm9sdW1lKHRoaXMubXVzaWNbaV0uaWQsdGhpcy5tdXNpY1ZvbHVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8v6K6+572u6Z+z5pWI6Z+z6YePXG4gICAgc3RhdGljIHNldFNvdW5kVm9sdW1lKHZhbHVlKXtcbiAgICAgICAgLy8gdGhpcy5zb3VuZFZvbHVtZSA9IHZhbHVlO1xuICAgIH07XG5cblxuICAgIHN0YXRpYyBxcU11c2ljUmVzdW1lKCl7XG4gICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gIT09IGNjLnN5cy5RUV9QTEFZKSByZXR1cm47XG4gICAgICAgIGlmKHRoaXMubXVzaWNbMV0uaWQgIT09IC0xIHx8IHRoaXMubXVzaWNbMl0uaWQhPT0gLTEgfHwgdGhpcy5xcUZsYWcpIHJldHVybjtcbiAgICAgICAgdGhpcy5wbGF5TXVzaWMoMCk7XG4gICAgfTtcblxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1f843kK46NKi6g8v7uZN6EC', 'MoreGameManager');
// framework/wxsdk/MoreGameManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Task = void 0;
var MoreGameComponent_1 = require("./MoreGameComponent");
var GameConfigs_1 = require("./GameConfigs");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Task = /** @class */ (function () {
    function Task(id) {
        this.isRunning = false;
        this.cd = 0;
        this.max_cd = 0;
        this.id = id;
    }
    Task.prototype.start = function () {
        this.isRunning = true;
    };
    Task.prototype.finish = function () {
        this.isRunning = false;
        this.cd = this.max_cd;
    };
    return Task;
}());
exports.Task = Task;
var MoreGameManager = /** @class */ (function (_super) {
    __extends(MoreGameManager, _super);
    function MoreGameManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.recommendComps = [];
        _this.gameList = [];
        _this.tasks = [];
        _this.frames = {};
        return _this;
    }
    MoreGameManager_1 = MoreGameManager;
    Object.defineProperty(MoreGameManager, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = cc.find("Canvas").addComponent(MoreGameManager_1);
            }
            return this._instance;
        },
        set: function (k) {
            this._instance = k;
        },
        enumerable: false,
        configurable: true
    });
    /**
        content:"射了个球"
        extra:""
        icon:"https://111.231.94.213/game/gameres/recommend/game_01/icon.jpg"
        id:1
        image:"https://111.231.94.213/game/gameres/recommend/game_01/qr.png"
        title:"射了个球"
        wx_appid:"wxcd56cd0a66199638"
        launch:""
    */
    MoreGameManager.prototype.getSpriteFrame = function (url) {
        return __awaiter(this, void 0, Promise, function () {
            var frame;
            var _this = this;
            return __generator(this, function (_a) {
                frame = this.frames[url];
                if (frame == null) {
                    return [2 /*return*/, new Promise(function (resolve, reject) {
                            // url = "https://cs-op.douyucdn.cn/douyu/2018/02/09/8a0dd8f98a3fa07c9543800173408477.png"
                            console.log("[MoreGameManager] request image:" + url);
                            cc.loader.load({ url: url, type: 'png' }, function (err, texture) {
                                if (texture) {
                                    frame = new cc.SpriteFrame(texture);
                                    _this.addSpriteFrame(url, frame);
                                    // this.node.getComponent(cc.Sprite).spriteFrame=frame;
                                    resolve(frame);
                                }
                                else {
                                    reject();
                                }
                            });
                        })];
                }
                return [2 /*return*/, new Promise(function (resolve, reject) { return resolve(frame); })];
            });
        });
    };
    MoreGameManager.prototype.addSpriteFrame = function (url, frame) {
        this.frames[url] = frame;
        return frame;
    };
    MoreGameManager.prototype.onLoad = function () {
        MoreGameManager_1.instance = this;
    };
    //tasks
    MoreGameManager.prototype.getTasks = function (priority_min, count) {
        var todo = [];
        for (var i = 0; i < this.tasks.length; i++) {
            var task = this.tasks[i];
            if (task.gameConfig.priority && task.gameConfig.priority > priority_min) {
                if (task.cd == 0) {
                    todo.push(task);
                    this.tasks.splice(i, 1);
                    i--;
                }
            }
            if (todo.length >= count)
                break;
        }
        if (todo.length < count) {
            // 任务不足，直接用cd中的任务补充
            //request from cd tasks 
            for (var i = 0; i < this.tasks.length; i++) {
                var task = this.tasks[i];
                if (todo.indexOf(task) == -1) {
                    todo.push(task);
                    this.tasks.splice(i, 1);
                    i--;
                }
            }
        }
        g.extendArray(this.tasks, todo);
        return todo;
    };
    MoreGameManager.prototype.finishTasks = function (list) {
        for (var i = 0; i < list.length; i++) {
            var task = list[i];
            if (task) {
                task.finish();
            }
        }
    };
    MoreGameManager.prototype.startTasks = function (list) {
        for (var i = 0; i < list.length; i++) {
            var task = list[i];
            if (task) {
                task.start();
            }
        }
    };
    MoreGameManager.prototype.createTasks = function () {
        for (var i = 0; i < this.gameList.length; i++) {
            var task = new Task(i);
            task.gameConfig = this.gameList[i];
            task.gameConfig.priority = task.gameConfig.priority || 100;
            // 10 最小cd 时长 
            task.max_cd = 100 / task.gameConfig.priority * 10;
            this.tasks.push(task);
        }
    };
    MoreGameManager.prototype.addList = function (list) {
        if (list == null)
            return;
        if (Array.isArray(list)) {
            this.gameList.splice(0, this.gameList.length);
            g.extendArray(this.gameList, list);
        }
        else {
            this.gameList.push(list);
        }
        //sort by priority 
        this.gameList.sort(function (a, b) {
            if (!a.priority)
                return 1;
            if (!b.priority)
                return 0;
            return b.priority - a.priority;
        });
        //create tasks
        this.createTasks();
        for (var i = 0; i < this.recommendComps.length; i++) {
            var element = this.recommendComps[i];
            element.requestTask();
        }
    };
    MoreGameManager.prototype.updateFinishedTask = function () {
        for (var i = 0; i < this.tasks.length; i++) {
            var task = this.tasks[i];
            //cd 中的任务
            if (task.cd > 0) {
                task.cd = Math.max(0, task.cd - 1);
            }
        }
    };
    /**
     * appId	string		是	要打开的小程序 appId
        path	string		否	打开的页面路径，如果为空则打开首页
        extraData	object		否	需要传递给目标小程序的数据，目标小程序可在 App.onLaunch，App.onShow 中获取到这份数据。
        envVersion	string	release	否	要打开的小程序版本。仅在当前小程序为开发版或体验版时此参数有效。如果当前小程序是正式版，则打开的小程序必定是正式版。
        success	function		否	接口调用成功的回调函数
        fail	function		否	接口调用失败的回调函数
        complete	function		否	接口调用结束的回调函数（调用成功、失败都会执行）
        object.envVersion 的合法值

        envVersion >>--------------------
        develop	开发版
        trial	体验版
        release	正式版
     */
    MoreGameManager.prototype.clickGame = function (gamecfg) {
        console.log("打开小程序...");
        wx.navigateToMiniProgram({
            appId: gamecfg.wx_appid,
            extraData: {
                wx_appid: GameConfigs_1.GameConfig.wx_appid,
            },
            envVersion: "release",
            success: function (res) {
                console.log("打开小程序成功 :" + gamecfg.wx_appid);
                // 跳转通知服务器
            },
            fail: function (res) {
                //打开失败
                console.log("打开小程序失败 :" + gamecfg.wx_appid);
            }
        });
        // 打开详情 或者直接打开
        //cfg.image  
    };
    MoreGameManager.prototype.onEnable = function () {
        this.schedule(this.updateFinishedTask, 1, cc.macro.REPEAT_FOREVER);
    };
    MoreGameManager.prototype.onDisable = function () {
        this.unschedule(this.updateFinishedTask);
    };
    MoreGameManager.prototype.start = function () {
        // let gameList  = [
        //     {
        //         content:"射了个球",
        //         extra:"",
        //         icon:"https://111.231.94.213/game/gameres/recommend/game_01/icon.jpg",
        //         id:1,
        //         image:"https://111.231.94.213/game/gameres/recommend/game_01/qr.png",
        //         title:"射了个球",
        //         wx_appid:"wxcd56cd0a66199638",
        //         priority: 99,
        //     }
        // ]
        // let test = JSON.parse('{"priority":100,"title":"水果泡泡龙","extra":"empty","icon":"https://7265-release-2c87c4-1258399463.tcb.qcloud.la/pplicon.png?sign=43116a5ecfead6e614c52b9818cb15ec\u0026t=1547972497","image":"https://7265-release-2c87c4-1258399463.tcb.qcloud.la/qrcode (2).jpg?sign=43edc51f924e8a4e969e71c5e0753adf\u0026t=1547972423","wx_appid":"wxdbacbba2d0277152"}')
        // gameList.push(test);
        // this.addList(gameList)
    };
    var MoreGameManager_1;
    __decorate([
        property([MoreGameComponent_1.default])
    ], MoreGameManager.prototype, "recommendComps", void 0);
    MoreGameManager = MoreGameManager_1 = __decorate([
        ccclass
    ], MoreGameManager);
    return MoreGameManager;
}(cc.Component));
exports.default = MoreGameManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQW9EO0FBQ3BELDZDQUEyQztBQUVyQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQU9JLGNBQVksRUFBRTtRQUhkLGNBQVMsR0FBWSxLQUFLLENBQUM7UUFDM0IsT0FBRSxHQUFZLENBQUMsQ0FBQztRQUNoQixXQUFNLEdBQVcsQ0FBQyxDQUFDO1FBR2YsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELG9CQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztJQUMxQixDQUFDO0lBRUQscUJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBQ0wsV0FBQztBQUFELENBdEJBLEFBc0JDLElBQUE7QUF0Qlksb0JBQUk7QUF5QmpCO0lBQTZDLG1DQUFZO0lBQXpEO1FBQUEscUVBMlBDO1FBeFBHLG9CQUFjLEdBQXdCLEVBQUUsQ0FBQztRQWlCekMsY0FBUSxHQUFTLEVBQUUsQ0FBQTtRQUVuQixXQUFLLEdBQVUsRUFBRSxDQUFBO1FBRWpCLFlBQU0sR0FBbUMsRUFBRSxDQUFDOztJQW1PaEQsQ0FBQzt3QkEzUG9CLGVBQWU7SUFNaEMsc0JBQVcsMkJBQVE7YUFBbkI7WUFFSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUMxQjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLGlCQUFlLENBQUMsQ0FBQzthQUNwRTtZQUNELE9B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UUFBUSxDQUFDLENBQUE7WUFDOUMsQ0FBQztTQUNKLENBQUMsQ0FBQTtRQUVGLGNBQWM7UUFDZCxhQUFhO0lBQ2pCLENBQUM7SUFFRCxrQ0FBUSxHQUFSO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELG1DQUFTLEdBQVQ7UUFFSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCwrQkFBSyxHQUFMO1FBRUksb0JBQW9CO1FBQ3BCLFFBQVE7UUFDUiwwQkFBMEI7UUFDMUIsb0JBQW9CO1FBQ3BCLGlGQUFpRjtRQUNqRixnQkFBZ0I7UUFDaEIsZ0ZBQWdGO1FBQ2hGLHdCQUF3QjtRQUN4Qix5Q0FBeUM7UUFDekMsd0JBQXdCO1FBQ3hCLFFBQVE7UUFDUixJQUFJO1FBQ0osb1hBQW9YO1FBQ3BYLHVCQUF1QjtRQUN2Qix5QkFBeUI7SUFDN0IsQ0FBQzs7SUF2UEQ7UUFEQyxRQUFRLENBQUMsQ0FBQywyQkFBaUIsQ0FBQyxDQUFDOzJEQUNXO0lBSHhCLGVBQWU7UUFEbkMsT0FBTztPQUNhLGVBQWUsQ0EyUG5DO0lBQUQsc0JBQUM7Q0EzUEQsQUEyUEMsQ0EzUDRDLEVBQUUsQ0FBQyxTQUFTLEdBMlB4RDtrQkEzUG9CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVDb21wb25lbnQgZnJvbSBcIi4vTW9yZUdhbWVDb21wb25lbnRcIjtcbmltcG9ydCB7IEdhbWVDb25maWcgfSBmcm9tIFwiLi9HYW1lQ29uZmlnc1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZXhwb3J0IGNsYXNzIFRhc2tcbntcbiAgICBpZDpudW1iZXI7XG4gICAgZ2FtZUNvbmZpZzogYW55O1xuICAgIGlzUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNkIDogbnVtYmVyID0gMDtcbiAgICBtYXhfY2QgOm51bWJlciA9IDA7XG4gICAgY29uc3RydWN0b3IoaWQpXG4gICAge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGZpbmlzaCgpXG4gICAge1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNkID0gdGhpcy5tYXhfY2Q7XG4gICAgfVxufVxuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9yZUdhbWVNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShbTW9yZUdhbWVDb21wb25lbnRdKVxuICAgIHJlY29tbWVuZENvbXBzIDpNb3JlR2FtZUNvbXBvbmVudFtdID0gW107XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6TW9yZUdhbWVNYW5hZ2VyXG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpOk1vcmVHYW1lTWFuYWdlciBcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGNjLmZpbmQoXCJDYW52YXNcIikuYWRkQ29tcG9uZW50KE1vcmVHYW1lTWFuYWdlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgaW5zdGFuY2UoaylcbiAgICB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gaztcbiAgICB9XG5cbiAgICBnYW1lTGlzdDphbnlbXSA9IFtdXG5cbiAgICB0YXNrczpUYXNrW10gPSBbXVxuXG4gICAgZnJhbWVzOntbaW5kZXg6c3RyaW5nXTpjYy5TcHJpdGVGcmFtZX0gPSB7fTtcblxuICAgIC8qKlxuICAgICAgICBjb250ZW50Olwi5bCE5LqG5Liq55CDXCJcbiAgICAgICAgZXh0cmE6XCJcIlxuICAgICAgICBpY29uOlwiaHR0cHM6Ly8xMTEuMjMxLjk0LjIxMy9nYW1lL2dhbWVyZXMvcmVjb21tZW5kL2dhbWVfMDEvaWNvbi5qcGdcIlxuICAgICAgICBpZDoxXG4gICAgICAgIGltYWdlOlwiaHR0cHM6Ly8xMTEuMjMxLjk0LjIxMy9nYW1lL2dhbWVyZXMvcmVjb21tZW5kL2dhbWVfMDEvcXIucG5nXCJcbiAgICAgICAgdGl0bGU6XCLlsITkuobkuKrnkINcIlxuICAgICAgICB3eF9hcHBpZDpcInd4Y2Q1NmNkMGE2NjE5OTYzOFwiXG4gICAgICAgIGxhdW5jaDpcIlwiXG4gICAgKi9cbiAgICBhc3luYyBnZXRTcHJpdGVGcmFtZSh1cmw6c3RyaW5nKTpQcm9taXNlPGNjLlNwcml0ZUZyYW1lPlxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdXJsXVxuICAgICAgICBpZihmcmFtZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgICAgICAvLyB1cmwgPSBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZG91eXUvMjAxOC8wMi8wOS84YTBkZDhmOThhM2ZhMDdjOTU0MzgwMDE3MzQwODQ3Ny5wbmdcIlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW01vcmVHYW1lTWFuYWdlcl0gcmVxdWVzdCBpbWFnZTpcIiArIHVybClcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZCh7dXJsOiB1cmwsIHR5cGU6ICdwbmcnfSwgKGVyciwgdGV4dHVyZSkgPT57XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZih0ZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3ByaXRlRnJhbWUodXJsICxmcmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZT1mcmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGNjLlNwcml0ZUZyYW1lPigocmVzb2x2ZSxyZWplY3QpPT5yZXNvbHZlKGZyYW1lKSk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGFkZFNwcml0ZUZyYW1lKHVybDogc3RyaW5nLCBmcmFtZTogYW55KTogYW55IHtcbiAgICAgICAgdGhpcy5mcmFtZXNbdXJsXSA9IGZyYW1lO1xuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgLy90YXNrc1xuICAgIGdldFRhc2tzKHByaW9yaXR5X21pbjogbnVtYmVyLGNvdW50Om51bWJlcik6IGFueSB7XG4gICAgICAgIGxldCB0b2RvID0gW11cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPHRoaXMudGFza3MubGVuZ3RoOyBpICsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGFzayA9IHRoaXMudGFza3NbaV1cbiAgICAgICAgICAgIGlmKHRhc2suZ2FtZUNvbmZpZy5wcmlvcml0eSAmJiB0YXNrLmdhbWVDb25maWcucHJpb3JpdHkgPiBwcmlvcml0eV9taW4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYodGFzay5jZCA9PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG9kby5wdXNoKHRhc2spXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFza3Muc3BsaWNlKGksMSlcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2RvLmxlbmd0aCA+PSBjb3VudCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYodG9kby5sZW5ndGggPCBjb3VudClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8g5Lu75Yqh5LiN6Laz77yM55u05o6l55SoY2TkuK3nmoTku7vliqHooaXlhYVcbiAgICAgICAgICAgIC8vcmVxdWVzdCBmcm9tIGNkIHRhc2tzIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPHRoaXMudGFza3MubGVuZ3RoOyBpICsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0YXNrID0gdGhpcy50YXNrc1tpXVxuICAgICAgICAgICAgICAgIGlmKHRvZG8uaW5kZXhPZih0YXNrKSA9PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvZG8ucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXNrcy5zcGxpY2UoaSwxKVxuICAgICAgICAgICAgICAgICAgICBpIC0tIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZy5leHRlbmRBcnJheSh0aGlzLnRhc2tzLHRvZG8pO1xuICAgICAgICByZXR1cm4gdG9kbztcbiAgICB9XG5cbiAgICBmaW5pc2hUYXNrcyhsaXN0OiBUYXNrW10pOiBhbnkge1xuICAgICAgICBmb3IodmFyIGkgPSAwIDtpIDwgbGlzdC5sZW5ndGg7IGkgKysgKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGFzayA9IGxpc3RbaV07XG4gICAgICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXNrLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRUYXNrcyhsaXN0OlRhc2tbXSk6YW55e1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDAgO2kgPCBsaXN0Lmxlbmd0aDsgaSArKyApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YXNrID0gbGlzdFtpXTsgXG4gICAgICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXNrLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY3JlYXRlVGFza3MoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyAgaSA8IHRoaXMuZ2FtZUxpc3QubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRhc2sgPSBuZXcgVGFzayhpKVxuICAgICAgICAgICAgdGFzay5nYW1lQ29uZmlnID0gdGhpcy5nYW1lTGlzdFtpXVxuICAgICAgICAgICAgdGFzay5nYW1lQ29uZmlnLnByaW9yaXR5ID0gdGFzay5nYW1lQ29uZmlnLnByaW9yaXR5IHx8MTAwO1xuICAgICAgICAgICAgLy8gMTAg5pyA5bCPY2Qg5pe26ZW/IFxuICAgICAgICAgICAgdGFzay5tYXhfY2QgPSAgMTAwIC90YXNrLmdhbWVDb25maWcucHJpb3JpdHkgKiAxMDtcbiAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkTGlzdChsaXN0OmFueSlcbiAgICB7XG4gICAgICAgIGlmKGxpc3QgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdCkgKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdhbWVMaXN0LnNwbGljZSgwLHRoaXMuZ2FtZUxpc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGcuZXh0ZW5kQXJyYXkodGhpcy5nYW1lTGlzdCxsaXN0KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmdhbWVMaXN0LnB1c2gobGlzdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9zb3J0IGJ5IHByaW9yaXR5IFxuICAgICAgICB0aGlzLmdhbWVMaXN0LnNvcnQoKGEsYik9PntcbiAgICAgICAgICAgIGlmKCFhLnByaW9yaXR5ICkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZighYi5wcmlvcml0eSkgcmV0dXJuIDA7XG4gICAgICAgICAgICByZXR1cm4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vY3JlYXRlIHRhc2tzXG4gICAgICAgIHRoaXMuY3JlYXRlVGFza3MoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb21tZW5kQ29tcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnJlY29tbWVuZENvbXBzW2ldO1xuICAgICAgICAgICAgZWxlbWVudC5yZXF1ZXN0VGFzaygpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHVwZGF0ZUZpbmlzaGVkVGFzaygpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFza3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YXNrID0gdGhpcy50YXNrc1tpXVxuICAgICAgICAgICAgLy9jZCDkuK3nmoTku7vliqFcbiAgICAgICAgICAgIGlmKHRhc2suY2QgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhc2suY2QgPSBNYXRoLm1heCgwLHRhc2suY2QgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBhcHBJZFx0c3RyaW5nXHRcdOaYr1x06KaB5omT5byA55qE5bCP56iL5bqPIGFwcElkXHRcbiAgICAgICAgcGF0aFx0c3RyaW5nXHRcdOWQplx05omT5byA55qE6aG16Z2i6Lev5b6E77yM5aaC5p6c5Li656m65YiZ5omT5byA6aaW6aG1XHRcbiAgICAgICAgZXh0cmFEYXRhXHRvYmplY3RcdFx05ZCmXHTpnIDopoHkvKDpgJLnu5nnm67moIflsI/nqIvluo/nmoTmlbDmja7vvIznm67moIflsI/nqIvluo/lj6/lnKggQXBwLm9uTGF1bmNo77yMQXBwLm9uU2hvdyDkuK3ojrflj5bliLDov5nku73mlbDmja7jgIJcdFxuICAgICAgICBlbnZWZXJzaW9uXHRzdHJpbmdcdHJlbGVhc2VcdOWQplx06KaB5omT5byA55qE5bCP56iL5bqP54mI5pys44CC5LuF5Zyo5b2T5YmN5bCP56iL5bqP5Li65byA5Y+R54mI5oiW5L2T6aqM54mI5pe25q2k5Y+C5pWw5pyJ5pWI44CC5aaC5p6c5b2T5YmN5bCP56iL5bqP5piv5q2j5byP54mI77yM5YiZ5omT5byA55qE5bCP56iL5bqP5b+F5a6a5piv5q2j5byP54mI44CCXHRcbiAgICAgICAgc3VjY2Vzc1x0ZnVuY3Rpb25cdFx05ZCmXHTmjqXlj6PosIPnlKjmiJDlip/nmoTlm57osIPlh73mlbBcdFxuICAgICAgICBmYWlsXHRmdW5jdGlvblx0XHTlkKZcdOaOpeWPo+iwg+eUqOWksei0peeahOWbnuiwg+WHveaVsFx0XG4gICAgICAgIGNvbXBsZXRlXHRmdW5jdGlvblx0XHTlkKZcdOaOpeWPo+iwg+eUqOe7k+adn+eahOWbnuiwg+WHveaVsO+8iOiwg+eUqOaIkOWKn+OAgeWksei0pemDveS8muaJp+ihjO+8iVxuICAgICAgICBvYmplY3QuZW52VmVyc2lvbiDnmoTlkIjms5XlgLxcblxuICAgICAgICBlbnZWZXJzaW9uID4+LS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgZGV2ZWxvcFx05byA5Y+R54mIXG4gICAgICAgIHRyaWFsXHTkvZPpqozniYhcbiAgICAgICAgcmVsZWFzZVx05q2j5byP54mIXG4gICAgICovXG4gICAgY2xpY2tHYW1lKGdhbWVjZmcpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuaJk+W8gOWwj+eoi+W6jy4uLlwiKVxuICAgICAgICB3eC5uYXZpZ2F0ZVRvTWluaVByb2dyYW0oe1xuICAgICAgICAgICAgYXBwSWQ6Z2FtZWNmZy53eF9hcHBpZCxcbiAgICAgICAgICAgIGV4dHJhRGF0YTp7XG4gICAgICAgICAgICAgICAgd3hfYXBwaWQ6R2FtZUNvbmZpZy53eF9hcHBpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnZWZXJzaW9uOlwicmVsZWFzZVwiLFxuICAgICAgICAgICAgc3VjY2VzczoocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5omT5byA5bCP56iL5bqP5oiQ5YqfIDpcIiArIGdhbWVjZmcud3hfYXBwaWQpXG4gICAgICAgICAgICAgICAgLy8g6Lez6L2s6YCa55+l5pyN5Yqh5ZmoXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsOihyZXMpPT57XG4gICAgICAgICAgICAgICAgLy/miZPlvIDlpLHotKVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaJk+W8gOWwj+eoi+W6j+Wksei0pSA6XCIgK2dhbWVjZmcud3hfYXBwaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyDmiZPlvIDor6bmg4Ug5oiW6ICF55u05o6l5omT5byAXG4gICAgICAgIC8vY2ZnLmltYWdlICBcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMudXBkYXRlRmluaXNoZWRUYXNrLDEsY2MubWFjcm8uUkVQRUFUX0ZPUkVWRVIpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy51cGRhdGVGaW5pc2hlZFRhc2spO1xuICAgIH1cblxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIC8vIGxldCBnYW1lTGlzdCAgPSBbXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgY29udGVudDpcIuWwhOS6huS4queQg1wiLFxuICAgICAgICAvLyAgICAgICAgIGV4dHJhOlwiXCIsXG4gICAgICAgIC8vICAgICAgICAgaWNvbjpcImh0dHBzOi8vMTExLjIzMS45NC4yMTMvZ2FtZS9nYW1lcmVzL3JlY29tbWVuZC9nYW1lXzAxL2ljb24uanBnXCIsXG4gICAgICAgIC8vICAgICAgICAgaWQ6MSxcbiAgICAgICAgLy8gICAgICAgICBpbWFnZTpcImh0dHBzOi8vMTExLjIzMS45NC4yMTMvZ2FtZS9nYW1lcmVzL3JlY29tbWVuZC9nYW1lXzAxL3FyLnBuZ1wiLFxuICAgICAgICAvLyAgICAgICAgIHRpdGxlOlwi5bCE5LqG5Liq55CDXCIsXG4gICAgICAgIC8vICAgICAgICAgd3hfYXBwaWQ6XCJ3eGNkNTZjZDBhNjYxOTk2MzhcIixcbiAgICAgICAgLy8gICAgICAgICBwcmlvcml0eTogOTksXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIF1cbiAgICAgICAgLy8gbGV0IHRlc3QgPSBKU09OLnBhcnNlKCd7XCJwcmlvcml0eVwiOjEwMCxcInRpdGxlXCI6XCLmsLTmnpzms6Hms6HpvplcIixcImV4dHJhXCI6XCJlbXB0eVwiLFwiaWNvblwiOlwiaHR0cHM6Ly83MjY1LXJlbGVhc2UtMmM4N2M0LTEyNTgzOTk0NjMudGNiLnFjbG91ZC5sYS9wcGxpY29uLnBuZz9zaWduPTQzMTE2YTVlY2ZlYWQ2ZTYxNGM1MmI5ODE4Y2IxNWVjXFx1MDAyNnQ9MTU0Nzk3MjQ5N1wiLFwiaW1hZ2VcIjpcImh0dHBzOi8vNzI2NS1yZWxlYXNlLTJjODdjNC0xMjU4Mzk5NDYzLnRjYi5xY2xvdWQubGEvcXJjb2RlICgyKS5qcGc/c2lnbj00M2VkYzUxZjkyNGU4YTRlOTY5ZTcxYzVlMDc1M2FkZlxcdTAwMjZ0PTE1NDc5NzI0MjNcIixcInd4X2FwcGlkXCI6XCJ3eGRiYWNiYmEyZDAyNzcxNTJcIn0nKVxuICAgICAgICAvLyBnYW1lTGlzdC5wdXNoKHRlc3QpO1xuICAgICAgICAvLyB0aGlzLmFkZExpc3QoZ2FtZUxpc3QpXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/GameConfigs.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ff8cbMXJFLVaQF1Sqnm6gc', 'GameConfigs');
// framework/wxsdk/GameConfigs.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.GameConfig = void 0;
exports.GameConfig = {
    game_id: "animalines",
    wx_appid: "wxbcc31e8a2b24cb41",
    default_share_title: "最萌动物连连看",
    deafult_share_imgUrl: "resources/wechat_share.jpg"
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcR2FtZUNvbmZpZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFVyxRQUFBLFVBQVUsR0FBRztJQUNwQixPQUFPLEVBQUMsWUFBWTtJQUNwQixRQUFRLEVBQUMsb0JBQW9CO0lBQzdCLG1CQUFtQixFQUFDLFNBQVM7SUFDN0Isb0JBQW9CLEVBQUMsNEJBQTRCO0NBRXBELENBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YUNlbnRlciwgeyBkYywgZmllbGQgfSBmcm9tIFwiLi4vcGx1Z2luX2Jvb3N0cy9taXNjL0RhdGFDZW50ZXJcIjtcblxuZXhwb3J0IHZhciBHYW1lQ29uZmlnID0ge1xuICAgIGdhbWVfaWQ6XCJhbmltYWxpbmVzXCIsXG4gICAgd3hfYXBwaWQ6XCJ3eGJjYzMxZThhMmIyNGNiNDFcIixcbiAgICBkZWZhdWx0X3NoYXJlX3RpdGxlOlwi5pyA6JCM5Yqo54mp6L+e6L+e55yLXCIsXG4gICAgZGVhZnVsdF9zaGFyZV9pbWdVcmw6XCJyZXNvdXJjZXMvd2VjaGF0X3NoYXJlLmpwZ1wiXG5cbn1cblxuXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b9f111MRGFKg7CINn50/KaQ', 'MoreGameItem');
// framework/wxsdk/MoreGameItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameItem = /** @class */ (function (_super) {
    __extends(MoreGameItem, _super);
    function MoreGameItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.title = null;
        _this.content = null;
        _this.icon = null;
        _this.btn = null;
        _this.btnSelf = null;
        _this.star_progress = null;
        _this.player_num = null;
        return _this;
    }
    MoreGameItem.prototype.setStar = function (c) {
        this.star_progress.width = 125 / 5 * c;
    };
    MoreGameItem.prototype.onLoad = function () {
        this.btnSelf = this.getComponent(cc.Button);
    };
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "title", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "content", void 0);
    __decorate([
        property(cc.Sprite)
    ], MoreGameItem.prototype, "icon", void 0);
    __decorate([
        property(cc.Button)
    ], MoreGameItem.prototype, "btn", void 0);
    __decorate([
        property(cc.Node)
    ], MoreGameItem.prototype, "star_progress", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "player_num", void 0);
    MoreGameItem = __decorate([
        ccclass
    ], MoreGameItem);
    return MoreGameItem;
}(cc.Component));
exports.default = MoreGameItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQWlDQztRQTlCRyxXQUFLLEdBQVksSUFBSSxDQUFDO1FBR3RCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFHeEIsVUFBSSxHQUFhLElBQUksQ0FBQztRQUd0QixTQUFHLEdBQWEsSUFBSSxDQUFDO1FBRXJCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFJekIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFHOUIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7O0lBWS9CLENBQUM7SUFWRyw4QkFBTyxHQUFQLFVBQVEsQ0FBQztRQUVMLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFHRCw2QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBN0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ0c7SUFHdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSztJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzhDQUNFO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQ0M7SUFNckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDWTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO29EQUNRO0lBckJWLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FpQ2hDO0lBQUQsbUJBQUM7Q0FqQ0QsQUFpQ0MsQ0FqQ3lDLEVBQUUsQ0FBQyxTQUFTLEdBaUNyRDtrQkFqQ29CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vcmVHYW1lSXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgdGl0bGU6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGNvbnRlbnQ6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBpY29uOmNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxuICAgIGJ0bjpjYy5CdXR0b24gPSBudWxsO1xuXG4gICAgYnRuU2VsZjpjYy5CdXR0b24gPSBudWxsO1xuXG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBzdGFyX3Byb2dyZXNzOiBjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBwbGF5ZXJfbnVtOmNjLkxhYmVsID0gbnVsbDtcblxuICAgIHNldFN0YXIoYylcbiAgICB7XG4gICAgICAgIHRoaXMuc3Rhcl9wcm9ncmVzcy53aWR0aCA9IDEyNS81ICogYztcbiAgICB9XG5cbiAgICBcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5idG5TZWxmID0gdGhpcy5nZXRDb21wb25lbnQoY2MuQnV0dG9uKTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'da60azHmcJF6oz1R2L0H11s', 'MoreGameDialog');
// framework/wxsdk/MoreGameDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameManager_1 = require("./MoreGameManager");
var MoreGameItem_1 = require("./MoreGameItem");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameDialog = /** @class */ (function (_super) {
    __extends(MoreGameDialog, _super);
    function MoreGameDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.root = null;
        _this.banner = null;
        _this.title = null;
        _this.template = null;
        _this.scrollView = null;
        _this.items = [];
        return _this;
        // update (dt) {}
    }
    MoreGameDialog.prototype.onLoad = function () {
        // this.template
    };
    MoreGameDialog.prototype.start = function () {
    };
    MoreGameDialog.prototype.updateChildWidget = function (node) {
        var widget = node.getComponent(cc.Widget);
        if (widget) {
            widget.updateAlignment();
        }
    };
    MoreGameDialog.prototype.updateView = function () {
        var rect = this.banner.spriteFrame.getRect();
        var size = this.root.getContentSize();
        var ratio = size.width / rect.width;
        var calcHeight = ratio * rect.height;
        this.banner.sizeMode = cc.Sprite.SizeMode.RAW;
        this.banner.node.height = calcHeight;
        var bannerWidget = this.banner.getComponent(cc.Widget);
        bannerWidget.updateAlignment();
        var scrollviewWidget = this.scrollView.getComponent(cc.Widget);
        scrollviewWidget.top = calcHeight;
        scrollviewWidget.updateAlignment();
        g.foreachNode(this.scrollView.node, this.updateChildWidget, this);
        // console.log(size ,rect,calcHeight);
    };
    MoreGameDialog.prototype.onEnable = function () {
        this.scheduleOnce(this.updateView);
    };
    MoreGameDialog.prototype.showBanner = function () {
        return __awaiter(this, void 0, void 0, function () {
            var rect;
            return __generator(this, function (_a) {
                rect = this.banner.spriteFrame.getRect();
                this.updateView();
                return [2 /*return*/];
            });
        });
    };
    MoreGameDialog.prototype.toUserfriendlyNum = function (num) {
        if (num > 10000) {
            return (num / 10000).toFixed(1) + "万";
        }
        return num + "";
    };
    MoreGameDialog.prototype.onShown = function () {
        this.showBanner();
        var list = MoreGameManager_1.default.instance.gameList;
        this.scrollView.content.removeAllChildren();
        this.items.splice(0, this.items.length);
        for (var i = 0; i < list.length; i++) {
            var cfg = list[i];
            var node = cc.instantiate(this.template);
            var item = node.getComponent(MoreGameItem_1.default);
            item.title.string = cfg.title;
            item.content.string = cfg.content;
            item.player_num.string = this.toUserfriendlyNum(cfg.players || 100000);
            item.setStar(cfg.star || 4);
            this.items.push(item);
            this.scrollView.content.addChild(node);
            if (item.btn.clickEvents.length > 0)
                item.btn.clickEvents[0].customEventData = i + "";
            if (item.btnSelf.clickEvents.length > 0)
                item.btnSelf.clickEvents[0].customEventData = i + "";
        }
        this.showIcons();
    };
    MoreGameDialog.prototype.showIcons = function () {
        return __awaiter(this, void 0, void 0, function () {
            var list, i, cfg, item, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        list = MoreGameManager_1.default.instance.gameList;
                        i = 0;
                        _b.label = 1;
                    case 1:
                        if (!(i < list.length)) return [3 /*break*/, 4];
                        cfg = list[i];
                        item = this.items[i];
                        _a = item.icon;
                        return [4 /*yield*/, MoreGameManager_1.default.instance.getSpriteFrame(cfg.icon)];
                    case 2:
                        _a.spriteFrame = _b.sent();
                        _b.label = 3;
                    case 3:
                        i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    MoreGameDialog.prototype.on_click_enter = function (sender, i) {
        var list = MoreGameManager_1.default.instance.gameList;
        var cfg = list[Number(i)];
        console.log(cfg);
        MoreGameManager_1.default.instance.clickGame(cfg);
    };
    __decorate([
        property(cc.Node)
    ], MoreGameDialog.prototype, "root", void 0);
    __decorate([
        property(cc.Sprite)
    ], MoreGameDialog.prototype, "banner", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameDialog.prototype, "title", void 0);
    __decorate([
        property(cc.Node)
    ], MoreGameDialog.prototype, "template", void 0);
    __decorate([
        property(cc.ScrollView)
    ], MoreGameDialog.prototype, "scrollView", void 0);
    MoreGameDialog = __decorate([
        ccclass
    ], MoreGameDialog);
    return MoreGameDialog;
}(cc.Component));
exports.default = MoreGameDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFnRDtBQUNoRCwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUE4SEM7UUEzSEcsVUFBSSxHQUFXLElBQUksQ0FBQztRQUdwQixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFHdEIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixnQkFBVSxHQUFpQixJQUFJLENBQUM7UUFHaEMsV0FBSyxHQUFvQixFQUFFLENBQUE7O1FBMkczQixpQkFBaUI7SUFDckIsQ0FBQztJQTFHRywrQkFBTSxHQUFOO1FBRUksZ0JBQWdCO0lBRXBCLENBQUM7SUFFRCw4QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDBDQUFpQixHQUFqQixVQUFrQixJQUFJO1FBRWxCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLElBQUcsTUFBTSxFQUNUO1lBQ0ksTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUVELG1DQUFVLEdBQVY7UUFFSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFB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QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hCLHlCQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMzQyxDQUFDO0lBeEhEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0RBQ0U7SUFHcEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztrREFDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2lEQUNHO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ007SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQztzREFDUTtJQWZmLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0E4SGxDO0lBQUQscUJBQUM7Q0E5SEQsQUE4SEMsQ0E5SDJDLEVBQUUsQ0FBQyxTQUFTLEdBOEh2RDtrQkE5SG9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVNYW5hZ2VyIGZyb20gXCIuL01vcmVHYW1lTWFuYWdlclwiO1xuaW1wb3J0IE1vcmVHYW1lSXRlbSBmcm9tIFwiLi9Nb3JlR2FtZUl0ZW1cIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JlR2FtZURpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICByb290OmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBiYW5uZXI6Y2MuU3ByaXRlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aXRsZTpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICB0ZW1wbGF0ZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5TY3JvbGxWaWV3KVxuICAgIHNjcm9sbFZpZXc6Y2MuU2Nyb2xsVmlldyA9IG51bGw7XG5cblxuICAgIGl0ZW1zIDogTW9yZUdhbWVJdGVtW10gPSBbXVxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIC8vIHRoaXMudGVtcGxhdGVcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBcbiAgICB9XG5cbiAgICB1cGRhdGVDaGlsZFdpZGdldChub2RlKVxuICAgIHtcbiAgICAgICAgbGV0IHdpZGdldCA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgIGlmKHdpZGdldCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZGdldC51cGRhdGVBbGlnbm1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVZpZXcoKVxuICAgIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmJhbm5lci5zcHJpdGVGcmFtZS5nZXRSZWN0KCk7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5yb290LmdldENvbnRlbnRTaXplKCk7XG4gICAgICAgIGxldCByYXRpbyA9IHNpemUud2lkdGggLyByZWN0LndpZHRoO1xuICAgICAgICBsZXQgY2FsY0hlaWdodCA9IHJhdGlvICogcmVjdC5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVyLnNpemVNb2RlID0gY2MuU3ByaXRlLlNpemVNb2RlLlJBVztcbiAgICAgICAgdGhpcy5iYW5uZXIubm9kZS5oZWlnaHQgPSBjYWxjSGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgbGV0IGJhbm5lcldpZGdldCA9IHRoaXMuYmFubmVyLmdldENvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICBiYW5uZXJXaWRnZXQudXBkYXRlQWxpZ25tZW50KCk7XG5cbiAgICAgICAgbGV0IHNjcm9sbHZpZXdXaWRnZXQgPSB0aGlzLnNjcm9sbFZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldClcbiAgICAgICAgc2Nyb2xsdmlld1dpZGdldC50b3AgPSBjYWxjSGVpZ2h0O1xuICAgICAgICBzY3JvbGx2aWV3V2lkZ2V0LnVwZGF0ZUFsaWdubWVudCgpO1xuICAgICAgICBnLmZvcmVhY2hOb2RlKHRoaXMuc2Nyb2xsVmlldy5ub2RlLHRoaXMudXBkYXRlQ2hpbGRXaWRnZXQsdGhpcylcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2l6ZSAscmVjdCxjYWxjSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnVwZGF0ZVZpZXcpXG4gICAgICAgIFxuICAgIH1cblxuICAgIGFzeW5jIHNob3dCYW5uZXIoKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5iYW5uZXIuc3ByaXRlRnJhbWUgPSBhd2FpdCBNb3JlR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUodXJsKTtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmJhbm5lci5zcHJpdGVGcmFtZS5nZXRSZWN0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xuICAgIH1cblxuICAgIHRvVXNlcmZyaWVuZGx5TnVtKG51bTpudW1iZXIpXG4gICAge1xuICAgICAgICBpZihudW0gPiAxMDAwMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIChudW0vMTAwMDApLnRvRml4ZWQoMSkgKyBcIuS4h1wiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bSArXCJcIjtcbiAgICB9XG5cbiAgICBvblNob3duKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2hvd0Jhbm5lcigpXG4gICAgICAgIGxldCBsaXN0ID0gTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVMaXN0XG4gICAgICAgIHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKDAsdGhpcy5pdGVtcy5sZW5ndGgpXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDtpIDwgbGlzdC5sZW5ndGg7IGkgKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjZmcgPSBsaXN0W2ldO1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRlbXBsYXRlKVxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBub2RlLmdldENvbXBvbmVudChNb3JlR2FtZUl0ZW0pXG4gICAgICAgICAgICBpdGVtLnRpdGxlLnN0cmluZyA9IGNmZy50aXRsZTtcbiAgICAgICAgICAgIGl0ZW0uY29udGVudC5zdHJpbmcgPSBjZmcuY29udGVudFxuICAgICAgICAgICAgaXRlbS5wbGF5ZXJfbnVtLnN0cmluZyA9IHRoaXMudG9Vc2VyZnJpZW5kbHlOdW0oY2ZnLnBsYXllcnN8fDEwMDAwMClcbiAgICAgICAgICAgIGl0ZW0uc2V0U3RhcihjZmcuc3Rhcnx8IDQpO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuYWRkQ2hpbGQobm9kZSlcbiAgICAgICAgICAgIGlmKGl0ZW0uYnRuLmNsaWNrRXZlbnRzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgaXRlbS5idG4uY2xpY2tFdmVudHNbMF0uY3VzdG9tRXZlbnREYXRhID0gaSArXCJcIjtcbiAgICAgICAgICAgIGlmKGl0ZW0uYnRuU2VsZi5jbGlja0V2ZW50cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIGl0ZW0uYnRuU2VsZi5jbGlja0V2ZW50c1swXS5jdXN0b21FdmVudERhdGEgPSBpICtcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvd0ljb25zKClcbiAgICB9XG5cblxuICAgIGFzeW5jIHNob3dJY29ucygpXG4gICAge1xuICAgICAgICBsZXQgbGlzdCA9IE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lTGlzdFxuICAgICAgICBmb3IgKHZhciBpID0gMCA7aSA8IGxpc3QubGVuZ3RoOyBpICsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2ZnID0gbGlzdFtpXTtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtc1tpXVxuICAgICAgICAgICAgaXRlbS5pY29uLnNwcml0ZUZyYW1lID0gYXdhaXQgTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKGNmZy5pY29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25fY2xpY2tfZW50ZXIoc2VuZGVyLGkpXG4gICAge1xuICAgICAgICBsZXQgbGlzdCA9IE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lTGlzdFxuICAgICAgICB2YXIgY2ZnID0gbGlzdFtOdW1iZXIoaSldOyBcbiAgICAgICAgY29uc29sZS5sb2coY2ZnKVxuICAgICAgICBNb3JlR2FtZU1hbmFnZXIuaW5zdGFuY2UuY2xpY2tHYW1lKGNmZylcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameStyle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '583d3QfyxhKU6/QqcEwAh29', 'MoreGameStyle');
// framework/wxsdk/MoreGameStyle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameComponent_1 = require("./MoreGameComponent");
//小游戏跳转
//https://developers.weixin.qq.com/miniprogram/dev/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html?search-key=navigateToMiniProgram
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameStyle = /** @class */ (function (_super) {
    __extends(MoreGameStyle, _super);
    function MoreGameStyle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icons = [];
        _this.buttons = [];
        _this.labels = [];
        _this.datas = [];
        return _this;
        // update (dt) {}
    }
    Object.defineProperty(MoreGameStyle.prototype, "count", {
        get: function () {
            return this.icons.length;
        },
        enumerable: false,
        configurable: true
    });
    MoreGameStyle.prototype.onLoad = function () {
        for (var i = 0; i < this.buttons.length; i++) {
            var btn = this.buttons[i];
            var eventHandler = new cc.Component.EventHandler();
            eventHandler.target = this.node;
            eventHandler.component = "MoreGameStyle";
            eventHandler.handler = "onClick";
            eventHandler.customEventData = i + "";
            btn.clickEvents.push(eventHandler);
            this.labels[i].node.active = false;
            this.icons[i].node.active = false;
            btn.interactable = false;
        }
    };
    MoreGameStyle.prototype.onClick = function (sender, data) {
        var i = Number(data);
        var list = this.list;
        var task = list[i];
        this.manager.clickGame(task.gameConfig);
    };
    MoreGameStyle.prototype.onShow = function () {
        var list = this.list;
        var _loop_1 = function () {
            var task = list[i];
            var icon = this_1.icons[i];
            if (task) {
                var label = this_1.labels[i];
                label.string = task.gameConfig.title;
                this_1.labels[i].node.active = true;
                icon.node.active = true;
                this_1.buttons[i].interactable = true;
                this_1.manager.getSpriteFrame(task.gameConfig.icon).then(function (sf) {
                    icon.spriteFrame = sf;
                });
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.icons.length; i++) {
            _loop_1();
        }
    };
    __decorate([
        property([cc.Sprite])
    ], MoreGameStyle.prototype, "icons", void 0);
    __decorate([
        property([cc.Button])
    ], MoreGameStyle.prototype, "buttons", void 0);
    __decorate([
        property([cc.Label])
    ], MoreGameStyle.prototype, "labels", void 0);
    MoreGameStyle = __decorate([
        ccclass
    ], MoreGameStyle);
    return MoreGameStyle;
}(MoreGameComponent_1.default));
exports.default = MoreGameStyle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVTdHlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseURBQW9EO0FBRXBELE9BQU87QUFDUCx1SkFBdUo7QUFFakosSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQWlCO0lBQTVEO1FBQUEscUVBbUVDO1FBaEVHLFdBQUssR0FBZSxFQUFFLENBQUE7UUFHdEIsYUFBTyxHQUFlLEVBQUUsQ0FBQTtRQUd4QixZQUFNLEdBQWMsRUFBRSxDQUFBO1FBRXRCLFdBQUssR0FBVSxFQUFFLENBQUE7O1FBdURqQixpQkFBaUI7SUFDckIsQ0FBQztJQXRERyxzQkFBSSxnQ0FBSzthQUFUO1lBRUksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQUVELDhCQUFNLEdBQU47UUFFSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQzNDO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUN6QixJQUFJLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDbkQsWUFBWSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2hDLFlBQVksQ0FBQyxTQUFTLEdBQUcsZUFBZSxDQUFBO1lBQ3hDLFlBQVksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFBO1lBQ2hDLFlBQVksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxHQUFFLEVBQUUsQ0FBQztZQUNyQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDbEMsR0FBRyxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBR0QsK0JBQU8sR0FBUCxVQUFRLE1BQU0sRUFBQyxJQUFXO1FBRXRCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNwQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFBO1FBQ3BCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUdELDhCQUFNLEdBQU47UUFFSSxJQUFJLElBQUksR0FBVSxJQUFJLENBQUMsSUFBSSxDQUFDOztZQUd4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxJQUFJLEdBQUcsT0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDeEIsSUFBRyxJQUFJLEVBQ1A7Z0JBQ0ksSUFBSSxLQUFLLEdBQUcsT0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzFCLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUE7Z0JBQ3BDLE9BQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO2dCQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQ3hCLE9BQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUE7Z0JBQ25DLE9BQUssT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEVBQUU7b0JBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO2dCQUMxQixDQUFDLENBQUMsQ0FBQTthQUVMOzs7UUFmTCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFOztTQWdCeEM7SUFDTCxDQUFDO0lBOUREO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dEQUNBO0lBR3RCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2tEQUNFO0lBR3hCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lEQUNDO0lBVEwsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQW1FakM7SUFBRCxvQkFBQztDQW5FRCxBQW1FQyxDQW5FMEMsMkJBQWlCLEdBbUUzRDtrQkFuRW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYW1lQ29uZmlnIH0gZnJvbSBcIi4vR2FtZUNvbmZpZ3NcIjtcbmltcG9ydCBNb3JlR2FtZUNvbXBvbmVudCBmcm9tIFwiLi9Nb3JlR2FtZUNvbXBvbmVudFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL01vcmVHYW1lTWFuYWdlclwiO1xuLy/lsI/muLjmiI/ot7Povaxcbi8vaHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2Rldi9hcGkvb3Blbi1hcGkvbWluaXByb2dyYW0tbmF2aWdhdGUvd3gubmF2aWdhdGVUb01pbmlQcm9ncmFtLmh0bWw/c2VhcmNoLWtleT1uYXZpZ2F0ZVRvTWluaVByb2dyYW1cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JlR2FtZVN0eWxlIGV4dGVuZHMgTW9yZUdhbWVDb21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KFtjYy5TcHJpdGVdKVxuICAgIGljb25zOmNjLlNwcml0ZVtdID0gW11cblxuICAgIEBwcm9wZXJ0eShbY2MuQnV0dG9uXSlcbiAgICBidXR0b25zOmNjLkJ1dHRvbltdID0gW11cblxuICAgIEBwcm9wZXJ0eShbY2MuTGFiZWxdKVxuICAgIGxhYmVsczpjYy5MYWJlbFtdID0gW11cblxuICAgIGRhdGFzOmFueVtdICA9IFtdXG5cbiAgICBnZXQgY291bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbnMubGVuZ3RoO1xuICAgIH1cblxuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMCA7aSA8IHRoaXMuYnV0dG9ucy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYnRuID0gdGhpcy5idXR0b25zW2ldXG4gICAgICAgICAgICBsZXQgZXZlbnRIYW5kbGVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci50YXJnZXQgPSB0aGlzLm5vZGU7XG4gICAgICAgICAgICBldmVudEhhbmRsZXIuY29tcG9uZW50ID0gXCJNb3JlR2FtZVN0eWxlXCJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5oYW5kbGVyID0gXCJvbkNsaWNrXCJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5jdXN0b21FdmVudERhdGEgPSBpICtcIlwiO1xuICAgICAgICAgICAgYnRuLmNsaWNrRXZlbnRzLnB1c2goZXZlbnRIYW5kbGVyKVxuICAgICAgICAgICAgdGhpcy5sYWJlbHNbaV0ubm9kZS5hY3RpdmUgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5pY29uc1tpXS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnRuLmludGVyYWN0YWJsZSA9IGZhbHNlO1xuICAgICAgICB9IFxuICAgIH1cblxuXG4gICAgb25DbGljayhzZW5kZXIsZGF0YTpzdHJpbmcpXG4gICAge1xuICAgICAgICBsZXQgaSA9IE51bWJlcihkYXRhKVxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdFxuICAgICAgICBsZXQgdGFzayA9IGxpc3RbaV1cbiAgICAgICAgdGhpcy5tYW5hZ2VyLmNsaWNrR2FtZSh0YXNrLmdhbWVDb25maWcpO1xuICAgIH1cblxuXG4gICAgb25TaG93KClcbiAgICB7XG4gICAgICAgIGxldCBsaXN0OlRhc2tbXSA9IHRoaXMubGlzdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCB0aGlzLmljb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YXNrID0gbGlzdFtpXTtcbiAgICAgICAgICAgIGxldCBpY29uID0gdGhpcy5pY29uc1tpXVxuICAgICAgICAgICAgaWYodGFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmxhYmVsc1tpXVxuICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9IHRhc2suZ2FtZUNvbmZpZy50aXRsZVxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzW2ldLm5vZGUuYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGljb24ubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uc1tpXS5pbnRlcmFjdGFibGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmdldFNwcml0ZUZyYW1lKHRhc2suZ2FtZUNvbmZpZy5pY29uKS50aGVuKHNmPT57XG4gICAgICAgICAgICAgICAgICAgIGljb24uc3ByaXRlRnJhbWUgPSBzZjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Info.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '894ddeHxZNOMqD6BW+YheZr', 'Info');
// Game/Scripts/Info.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.UserInfo = exports.ChoiceType = void 0;
var DataCenter_1 = require("../../framework/plugin_boosts/misc/DataCenter");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var Platform_1 = require("../../framework/Platform");
var MoreGameManager_1 = require("../../framework/wxsdk/MoreGameManager");
var ChoiceType;
(function (ChoiceType) {
    ChoiceType[ChoiceType["DailyGet"] = 0] = "DailyGet";
    ChoiceType[ChoiceType["Levelup"] = 1] = "Levelup";
    ChoiceType[ChoiceType["Get"] = 2] = "Get";
    ChoiceType[ChoiceType["Shop"] = 3] = "Shop";
    ChoiceType[ChoiceType["BannerAdRefresh"] = 4] = "BannerAdRefresh";
    ChoiceType[ChoiceType["HB"] = 5] = "HB";
})(ChoiceType = exports.ChoiceType || (exports.ChoiceType = {}));
var UserInfoClass = /** @class */ (function (_super) {
    __extends(UserInfoClass, _super);
    function UserInfoClass() {
        var _this = _super.call(this) || this;
        _this.choices = [];
        _this.version = "6";
        _this.level = 1;
        _this.selectedSkin = "2";
        _this.dailyGetTime = new Date(2018, 1, 1).getTime();
        _this.freedrawTime = _this.dailyGetTime;
        _this.luckyVideoWatchTime = _this.dailyGetTime;
        _this.shopFreeDiamondTime = _this.dailyGetTime;
        _this.diamond = 0;
        _this.sfx_enabled = true;
        _this.firstTimeReach = false;
        _this.luckyVideoWatchCount = 0;
        _this.timePassed = 0;
        _this.stepUsed = 0;
        _this.currentLevel = 1;
        _this.unlock(_this.selectedSkin);
        setTimeout(function () {
            _this.save();
        }, 60 * 1000);
        return _this;
        // onexit game =>save
    }
    // ret: 0:directly-get 1:share 2:video
    UserInfoClass.prototype.getChoice = function (slotId) {
        return this.choices[slotId] || 0;
    };
    UserInfoClass.prototype.init = function () {
        Platform_1.default.configGetSignal.on(this.onGetConfig, this);
        Platform_1.default.requestServerConfigs("t_games", this.onGetGames, this);
    };
    UserInfoClass.prototype.onGetGames = function (data) {
        MoreGameManager_1.default.instance.addList(data);
    };
    UserInfoClass.prototype.onGetConfig = function (data) {
        if (data) {
            var record = data[0];
            if (record) {
                this.choices = JSON.parse(record[this.version]);
            }
        }
        Platform_1.default.initBannerAd(this.getChoice(ChoiceType.BannerAdRefresh));
    };
    UserInfoClass.prototype.addDiamond = function (d, b) {
        if (b === void 0) { b = true; }
        if (typeof (d) == "number")
            this.diamond += d;
        else
            this.diamond += parseInt(d);
        if (b) {
            ToastManager_1.Toast.make("获得钻石 x" + d);
            Device_1.default.playEffect(Res_1.R.audio_get_diamond);
        }
        if (!this.firstTimeReach) {
            if (this.diamond >= 500) {
                ToastManager_1.Toast.make("哇可以买皮肤了，快去皮肤商店看看吧!", 2);
                this.firstTimeReach = true;
                exports.UserInfo.save();
            }
        }
    };
    UserInfoClass.prototype.isUnlock = function (skin_id) {
        var carUnlocked = localStorage.getItem("unlocked_" + skin_id);
        if (!carUnlocked) {
            return false;
        }
        else {
            return carUnlocked == "1";
        }
    };
    UserInfoClass.prototype.isAllUnlocked = function () {
        var c = 0;
        for (var i = 0; i < Res_1.R.skinConfig.json.length; i++) {
            var v = Res_1.R.skinConfig.json[i];
            if (exports.UserInfo.isUnlock(v.id)) {
                c++;
            }
        }
        return c == Res_1.R.skinConfig.json.length;
    };
    UserInfoClass.prototype.getSkinById = function (id) {
        var res = Res_1.R.skinConfig.json.filter(function (v) { return v.id == id; });
        return res[0];
    };
    UserInfoClass.prototype.unlock = function (skin_id) {
        localStorage.setItem("unlocked_" + skin_id, "1");
    };
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "level", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "selectedSkin", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "dailyGetTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "freedrawTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "shopFreeDiamondTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "diamond", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "sfx_enabled", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "firstTimeReach", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchCount", void 0);
    UserInfoClass = __decorate([
        DataCenter_1.dc("Info")
    ], UserInfoClass);
    return UserInfoClass;
}(DataCenter_1.default));
exports.default = UserInfoClass;
exports.UserInfo = DataCenter_1.default.register(UserInfoClass);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcSW5mby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDRFQUFzRjtBQUN0Riw0Q0FBeUM7QUFDekMsOEVBQXNFO0FBQ3RFLHVFQUFrRTtBQUNsRSxxREFBZ0Q7QUFDaEQseUVBQW9FO0FBR3BFLElBQVksVUFPWDtBQVBELFdBQVksVUFBVTtJQUNsQixtREFBUSxDQUFBO0lBQ1IsaURBQU8sQ0FBQTtJQUNQLHlDQUFHLENBQUE7SUFDSCwyQ0FBSSxDQUFBO0lBQ0osaUVBQWUsQ0FBQTtJQUNmLHVDQUFFLENBQUE7QUFDTixDQUFDLEVBUFcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFPckI7QUFHRDtJQUEyQyxpQ0FBVTtJQXdGakQ7UUFBQSxZQUVJLGlCQUFPLFNBTVY7UUE5RkQsYUFBTyxHQUFNLEVBQUUsQ0FBQTtRQUNmLGFBQU8sR0FBVSxHQUFHLENBQUM7UUFnQ3JCLFdBQUssR0FBVSxDQUFDLENBQUM7UUFHakIsa0JBQVksR0FBVSxHQUFHLENBQUM7UUFHMUIsa0JBQVksR0FBVyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR3BELGtCQUFZLEdBQVUsS0FBSSxDQUFDLFlBQVksQ0FBQztRQUd4Qyx5QkFBbUIsR0FBVSxLQUFJLENBQUMsWUFBWSxDQUFBO1FBRzlDLHlCQUFtQixHQUFVLEtBQUksQ0FBQyxZQUFZLENBQUM7UUFHL0MsYUFBTyxHQUFVLENBQUMsQ0FBQztRQUduQixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUczQixvQkFBYyxHQUFXLEtBQUssQ0FBQztRQUcvQiwwQkFBb0IsR0FBVSxDQUFDLENBQUM7UUFDaEMsZ0JBQVUsR0FBVyxDQUFDLENBQUM7UUFDdkIsY0FBUSxHQUFXLENBQUMsQ0FBQztRQXNCckIsa0JBQVksR0FBVSxDQUFDLENBQUM7UUFLcEIsS0FBSSxDQUFD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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFDZW50ZXIsIHsgZGMsIGZpZWxkIH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvRGF0YUNlbnRlclwiO1xuaW1wb3J0IHsgUiB9IGZyb20gXCIuL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcbmltcG9ydCBNb3JlR2FtZU1hbmFnZXIgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay93eHNkay9Nb3JlR2FtZU1hbmFnZXJcIjtcblxuXG5leHBvcnQgZW51bSBDaG9pY2VUeXBlICB7XG4gICAgRGFpbHlHZXQsXG4gICAgTGV2ZWx1cCxcbiAgICBHZXQsXG4gICAgU2hvcCxcbiAgICBCYW5uZXJBZFJlZnJlc2gsXG4gICAgSEIsXG59XG5cbkBkYyhcIkluZm9cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvQ2xhc3MgZXh0ZW5kcyBEYXRhQ2VudGVyXG57XG4gICAgY2hvaWNlczpbXSA9IFtdXG4gICAgdmVyc2lvbjpzdHJpbmcgPSBcIjZcIjtcbiAgICAvLyByZXQ6IDA6ZGlyZWN0bHktZ2V0IDE6c2hhcmUgMjp2aWRlb1xuICAgIGdldENob2ljZShzbG90SWQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jaG9pY2VzW3Nsb3RJZF0gfHwgMDtcbiAgICB9XG5cbiAgICBpbml0KClcbiAgICB7XG4gICAgICAgIFBsYXRmb3JtLmNvbmZpZ0dldFNpZ25hbC5vbih0aGlzLm9uR2V0Q29uZmlnLHRoaXMpO1xuICAgICAgICBQbGF0Zm9ybS5yZXF1ZXN0U2VydmVyQ29uZmlncyhcInRfZ2FtZXNcIix0aGlzLm9uR2V0R2FtZXMsdGhpcylcbiAgICB9XG5cbiAgICBvbkdldEdhbWVzKGRhdGEpXG4gICAge1xuICAgICAgICBNb3JlR2FtZU1hbmFnZXIuaW5zdGFuY2UuYWRkTGlzdChkYXRhKTtcbiAgICB9XG5cbiAgICBvbkdldENvbmZpZyhkYXRhKVxuICAgIHtcbiAgICAgICAgaWYoZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHJlY29yZCA9IGRhdGFbMF1cbiAgICAgICAgICAgIGlmKHJlY29yZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNob2ljZXMgPSBKU09OLnBhcnNlKHJlY29yZFt0aGlzLnZlcnNpb25dKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuICAgICAgICBQbGF0Zm9ybS5pbml0QmFubmVyQWQodGhpcy5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5CYW5uZXJBZFJlZnJlc2gpKVxuICAgIH1cblxuICAgIEBmaWVsZCgpXG4gICAgbGV2ZWw6bnVtYmVyID0gMTtcblxuICAgIEBmaWVsZCgpXG4gICAgc2VsZWN0ZWRTa2luOnN0cmluZyA9IFwiMlwiO1xuXG4gICAgQGZpZWxkKClcbiAgICBkYWlseUdldFRpbWU6bnVtYmVyID0gIG5ldyBEYXRlKDIwMTgsMSwxKS5nZXRUaW1lKCk7XG5cbiAgICBAZmllbGQoKVxuICAgIGZyZWVkcmF3VGltZTpudW1iZXIgPSB0aGlzLmRhaWx5R2V0VGltZTtcblxuICAgIEBmaWVsZCgpXG4gICAgbHVja3lWaWRlb1dhdGNoVGltZTpudW1iZXIgPSB0aGlzLmRhaWx5R2V0VGltZVxuXG4gICAgQGZpZWxkKClcbiAgICBzaG9wRnJlZURpYW1vbmRUaW1lOm51bWJlciA9IHRoaXMuZGFpbHlHZXRUaW1lO1xuXG4gICAgQGZpZWxkKClcbiAgICBkaWFtb25kOm51bWJlciA9IDA7XG5cbiAgICBAZmllbGQoKVxuICAgIHNmeF9lbmFibGVkOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQGZpZWxkKClcbiAgICBmaXJzdFRpbWVSZWFjaDpib29sZWFuID0gZmFsc2U7XG5cbiAgICBAZmllbGQoKVxuICAgIGx1Y2t5VmlkZW9XYXRjaENvdW50Om51bWJlciA9IDA7XG4gICAgdGltZVBhc3NlZDogbnVtYmVyID0gMDtcbiAgICBzdGVwVXNlZDogbnVtYmVyID0gMDtcblxuICAgIGFkZERpYW1vbmQoZCxiID0gdHJ1ZSlcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZihkKSA9PSBcIm51bWJlclwiKSB0aGlzLmRpYW1vbmQgKz0gZDtcbiAgICAgICAgZWxzZSB0aGlzLmRpYW1vbmQgKz0gcGFyc2VJbnQoZCk7XG4gICAgICAgIGlmKGIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLojrflvpfpkrvnn7MgeFwiICsgZClcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9fZ2V0X2RpYW1vbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF0aGlzLmZpcnN0VGltZVJlYWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih0aGlzLmRpYW1vbmQgPj0gNTAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLlk4flj6/ku6XkubDnmq7ogqTkuobvvIzlv6vljrvnmq7ogqTllYblupfnnIvnnIvlkKchXCIsMilcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0VGltZVJlYWNoID0gdHJ1ZVxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGN1cnJlbnRMZXZlbDpudW1iZXIgPSAxO1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bmxvY2sodGhpcy5zZWxlY3RlZFNraW4pO1xuICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgfSwgNjAgKiAxMDAwKVxuICAgICAgICAvLyBvbmV4aXQgZ2FtZSA9PnNhdmVcbiAgICB9XG5cbiAgICBpc1VubG9jayhza2luX2lkKVxuICAgIHtcbiAgICAgICAgbGV0IGNhclVubG9ja2VkID0gIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidW5sb2NrZWRfXCIrc2tpbl9pZCk7XG4gICAgICAgIGlmKCFjYXJVbmxvY2tlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1lbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjYXJVbmxvY2tlZCA9PSBcIjFcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNBbGxVbmxvY2tlZCgpXG4gICAge1xuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGZvcih2YXIgaSA9IDAgO2kgPFIuc2tpbkNvbmZpZy5qc29uLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB2ID0gUi5za2luQ29uZmlnLmpzb25baV1cbiAgICAgICAgICAgIGlmKFVzZXJJbmZvLmlzVW5sb2NrKHYuaWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMgKytcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgIFxuICAgICAgICByZXR1cm4gYyA9PSBSLnNraW5Db25maWcuanNvbi5sZW5ndGhcbiAgICB9XG5cblxuICAgIGdldFNraW5CeUlkKGlkOiBhbnkpOiBhbnkge1xuICAgICAgICBsZXQgcmVzID0gUi5za2luQ29uZmlnLmpzb24uZmlsdGVyKHY9PntyZXR1cm4gdi5pZCA9PSBpZH0pO1xuICAgICAgICByZXR1cm4gcmVzWzBdXG4gICAgfVxuXG5cbiAgICB1bmxvY2soc2tpbl9pZClcbiAgICB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidW5sb2NrZWRfXCIrc2tpbl9pZCAsIFwiMVwiKVxuICAgIH1cblxufVxuZXhwb3J0IHZhciBVc2VySW5mbzpVc2VySW5mb0NsYXNzID0gRGF0YUNlbnRlci5yZWdpc3RlcihVc2VySW5mb0NsYXNzKSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/WxRankDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '80fd3Nn4dFF45QylMONs3ro', 'WxRankDialog');
// framework/wxsdk/WxRankDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../Platform");
var View_1 = require("../plugin_boosts/ui/View");
var ViewManager_1 = require("../plugin_boosts/ui/ViewManager");
var Signal_1 = require("../plugin_boosts/misc/Signal");
var LanguageManager_1 = require("../../Game/Scripts/LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WxRankDialog = /** @class */ (function (_super) {
    __extends(WxRankDialog, _super);
    function WxRankDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.closeLabel = null;
        _this.titleLabel = null;
        _this.first = true;
        _this.closeSignal = new Signal_1.default();
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 20;
        _this.eng_FontSize = 20;
        return _this;
    }
    WxRankDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Đóng cửa", "Hạng         Cấp         Tên");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Closure", "Rank         Level         Name");
                this.set_label_FontSize(this.eng_FontSize);
                break;
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("关闭", "秩         等级         姓名");
                this.set_label_FontSize(this.ch_FontSize);
                break;
        }
    };
    WxRankDialog.prototype.set_label_lang = function (closeLabelString, titleLabelString) {
        this.closeLabel.string = closeLabelString;
        this.titleLabel.string = titleLabelString;
    };
    WxRankDialog.prototype.set_label_FontSize = function (fontSize) {
        this.closeLabel.fontSize = fontSize;
    };
    WxRankDialog.prototype.onShown = function (callback, target) {
        this.closeSignal.on(callback, target);
        if (this.first) {
            this.scheduleOnce(this.reOpen, 0.1);
        }
        else {
            Platform_1.default.showRank();
        }
    };
    WxRankDialog.prototype.reOpen = function () {
        Platform_1.default.showRank();
        this.first = false;
        this.getComponent(View_1.default).hide();
        // setTimeout(() => {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
        // }, 100);
    };
    WxRankDialog.prototype.click_close = function () {
        Platform_1.default.hideRank();
        this.getComponent(View_1.default).hide();
        this.closeSignal.fire();
    };
    __decorate([
        property(cc.Label)
    ], WxRankDialog.prototype, "closeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WxRankDialog.prototype, "titleLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "eng_FontSize", void 0);
    WxRankDialog = __decorate([
        ccclass
    ], WxRankDialog);
    return WxRankDialog;
}(cc.Component));
exports.default = WxRankDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcV3hSYW5rRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQyx3Q0FBbUM7QUFDcEMsaURBQTRDO0FBQzVDLCtEQUEwRDtBQUUxRCx1REFBa0Q7QUFDbEQsc0VBQW1GO0FBRzdFLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTBDLGdDQUFZO0lBQXREO1FBQUEscUVBcUZDO1FBbEZHLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRTVCLFdBQUssR0FBVyxJQUFJLENBQUM7UUFFckIsaUJBQVcsR0FBRyxJQUFJLGdCQUFNLEVBQUUsQ0FBQztRQUczQixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQzs7SUFvRTlCLENBQUM7SUFsRUcsK0JBQVEsR0FBUjtRQUNJLFFBQVEseUJBQWUsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFO1lBQzlDLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUNmLFVBQVUsRUFDViw4QkFBOEIsQ0FDakMsQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUMxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQ2YsU0FBUyxFQUNULGlDQUFpQyxDQUNwQyxDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBRTNDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FDZixJQUFJLEVBQ0oseUJBQXlCLENBQzVCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVELHFDQUFjLEdBQWQsVUFDSSxnQkFBd0IsRUFDeEIsZ0JBQXdCO1FBRXhCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO0lBQzlDLENBQUM7SUFFRCx5Q0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3hDLENBQUM7SUFFRCw4QkFBTyxHQUFQLFVBQVEsUUFBUSxFQUFDLE1BQU07UUFDbkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3BDLElBQUcsSUFBSSxDQUFDLEtBQUssRUFDYjtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtTQUNyQzthQUFJO1lBQ0Qsa0JBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUN2QjtJQUVMLENBQUM7SUFFRCw2QkFBTSxHQUFOO1FBRUksa0JBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQy9CLHFCQUFxQjtRQUNqQixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQTtRQUNwRCxXQUFXO0lBQ2YsQ0FBQztJQUVELGtDQUFXLEdBQVg7UUFFSSxrQkFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBakZEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7b0RBQ1M7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDUztJQU81QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7cURBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO3FEQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztzREFDTDtJQWpCVCxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBcUZoQztJQUFELG1CQUFDO0NBckZELEFBcUZDLENBckZ5QyxFQUFFLENBQUMsU0FBUyxHQXFGckQ7a0JBckZvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsi77u/aW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi9QbGF0Zm9ybVwiO1xuaW1wb3J0IFZpZXcgZnJvbSBcIi4uL3BsdWdpbl9ib29zdHMvdWkvVmlld1wiO1xuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdNYW5hZ2VyXCI7XG5pbXBvcnQgQ29tbW9uIGZyb20gXCIuLi9wbHVnaW5fYm9vc3RzL3V0aWxzL0NvbW1vblwiO1xuaW1wb3J0IFNpZ25hbCBmcm9tIFwiLi4vcGx1Z2luX2Jvb3N0cy9taXNjL1NpZ25hbFwiO1xuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vLi4vR2FtZS9TY3JpcHRzL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXeFJhbmtEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGNsb3NlTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aXRsZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBmaXJzdDpib29sZWFuID0gdHJ1ZTtcblxuICAgIGNsb3NlU2lnbmFsID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDIwO1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcblxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFxyXG4gICAgICAgICAgICAgICAgICAgIFwixJDDs25nIGPhu61hXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJI4bqhbmcgICAgICAgICBD4bqlcCAgICAgICAgIFTDqm5cIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDbG9zdXJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJSYW5rICAgICAgICAgTGV2ZWwgICAgICAgICBOYW1lXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlhbPpl61cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuenqSAgICAgICAgIOetiee6pyAgICAgICAgIOWnk+WQjVwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxuXG4gICAgc2V0X2xhYmVsX2xhbmcoXG4gICAgICAgIGNsb3NlTGFiZWxTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgdGl0bGVMYWJlbFN0cmluZzogc3RyaW5nLFxuICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlTGFiZWwuc3RyaW5nID0gY2xvc2VMYWJlbFN0cmluZztcbiAgICAgICAgdGhpcy50aXRsZUxhYmVsLnN0cmluZyA9IHRpdGxlTGFiZWxTdHJpbmc7XG4gICAgfVxuXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jbG9zZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgfVxuXG4gICAgb25TaG93bihjYWxsYmFjayx0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNpZ25hbC5vbihjYWxsYmFjayx0YXJnZXQpXG4gICAgICAgIGlmKHRoaXMuZmlyc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMucmVPcGVuLDAuMSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBQbGF0Zm9ybS5zaG93UmFuaygpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIHJlT3BlbigpXG4gICAge1xuICAgICAgICBQbGF0Zm9ybS5zaG93UmFuaygpO1xuICAgICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwid2VjaGF0L1d4UmFua0RpYWxvZ1wiKVxuICAgICAgICAvLyB9LCAxMDApO1xuICAgIH1cblxuICAgIGNsaWNrX2Nsb3NlKClcbiAgICB7XG4gICAgICAgIFBsYXRmb3JtLmhpZGVSYW5rKCk7XG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcbiAgICAgICAgdGhpcy5jbG9zZVNpZ25hbC5maXJlKCk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/AddToMyFav.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7431S0vqlPiqNKDpwvWLTc', 'AddToMyFav');
// framework/wxsdk/AddToMyFav.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../Platform");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PositionType;
(function (PositionType) {
    PositionType[PositionType["left"] = 0] = "left";
    PositionType[PositionType["bottom"] = 1] = "bottom";
    PositionType[PositionType["auto"] = 2] = "auto";
})(PositionType || (PositionType = {}));
var AddToMyFav = /** @class */ (function (_super) {
    __extends(AddToMyFav, _super);
    function AddToMyFav() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pointer = null;
        _this.posType = PositionType.auto;
        _this.hideAfterSec = 30;
        _this.widget = null;
        return _this;
    }
    AddToMyFav.prototype.onLoad = function () {
        this.widget = this.getComponent(cc.Widget);
    };
    AddToMyFav.prototype.start = function () {
        if (cc.sys.platform == cc.sys.WECHAT_GAME) {
            var options = Platform_1.default.getLaunchOptions();
            console.log("场景值 :", options);
            if (options.scene == 1001 || options.scene == 1089) {
                this.node.active = false;
                return;
            }
        }
        // if(g.isNextDay(UserInfo.showAddFavTime) )
        // {
        //     UserInfo.showAddFavTime = new Date().getTime();
        // }else{
        //     this.node.active = false;
        //     return;
        // }
        if (this.posType == PositionType.auto) {
            var ratio = cc.winSize.height / cc.winSize.width;
            if (ratio > 1.98) {
                this.showStyle2();
            }
            else {
                this.showStyle1();
            }
        }
        else if (this.posType == PositionType.bottom) {
            this.showStyle1();
        }
        else if (this.posType == PositionType.left) {
            this.showStyle2();
        }
        this.scheduleOnce(this.click_hide, this.hideAfterSec);
    };
    AddToMyFav.prototype.click_hide = function () {
        this.node.active = false;
    };
    AddToMyFav.prototype.showStyle1 = function () {
        this.pointer.rotation = 0;
        this.widget.top = 128;
        this.widget.right = 140;
        this.widget.updateAlignment();
    };
    AddToMyFav.prototype.showStyle2 = function () {
        this.pointer.rotation = 90;
        this.widget.top = 40;
        this.widget.right = 300;
        this.widget.updateAlignment();
    };
    __decorate([
        property(cc.Node)
    ], AddToMyFav.prototype, "pointer", void 0);
    __decorate([
        property({ type: cc.Enum(PositionType) })
    ], AddToMyFav.prototype, "posType", void 0);
    __decorate([
        property()
    ], AddToMyFav.prototype, "hideAfterSec", void 0);
    AddToMyFav = __decorate([
        ccclass
    ], AddToMyFav);
    return AddToMyFav;
}(cc.Component));
exports.default = AddToMyFav;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcQWRkVG9NeUZhdi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esd0NBQW1DO0FBRTdCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDLElBQUssWUFLSjtBQUxELFdBQUssWUFBWTtJQUViLCtDQUFJLENBQUE7SUFDSixtREFBTSxDQUFBO0lBQ04sK0NBQUksQ0FBQTtBQUNSLENBQUMsRUFMSSxZQUFZLEtBQVosWUFBWSxRQUtoQjtBQUdEO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBNkVDO1FBMUVHLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFHdkIsYUFBTyxHQUFnQixZQUFZLENBQUMsSUFBSSxDQUFDO1FBR3pDLGtCQUFZLEdBQVUsRUFBRSxDQUFDO1FBRXpCLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBa0U1QixDQUFDO0lBaEVHLDJCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCwwQkFBSyxHQUFMO1FBQ0ksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFDeEM7WUFDSSxJQUFJLE9BQU8sR0FBRyxrQkFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUE7WUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDOUIsSUFBRyxPQUFPLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLElBQUksRUFDakQ7Z0JBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUN6QixPQUFPO2FBQ1Y7U0FDSjtRQUNELDRDQUE0QztRQUM1QyxJQUFJO1FBQ0osc0RBQXNEO1FBQ3RELFNBQVM7UUFDVCxnQ0FBZ0M7UUFDaEMsY0FBYztRQUNkLElBQUk7UUFDSixJQUFHLElBQUksQ0FBQyxPQUFPLElBQUksWUFBWSxDQUFDLElBQUksRUFDcEM7WUFDSSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUMvQyxJQUFHLEtBQUssR0FBRyxJQUFJLEVBQ2Y7Z0JBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ3JCO2lCQUFJO2dCQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzthQUNyQjtTQUNKO2FBQUssSUFBRyxJQUFJLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQzVDO1lBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ3BCO2FBQ0ksSUFBRyxJQUFJLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQ3pDO1lBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ3BCO1FBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLENBQUE7SUFDakMsQ0FBQztJQUdELCtCQUFVLEdBQVY7UUFFSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFBO0lBQ2pDLENBQUM7SUF6RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDSztJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLENBQUM7K0NBQ0U7SUFHekM7UUFEQyxRQUFRLEVBQUU7b0RBQ2M7SUFUUixVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBNkU5QjtJQUFELGlCQUFDO0NBN0VELEFBNkVDLENBN0V1QyxFQUFFLENBQUMsU0FBUyxHQTZFbkQ7a0JBN0VvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vLi4vR2FtZS9TY3JpcHRzL0luZm9cIjtcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vUGxhdGZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cblxuZW51bSBQb3NpdGlvblR5cGVcbntcbiAgICBsZWZ0LFxuICAgIGJvdHRvbSxcbiAgICBhdXRvLFxufVxuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRkVG9NeUZhdiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBwb2ludGVyOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkVudW0oUG9zaXRpb25UeXBlKX0pXG4gICAgcG9zVHlwZTpQb3NpdGlvblR5cGUgPSBQb3NpdGlvblR5cGUuYXV0bztcblxuICAgIEBwcm9wZXJ0eSgpXG4gICAgaGlkZUFmdGVyU2VjOm51bWJlciA9IDMwO1xuXG4gICAgd2lkZ2V0OmNjLldpZGdldCA9IG51bGw7XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLndpZGdldCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IFBsYXRmb3JtLmdldExhdW5jaE9wdGlvbnMoKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlnLrmma/lgLwgOlwiICxvcHRpb25zKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2NlbmUgPT0gMTAwMSB8fCBvcHRpb25zLnNjZW5lID09IDEwODkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZihnLmlzTmV4dERheShVc2VySW5mby5zaG93QWRkRmF2VGltZSkgKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICBVc2VySW5mby5zaG93QWRkRmF2VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgLy8gICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZih0aGlzLnBvc1R5cGUgPT0gUG9zaXRpb25UeXBlLmF1dG8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByYXRpbyA9IGNjLndpblNpemUuaGVpZ2h0L2NjLndpblNpemUud2lkdGg7XG4gICAgICAgICAgICBpZihyYXRpbyA+IDEuOTgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U3R5bGUyKCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dTdHlsZTEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYodGhpcy5wb3NUeXBlID09IFBvc2l0aW9uVHlwZS5ib3R0b20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1N0eWxlMSgpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0aGlzLnBvc1R5cGUgPT0gUG9zaXRpb25UeXBlLmxlZnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1N0eWxlMigpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xpY2tfaGlkZSx0aGlzLmhpZGVBZnRlclNlYyk7XG4gICAgfVxuXG4gICAgY2xpY2tfaGlkZSgpXG4gICAge1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2hvd1N0eWxlMSgpXG4gICAge1xuICAgICAgICB0aGlzLnBvaW50ZXIucm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLndpZGdldC50b3AgPSAxMjg7XG4gICAgICAgIHRoaXMud2lkZ2V0LnJpZ2h0ID0gMTQwO1xuICAgICAgICB0aGlzLndpZGdldC51cGRhdGVBbGlnbm1lbnQoKVxuICAgIH1cblxuXG4gICAgc2hvd1N0eWxlMigpXG4gICAge1xuICAgICAgICB0aGlzLnBvaW50ZXIucm90YXRpb24gPSA5MDtcbiAgICAgICAgdGhpcy53aWRnZXQudG9wID0gNDA7XG4gICAgICAgIHRoaXMud2lkZ2V0LnJpZ2h0ID0gMzAwO1xuICAgICAgICB0aGlzLndpZGdldC51cGRhdGVBbGlnbm1lbnQoKVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/sdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '39d4a0B6RRGXqBM/1udBqAy', 'sdk');
// framework/wxsdk/sdk.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.wxsdk = void 0;
var EventManager_1 = require("../plugin_boosts/utils/EventManager");
var GameConfigs_1 = require("./GameConfigs");
var Global = /** @class */ (function () {
    function Global() {
    }
    Global.videoAd = undefined;
    Global.bannerAd = undefined;
    Global.videoAdLoadCount = 0; //视频广告加载次数
    Global.bannerAdLoadCount = 0; //banner广告加载次数
    return Global;
}());
var WxSdk = /** @class */ (function () {
    function WxSdk() {
    }
    Object.defineProperty(WxSdk.prototype, "Ver", {
        get: function () { return this._version; },
        enumerable: false,
        configurable: true
    });
    WxSdk.prototype.init = function () {
        if (g.iswxgame()) {
            if (this._version == null) {
                this._systemInfo = wx.getSystemInfoSync();
                var ver = this._systemInfo.SDKVersion.replace(/\./g, "");
                this._version = parseInt(ver);
            }
        }
    };
    WxSdk.prototype.requestDB = function (tbname, callback, target) {
        this._db.collection(tbname).get({
            success: function (res) {
                console.log("get " + tbname + " succ:", res.data);
                // self._shareConfig = res.data;
                if (callback)
                    callback.call(target, res.data);
            },
            fail: function (res) {
                console.log("get " + tbname + " fail:");
                if (callback)
                    callback.call(target);
            }
        });
    };
    WxSdk.prototype.requestConfig = function (callback) {
        this._db.collection("t_conf").get({
            success: function (res) {
                console.log("get configs succ:", res.data);
                // self._shareConfig = res.data;
                if (callback)
                    callback(res.data);
            },
            fail: function (res) {
                console.log("get configs fail:", res);
                if (callback)
                    callback(null);
            }
        });
    };
    WxSdk.prototype.requestShareContent = function (callback) {
        var self = this;
        if (this._shareConfig == null) {
            this._db.collection("t_share").get({
                success: function (res) {
                    console.log("share configs succ:", res.data);
                    self._shareConfig = res.data;
                    if (res.data && res.data.length > 0) {
                        var len = res.data.length;
                        var info = res.data[g.randomInt(0, len)];
                        if (callback)
                            callback(info);
                    }
                    else {
                        if (callback)
                            callback(null);
                    }
                }, fail: function (res) {
                    console.log("share configs fail:", res);
                    if (callback)
                        callback(null);
                }
            });
        }
        else {
            var len = this._shareConfig.length;
            var info = this._shareConfig[g.randomInt(0, len)];
            if (callback)
                callback(info);
        }
    };
    WxSdk.prototype.getShareContentSync = function () {
        if (this._shareConfig && this._shareConfig.length > 0) {
            var len = this._shareConfig.length;
            var info = this._shareConfig[g.randomInt(0, len)];
            return info;
        }
        else {
            return { title: GameConfigs_1.GameConfig.default_share_title, imageUrl: cc.url.raw(GameConfigs_1.GameConfig.deafult_share_imgUrl) };
        }
    };
    WxSdk.prototype.getShareContent = function (title) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.requestShareContent(function (info) {
                if (info)
                    resolve(info);
                else {
                    // reject("share config get failed!")
                    var ret = {
                        title: title || GameConfigs_1.GameConfig.default_share_title,
                        imageUrl: cc.url.raw(GameConfigs_1.GameConfig.deafult_share_imgUrl),
                    };
                    resolve(ret);
                }
            });
        });
    };
    WxSdk.prototype.openShare = function (title, uuid, extra) {
        if (extra === void 0) { extra = ""; }
        return __awaiter(this, void 0, void 0, function () {
            var info;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!g.iswxgame())
                            return [2 /*return*/];
                        return [4 /*yield*/, this.getShareContent(title)];
                    case 1:
                        info = _a.sent();
                        console.log(info);
                        if (info != null) {
                            // if(this._userInfo && this._userInfo.openId)
                            uuid = uuid || (this._userInfo && this._userInfo.openId) || 0;
                            info.query = "share_id=" + uuid + "&time=" + new Date().getTime() + "&" + extra;
                            // info.callback = ret=>{
                            //     console.error("=>>>>>>>share:" ,ret);
                            // }
                            console.log("open Share", info.query);
                            wx.shareAppMessage(info);
                            // this.recordShare(Share.GAME, uuid);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    WxSdk.prototype.createButton = function (callback, x, y, width, height) {
        console.log("-------------createButton");
        var button = wx.createUserInfoButton({
            type: "text",
            text: "     ",
            style: {
                x: x || 0, y: y || 0,
                width: width || cc.winSize.width,
                height: height || cc.winSize.height,
                lineHeight: 40,
                backgroundColor: '#00000000',
                color: '#ffffff'
            }
        });
        button.onTap(function (res) {
            button.destroy();
            if (res && res.userInfo) {
                if (callback)
                    callback(res);
            }
            else if (callback)
                callback(null);
        });
    };
    Object.defineProperty(WxSdk.prototype, "userInfo", {
        get: function () {
            return this._userInfo.userInfo;
        },
        enumerable: false,
        configurable: true
    });
    WxSdk.prototype.getUserInfo = function (callback) {
        console.log("-------------getUserInfo");
        wx.getUserInfo({
            withCredentials: true,
            lang: "zh_CN",
            success: function (res) {
                console.log("getUserInfo success.", res);
                if (callback)
                    callback(res);
            }, fail: function (res) {
                console.log("getUserInfo:", res);
                if (callback)
                    callback(null);
            },
            complete: null
        });
    };
    WxSdk.prototype.oldAuthUser = function (callback) {
        wx.authorize({
            scope: "scope.userInfo",
            success: function (res) {
                console.log(res);
                if (callback)
                    callback(true);
            }, fail: function (res) {
                console.log(res);
                if (callback)
                    callback(false);
            },
            complete: null
        });
    };
    WxSdk.prototype.authUserInfo = function (callback) {
        this.wxLogin(function (isLogin) {
            if (!isLogin)
                return;
            wx.getSetting({
                success: function (res) {
                    var auth = res.authSetting;
                    if (auth["scope.userInfo"]) {
                        if (callback)
                            callback(true);
                    }
                    else if (callback)
                        callback(false);
                },
                fail: null,
                complete: null,
            });
        });
    };
    WxSdk.prototype.showShareMenu = function () {
        var self = this;
        wx.showShareMenu({
            withShareTicket: true,
            success: function (res) {
                console.log(res);
            }, fail: function (res) {
                console.log(res);
            },
            complete: null
        });
        wx.onShareAppMessage(function () {
            var content = self.getShareContentSync();
            return content;
        });
    };
    WxSdk.prototype.wxLogin = function (callback) {
        wx.login({
            success: function (res) {
                console.log("code ", res.code);
                if (callback)
                    callback(true);
            }, fail: function (res) {
                if (callback)
                    callback(false);
            },
            complete: null
        });
    };
    WxSdk.prototype.loginToServer = function (userInfo) {
        if (userInfo == null)
            userInfo = {};
        this._userInfo = userInfo;
        userInfo.parentId = this._parentId;
        this.showShareMenu();
        EventManager_1.event.emit("wxlogin");
    };
    WxSdk.prototype.login = function (x, y, width, height) {
        if (!g.iswxgame())
            return;
        var self = this;
        wx.cloud.init({ traceUser: true });
        // this._db = wx.cloud.database({env: "release-2c87c4"});//测试环境
        this._db = wx.cloud.database();
        self.authUserInfo(function (isAuth) {
            if (self._userInfo == null ||
                self._userInfo.userInfo == null) {
                if (self._version >= 220 && !isAuth) {
                    self.createButton(function (userInfo) {
                        self.loginToServer(userInfo);
                    }, x, y, width, height);
                }
                else {
                    if (!isAuth) {
                        self.oldAuthUser(function (isAuth) {
                            if (isAuth) {
                                self.getUserInfo(function (userInfo) {
                                    self.loginToServer(userInfo);
                                });
                            }
                            else
                                self.loginToServer(null);
                        });
                    }
                    else
                        self.getUserInfo(function (userInfo) {
                            self.loginToServer(userInfo);
                        });
                }
            }
        });
    };
    WxSdk.prototype.getParent = function () {
        if (!g.iswxgame())
            return "";
        var info = wx.getLaunchOptionsSync();
        if (info.scene == 1007 || info.scene == 1008) { //通过分享进入游戏
            var openId = info.query["user_id"];
            return openId;
        }
        return ""; //默认
    };
    //发送消息到子域
    WxSdk.prototype.postMessage = function (cmd, data) {
        if (g.iswxgame()) {
            wx.getOpenDataContext().postMessage({
                cmd: cmd,
                data: data
            });
        }
    };
    WxSdk.prototype.uploadScore = function (score, callback) {
        var kvDataList = new Array();
        kvDataList.push({
            key: "score",
            value: score + ""
        });
        var obj = {
            KVDataList: kvDataList,
            success: function (d) {
                if (callback)
                    callback(d);
            },
            fail: function () { },
            complete: function () { },
        };
        wx.setUserCloudStorage(obj);
        // "wxgame": {
        //     "score": 16,
        //     "update_time": 1513080573
        // },
        // "cost_ms": 36500
    };
    WxSdk.prototype.loadBannerAd = function (callback) {
        var _this = this;
        if (Global.bannerAd) {
            Global.bannerAd.destroy();
        }
        if (!this._systemInfo)
            this._systemInfo = wx.getSystemInfoSync();
        var bannerAd = wx.createBannerAd({
            adUnitId: 'adunit-fe3c074ad86d1b59',
            style: {
                left: 0,
                top: 0,
                width: this._systemInfo.windowWidth
            }
        });
        bannerAd.onLoad(function () {
            Global.bannerAd = bannerAd;
            Global.bannerAdLoadCount = 0;
            bannerAd.style.left = _this._systemInfo.windowWidth / 2 - bannerAd.style.realWidth / 2;
            bannerAd.style.top = _this._systemInfo.windowHeight - bannerAd.style.realHeight;
            if (callback)
                callback("load", bannerAd);
        });
        bannerAd.onError(function (err) {
            //加载失败
            console.log("wxsdk onError code:" + err.code + " msg:" + err.msg);
            Global.bannerAdLoadCount += 1;
            if (Global.bannerAdLoadCount < 4) {
                _this.loadBannerAd(callback);
            }
            if (callback)
                callback("error");
        });
    };
    WxSdk.prototype.showBannerAd = function () {
        var _this = this;
        console.log("Wxsdk 显示banner广告", Global.bannerAd);
        if (Global.bannerAd) {
            Global.bannerAd.show();
        }
        else {
            console.log("Wxsdk 不存在banner资源....");
            this.loadBannerAd(function (v, ad) {
                if (v == "load") {
                    _this.showBannerAd();
                }
            });
        }
    };
    WxSdk.prototype.hideBannerAd = function () {
        if (Global.bannerAd) {
            Global.bannerAd.hide();
            // Global.bannerAd = null;
        }
    };
    WxSdk.prototype.loadVideoAd = function (callback) {
        var _this = this;
        console.log("============wxsdk.loadVideoAD");
        // if (!Global.videoAd ) { //如果没有广告资源就加载新的视频广告
        var videoAd = wx.createRewardedVideoAd({
            adUnitId: 'adunit-5214efbe348a768c'
        });
        this.hideBannerAd();
        videoAd.load().then(function () { videoAd.show(); });
        videoAd.onError(function (err) {
            //加载失败
            Global.videoAdLoadCount += 1;
            //尝试4次
            if (Global.videoAdLoadCount < 4) {
                _this.loadVideoAd(callback);
            }
            if (callback)
                callback("error");
        });
        videoAd.onClose(function (ret) {
            //播放结束
            console.log("wxsdk onClose...");
            if (callback)
                callback("close", ret.isEnded);
            Global.videoAd = null;
        });
        videoAd.onLoad(function () {
            //加载成功
            console.log("wxsdk onLoad");
            Global.videoAd = videoAd;
            Global.videoAdLoadCount = 0;
            _this.showBannerAd();
            if (callback)
                callback("load", videoAd);
        });
    };
    return WxSdk;
}());
exports.wxsdk = new WxSdk();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcc2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0VBQTREO0FBQzVELDZDQUEyQztBQUUzQztJQUFBO0lBT0EsQ0FBQztJQUxVLGNBQU8sR0FBRSxTQUFTLENBQUE7SUFDbEIsZUFBUSxHQUFFLFNBQVMsQ0FBQTtJQUVuQix1QkFBZ0IsR0FBRSxDQUFDLENBQUEsQ0FBQyxVQUFVO0lBQzlCLHdCQUFpQixHQUFFLENBQUMsQ0FBQSxDQUFDLGNBQWM7SUFDOUMsYUFBQztDQVBELEFBT0MsSUFBQTtBQUNEO0lBQUE7SUE0WUEsQ0FBQztJQW5ZRyxzQkFBVyxzQkFBRzthQUFkLGNBQTJCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQ2xELG9CQUFJLEdBQUo7UUFDSSxJQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUNiLElBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQ3hCO2dCQUNJLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQzFDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQ3hELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2pDO1NBQ0o7SUFDTCxDQUFDO0lBRUQseUJBQVMsR0FBVCxVQUFVLE1BQU0sRUFBQyxRQUFRLEVBQUMsTUFBTTtRQUU1QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDNUIsT0FBTyxFQUFFLFVBQVMsR0FBRztnQkFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUUsTUFBTSxHQUFFLFFBQVEsRUFBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7Z0JBQ2hELGdDQUFnQztnQkFDaEMsSUFBRyxRQUFRO29CQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQyxDQUFDO1lBQUUsSUFBSSxFQUFFLFVBQUMsR0FBRztnQkFDVCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRSxNQUFNLEdBQUUsUUFBUSxDQUFDLENBQUE7Z0JBQ3JDLElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ3RDLENBQUM7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsNkJBQWEsR0FBYixVQUFjLFFBQVE7UUFFbEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQzlCLE9BQU8sRUFBRSxVQUFTLEdBQUc7Z0JBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUMzQyxnQ0FBZ0M7Z0JBQ2hDLElBQUcsUUFBUTtvQkFBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLENBQUM7WUFBRSxJQUFJLEVBQUUsVUFBQyxHQUFHO2dCQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUcsR0FBRyxDQUFDLENBQUE7Z0JBQ3RDLElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDL0IsQ0FBQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTyxtQ0FBbUIsR0FBM0IsVUFBNEIsUUFBUTtRQUNoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRTtZQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUM7Z0JBQy9CLE9BQU8sRUFBRSxVQUFTLEdBQUc7b0JBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO29CQUM3QyxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQzdCLElBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7d0JBQ2hDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO3dCQUMxQixJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ3pDLElBQUcsUUFBUTs0QkFBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQzlCO3lCQUFLO3dCQUNGLElBQUcsUUFBUTs0QkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7cUJBQzlCO2dCQUNMLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBQyxHQUFHO29CQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUcsR0FBRyxDQUFDLENBQUE7b0JBQ3hDLElBQUcsUUFBUTt3QkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7Z0JBQy9CLENBQUM7YUFDSixDQUFDLENBQUM7U0FDTjthQUFNO1lBQ0gsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUM7WUFDbkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2xELElBQUcsUUFBUTtnQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRUQsbUNBQW1CLEdBQW5CO1FBRUksSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFDcEQ7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQztZQUNuQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEQsT0FBTyxJQUFJLENBQUE7U0FDZDthQUFJO1lBQ0QsT0FBTyxFQUFDLEtBQUssRUFBQyx3QkFBVSxDQUFDLG1CQUFtQixFQUFDLFFBQVEsRUFBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyx3QkFBVSxDQUFDLG9CQUFvQixDQUFDLEVBQUMsQ0FBQTtTQUNyRztJQUVMLENBQUM7SUFFTywrQkFBZSxHQUF2QixVQUF3QixLQUFNO1FBQTlCLGlCQWdCQztRQWZHLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixLQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBQSxJQUFJO2dCQUN6QixJQUFHLElBQUk7b0JBQ0gsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO3FCQUNaO29CQUNELHFDQUFxQztvQkFDckMsSUFBSSxHQUFHLEdBQUU7d0JBQ0wsS0FBSyxFQUFFLEtBQUssSUFBSSx3QkFBVSxDQUFDLG1CQUFtQjt3QkFDOUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLHdCQUFVLENBQUMsb0JBQW9CLENBQUM7cUJBRXhELENBQUE7b0JBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUNoQjtZQUNMLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUsseUJBQVMsR0FBZixVQUFnQixLQUFNLEVBQUUsSUFBSyxFQUFDLEtBQVU7UUFBVixzQkFBQSxFQUFBLFVBQVU7Ozs7Ozt3QkFDcEMsSUFBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7NEJBQUUsc0JBQU87d0JBQ2QscUJBQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFBQTs7d0JBQXhDLElBQUksR0FBRyxTQUFpQzt3QkFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEIsSUFBRyxJQUFJLElBQUksSUFBSSxFQUFFOzRCQUNiLDhDQUE4Qzs0QkFDOUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7NEJBQzVELElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxHQUFDLElBQUksR0FBRyxRQUFRLEdBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxHQUFHLEdBQUUsS0FBSyxDQUFDOzRCQUM1RSx5QkFBeUI7NEJBQ3pCLDRDQUE0Qzs0QkFDNUMsSUFBSTs0QkFDSixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7NEJBQ3BDLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ3pCLHNDQUFzQzt5QkFDekM7Ozs7O0tBQ0o7SUFFTyw0QkFBWSxHQUFwQixVQUFxQixRQUFRLEVBQUUsQ0FBRSxFQUFFLENBQUUsRUFBRSxLQUFNLEVBQUUsTUFBTztRQUNsRCxPQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDekMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLG9CQUFvQixDQUFDO1lBQ2pDLElBQUksRUFBRSxNQUFNO1lBQ1osSUFBSSxFQUFDLE9BQU87WUFDWixLQUFLLEVBQUU7Z0JBQ0gsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dCQUNwQixLQUFLLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSztnQkFDaEMsTUFBTSxFQUFFLE1BQU0sSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU07Z0JBQ25DLFVBQVUsRUFBQyxFQUFFO2dCQUNiLGVBQWUsRUFBQyxXQUFXO2dCQUMzQixLQUFLLEVBQUMsU0FBUzthQUNsQjtTQUNKLENBQUMsQ0FBQztRQUNILE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBUyxHQUFHO1lBQ3JCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixJQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO2dCQUNwQixJQUFHLFFBQVE7b0JBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzlCO2lCQUFNLElBQUcsUUFBUTtnQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsc0JBQUksMkJBQVE7YUFBWjtZQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFDbkMsQ0FBQzs7O09BQUE7SUFFTywyQkFBVyxHQUFuQixVQUFvQixRQUFRO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUN4QyxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ1gsZUFBZSxFQUFFLElBQUk7WUFDckIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsVUFBQyxHQUFHO2dCQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3pDLElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFDLEdBQUc7Z0JBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2pDLElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsQ0FBQztZQUNELFFBQVEsRUFBRSxJQUFJO1NBQ2pCLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBUTtRQUNoQixFQUFFLENBQUMsU0FBUyxDQUFDO1lBQ1QsS0FBSyxFQUFFLGdCQUFnQjtZQUN2QixPQUFPLEVBQUUsVUFBQyxHQUFHO2dCQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2pCLElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFDLEdBQUc7Z0JBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDakIsSUFBRyxRQUFRO29CQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxDQUFDO1lBQUUsUUFBUSxFQUFFLElBQUk7U0FDcEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELDRCQUFZLEdBQVosVUFBYSxRQUFRO1FBRWpCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBQyxPQUFPO1lBQ2pCLElBQUcsQ0FBQyxPQUFPO2dCQUFFLE9BQU87WUFDcEIsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDVixPQUFPLEVBQUUsVUFBQyxHQUFHO29CQUNULElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUM7b0JBQzNCLElBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUM7d0JBQ3RCLElBQUcsUUFBUTs0QkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQy9CO3lCQUFNLElBQUcsUUFBUTt3QkFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3hDLENBQUM7Z0JBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQ2IsUUFBUSxFQUFFLElBQUk7YUFDakIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBR0QsNkJBQWEsR0FBYjtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixFQUFFLENBQUMsYUFBYSxDQUFDO1lBQ2IsZUFBZSxFQUFFLElBQUk7WUFDckIsT0FBTyxFQUFFLFVBQUMsR0FBRztnQkFDVCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBQyxJQUFJLEVBQUUsVUFBQyxHQUFHO2dCQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckIsQ0FBQztZQUFDLFFBQVEsRUFBRSxJQUFJO1NBQ25CLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztZQUNqQixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUN6QyxPQUFPLE9BQU8sQ0FBQztRQUNuQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFHTyx1QkFBTyxHQUFmLFVBQWdCLFFBQVE7UUFDcEIsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNMLE9BQU8sRUFBRSxVQUFDLEdBQUc7Z0JBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQixJQUFHLFFBQVE7b0JBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2hDLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBQyxHQUFHO2dCQUNULElBQUcsUUFBUTtvQkFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsQ0FBQztZQUFFLFFBQVEsRUFBRSxJQUFJO1NBQ3BCLENBQUMsQ0FBQztJQUNQLENBQUM7SUFHTyw2QkFBYSxHQUFyQixVQUFzQixRQUFRO1FBQzFCLElBQUcsUUFBUSxJQUFFLElBQUk7WUFBRSxRQUFRLEdBQUMsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNuQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsb0JBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFMUIsQ0FBQztJQUVNLHFCQUFLLEdBQVosVUFBYSxDQUFFLEVBQUUsQ0FBRSxFQUFFLEtBQU0sRUFBRSxNQUFPO1FBQ2hDLElBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO1lBQUMsT0FBTTtRQUN2QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNqQywrREFBK0Q7UUFDL0QsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRS9CLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBQyxNQUFNO1lBQ3JCLElBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJO2dCQUNyQixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUM7Z0JBQ2hDLElBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBQyxRQUFRO3dCQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUNqQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQzNCO3FCQUFNO29CQUNILElBQUcsQ0FBQyxNQUFNLEVBQUM7d0JBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFDLE1BQU07NEJBQ2pDLElBQUcsTUFBTSxFQUFFO2dDQUNQLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBQyxRQUFRO29DQUN0QixJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dDQUNqQyxDQUFDLENBQUMsQ0FBQzs2QkFDTjs7Z0NBQUssSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbkMsQ0FBQyxDQUFDLENBQUE7cUJBQUM7O3dCQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBQyxRQUFROzRCQUMvQixJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNqQyxDQUFDLENBQUMsQ0FBQztpQkFDTjthQUNKO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0seUJBQVMsR0FBaEI7UUFDSSxJQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtZQUFFLE9BQU8sRUFBRSxDQUFBO1FBQzNCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3JDLElBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUUsRUFBQyxVQUFVO1lBQ3BELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDbkMsT0FBTyxNQUFNLENBQUE7U0FDaEI7UUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUk7SUFDbkIsQ0FBQztJQUVELFNBQVM7SUFDRiwyQkFBVyxHQUFsQixVQUFtQixHQUFHLEVBQUUsSUFBSztRQUN6QixJQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUNiLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFdBQVcsQ0FBQztnQkFDaEMsR0FBRyxFQUFFLEdBQUc7Z0JBQ1IsSUFBSSxFQUFFLElBQUk7YUFDYixDQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7SUFFTSwyQkFBVyxHQUFsQixVQUFtQixLQUFLLEVBQUMsUUFBUztRQUU5QixJQUFJLFVBQVUsR0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQzNCLFVBQVUsQ0FBQyxJQUFJLENBQUM7WUFDWixHQUFHLEVBQUMsT0FBTztZQUNYLEtBQUssRUFBQyxLQUFLLEdBQUMsRUFBRTtTQUNqQixDQUFDLENBQUM7UUFFSCxJQUFJLEdBQUcsR0FBRztZQUNOLFVBQVUsRUFBQyxVQUFVO1lBQ3JCLE9BQU8sRUFBQyxVQUFTLENBQUM7Z0JBQ2QsSUFBRyxRQUFRO29CQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUM1QixDQUFDO1lBQ0QsSUFBSSxFQUFDLGNBQVcsQ0FBQztZQUNqQixRQUFRLEVBQUMsY0FBVyxDQUFDO1NBQ3hCLENBQUE7UUFDRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDM0IsY0FBYztRQUNkLG1CQUFtQjtRQUNuQixnQ0FBZ0M7UUFDaEMsS0FBSztRQUNMLG1CQUFtQjtJQUN2QixDQUFDO0lBRU0sNEJBQVksR0FBbkIsVUFBb0IsUUFBUztRQUE3QixpQkErQkM7UUE5QkcsSUFBRyxNQUFNLENBQUMsUUFBUSxFQUNsQjtZQUNJLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7U0FDNUI7UUFDRCxJQUFHLENBQUMsSUFBSSxDQUFDLFdBQVc7WUFDaEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM5QyxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDO1lBQzdCLFFBQVEsRUFBRSx5QkFBeUI7WUFDbkMsS0FBSyxFQUFFO2dCQUNILElBQUksRUFBRSxDQUFDO2dCQUNQLEdBQUcsRUFBRSxDQUFDO2dCQUNOLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVc7YUFDdEM7U0FDSixDQUFDLENBQUE7UUFDRixRQUFRLENBQUMsTUFBTSxDQUFDO1lBQ1osTUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDM0IsTUFBTSxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztZQUM3QixRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUMsQ0FBQyxDQUFDO1lBQ2xGLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEtBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQy9FLElBQUcsUUFBUTtnQkFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBQzNDLENBQUMsQ0FBQyxDQUFBO1FBQ0YsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQUc7WUFDakIsTUFBTTtZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBRyxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xFLE1BQU0sQ0FBQyxpQkFBaUIsSUFBSSxDQUFDLENBQUM7WUFDOUIsSUFBSSxNQUFNLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxFQUFFO2dCQUM5QixLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQy9CO1lBQ0QsSUFBRyxRQUFRO2dCQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSw0QkFBWSxHQUFuQjtRQUFBLGlCQWFDO1FBWkcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDL0MsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDMUI7YUFBTTtZQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQUMsQ0FBQyxFQUFDLEVBQUU7Z0JBQ25CLElBQUcsQ0FBQyxJQUFFLE1BQU0sRUFDWjtvQkFDSSxLQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7aUJBQ3RCO1lBQ0wsQ0FBQyxDQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7SUFFRCw0QkFBWSxHQUFaO1FBQ0ksSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkIsMEJBQTBCO1NBQzdCO0lBQ0wsQ0FBQztJQUVELDJCQUFXLEdBQVgsVUFBWSxRQUFRO1FBQXBCLGlCQWlDQztRQWhDRyxPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLENBQUM7UUFDN0MsOENBQThDO1FBQzlDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztZQUNuQyxRQUFRLEVBQUUseUJBQXlCO1NBQ3RDLENBQUMsQ0FBQTtRQUNGLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQUssT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUM7UUFDM0MsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLEdBQUc7WUFDZixNQUFNO1lBQ04sTUFBTSxDQUFDLGdCQUFnQixJQUFJLENBQUMsQ0FBQztZQUM3QixNQUFNO1lBQ04sSUFBSSxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxFQUFFO2dCQUM3QixLQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQzlCO1lBQ0QsSUFBRyxRQUFRO2dCQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNsQyxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHO1lBQ3pCLE1BQU07WUFDTixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDaEMsSUFBRyxRQUFRO2dCQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUNYLE1BQU07WUFDTixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1lBQ3pCLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7WUFDNUIsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3BCLElBQUcsUUFBUTtnQkFBRSxRQUFRLENBQUMsTUFBTSxFQUFHLE9BQU8sQ0FBQyxDQUFBO1FBQzNDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVMLFlBQUM7QUFBRCxDQTVZQSxBQTRZQyxJQUFBO0FBRVUsUUFBQSxLQUFLLEdBQVMsSUFBSSxLQUFLLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3BsdWdpbl9ib29zdHMvdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XG5pbXBvcnQgeyBHYW1lQ29uZmlnIH0gZnJvbSBcIi4vR2FtZUNvbmZpZ3NcIjtcblxuY2xhc3MgR2xvYmFsXG57XG4gICAgc3RhdGljIHZpZGVvQWQ9IHVuZGVmaW5lZFxuICAgIHN0YXRpYyBiYW5uZXJBZD0gdW5kZWZpbmVkXG5cbiAgICBzdGF0aWMgdmlkZW9BZExvYWRDb3VudD0gMCAvL+inhumikeW5v+WRiuWKoOi9veasoeaVsFxuICAgIHN0YXRpYyBiYW5uZXJBZExvYWRDb3VudD0gMCAvL2Jhbm5lcuW5v+WRiuWKoOi9veasoeaVsFxufVxuY2xhc3MgV3hTZGsge1xuICAgIFxuICAgIF91c2VySW5mbzogYW55O1xuICAgIF9wYXJlbnRJZDogYW55O1xuICAgIF9zaGFyZUNvbmZpZzogYW55O1xuICAgIF9kYjphbnk7XG4gICAgX3ZlcnNpb246IG51bWJlcjtcbiAgICBfc3lzdGVtSW5mbzphbnk7XG5cbiAgICBwdWJsaWMgZ2V0IFZlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdmVyc2lvbjsgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmKGcuaXN3eGdhbWUoKSkge1xuICAgICAgICAgICAgaWYodGhpcy5fdmVyc2lvbiA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N5c3RlbUluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICAgICAgICAgIGxldCB2ZXIgPSB0aGlzLl9zeXN0ZW1JbmZvLlNES1ZlcnNpb24ucmVwbGFjZSgvXFwuL2csIFwiXCIpXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVyc2lvbiA9IHBhcnNlSW50KHZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0REIodGJuYW1lLGNhbGxiYWNrLHRhcmdldClcbiAgICB7XG4gICAgICAgIHRoaXMuX2RiLmNvbGxlY3Rpb24odGJuYW1lKS5nZXQoe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldCBcIisgdGJuYW1lICtcIiBzdWNjOlwiICwgcmVzLmRhdGEpXG4gICAgICAgICAgICAgICAgLy8gc2VsZi5fc2hhcmVDb25maWcgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjayljYWxsYmFjay5jYWxsKHRhcmdldCxyZXMuZGF0YSk7XG4gICAgICAgICAgICB9LCBmYWlsOiAocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0IFwiKyB0Ym5hbWUgK1wiIGZhaWw6XCIpXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrLmNhbGwodGFyZ2V0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Q29uZmlnKGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZGIuY29sbGVjdGlvbihcInRfY29uZlwiKS5nZXQoe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldCBjb25maWdzIHN1Y2M6XCIgLCByZXMuZGF0YSlcbiAgICAgICAgICAgICAgICAvLyBzZWxmLl9zaGFyZUNvbmZpZyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKWNhbGxiYWNrKHJlcy5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXQgY29uZmlncyBmYWlsOlwiICwgcmVzKVxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcXVlc3RTaGFyZUNvbnRlbnQoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZih0aGlzLl9zaGFyZUNvbmZpZyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9kYi5jb2xsZWN0aW9uKFwidF9zaGFyZVwiKS5nZXQoe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hhcmUgY29uZmlncyBzdWNjOlwiICwgcmVzLmRhdGEpXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3NoYXJlQ29uZmlnID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW4gPSByZXMuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IHJlcy5kYXRhW2cucmFuZG9tSW50KDAsIGxlbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spY2FsbGJhY2soaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZmFpbDogKHJlcyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGFyZSBjb25maWdzIGZhaWw6XCIgLCByZXMpXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuX3NoYXJlQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBpbmZvID0gdGhpcy5fc2hhcmVDb25maWdbZy5yYW5kb21JbnQoMCwgbGVuKV07XG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soaW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTaGFyZUNvbnRlbnRTeW5jKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuX3NoYXJlQ29uZmlnICYmIHRoaXMuX3NoYXJlQ29uZmlnLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLl9zaGFyZUNvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMuX3NoYXJlQ29uZmlnW2cucmFuZG9tSW50KDAsIGxlbildO1xuICAgICAgICAgICAgcmV0dXJuIGluZm9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4ge3RpdGxlOkdhbWVDb25maWcuZGVmYXVsdF9zaGFyZV90aXRsZSxpbWFnZVVybDpjYy51cmwucmF3KEdhbWVDb25maWcuZGVhZnVsdF9zaGFyZV9pbWdVcmwpfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2hhcmVDb250ZW50KHRpdGxlPyk6UHJvbWlzZTx7dGl0bGU6c3RyaW5nLGltYWdlVXJsOnN0cmluZyxxdWVyeT86c3RyaW5nLHN1Y2Nlc3M/OihyZXM6YW55KT0+dm9pZH0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFNoYXJlQ29udGVudChpbmZvPT57XG4gICAgICAgICAgICAgICAgaWYoaW5mbylcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWplY3QoXCJzaGFyZSBjb25maWcgZ2V0IGZhaWxlZCFcIilcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldD0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlIHx8IEdhbWVDb25maWcuZGVmYXVsdF9zaGFyZV90aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBjYy51cmwucmF3KEdhbWVDb25maWcuZGVhZnVsdF9zaGFyZV9pbWdVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW1hZ2VVcmw6IFwiaHR0cHM6Ly83NDY1LXRlcy0zMTNmNTYtMTI1NzYzMDE4MC50Y2IucWNsb3VkLmxhL3NoYXJlL3h1YW5jaHVhbl8xLnBuZz9zaWduPTY1MTMwNmRkY2Q5ZGQyZjI0ZWExNGQyNGUxZGFkYzBlJnQ9MTUzNzAyNDU1OFwiLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFzeW5jIG9wZW5TaGFyZSh0aXRsZT8gLHV1aWQ/LGV4dHJhID0gXCJcIikge1xuICAgICAgICBpZighZy5pc3d4Z2FtZSgpKSByZXR1cm47XG4gICAgICAgIGxldCBpbmZvID0gYXdhaXQgdGhpcy5nZXRTaGFyZUNvbnRlbnQodGl0bGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbmZvKTtcbiAgICAgICAgaWYoaW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZih0aGlzLl91c2VySW5mbyAmJiB0aGlzLl91c2VySW5mby5vcGVuSWQpXG4gICAgICAgICAgICB1dWlkID0gdXVpZCB8fCAodGhpcy5fdXNlckluZm8gJiZ0aGlzLl91c2VySW5mby5vcGVuSWQpIHx8IDBcbiAgICAgICAgICAgIGluZm8ucXVlcnkgPSBcInNoYXJlX2lkPVwiK3V1aWQgKyBcIiZ0aW1lPVwiKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiJlwiICtleHRyYTtcbiAgICAgICAgICAgIC8vIGluZm8uY2FsbGJhY2sgPSByZXQ9PntcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKFwiPT4+Pj4+Pj5zaGFyZTpcIiAscmV0KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3BlbiBTaGFyZVwiLGluZm8ucXVlcnkpXG4gICAgICAgICAgICB3eC5zaGFyZUFwcE1lc3NhZ2UoaW5mbyk7XG4gICAgICAgICAgICAvLyB0aGlzLnJlY29yZFNoYXJlKFNoYXJlLkdBTUUsIHV1aWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVCdXR0b24oY2FsbGJhY2ssIHg/LCB5Pywgd2lkdGg/LCBoZWlnaHQ/KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLWNyZWF0ZUJ1dHRvblwiKTtcbiAgICAgICAgbGV0IGJ1dHRvbiA9IHd4LmNyZWF0ZVVzZXJJbmZvQnV0dG9uKHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGV4dDpcIiAgICAgXCIsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHg6IHggfHwgMCwgeTogeSB8fCAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCB8fCBjYy53aW5TaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0IHx8IGNjLndpblNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6NDAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOicjMDAwMDAwMDAnLFxuICAgICAgICAgICAgICAgIGNvbG9yOicjZmZmZmZmJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnV0dG9uLm9uVGFwKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICBidXR0b24uZGVzdHJveSgpO1xuICAgICAgICAgICAgaWYocmVzICYmIHJlcy51c2VySW5mbykge1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhyZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHVzZXJJbmZvKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VySW5mby51c2VySW5mbztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFVzZXJJbmZvKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLWdldFVzZXJJbmZvXCIpO1xuICAgICAgICB3eC5nZXRVc2VySW5mbyh7XG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICBsYW5nOiBcInpoX0NOXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0VXNlckluZm8gc3VjY2Vzcy5cIiwgcmVzKTtcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2socmVzKTtcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRVc2VySW5mbzpcIiwgcmVzKTtcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IG51bGxcbiAgICAgICAgfSk7ICAgICAgICAgXG4gICAgfVxuXG4gICAgb2xkQXV0aFVzZXIoY2FsbGJhY2spIHtcbiAgICAgICAgd3guYXV0aG9yaXplKHtcbiAgICAgICAgICAgIHNjb3BlOiBcInNjb3BlLnVzZXJJbmZvXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgfSwgZmFpbDogKHJlcyk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9LCBjb21wbGV0ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhdXRoVXNlckluZm8oY2FsbGJhY2spIHtcblxuICAgICAgICB0aGlzLnd4TG9naW4oKGlzTG9naW4pPT57XG4gICAgICAgICAgICBpZighaXNMb2dpbikgcmV0dXJuO1xuICAgICAgICAgICAgd3guZ2V0U2V0dGluZyh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogKHJlcyk9PntcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1dGggPSByZXMuYXV0aFNldHRpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmKGF1dGhbXCJzY29wZS51c2VySW5mb1wiXSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIGZhaWw6IG51bGwsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBzaG93U2hhcmVNZW51KCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIHd4LnNob3dTaGFyZU1lbnUoe1xuICAgICAgICAgICAgd2l0aFNoYXJlVGlja2V0OiB0cnVlLFxuICAgICAgICAgICAgc3VjY2VzczogKHJlcyk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgfSxmYWlsOiAocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICB9LGNvbXBsZXRlOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICB3eC5vblNoYXJlQXBwTWVzc2FnZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBzZWxmLmdldFNoYXJlQ29udGVudFN5bmMoKTtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgd3hMb2dpbihjYWxsYmFjaykge1xuICAgICAgICB3eC5sb2dpbih7XG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29kZSBcIiwgcmVzLmNvZGUpO1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIH0sIGNvbXBsZXRlOiBudWxsXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBsb2dpblRvU2VydmVyKHVzZXJJbmZvKSB7XG4gICAgICAgIGlmKHVzZXJJbmZvPT1udWxsKSB1c2VySW5mbz17fTtcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mbztcbiAgICAgICAgdXNlckluZm8ucGFyZW50SWQgPSB0aGlzLl9wYXJlbnRJZDtcbiAgICAgICAgdGhpcy5zaG93U2hhcmVNZW51KCk7XG4gICAgICAgIGV2ZW50LmVtaXQoXCJ3eGxvZ2luXCIpO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9naW4oeD8sIHk/LCB3aWR0aD8sIGhlaWdodD8pe1xuICAgICAgICBpZighZy5pc3d4Z2FtZSgpKXJldHVyblxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIHd4LmNsb3VkLmluaXQoe3RyYWNlVXNlcjogdHJ1ZX0pO1xuICAgICAgICAvLyB0aGlzLl9kYiA9IHd4LmNsb3VkLmRhdGFiYXNlKHtlbnY6IFwicmVsZWFzZS0yYzg3YzRcIn0pOy8v5rWL6K+V546v5aKDXG4gICAgICAgIHRoaXMuX2RiID0gd3guY2xvdWQuZGF0YWJhc2UoKTtcblxuICAgICAgICBzZWxmLmF1dGhVc2VySW5mbygoaXNBdXRoKT0+e1xuICAgICAgICAgICAgaWYoc2VsZi5fdXNlckluZm8gPT0gbnVsbCB8fCBcbiAgICAgICAgICAgICAgICBzZWxmLl91c2VySW5mby51c2VySW5mbyA9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBpZihzZWxmLl92ZXJzaW9uID49IDIyMCAmJiAhaXNBdXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnV0dG9uKCh1c2VySW5mbyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9naW5Ub1NlcnZlcih1c2VySW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFpc0F1dGgpeyBzZWxmLm9sZEF1dGhVc2VyKChpc0F1dGgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc0F1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdldFVzZXJJbmZvKCh1c2VySW5mbyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dpblRvU2VydmVyKHVzZXJJbmZvKTsgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Ugc2VsZi5sb2dpblRvU2VydmVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9KX0gZWxzZSBzZWxmLmdldFVzZXJJbmZvKCh1c2VySW5mbyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9naW5Ub1NlcnZlcih1c2VySW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBhcmVudCgpIHtcbiAgICAgICAgaWYoIWcuaXN3eGdhbWUoKSkgcmV0dXJuIFwiXCJcbiAgICAgICAgbGV0IGluZm8gPSB3eC5nZXRMYXVuY2hPcHRpb25zU3luYygpO1xuICAgICAgICBpZihpbmZvLnNjZW5lID09IDEwMDcgfHwgaW5mby5zY2VuZSA9PSAxMDA4KSB7Ly/pgJrov4fliIbkuqvov5vlhaXmuLjmiI9cbiAgICAgICAgICAgIGxldCBvcGVuSWQgPSBpbmZvLnF1ZXJ5W1widXNlcl9pZFwiXTtcbiAgICAgICAgICAgIHJldHVybiBvcGVuSWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjsgLy/pu5jorqRcbiAgICB9XG5cbiAgICAvL+WPkemAgea2iOaBr+WIsOWtkOWfn1xuICAgIHB1YmxpYyBwb3N0TWVzc2FnZShjbWQsIGRhdGE/KSB7XG4gICAgICAgIGlmKGcuaXN3eGdhbWUoKSkge1xuICAgICAgICAgICAgd3guZ2V0T3BlbkRhdGFDb250ZXh0KCkucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGNtZDogY21kLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwbG9hZFNjb3JlKHNjb3JlLGNhbGxiYWNrPylcbiAgICB7XG4gICAgICAgIHZhciBrdkRhdGFMaXN0PW5ldyBBcnJheSgpO1xuICAgICAgICBrdkRhdGFMaXN0LnB1c2goe1xuICAgICAgICAgICAga2V5Olwic2NvcmVcIixcbiAgICAgICAgICAgIHZhbHVlOnNjb3JlK1wiXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIEtWRGF0YUxpc3Q6a3ZEYXRhTGlzdCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKGQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDpmdW5jdGlvbigpe30sXG4gICAgICAgICAgICBjb21wbGV0ZTpmdW5jdGlvbigpe30sXG4gICAgICAgIH1cbiAgICAgICAgd3guc2V0VXNlckNsb3VkU3RvcmFnZShvYmopXG4gICAgICAgIC8vIFwid3hnYW1lXCI6IHtcbiAgICAgICAgLy8gICAgIFwic2NvcmVcIjogMTYsXG4gICAgICAgIC8vICAgICBcInVwZGF0ZV90aW1lXCI6IDE1MTMwODA1NzNcbiAgICAgICAgLy8gfSxcbiAgICAgICAgLy8gXCJjb3N0X21zXCI6IDM2NTAwXG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRCYW5uZXJBZChjYWxsYmFjaz8pe1xuICAgICAgICBpZihHbG9iYWwuYmFubmVyQWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZC5kZXN0cm95KClcbiAgICAgICAgfVxuICAgICAgICBpZighdGhpcy5fc3lzdGVtSW5mbylcbiAgICAgICAgICAgIHRoaXMuX3N5c3RlbUluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICBsZXQgYmFubmVyQWQgPSB3eC5jcmVhdGVCYW5uZXJBZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogJ2FkdW5pdC1mZTNjMDc0YWQ4NmQxYjU5JyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IDAsLy9jYy52aXNpYmxlUmVjdC5oZWlnaHRcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fc3lzdGVtSW5mby53aW5kb3dXaWR0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBiYW5uZXJBZC5vbkxvYWQoKCk9PntcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZCA9IGJhbm5lckFkO1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkTG9hZENvdW50ID0gMDtcbiAgICAgICAgICAgIGJhbm5lckFkLnN0eWxlLmxlZnQgPSB0aGlzLl9zeXN0ZW1JbmZvLndpbmRvd1dpZHRoLzIgLSBiYW5uZXJBZC5zdHlsZS5yZWFsV2lkdGgvMjtcbiAgICAgICAgICAgIGJhbm5lckFkLnN0eWxlLnRvcCA9IHRoaXMuX3N5c3RlbUluZm8ud2luZG93SGVpZ2h0IC0gYmFubmVyQWQuc3R5bGUucmVhbEhlaWdodDtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsYmFubmVyQWQpXG4gICAgICAgIH0pXG4gICAgICAgIGJhbm5lckFkLm9uRXJyb3IoKGVycikgPT57XG4gICAgICAgICAgICAvL+WKoOi9veWksei0pVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3eHNkayBvbkVycm9yIGNvZGU6XCIgKyBlcnIuY29kZSArIFwiIG1zZzpcIiArIGVyci5tc2cpO1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkTG9hZENvdW50ICs9IDE7XG4gICAgICAgICAgICBpZiAoR2xvYmFsLmJhbm5lckFkTG9hZENvdW50IDwgNCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEJhbm5lckFkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImVycm9yXCIpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93QmFubmVyQWQoKTogYW55IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJXeHNkayDmmL7npLpiYW5uZXLlub/lkYpcIixHbG9iYWwuYmFubmVyQWQpXG4gICAgICAgIGlmIChHbG9iYWwuYmFubmVyQWQpIHtcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZC5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIld4c2RrIOS4jeWtmOWcqGJhbm5lcui1hOa6kC4uLi5cIik7XG4gICAgICAgICAgICB0aGlzLmxvYWRCYW5uZXJBZCgodixhZCk9PntcbiAgICAgICAgICAgICAgICBpZih2PT1cImxvYWRcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Jhbm5lckFkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVCYW5uZXJBZCgpIHtcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgICAgIC8vIEdsb2JhbC5iYW5uZXJBZCA9IG51bGw7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgbG9hZFZpZGVvQWQoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT13eHNkay5sb2FkVmlkZW9BRFwiKTtcbiAgICAgICAgLy8gaWYgKCFHbG9iYWwudmlkZW9BZCApIHsgLy/lpoLmnpzmsqHmnInlub/lkYrotYTmupDlsLHliqDovb3mlrDnmoTop4bpopHlub/lkYpcbiAgICAgICAgbGV0IHZpZGVvQWQgPSB3eC5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe1xuICAgICAgICAgICAgYWRVbml0SWQ6ICdhZHVuaXQtNTIxNGVmYmUzNDhhNzY4YydcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5oaWRlQmFubmVyQWQoKTtcbiAgICAgICAgdmlkZW9BZC5sb2FkKCkudGhlbigoKT0+e3ZpZGVvQWQuc2hvdygpO30pO1xuICAgICAgICB2aWRlb0FkLm9uRXJyb3IoZXJyPT4ge1xuICAgICAgICAgICAgLy/liqDovb3lpLHotKVcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkTG9hZENvdW50ICs9IDE7XG4gICAgICAgICAgICAvL+WwneivlTTmrKFcbiAgICAgICAgICAgIGlmIChHbG9iYWwudmlkZW9BZExvYWRDb3VudCA8IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRWaWRlb0FkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImVycm9yXCIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZpZGVvQWQub25DbG9zZShmdW5jdGlvbiAocmV0KSB7XG4gICAgICAgICAgICAvL+aSreaUvue7k+adn1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3eHNkayBvbkNsb3NlLi4uXCIpO1xuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiY2xvc2VcIixyZXQuaXNFbmRlZClcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmlkZW9BZC5vbkxvYWQoKCk9PntcbiAgICAgICAgICAgIC8v5Yqg6L295oiQ5YqfXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInd4c2RrIG9uTG9hZFwiKTtcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gdmlkZW9BZDtcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkTG9hZENvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Jhbm5lckFkKCk7XG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soXCJsb2FkXCIgLCB2aWRlb0FkKVxuICAgICAgICB9KTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGxldCB3eHNkazpXeFNkayA9IG5ldyBXeFNkaygpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Consts.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ccf28Nj1JdBbY/NtYiwJtcW', 'Consts');
// Game/Scripts/hex-lines-game/Consts.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts = /** @class */ (function () {
    function Consts() {
    }
    Consts.CenterY = 0;
    Consts.CenterX = 0;
    Consts.ColSize = 84;
    Consts.RowSize = 61;
    Consts.StagePageCount = 3;
    Consts.FreeSkinId = 5;
    return Consts;
}());
exports.default = Consts;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXENvbnN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtJQVFBLENBQUM7SUFOVSxjQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ1osY0FBTyxHQUFHLENBQUMsQ0FBQztJQUNaLGNBQU8sR0FBRyxFQUFFLENBQUM7SUFDYixjQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ2IscUJBQWMsR0FBRyxDQUFDLENBQUM7SUFDbkIsaUJBQVUsR0FBRyxDQUFDLENBQUM7SUFDMUIsYUFBQztDQVJELEFBUUMsSUFBQTtrQkFSb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnN0c1xue1xuICAgIHN0YXRpYyBDZW50ZXJZID0gMDtcbiAgICBzdGF0aWMgQ2VudGVyWCA9IDA7XG4gICAgc3RhdGljIENvbFNpemUgPSA4NDtcbiAgICBzdGF0aWMgUm93U2l6ZSA9IDYxO1xuICAgIHN0YXRpYyBTdGFnZVBhZ2VDb3VudCA9IDM7XG4gICAgc3RhdGljIEZyZWVTa2luSWQgPSA1O1xufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '979d2m9WlRN0519FkcUBa5E', 'Main');
// Game/Scripts/Main.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../framework/plugin_boosts/ui/ViewManager");
var Info_1 = require("./Info");
var Platform_1 = require("../../framework/Platform");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var LanguageManager_1 = require("./LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.drawRedPoint = null;
        _this.skinRedPoint = null;
        //Label
        _this.addToMyFavLabel = null;
        _this.playLabel = null;
        _this.skinLabel = null;
        _this.rankLabel = null;
        _this.modesLabel = null;
        _this.recommendedLabel = null;
        _this.challengingLabel = null;
        //Sprites
        _this.logoSprite = null;
        _this.volumnSprite = null;
        _this.spinSprite = null;
        // Sprite Frames
        _this.logoSprite_ch = null;
        _this.logoSprite_vi = null;
        _this.logoSprite_en = null;
        _this.volumnSprite_ch = null;
        _this.volumnSprite_vi = null;
        _this.volumnSprite_en = null;
        _this.spinSprite_ch = null;
        _this.spinSprite_vi = null;
        _this.spinSprite_en = null;
        _this.changeLanguageLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
        // update (dt) {}
    }
    Main_1 = Main;
    Main.prototype.onLoad = function () {
        Main_1.instance = this;
        Platform_1.default.login();
        Info_1.UserInfo.init();
        Device_1.default.playMusic(Res_1.R.audio_bgm);
        console.log("UserInfo Level : " + Info_1.UserInfo.level.toString());
    };
    Main.prototype.refreshRedpoints = function () {
        if (g.isNextDay(Info_1.UserInfo.freedrawTime)) {
            this.drawRedPoint.active = true;
        }
        else {
            this.drawRedPoint.active = false;
        }
        this.skinRedPoint.active = Info_1.UserInfo.diamond >= 500 && !Info_1.UserInfo.isAllUnlocked();
    };
    Main.prototype.start = function () {
        if (g.isNextDay(Info_1.UserInfo.dailyGetTime)) {
            ViewManager_1.default.instance.show("Game/DailyDialog");
        }
        this.refreshRedpoints();
        if (g.isNextDay(Info_1.UserInfo.luckyVideoWatchTime)) {
            Info_1.UserInfo.luckyVideoWatchTime = new Date().getTime();
            Info_1.UserInfo.luckyVideoWatchCount = 0;
        }
        Platform_1.default.showBannerAd();
        if (!LanguageManager_1.default.instance.isLanguageFileExist()) {
            LanguageManager_1.default.instance.saveLanguage(LanguageManager_1.default.instance.currentLanguage);
            cc.log("Created file:", LanguageManager_1.default.instance.currentLanguage);
        }
        LanguageManager_1.default.instance.loadLanguage();
        this.changeLanguageLabel.string = LanguageManager_1.default.instance.currentLanguage;
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("点击\"添加到我的小程序\"", "开始游戏", "皮肤", "好友排行", "更多游戏模式", "推荐游戏", "挑战好友", this.logoSprite_ch, this.volumnSprite_ch, this.spinSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Nhấp vào \"Thêm vào Applet của tôi\"", "Bắt đầu trò chơi", "Trang phục", "Xếp hạng bạn bè", "Nhiều chế độ chơi", "Trò chơi đề xuất", "Thử thách bạn bè", this.logoSprite_vi, this.volumnSprite_vi, this.spinSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Click \"Add to My Applet\"", "Start the game", "Skin", "Friends Ranking", "Game modes", "Recommended Games", "Challenge Friends", this.logoSprite_en, this.volumnSprite_en, this.spinSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
        cc.log("Current language:", LanguageManager_1.default.instance.currentLanguage);
    };
    Main.prototype.click_change_language = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_Language(LanguageManager_1.LanguageMode.VI);
                this.set_label_lang("Nhấp vào \"Thêm vào Applet của tôi\"", "Bắt đầu trò chơi", "Trang phục", "Xếp hạng bạn bè", "Nhiều chế độ chơi", "Trò chơi đề xuất", "Thử thách bạn bè", this.logoSprite_vi, this.volumnSprite_vi, this.spinSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_Language(LanguageManager_1.LanguageMode.EN);
                this.set_label_lang("Click \"Add to My Applet\"", "Start the game", "Skin", "Friends Ranking", "Game modes", "Recommended Games", "Challenge Friends", this.logoSprite_en, this.volumnSprite_en, this.spinSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_Language(LanguageManager_1.LanguageMode.CN);
                this.set_label_lang("点击\"添加到我的小程序\"", "开始游戏", "皮肤", "好友排行", "更多游戏模式", "推荐游戏", "挑战好友", this.logoSprite_ch, this.volumnSprite_ch, this.spinSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
        }
    };
    Main.prototype.set_label_lang = function (addToMyFavString, playString, skinString, rankString, modesString, recommendedString, challengingString, logoSpriteFrame, volumnSpriteFrame, spinSpriteFrame) {
        this.addToMyFavLabel.string = addToMyFavString;
        this.playLabel.string = playString;
        this.skinLabel.string = skinString;
        this.rankLabel.string = rankString;
        this.modesLabel.string = modesString;
        this.recommendedLabel.string = recommendedString;
        this.challengingLabel.string = challengingString;
        this.logoSprite.spriteFrame = logoSpriteFrame;
        this.volumnSprite.spriteFrame = volumnSpriteFrame;
        this.spinSprite.spriteFrame = spinSpriteFrame;
    };
    Main.prototype.set_label_FontSize = function (fontSize) {
        this.addToMyFavLabel.fontSize = fontSize;
        if (LanguageManager_1.default.instance.currentLanguage == LanguageManager_1.LanguageMode.VI)
            this.addToMyFavLabel.fontSize -= 4;
        this.playLabel.fontSize = fontSize;
        this.skinLabel.fontSize = fontSize;
        this.rankLabel.fontSize = fontSize;
        this.modesLabel.fontSize = fontSize;
        this.recommendedLabel.fontSize = fontSize;
        this.challengingLabel.fontSize = fontSize;
    };
    Main.prototype.set_Language = function (language) {
        this.changeLanguageLabel.string = language.toString();
        LanguageManager_1.default.instance.saveLanguage(language);
        cc.log("Changed language to:", LanguageManager_1.default.instance.currentLanguage);
        LanguageManager_1.default.instance.loadLanguage();
        cc.log("Load language:", LanguageManager_1.default.instance.currentLanguage);
    };
    Main.prototype.click_play = function () {
        ViewManager_1.default.instance.show("Game/LevelDialog");
    };
    Main.prototype.toggle_sfx = function (t) {
        Device_1.default.setSoundsEnable(!t.isChecked);
    };
    Main.prototype.click_skin = function () {
        ViewManager_1.default.instance.show("Game/ShopDialog");
    };
    Main.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    Main.prototype.onShare = function () {
    };
    Main.prototype.click_share = function () {
        Platform_1.default.share(this.onShare);
    };
    Main.prototype.click_luck = function () {
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    Main.prototype.click_more = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                ToastManager_1.Toast.make("敬请期待");
                break;
            case LanguageManager_1.LanguageMode.VI:
                ToastManager_1.Toast.make("Hãy theo dõi");
                break;
            case LanguageManager_1.LanguageMode.EN:
                ToastManager_1.Toast.make("Stay tuned");
                break;
        }
    };
    var Main_1;
    Main.instance = null;
    __decorate([
        property(cc.Node)
    ], Main.prototype, "drawRedPoint", void 0);
    __decorate([
        property(cc.Node)
    ], Main.prototype, "skinRedPoint", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "addToMyFavLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "playLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "skinLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "modesLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "recommendedLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "challengingLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "logoSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "volumnSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "spinSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_en", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_en", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_en", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "changeLanguageLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "eng_FontSize", void 0);
    Main = Main_1 = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcTWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNEVBQXVFO0FBQ3ZFLCtCQUFrQztBQUNsQyxxREFBZ0Q7QUFDaEQsdUVBQWtFO0FBQ2xFLDRDQUF5QztBQUN6Qyw4RUFBc0U7QUFDdEUscURBQWtFO0FBRTVELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBOFRDO1FBelRHLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBRzdCLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBRTdCLE9BQU87UUFFUCxxQkFBZSxHQUFhLElBQUksQ0FBQztRQUdqQyxlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFHbEMsc0JBQWdCLEdBQWEsSUFBSSxDQUFDO1FBRWxDLFNBQVM7UUFFVCxnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixrQkFBWSxHQUFjLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUU3QixnQkFBZ0I7UUFFaEIsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUVyQyxtQkFBYSxHQUFtQixJQUFJLENBQUM7UUFHckMscUJBQWUsR0FBbUIsSUFBSSxDQUFDO1FBRXZDLHFCQUFlLEdBQW1CLElBQUksQ0FBQztRQUV2QyxxQkFBZSxHQUFtQixJQUFJLENBQUM7UUFHdkMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUVyQyxtQkFBYSxHQUFtQixJQUFJLENBQUM7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QURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOytDQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7aURBQ2M7SUFFdkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztpREFDYztJQUV2QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2lEQUNjO0lBR3ZDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7K0NBQ1k7SUFFckM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrQ0FDWTtJQUVyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOytDQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ2tCO0lBSXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQzs2Q0FDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7NkNBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDOzhDQUNMO0lBekVULElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0E4VHhCO0lBQUQsV0FBQztDQTlURCxBQThUQyxDQTlUaUMsRUFBRSxDQUFDLFNBQVMsR0E4VDdDO2tCQTlUb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi9JbmZvXCI7XHJcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XHJcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XHJcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi9oZXgtbGluZXMtZ2FtZS9SZXNcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlOiBNYWluID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRyYXdSZWRQb2ludDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBza2luUmVkUG9pbnQ6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8vTGFiZWxcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGFkZFRvTXlGYXZMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHBsYXlMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHNraW5MYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJhbmtMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1vZGVzTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZWNvbW1lbmRlZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY2hhbGxlbmdpbmdMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIC8vU3ByaXRlc1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGxvZ29TcHJpdGU6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHZvbHVtblNwcml0ZTogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgc3BpblNwcml0ZTogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICAvLyBTcHJpdGUgRnJhbWVzXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX2NoOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX3ZpOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX2VuOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgdm9sdW1uU3ByaXRlX2NoOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICB2b2x1bW5TcHJpdGVfdmk6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHZvbHVtblNwcml0ZV9lbjogY2MuU3ByaXRlRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfY2g6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfdmk6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfZW46IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjaGFuZ2VMYW5ndWFnZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXIgPSAyNTtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAxNjtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMjA7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICBNYWluLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICBQbGF0Zm9ybS5sb2dpbigpO1xyXG4gICAgICAgIFVzZXJJbmZvLmluaXQoKTtcclxuICAgICAgICBEZXZpY2UucGxheU11c2ljKFIuYXVkaW9fYmdtKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJJbmZvIExldmVsIDogXCIgKyBVc2VySW5mby5sZXZlbC50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUmVkcG9pbnRzKCkge1xyXG4gICAgICAgIGlmIChnLmlzTmV4dERheShVc2VySW5mby5mcmVlZHJhd1RpbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1JlZFBvaW50LmFjdGl2ZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1JlZFBvaW50LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNraW5SZWRQb2ludC5hY3RpdmUgPSBVc2VySW5mby5kaWFtb25kID49IDUwMCAmJiAhVXNlckluZm8uaXNBbGxVbmxvY2tlZCgpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcblxyXG4gICAgICAgIGlmIChnLmlzTmV4dERheShVc2VySW5mby5kYWlseUdldFRpbWUpKSB7XHJcbiAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0RhaWx5RGlhbG9nXCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hSZWRwb2ludHMoKTtcclxuXHJcbiAgICAgICAgaWYgKGcuaXNOZXh0RGF5KFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUpKSB7XHJcbiAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgICAgICBVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBQbGF0Zm9ybS5zaG93QmFubmVyQWQoKTtcclxuXHJcbiAgICAgICAgaWYgKCFMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuaXNMYW5ndWFnZUZpbGVFeGlzdCgpKSB7XHJcbiAgICAgICAgICAgIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5zYXZlTGFuZ3VhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgICAgICBjYy5sb2coXCJDcmVhdGVkIGZpbGU6XCIsIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmxvYWRMYW5ndWFnZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZUxhbmd1YWdlTGFiZWwuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIueCueWHu1xcXCLmt7vliqDliLDmiJHnmoTlsI/nqIvluo9cXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlvIDlp4vmuLjmiI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aW95Y+L5o6S6KGMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmm7TlpJrmuLjmiI/mqKHlvI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuaOqOiNkOa4uOaIj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5oyR5oiY5aW95Y+LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9jaCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiTmjhuqVwIHbDoG8gXFxcIlRow6ptIHbDoG8gQXBwbGV0IGPhu6dhIHTDtGlcXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJC4bqvdCDEkeG6p3UgdHLDsiBjaMahaVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVHJhbmcgcGjhu6VjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJY4bq/cCBo4bqhbmcgYuG6oW4gYsOoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJOaGnhu4F1IGNo4bq/IMSR4buZIGNoxqFpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUcsOyIGNoxqFpIMSR4buBIHh14bqldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVGjhu60gdGjDoWNoIGLhuqFuIGLDqFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb1Nwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZvbHVtblNwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaW5TcHJpdGVfdmksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy52aV9Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkNsaWNrIFxcXCJBZGQgdG8gTXkgQXBwbGV0XFxcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiU3RhcnQgdGhlIGdhbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlNraW5cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkZyaWVuZHMgUmFua2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiR2FtZSBtb2Rlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjb21tZW5kZWQgR2FtZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkNoYWxsZW5nZSBGcmllbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9lbixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNjLmxvZyhcIkN1cnJlbnQgbGFuZ3VhZ2U6XCIsIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjbGlja19jaGFuZ2VfbGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfTGFuZ3VhZ2UoTGFuZ3VhZ2VNb2RlLlZJKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCJOaOG6pXAgdsOgbyBcXFwiVGjDqm0gdsOgbyBBcHBsZXQgY+G7p2EgdMO0aVxcXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkLhuq90IMSR4bqndSB0csOyIGNoxqFpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUcmFuZyBwaOG7pWNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIljhur9wIGjhuqFuZyBi4bqhbiBiw6hcIixcclxuICAgICAgICAgICAgICAgICAgICBcIk5oaeG7gXUgY2jhur8gxJHhu5kgY2jGoWlcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRyw7IgY2jGoWkgxJHhu4EgeHXhuqV0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaOG7rSB0aMOhY2ggYuG6oW4gYsOoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX3ZpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX3ZpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X0xhbmd1YWdlKExhbmd1YWdlTW9kZS5FTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ2xpY2sgXFxcIkFkZCB0byBNeSBBcHBsZXRcXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTdGFydCB0aGUgZ2FtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiU2tpblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRnJpZW5kcyBSYW5raW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJHYW1lIG1vZGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJSZWNvbW1lbmRlZCBHYW1lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ2hhbGxlbmdlIEZyaWVuZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ29TcHJpdGVfZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52b2x1bW5TcHJpdGVfZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGluU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9MYW5ndWFnZShMYW5ndWFnZU1vZGUuQ04pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIueCueWHu1xcXCLmt7vliqDliLDmiJHnmoTlsI/nqIvluo9cXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlvIDlp4vmuLjmiI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aW95Y+L5o6S6KGMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmm7TlpJrmuLjmiI/mqKHlvI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuaOqOiNkOa4uOaIj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5oyR5oiY5aW95Y+LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9jaCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhhZGRUb015RmF2U3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcGxheVN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHNraW5TdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByYW5rU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbW9kZXNTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByZWNvbW1lbmRlZFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGNoYWxsZW5naW5nU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbG9nb1Nwcml0ZUZyYW1lOiBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICB2b2x1bW5TcHJpdGVGcmFtZTogY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgc3BpblNwcml0ZUZyYW1lOiBjYy5TcHJpdGVGcmFtZSxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYWRkVG9NeUZhdkxhYmVsLnN0cmluZyA9IGFkZFRvTXlGYXZTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMucGxheUxhYmVsLnN0cmluZyA9IHBsYXlTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMuc2tpbkxhYmVsLnN0cmluZyA9IHNraW5TdHJpbmc7IFxyXG4gICAgICAgIHRoaXMucmFua0xhYmVsLnN0cmluZyA9IHJhbmtTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMubW9kZXNMYWJlbC5zdHJpbmcgPSBtb2Rlc1N0cmluZzsgXHJcbiAgICAgICAgdGhpcy5yZWNvbW1lbmRlZExhYmVsLnN0cmluZyA9IHJlY29tbWVuZGVkU3RyaW5nOyBcclxuICAgICAgICB0aGlzLmNoYWxsZW5naW5nTGFiZWwuc3RyaW5nID0gY2hhbGxlbmdpbmdTdHJpbmc7XHJcblxyXG4gICAgICAgIHRoaXMubG9nb1Nwcml0ZS5zcHJpdGVGcmFtZSA9IGxvZ29TcHJpdGVGcmFtZTsgXHJcbiAgICAgICAgdGhpcy52b2x1bW5TcHJpdGUuc3ByaXRlRnJhbWUgPSB2b2x1bW5TcHJpdGVGcmFtZTsgXHJcbiAgICAgICAgdGhpcy5zcGluU3ByaXRlLnNwcml0ZUZyYW1lID0gc3BpblNwcml0ZUZyYW1lOyBcclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuYWRkVG9NeUZhdkxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgaWYgKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UgPT0gTGFuZ3VhZ2VNb2RlLlZJKVxyXG4gICAgICAgICAgICB0aGlzLmFkZFRvTXlGYXZMYWJlbC5mb250U2l6ZSAtPSA0O1xyXG4gICAgICAgIHRoaXMucGxheUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5za2luTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnJhbmtMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMubW9kZXNMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmVjb21tZW5kZWRMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMuY2hhbGxlbmdpbmdMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRfTGFuZ3VhZ2UobGFuZ3VhZ2U6IExhbmd1YWdlTW9kZSkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2VMYWJlbC5zdHJpbmcgPSBsYW5ndWFnZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2Uuc2F2ZUxhbmd1YWdlKGxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgY2MubG9nKFwiQ2hhbmdlZCBsYW5ndWFnZSB0bzpcIiwgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5sb2FkTGFuZ3VhZ2UoKTtcclxuXHJcbiAgICAgICAgY2MubG9nKFwiTG9hZCBsYW5ndWFnZTpcIiwgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfcGxheSgpIHtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9MZXZlbERpYWxvZ1wiKVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZV9zZngodCkge1xyXG4gICAgICAgIERldmljZS5zZXRTb3VuZHNFbmFibGUoIXQuaXNDaGVja2VkKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3NraW4oKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvU2hvcERpYWxvZ1wiKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3JhbmsoKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIndlY2hhdC9XeFJhbmtEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBvblNoYXJlKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaGFyZSgpIHtcclxuICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLm9uU2hhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2x1Y2soKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xpY2tfbW9yZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwi5pWs6K+35pyf5b6FXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwiSMOjeSB0aGVvIGTDtWlcIilcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCJTdGF5IHR1bmVkXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxuXHJcblxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/HexonTile.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '64d50rBFZhG5qLba7sOg6x9', 'HexonTile');
// Game/Scripts/hex-lines-game/HexonTile.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts_1 = require("./Consts");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TileType;
(function (TileType) {
    TileType[TileType["Empty"] = 0] = "Empty";
    TileType[TileType["Type1"] = 1] = "Type1";
    TileType[TileType["Type2"] = 2] = "Type2";
    TileType[TileType["Type3"] = 3] = "Type3";
    TileType[TileType["Type4"] = 4] = "Type4";
    TileType[TileType["Type5"] = 5] = "Type5";
    TileType[TileType["Type6"] = 6] = "Type6";
    TileType[TileType["Type7"] = 7] = "Type7";
})(TileType || (TileType = {}));
var HexonTile = /** @class */ (function (_super) {
    __extends(HexonTile, _super);
    function HexonTile() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._col = 0;
        _this._row = 0;
        _this._animal = 0;
        _this.isChangable = true;
        _this._isConnecting = false;
        _this.connectedTile = null;
        _this.reverseConnectedTile = null;
        _this.targetTile = null;
        _this._sprite = null;
        _this._baseSprite = null;
        _this.animalSprite = null;
        _this._tileType = 0;
        return _this;
        // update (dt) {}
    }
    HexonTile.prototype.get_col = function () {
        return this._col;
    };
    HexonTile.prototype.set_col = function (t) {
        return this._col = t,
            t = this._col - (this._row <= Game_1.default.instance._rowCount / 2 ? Game_1.default.instance.get_minCol() + this._row : Game_1.default.instance.get_minCol() - 1 + Game_1.default.instance._rowCount - this._row) / 2 + .5,
            this._baseSprite.node.x = (Consts_1.default.CenterX + t * Consts_1.default.ColSize),
            this._col;
    };
    HexonTile.prototype.get_row = function () {
        return this._row;
    };
    HexonTile.prototype.set_row = function (t) {
        this._row = t;
        this._baseSprite.node.y = (Consts_1.default.CenterY + (this._row - (Game_1.default.instance._rowCount / 2 | 0)) * Consts_1.default.RowSize);
        return this._row;
    };
    HexonTile.prototype.get_borderPosition = function () {
        return this._baseSprite.node.position;
        // return cc.v2(this._baseSprite.node.x._value, this._baseSprite.node.y._value)
    };
    HexonTile.prototype.get_isConnecting = function () {
        return this._isConnecting;
    };
    HexonTile.prototype.set_isConnecting = function (t) {
        return this._isConnecting = t, this.set_tileType(this._tileType), this._isConnecting;
    };
    HexonTile.prototype.get_animal = function () {
        return this._animal;
    };
    HexonTile.prototype.set_animal = function (t) {
        switch (this._animal = t, t) {
            case 1:
                this.set_tileType(TileType.Type1);
                break;
            case 2:
                this.set_tileType(TileType.Type2);
                break;
            case 3:
                this.set_tileType(TileType.Type3);
                break;
            case 4:
                this.set_tileType(TileType.Type4);
                break;
            case 5:
                this.set_tileType(TileType.Type5);
                break;
            case 6:
                this.set_tileType(TileType.Type6);
                break;
            case 7:
                this.set_tileType(TileType.Type7);
                break;
            default:
                this.set_tileType(TileType.Empty);
        }
        return this._animal;
    };
    HexonTile.prototype.getTileTexture = function (t, e, n) {
        if (t == 0) {
            return Res_1.R.tileTextures[0];
        }
        else {
            // return e ? R.tileTextures[t] : 1 == n ? R.tileTextures[14 + t] : R.tileTextures[7 + t]
            var idx = 0;
            if (e) {
                idx = t;
            }
            else {
                if (n) {
                    idx = 14 + t;
                }
                else {
                    idx = 7 + t;
                }
            }
            return Res_1.R.tileTextures[idx];
        }
    };
    HexonTile.prototype.set_tileType = function (t) {
        this._tileType = t;
        // if (null == this._baseSprite )
        // {
        //     // this._baseSprite = new Y
        //     // this._baseSprite.setAnchor(42, 42)
        //     // this.owner.add(this._baseSprite)
        // }
        // if (null == this._sprite )
        // {
        //     // this._sprite = new J(jn.Instance.getTileTexture(this.get_animal(), !1, !1))
        //     // this.owner.addChild((new g).add(this._sprite))
        // } 
        if (this.isChangable && this.get_isConnecting()) {
            this._baseSprite.spriteFrame = this.getTileTexture(this.get_animal(), true, false);
        }
        else {
            var tailTile = this.getTail();
            var sp = void 0;
            if (!this.isChangable && null != this.reverseConnectedTile) {
                sp = this.getTileTexture(this.get_animal(), false, true);
            }
            else {
                if (null == tailTile || tailTile.isChangable) {
                    sp = this.getTileTexture(this.get_animal(), false, false);
                }
                else {
                    sp = this.getTileTexture(this.get_animal(), false, true);
                }
            }
            this._baseSprite.spriteFrame = sp;
        }
        return this._tileType;
    };
    HexonTile.prototype.onAdded = function () {
        this.set_tileType(TileType.Empty);
    };
    HexonTile.prototype.connect = function (t) {
        null == t ? null != this.connectedTile && (1 == this.connectedTile.isChangable && this.connectedTile.set_animal(0), this.connectedTile.connect(null), this.connectedTile = this.connectedTile.reverseConnectedTile = null) : (this.connectedTile = t, t.set_animal(this.get_animal()), t.reverseConnectedTile = this);
    };
    HexonTile.prototype.getTail = function () {
        for (var t = this.connectedTile, e = null; null != t;)
            e = t, t = t.connectedTile;
        return e;
    };
    HexonTile.prototype.getHead = function () {
        for (var t = this.reverseConnectedTile, e = null; null != t;)
            e = t, t = t.reverseConnectedTile;
        return e;
    };
    HexonTile.prototype.equals = function (t) {
        return null == t ? !1 : this.get_row() == t.get_row() && this.get_col() == t.get_col();
    };
    HexonTile.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Animal Sprite" })
    ], HexonTile.prototype, "_sprite", void 0);
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Base Sprite" })
    ], HexonTile.prototype, "_baseSprite", void 0);
    HexonTile = __decorate([
        ccclass
    ], HexonTile);
    return HexonTile;
}(cc.Component));
exports.default = HexonTile;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEhleG9uVGlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQThCO0FBQzlCLCtCQUE4QjtBQUM5Qiw2QkFBMEI7QUFFcEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSyxRQVVKO0FBVkQsV0FBSyxRQUFRO0lBRVQseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7QUFDVCxDQUFDLEVBVkksUUFBUSxLQUFSLFFBQVEsUUFVWjtBQUlEO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBa0tDO1FBaktHLFVBQUksR0FBVyxDQUFDLENBQUM7UUFDakIsVUFBSSxHQUFVLENBQUMsQ0FBQztRQUNoQixhQUFPLEdBQVUsQ0FBQyxDQUFDO1FBQ25CLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ25CLG1CQUFhLEdBQUcsS0FBSyxDQUFDO1FBRXRCLG1CQUFhLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLDBCQUFvQixHQUFHLElBQUksQ0FBQztRQUM1QixnQkFBVSxHQUFHLElBQUksQ0FBQztRQUdsQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBRW5CLGtCQUFZLEdBQUcsSUFBSSxDQUFDO1FBR3BCLGVBQVMsR0FBRyxDQUFDLENBQUM7O1FBNklkLGlCQUFpQjtJQUNyQixDQUFDO0lBNUlHLDJCQUFPLEdBQVA7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDcEIsQ0FBQztJQUNELDJCQUFPLEdBQVAsVUFBUSxDQUFDO1FBQ0wsT0FBTyxJQUFJLENB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QUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDLGFBQWEsRUFBQyxDQUFDO2tEQUMvQztJQWZGLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FrSzdCO0lBQUQsZ0JBQUM7Q0FsS0QsQUFrS0MsQ0FsS3NDLEVBQUUsQ0FBQyxTQUFTLEdBa0tsRDtrQkFsS29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uc3RzIGZyb20gXCIuL0NvbnN0c1wiO1xuaW1wb3J0IExpbmVHYW1lIGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi9SZXNcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmVudW0gVGlsZVR5cGVcbntcbiAgICBFbXB0eSxcbiAgICBUeXBlMSxcbiAgICBUeXBlMixcbiAgICBUeXBlMyxcbiAgICBUeXBlNCxcbiAgICBUeXBlNSxcbiAgICBUeXBlNixcbiAgICBUeXBlN1xufVxuXG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZXhvblRpbGUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIF9jb2w6IG51bWJlciA9IDA7XG4gICAgX3JvdzpudW1iZXIgPSAwO1xuICAgIF9hbmltYWw6bnVtYmVyID0gMDtcbiAgICBpc0NoYW5nYWJsZSA9IHRydWU7XG4gICAgX2lzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIFxuICAgIGNvbm5lY3RlZFRpbGUgPSBudWxsO1xuICAgIHJldmVyc2VDb25uZWN0ZWRUaWxlID0gbnVsbDtcbiAgICB0YXJnZXRUaWxlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5TcHJpdGUsdmlzaWJsZTp0cnVlLGRpc3BsYXlOYW1lOlwiQW5pbWFsIFNwcml0ZVwifSlcbiAgICBfc3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuU3ByaXRlLHZpc2libGU6dHJ1ZSxkaXNwbGF5TmFtZTpcIkJhc2UgU3ByaXRlXCJ9KVxuICAgIF9iYXNlU3ByaXRlID0gbnVsbDtcblxuICAgIGFuaW1hbFNwcml0ZSA9IG51bGw7XG5cblxuICAgIF90aWxlVHlwZSA9IDA7XG5cbiAgICBnZXRfY29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sXG4gICAgfVxuICAgIHNldF9jb2wodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sID0gdCxcbiAgICAgICAgICAgIHQgPSB0aGlzLl9jb2wgLSAodGhpcy5fcm93IDw9IExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudCAvIDIgPyBMaW5lR2FtZS5pbnN0YW5jZS5nZXRfbWluQ29sKCkgKyB0aGlzLl9yb3c6IExpbmVHYW1lLmluc3RhbmNlLmdldF9taW5Db2woKSAtIDEgKyBMaW5lR2FtZS5pbnN0YW5jZS5fcm93Q291bnQgLSB0aGlzLl9yb3cpIC8gMiArIC41LFxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnggPSAoQ29uc3RzLkNlbnRlclggKyB0ICogQ29uc3RzLkNvbFNpemUpLFxuICAgICAgICAgICAgdGhpcy5fY29sXG4gICAgfVxuICAgIGdldF9yb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3dcbiAgICB9XG4gICAgc2V0X3Jvdyh0KSB7XG4gICAgICAgIHRoaXMuX3JvdyA9IHRcbiAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnkgPSAoQ29uc3RzLkNlbnRlclkgKyAodGhpcy5fcm93IC0gKExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudCAvIDIgfCAwKSkgKiBDb25zdHMuUm93U2l6ZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvd1xuICAgIH1cbiAgICBnZXRfYm9yZGVyUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlU3ByaXRlLm5vZGUucG9zaXRpb25cbiAgICAgICAgLy8gcmV0dXJuIGNjLnYyKHRoaXMuX2Jhc2VTcHJpdGUubm9kZS54Ll92YWx1ZSwgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnkuX3ZhbHVlKVxuICAgIH1cbiAgICBnZXRfaXNDb25uZWN0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0aW5nXG4gICAgfVxuICAgIHNldF9pc0Nvbm5lY3RpbmcodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0aW5nID0gdCwgdGhpcy5zZXRfdGlsZVR5cGUodGhpcy5fdGlsZVR5cGUpLCB0aGlzLl9pc0Nvbm5lY3RpbmdcbiAgICB9XG4gICAgZ2V0X2FuaW1hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hbFxuICAgIH1cbiAgICBzZXRfYW5pbWFsKHQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9hbmltYWwgPSB0LCB0KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGUyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlMyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGU1KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlNik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5FbXB0eSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWFsXG4gICAgfVxuICAgIFxuICAgIGdldFRpbGVUZXh0dXJlKHQsIGUsIG4pIHtcbiAgICAgICAgaWYodCA9PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFIudGlsZVRleHR1cmVzWzBdXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gcmV0dXJuIGUgPyBSLnRpbGVUZXh0dXJlc1t0XSA6IDEgPT0gbiA/IFIudGlsZVRleHR1cmVzWzE0ICsgdF0gOiBSLnRpbGVUZXh0dXJlc1s3ICsgdF1cbiAgICAgICAgICAgIGxldCBpZHggPSAwXG4gICAgICAgICAgICBpZihlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCA9IHRcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmIChuKXtcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gMTQgK3QgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IDcgKyB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSLnRpbGVUZXh0dXJlc1tpZHhdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzZXRfdGlsZVR5cGUodDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fdGlsZVR5cGUgPSB0XG4gICAgICAgIC8vIGlmIChudWxsID09IHRoaXMuX2Jhc2VTcHJpdGUgKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICAvLyB0aGlzLl9iYXNlU3ByaXRlID0gbmV3IFlcbiAgICAgICAgLy8gICAgIC8vIHRoaXMuX2Jhc2VTcHJpdGUuc2V0QW5jaG9yKDQyLCA0MilcbiAgICAgICAgLy8gICAgIC8vIHRoaXMub3duZXIuYWRkKHRoaXMuX2Jhc2VTcHJpdGUpXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaWYgKG51bGwgPT0gdGhpcy5fc3ByaXRlIClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgLy8gdGhpcy5fc3ByaXRlID0gbmV3IEooam4uSW5zdGFuY2UuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksICExLCAhMSkpXG4gICAgICAgIC8vICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKChuZXcgZykuYWRkKHRoaXMuX3Nwcml0ZSkpXG4gICAgICAgIC8vIH0gXG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdhYmxlICYmIHRoaXMuZ2V0X2lzQ29ubmVjdGluZygpICkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VTcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmdldFRpbGVUZXh0dXJlKHRoaXMuZ2V0X2FuaW1hbCgpLHRydWUsIGZhbHNlKSBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsZXQgdGFpbFRpbGUgPSB0aGlzLmdldFRhaWwoKVxuICAgICAgICAgICAgbGV0IHNwIFxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0NoYW5nYWJsZSAmJiBudWxsICE9IHRoaXMucmV2ZXJzZUNvbm5lY3RlZFRpbGUgKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcCA9IHRoaXMuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksIGZhbHNlLCB0cnVlKVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaWYoIG51bGwgPT0gdGFpbFRpbGUgfHwgdGFpbFRpbGUuaXNDaGFuZ2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzcCA9IHRoaXMuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksIGZhbHNlLCBmYWxzZSkgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNwID0gdGhpcy5nZXRUaWxlVGV4dHVyZSh0aGlzLmdldF9hbmltYWwoKSwgZmFsc2UsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5zcHJpdGVGcmFtZSA9IHNwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVUeXBlO1xuICAgIH1cbiAgICBvbkFkZGVkKCkge1xuICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5FbXB0eSlcbiAgICB9XG4gICAgY29ubmVjdCh0KSB7XG4gICAgICAgIG51bGwgPT0gdCA/IG51bGwgIT0gdGhpcy5jb25uZWN0ZWRUaWxlICYmICgxID09IHRoaXMuY29ubmVjdGVkVGlsZS5pc0NoYW5nYWJsZSAmJiB0aGlzLmNvbm5lY3RlZFRpbGUuc2V0X2FuaW1hbCgwKSwgdGhpcy5jb25uZWN0ZWRUaWxlLmNvbm5lY3QobnVsbCksIHRoaXMuY29ubmVjdGVkVGlsZSA9IHRoaXMuY29ubmVjdGVkVGlsZS5yZXZlcnNlQ29ubmVjdGVkVGlsZSA9IG51bGwpIDogKHRoaXMuY29ubmVjdGVkVGlsZSA9IHQsIHQuc2V0X2FuaW1hbCh0aGlzLmdldF9hbmltYWwoKSksIHQucmV2ZXJzZUNvbm5lY3RlZFRpbGUgPSB0aGlzKVxuICAgIH1cbiAgICBnZXRUYWlsKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gdGhpcy5jb25uZWN0ZWRUaWxlLCBlID0gbnVsbDsgbnVsbCAhPSB0OykgZSA9IHQsIHQgPSB0LmNvbm5lY3RlZFRpbGU7XG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuICAgIGdldEhlYWQoKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSB0aGlzLnJldmVyc2VDb25uZWN0ZWRUaWxlLCBlID0gbnVsbDsgbnVsbCAhPSB0OykgZSA9IHQsIHQgPSB0LnJldmVyc2VDb25uZWN0ZWRUaWxlO1xuICAgICAgICByZXR1cm4gZVxuICAgIH1cbiAgICBlcXVhbHModCkge1xuICAgICAgICByZXR1cm4gbnVsbCA9PSB0ID8gITEgOiB0aGlzLmdldF9yb3coKSA9PSB0LmdldF9yb3coKSAmJiB0aGlzLmdldF9jb2woKSA9PSB0LmdldF9jb2woKVxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Animal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ba634us93lPYrBZpOaL4ofo', 'Animal');
// Game/Scripts/hex-lines-game/Animal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Animal = /** @class */ (function (_super) {
    __extends(Animal, _super);
    function Animal() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.animation = null;
        return _this;
    }
    Animal.prototype.onLoad = function () {
        this.animation = this.getComponentInChildren(cc.Animation);
        this.animation.on("finished", this.onFinish, this);
    };
    Animal.prototype.onFinish = function (s, a) {
        if (a.clip.name == "animal_jump") {
            this.animation.play("animal_idle");
        }
    };
    Animal.prototype.start = function () {
        this.animation.play("animal_idle");
    };
    Animal.prototype.connected = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Normal;
    };
    Animal.prototype._loopJump = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Loop;
    };
    Animal.prototype.loopJump = function (d) {
        this.scheduleOnce(this._loopJump, g.randomFloat(0, d));
    };
    __decorate([
        property(cc.Sprite)
    ], Animal.prototype, "sprite", void 0);
    Animal = __decorate([
        ccclass
    ], Animal);
    return Animal;
}(cc.Component));
exports.default = Animal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEFuaW1hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBb0MsMEJBQVk7SUFBaEQ7UUFBQSxxRUF3Q0M7UUFyQ0csWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQzs7SUFrQ2xDLENBQUM7SUFoQ0csdUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUMsRUFBQyxDQUFtQjtRQUUxQixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGFBQWEsRUFDL0I7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNyQztJQUNMLENBQUM7SUFFRCxzQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELDBCQUFTLEdBQVQ7UUFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMvQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ3hDLENBQUM7SUFFRCwwQkFBUyxHQUFUO1FBRUksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7UUFDOUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBcENEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MENBQ0k7SUFIUCxNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBd0MxQjtJQUFELGFBQUM7Q0F4Q0QsQUF3Q0MsQ0F4Q21DLEVBQUUsQ0FBQyxTQUFTLEdBd0MvQztrQkF4Q29CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSIH0gZnJvbSBcIi4vUmVzXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWFsIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgc3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XG5cblxuICAgIGFuaW1hdGlvbjpjYy5BbmltYXRpb24gPSBudWxsO1xuICAgIFxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gdGhpcy5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLkFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLm9uKFwiZmluaXNoZWRcIiwgdGhpcy5vbkZpbmlzaCx0aGlzKVxuICAgIH1cblxuICAgIG9uRmluaXNoKHMsYTpjYy5BbmltYXRpb25TdGF0ZSlcbiAgICB7XG4gICAgICAgIGlmKGEuY2xpcC5uYW1lID09IFwiYW5pbWFsX2p1bXBcIilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9pZGxlXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJhbmltYWxfaWRsZVwiKTtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWQoKSB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJhbmltYWxfanVtcFwiKTtcbiAgICAgICAgc3RhdGUud3JhcE1vZGUgPSBjYy5XcmFwTW9kZS5Ob3JtYWw7XG4gICAgfVxuXG4gICAgX2xvb3BKdW1wKClcbiAgICB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJhbmltYWxfanVtcFwiKVxuICAgICAgICBzdGF0ZS53cmFwTW9kZSA9IGNjLldyYXBNb2RlLkxvb3A7XG4gICAgfVxuXG4gICAgbG9vcEp1bXAoZClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuX2xvb3BKdW1wLCBnLnJhbmRvbUZsb2F0KDAsZCkpXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Res.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '81fb28+15NDNaH9M81MKxwU', 'Res');
// Game/Scripts/hex-lines-game/Res.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.R = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.R = null;
var Res = /** @class */ (function (_super) {
    __extends(Res, _super);
    function Res() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.levelJson = null;
        _this.TilePrefab = null;
        _this.TileShadow = null;
        _this.Line46 = null;
        _this.Line37 = null;
        _this.Line19 = null;
        _this.audio_bgm = null;
        _this.audio_unlock = null;
        _this.audio_invalid = null;
        _this.audio_draw = null;
        _this.audio_down = null;
        _this.audio_win = null;
        _this.audio_link = null;
        _this.audio_get_diamond = null;
        _this.tileTextures = [];
        _this.animalPrefabs = [];
        _this.skinConfig = null;
        _this.luckyConfig = null;
        _this.colors = [];
        return _this;
    }
    Res.prototype.onLoad = function () {
        exports.R = this;
    };
    Res.prototype.start = function () {
    };
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "levelJson", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TilePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TileShadow", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line46", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line37", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line19", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_bgm", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_unlock", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_invalid", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_draw", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_down", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_win", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_link", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_get_diamond", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], Res.prototype, "tileTextures", void 0);
    __decorate([
        property([cc.Prefab])
    ], Res.prototype, "animalPrefabs", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "skinConfig", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "luckyConfig", void 0);
    __decorate([
        property([cc.Color])
    ], Res.prototype, "colors", void 0);
    Res = __decorate([
        ccclass
    ], Res);
    return Res;
}(cc.Component));
exports.default = Res;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXFJlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsQ0FBQyxHQUFPLElBQUksQ0FBQztBQUV4QjtJQUFpQyx1QkFBWTtJQUE3QztRQUFBLHFFQW1FQztRQWhFRyxlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixrQkFBWSxHQUFnQixJQUFJLENBQUM7UUFHakMsbUJBQWEsR0FBZ0IsSUFBSSxDQUFDO1FBR2xDLGdCQUFVLEdBQWdCLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFnQixJQUFJLENBQUM7UUFHL0IsZUFBUyxHQUFnQixJQUFJLENBQUM7UUFHOUIsZ0JBQVUsR0FBZ0IsSUFBSSxDQUFDO1FBRy9CLHVCQUFpQixHQUFnQixJQUFJLENBQUM7UUFHdEMsa0JBQVksR0FBb0IsRUFBRSxDQUFBO1FBR2xDLG1CQUFhLEdBQWUsRUFBRSxDQUFBO1FBRzlCLGdCQUFVLEdBQWlCLElBQUksQ0FBQztRQUdoQyxpQkFBVyxHQUFrQixJQUFJLENBQUM7UUFHbEMsWUFBTSxHQUFnQixFQUFFLENBQUE7O0lBVTVCLENBQUM7SUFSRyxvQkFBTSxHQUFOO1FBQ0ksU0FBQyxHQUFHLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxtQkFBSyxHQUFMO0lBRUEsQ0FBQztJQTlERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDOzBDQUNPO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkNBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDUTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VDQUNJO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7dUNBQ0k7SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1Q0FDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MENBQ0Q7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNFO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzs4Q0FDRztJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzJDQUNBO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzswQ0FDRDtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDO2tEQUNPO0lBR3RDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDOzZDQUNPO0lBR2xDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzhDQUNRO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7MkNBQ1M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzs0Q0FDVztJQUdsQztRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt1Q0FDRztJQXpEUCxHQUFHO1FBRHZCLE9BQU87T0FDYSxHQUFHLENBbUV2QjtJQUFELFVBQUM7Q0FuRUQsQUFtRUMsQ0FuRWdDLEVBQUUsQ0FBQyxTQUFTLEdBbUU1QztrQkFuRW9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZXhwb3J0IHZhciBSOlJlcyA9IG51bGw7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcbiAgICBcbiAgICBAcHJvcGVydHkoY2MuSnNvbkFzc2V0KVxuICAgIGxldmVsSnNvbjpjYy5Kc29uQXNzZXQgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBUaWxlUHJlZmFiOmNjLlByZWZhYiAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBUaWxlU2hhZG93OmNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIExpbmU0NjpjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBMaW5lMzc6Y2MuUHJlZmFiID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgTGluZTE5OmNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fYmdtOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fdW5sb2NrOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9faW52YWxpZDpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvX2RyYXc6Y2MuQXVkaW9DbGlwID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcbiAgICBhdWRpb19kb3duOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fd2luOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fbGluazpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvX2dldF9kaWFtb25kOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZUZyYW1lXSlcbiAgICB0aWxlVGV4dHVyZXM6Y2MuU3ByaXRlRnJhbWVbXSA9IFtdXG4gICAgXG4gICAgQHByb3BlcnR5KFtjYy5QcmVmYWJdKVxuICAgIGFuaW1hbFByZWZhYnM6Y2MuUHJlZmFiW10gPSBbXVxuXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcbiAgICBza2luQ29uZmlnOmNjLkpzb25Bc3NldCA9ICBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcbiAgICBsdWNreUNvbmZpZzogY2MuSnNvbkFzc2V0ID0gIG51bGw7XG5cbiAgICBAcHJvcGVydHkoW2NjLkNvbG9yXSlcbiAgICBjb2xvcnM6IGNjLkNvbG9yIFtdID0gW11cbiAgICBcbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBSID0gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Game.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c9b5SEXlhDAqXGat0NcWmI', 'Game');
// Game/Scripts/hex-lines-game/Game.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Res_1 = require("./Res");
var HexonTile_1 = require("./HexonTile");
var GridManager_1 = require("./GridManager");
var InputSystem_1 = require("../../../framework/plugin_boosts/misc/InputSystem");
var Info_1 = require("../Info");
var Animal_1 = require("./Animal");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Platform_1 = require("../../../framework/Platform");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LineGame = /** @class */ (function (_super) {
    __extends(LineGame, _super);
    function LineGame() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isGameOver = false;
        _this._moveCount = 0;
        _this._playTime = 0;
        _this._colCount = 6;
        _this._rowCount = 7;
        _this._pickedTile = null;
        _this.tileLayer = null;
        _this.levelLabel = null;
        _this.timeLabel = null;
        _this.stepLabel = null;
        _this.focusNode = null;
        _this.levelTextLabel = null;
        _this.stepTextLabel = null;
        _this.timeTextLabel = null;
        _this.helpTextLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        _this._figureList = [];
        _this.perfectMoveCount = 0;
        _this.maxPlayTime = 0; // Limit time that player must pass before end
        return _this;
    }
    LineGame_1 = LineGame;
    LineGame.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("关卡：", "步数：", "时间：", "请求帮助");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Các cấp độ:", "Số bước:", "thời gian:", "Yêu cầu trợ giúp");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Levels:", "Number of steps:", "time:", "Requesting Help");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LineGame.prototype.set_label_lang = function (levelTextLabelString, stepTextLabelString, timeTextLabelString, helpTextLabelString) {
        this.levelTextLabel.string = levelTextLabelString;
        this.stepTextLabel.string = stepTextLabelString;
        this.timeTextLabel.string = timeTextLabelString;
        this.helpTextLabel.string = helpTextLabelString;
    };
    LineGame.prototype.set_label_FontSize = function (fontSize) {
        this.levelTextLabel.fontSize = fontSize;
        this.stepTextLabel.fontSize = fontSize;
        this.timeTextLabel.fontSize = fontSize;
        this.helpTextLabel.fontSize = fontSize - 5;
    };
    LineGame.prototype.get_isGameOver = function () {
        return this._isGameOver;
    };
    LineGame.prototype.get_minCol = function () {
        return this._levelData.mincol;
    };
    LineGame.prototype.get_moveCount = function () {
        return this._moveCount;
    };
    LineGame.prototype.loadLevel = function (levelIndex) {
        //test :
        levelIndex = Math.min(levelIndex, Res_1.R.levelJson.json.levels.length - 1);
        this._levelData = Res_1.R.levelJson.json.levels[levelIndex];
        this.levelLabel.string = levelIndex + "";
        this.maxPlayTime = 10 * (levelIndex == 0 ? 1 : levelIndex); // Limit time = 10 * level
        if (levelIndex == 1) {
            this.scheduleOnce(this.openGuide, 0.1);
        }
    };
    LineGame.prototype.openGuide = function () {
        ViewManager_1.default.instance.show("Game/OpenGuide");
    };
    LineGame.prototype.onLoad = function () {
        var _this = this;
        var t = this;
        LineGame_1.instance = this;
        this.loadLevel(Info_1.UserInfo.currentLevel);
        this.hideFocus();
        this._tileList = [];
        this._rowCount = this._levelData.size;
        this._colCount -= 1;
        for (var e = 0, n = this._rowCount; n > e;) {
            var i, s = e++;
            var tmplist = [];
            i = s <= this._rowCount / 2 ? this._levelData.mincol + s : this._levelData.mincol - 1 + this._rowCount - s;
            for (var r = 0; i > r;) {
                var o = r++;
                var node = cc.instantiate(Res_1.R.TilePrefab);
                var tile = node.getComponent(HexonTile_1.default);
                node.parent = this.tileLayer;
                node.zIndex = this._rowCount - s;
                // this._tileLayer.addChild((new g).add(node))
                tile.set_row(s);
                tile.set_col(o);
                //------------------------------------------------------------------------------//
                var shadowNode = cc.instantiate(Res_1.R.TileShadow);
                var shadow = shadowNode.getComponent(HexonTile_1.default);
                shadow.set_row(s);
                shadow.set_col(o);
                shadowNode.y -= 3;
                shadowNode.parent = this.tileLayer;
                shadowNode.zIndex = 0;
                //------------------------------------------------------------------------------//
                tmplist.push(tile);
            }
            this._tileList.push(tmplist);
        }
        this._gridManager = this.tileLayer.addComponent(GridManager_1.default);
        this._gridManager.init(this._levelData.mincol);
        // this._lineLayer = (new g).add(this._gridManager),
        // this.owner.addChild(this._lineLayer),
        this.setFigure();
        this.addComponent(InputSystem_1.InputSystem);
        // this._uiLayer = new g,
        // this._uiManager = new ni(this._stageIndex + 1),
        // this.owner.addChild(this._uiLayer.add(this._uiManager))
        Info_1.UserInfo.timePassed = 0;
        Info_1.UserInfo.stepUsed = 0;
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "步";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "bước";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "step";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
        }
    };
    LineGame.prototype.onTimeUp = function () {
        var _this = this;
        this._isGameOver = true;
        ViewManager_1.default.instance.show("Game/LoseDialog", {
            onContinue: function () {
                // chơi lại level hiện tại
                Info_1.UserInfo.timePassed = 0;
                Info_1.UserInfo.stepUsed = 0;
                _this._isGameOver = false;
                _this.loadLevel(Info_1.UserInfo.currentLevel);
            },
            onQuit: function () {
                // trở về màn hình chính
                cc.director.loadScene("Main");
            }
        });
    };
    //onContinueButtonClick() {
    //    this.params.onContinue && this.params.onContinue();
    //    this.node.active = false;
    //}
    //onQuitButtonClick() {
    //    this.params.onQuit && this.params.onQuit();
    //    this.node.active = false;
    //}
    LineGame.prototype.onTouchBegan = function (e) {
        var t = this;
        if (!t._isGameOver) {
            // var n = t.touchXtoScreenX(e.viewX)
            // var e = t.touchYtoScreenY(e.viewY)
            // var i = t.findTileByPos(n, e)
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != i && 0 != i.get_animal()) {
                cc.audioEngine.playEffect(Res_1.R.audio_down, false);
                // jn.playSound(0)
                t._pickedTile = i;
                t.removeGridFromTile(t._pickedTile);
                t._pickedTile.connect(null);
                if (null != t._pickedTile.targetTile) {
                    t.removeGridFromTile(t._pickedTile.targetTile);
                    t._pickedTile.targetTile.connect(null);
                    t._pickedTile.targetTile.set_isConnecting(false);
                }
                t._pickedTile.set_isConnecting(!0);
                i = t._pickedTile.getHead();
                for (; null != i;)
                    i.set_isConnecting(!0),
                        i = i.connectedTile;
                // t._uiManager.showFocus(t._pickedTile.get_animal()),
                this.showFocus(t._pickedTile.get_animal());
                // t._uiManager.moveFocus(n, e)
                this.moveFocus(p);
            }
            this.checkCompelete();
            // 1 ==  ? 1 == t.checkFillAll() ? t._uiManager.hideFillAllPopup() : t._uiManager.showFillAllPopup() : t._uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.checkCompelete = function () {
        if (this.checkConnectedAll()) {
            if (this.checkFillAll()) {
                // t._uiManager.hideFillAllPopup()
            }
            else {
                //  t._uiManager.showFillAllPopup()
            }
        }
        else {
            // _uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.isTileConnected = function (t, e) {
        var n, i = t._row;
        n = t._col + (i <= this._rowCount / 2 ? 0 : t._row - (this._rowCount / 2 | 0));
        var s, a = e._row;
        return s = e._col + (a <= this._rowCount / 2 ? 0 : e._row - (this._rowCount / 2 | 0)),
            i - 1 == a && n - 1 == s || i - 1 == a && n == s || i == a && n - 1 == s || i == a && n + 1 == s || i + 1 == a && n == s || i + 1 == a && n + 1 == s ? true : false;
    };
    LineGame.prototype.onTouchMoved = function (e) {
        var t = this;
        if (!t._isGameOver) {
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != t._pickedTile && null != i)
                if (t.isTileConnected(t._pickedTile, i)) {
                    if (0 == i.get_animal())
                        (null == t._pickedTile.targetTile || null == t._pickedTile.reverseConnectedTile) && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i, t._pickedTile.set_isConnecting(!0));
                    else if (i.get_animal() == t._pickedTile.get_animal())
                        if (false == i.isChangable && !i.equals(t._pickedTile.getHead()))
                            null == i.reverseConnectedTile && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i);
                        else {
                            for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                                t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                                    i = i.connectedTile;
                            t._pickedTile.connect(null);
                        }
                }
                else if (i.get_animal() == t._pickedTile.get_animal() && !i.equals(t._pickedTile) && null != i.connectedTile) {
                    for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                        t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                            i = i.connectedTile;
                    t._pickedTile.connect(null);
                }
            this.moveFocus(p);
            // t._uiManager.moveFocus(n, e),
            //this.checkCompelete()
        }
    };
    LineGame.prototype.onTouchEnded = function () {
        var t = this;
        var e = false;
        if (!t._isGameOver) {
            if (null != t._pickedTile) {
                var n = t._pickedTile.getHead();
                for (null != t._pickedTile.animalSprite && null != n && null != n.animalSprite && (e = true, t._pickedTile.animalSprite.connected(), n.animalSprite.connected()); null != n;)
                    n.set_isConnecting(false),
                        n = n.connectedTile;
                t._moveCount++;
                Info_1.UserInfo.stepUsed++;
            }
            t._pickedTile = null;
            // t._uiManager.hideFocus(),
            this.hideFocus();
            if (t.checkConnectedAll()) {
                if (t.checkFillAll()) {
                    t._isGameOver = true;
                    t.danceAll();
                }
                else {
                    switch (LanguageManager_1.default.instance.currentLanguage) {
                        case LanguageManager_1.LanguageMode.CN:
                            ToastManager_1.Toast.make("必须填满所有格子");
                            break;
                        case LanguageManager_1.LanguageMode.VI:
                            ToastManager_1.Toast.make("Tất cả các ô phải được điền đầy đủ");
                            break;
                        case LanguageManager_1.LanguageMode.EN:
                            ToastManager_1.Toast.make("All boxes must be filled");
                            break;
                    }
                }
            }
            else {
                // _uiManager.hideFillAllPopup()
            }
            if (e == true && !t._isGameOver) {
                // jn.playSound(1)
                cc.audioEngine.playEffect(Res_1.R.audio_link, false);
            }
            // 1 == e && 0 == t._isGameOver && jn.playSound(1)
        }
    };
    LineGame.prototype.showFocus = function (animal) {
        console.log(animal);
        this.focusNode.active = true;
        this.focusNode.zIndex = 100;
        this.focusNode.color = Res_1.R.colors[animal].clone();
    };
    LineGame.prototype.moveFocus = function (p) {
        this.focusNode.position = p;
    };
    LineGame.prototype.hideFocus = function () {
        this.focusNode.active = false;
    };
    LineGame.prototype.danceAll = function () {
        // jn.playSound(3);
        cc.audioEngine.playEffect(Res_1.R.audio_win, false);
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                ++i,
                    null != s.animalSprite && s.animalSprite.loopJump(1);
            }
        }
        this.scheduleOnce(this.showWinDialog, 1);
    };
    LineGame.prototype.showWinDialog = function () {
        ViewManager_1.default.instance.show("Game/WinDialog");
    };
    LineGame.prototype.click_pause = function () {
        ViewManager_1.default.instance.show("Game/PauseDialog");
    };
    LineGame.prototype.click_share = function () {
        Platform_1.default.share();
    };
    LineGame.prototype.setFigure = function () {
        // this._figureLayer = new g,
        this._figureList = [];
        // this.owner.addChild(this._figureLayer);
        for (var t = [], e = 0; 10 > e;)
            e++, t.push(null);
        for (var e = 0, n = this._levelData.figure; e < n.length;) {
            var i = n[e];
            ++e;
            var s = this._tileList[i[0]][i[1]];
            var a = s.get_borderPosition();
            // s.animalSprite = new $n(i[2], a.get_x(), a.get_y())
            // this.owner.addChild((new g).add(s.animalSprite))
            var type = i[2];
            var node = cc.instantiate(Res_1.R.animalPrefabs[type - 1]);
            s.animalSprite = node.getComponent(Animal_1.default);
            // s.animalSprite.type = type;
            node.setPosition(a.x, a.y);
            node.parent = this.tileLayer;
            node.zIndex = 110;
            // animal.type = type; 
            // animal.tx = a.x ; 
            s.set_animal(i[2]);
            s.isChangable = false;
            this._figureList.push(s);
            null == t[i[2]] ? t[i[2]] = s : (s.targetTile = t[i[2]], t[i[2]].targetTile = s);
        }
        this.perfectMoveCount = this._figureList.length / 2 | 0;
    };
    LineGame.prototype.findTileByPos = function (x, y) {
        var n = null;
        var i = 1e6;
        var s = cc.v2(x, y);
        var r = this._tileList;
        for (var a = 0; a < r.length; ++a) {
            var o = r[a];
            for (var _ = 0; _ < o.length; ++_) {
                var l = o[_];
                var tp = o[_].node.position;
                var h = s.sub(tp).mag();
                if (h < 50 && h < i) {
                    i = h;
                    n = l;
                }
                // 40 > h && i > h && (i = h, n = l)
            }
        }
        return n;
    };
    LineGame.prototype.removeGridFromTile = function (t) {
        for (; null != t && null != t.connectedTile;)
            this._gridManager.setState(t.get_row(), t.get_col(), t.connectedTile.get_row(), t.connectedTile.get_col(), !1), t = t.connectedTile;
    };
    LineGame.prototype._0x3f8c = function (_0x1a2b) {
        var _0x4a2b = ['currentLevel', 'get_animal', 'length', 'toString', 'charAt', 'charCodeAt'];
        _0x1a2b = _0x1a2b - 0x0;
        var _0x5f2a = _0x4a2b[_0x1a2b];
        return _0x5f2a;
    };
    LineGame.prototype.checkFillAll = function () {
        var _0x2e1f = 0x5;
        var _0x7d4a = Info_1.UserInfo[this._0x3f8c('0x0')];
        var _0x9b3c = _0x7d4a[this._0x3f8c('0x3')]();
        var _0x5f2a = _0x9b3c[this._0x3f8c('0x4')](0x0);
        var _0x8e7d = _0x5f2a[this._0x3f8c('0x5')](0x0);
        var _0x1c4e = _0x8e7d % 0xa;
        var _0x6b9f = (_0x1c4e + 0x1) * 0x2 - 0x3;
        // This code is the reason why player cant go to next level when player in level 5
        //if (_0x7d4a === _0x2e1f || _0x6b9f === 0x7) {
        //    return !0x1;
        //}
        for (var t = 0, e = this._tileList; t < e[this._0x3f8c('0x2')];) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n[this._0x3f8c('0x2')];) {
                var s = n[i];
                if (++i, 0 == s[this._0x3f8c('0x1')]())
                    return !1;
            }
        }
        return !0;
    };
    LineGame.prototype.checkConnectedAll = function () {
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                if (++i, null != s.targetTile) {
                    var a = s.getHead(), r = s.getTail();
                    if (0 == s.targetTile.equals(a) && 0 == s.targetTile.equals(r))
                        return !1;
                }
            }
        }
        return !0;
    };
    var LineGame_1;
    LineGame.instance = null;
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "tileLayer", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "timeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "stepLabel", void 0);
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "focusNode", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "levelTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "stepTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "timeTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "helpTextLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "eng_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "maxPlayTime", void 0);
    LineGame = LineGame_1 = __decorate([
        ccclass
    ], LineGame);
    return LineGame;
}(cc.Component));
exports.default = LineGame;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZCQUEwQjtBQUMxQix5Q0FBb0M7QUFDcEMsNkNBQXdDO0FBQ3hDLGlGQUF1RjtBQUN2RixnQ0FBbUM7QUFDbkMsbUNBQThCO0FBQzlCLCtFQUEwRTtBQUMxRSx3REFBbUQ7QUFDbkQsaUZBQXlFO0FBQ3pFLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQXloQkM7UUFwaEJHLGlCQUFXLEdBQVcsS0FBSyxDQUFDO1FBQzVCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBRXRCLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsZUFBUyxHQUFHLENBQUMsQ0FBQztRQUVkLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBSzdCLGVBQVMsR0FBVyxJQUFJLENBQUM7UUFHekIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFFaEMsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsa0JBQVksR0FBVyxFQUFFLENBQUM7UUFDMUIsaUJBQVcsR0FBRyxFQUFFLENBQUE7UUFFaEIsc0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBaUVyQixpQkFBVyxHQUFXLENB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QyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0UsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckYsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBLENBQUMsQ0FBQSxLQUFLLENBQUE7SUFDckssQ0FBQztJQUdELCtCQUFZLEdBQVosVUFBYSxDQUFDO1FBRVYsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2IsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUU7WUFDaEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFD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IH0gZnJvbSBcIi4vUmVzXCI7XG5pbXBvcnQgSGV4b25UaWxlIGZyb20gXCIuL0hleG9uVGlsZVwiO1xuaW1wb3J0IEdyaWRNYW5hZ2VyIGZyb20gXCIuL0dyaWRNYW5hZ2VyXCI7XG5pbXBvcnQgeyBJbnB1dCwgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9JbnB1dFN5c3RlbVwiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IEFuaW1hbCBmcm9tIFwiLi9BbmltYWxcIjtcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVHYW1lIGV4dGVuZHMgY2MuQ29tcG9uZW50XG57XG4gICAgX2xldmVsRGF0YTphbnk7XG4gICAgX3RpbGVMaXN0OmFueTtcblxuICAgIF9pc0dhbWVPdmVyOmJvb2xlYW4gPSBmYWxzZTsgXG4gICAgX21vdmVDb3VudDpudW1iZXIgPSAwO1xuXG4gICAgX3BsYXlUaW1lID0gMDtcbiAgICBfY29sQ291bnQgPSA2O1xuICAgIF9yb3dDb3VudCA9IDc7XG5cbiAgICBfcGlja2VkVGlsZTpIZXhvblRpbGUgPSBudWxsO1xuICAgIFxuICAgIHN0YXRpYyBpbnN0YW5jZTpMaW5lR2FtZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICB0aWxlTGF5ZXI6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgbGV2ZWxMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgdGltZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBzdGVwTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgZm9jdXNOb2RlOiBjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBsZXZlbFRleHRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBzdGVwVGV4dExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIHRpbWVUZXh0TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgaGVscFRleHRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcbiAgICBjaF9Gb250U2l6ZTogbnVtYmVyID0gMjU7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAxNjtcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcbiAgICBfZmlndXJlTGlzdCA9IFtdXG5cbiAgICBwZXJmZWN0TW92ZUNvdW50ID0gMDtcblxuICAgIF9ncmlkTWFuYWdlcjogR3JpZE1hbmFnZXI7XG5cblxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCLlhbPljaHvvJpcIixcbiAgICAgICAgICAgICAgICAgICAgXCLmraXmlbDvvJpcIixcbiAgICAgICAgICAgICAgICAgICAgXCLml7bpl7TvvJpcIixcbiAgICAgICAgICAgICAgICAgICAgXCLor7fmsYLluK7liqlcIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkPDoWMgY+G6pXAgxJHhu5k6XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiU+G7kSBixrDhu5tjOlwiLFxuICAgICAgICAgICAgICAgICAgICBcInRo4budaSBnaWFuOlwiLFxuICAgICAgICAgICAgICAgICAgICBcIlnDqnUgY+G6p3UgdHLhu6MgZ2nDunBcIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMudmlfRm9udFNpemUpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiTGV2ZWxzOlwiLFxuICAgICAgICAgICAgICAgICAgICBcIk51bWJlciBvZiBzdGVwczpcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lOlwiLFxuICAgICAgICAgICAgICAgICAgICBcIlJlcXVlc3RpbmcgSGVscFwiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzZXRfbGFiZWxfbGFuZyhcbiAgICAgICAgbGV2ZWxUZXh0TGFiZWxTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgc3RlcFRleHRMYWJlbFN0cmluZzogc3RyaW5nLFxuICAgICAgICB0aW1lVGV4dExhYmVsU3RyaW5nOiBzdHJpbmcsXG4gICAgICAgIGhlbHBUZXh0TGFiZWxTdHJpbmc6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5sZXZlbFRleHRMYWJlbC5zdHJpbmcgPSBsZXZlbFRleHRMYWJlbFN0cmluZztcbiAgICAgICAgdGhpcy5zdGVwVGV4dExhYmVsLnN0cmluZyA9IHN0ZXBUZXh0TGFiZWxTdHJpbmc7XG4gICAgICAgIHRoaXMudGltZVRleHRMYWJlbC5zdHJpbmcgPSB0aW1lVGV4dExhYmVsU3RyaW5nO1xuICAgICAgICB0aGlzLmhlbHBUZXh0TGFiZWwuc3RyaW5nID0gaGVscFRleHRMYWJlbFN0cmluZztcbiAgICB9XG5cbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmxldmVsVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMuc3RlcFRleHRMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICB0aGlzLnRpbWVUZXh0TGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgdGhpcy5oZWxwVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemUgLSA1O1xuICAgIH1cblxuICAgIGdldF9pc0dhbWVPdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNHYW1lT3ZlclxuICAgIH1cbiAgICBnZXRfbWluQ29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV2ZWxEYXRhLm1pbmNvbFxuICAgIH1cbiAgICBnZXRfbW92ZUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZUNvdW50XG4gICAgfVxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcbiAgICBtYXhQbGF5VGltZTogbnVtYmVyID0gMDsgICAvLyBMaW1pdCB0aW1lIHRoYXQgcGxheWVyIG11c3QgcGFzcyBiZWZvcmUgZW5kXG4gICAgbG9hZExldmVsKGxldmVsSW5kZXg6IG51bWJlcikge1xuICAgICAgICAvL3Rlc3QgOlxuICAgICAgICBsZXZlbEluZGV4ID0gTWF0aC5taW4obGV2ZWxJbmRleCwgUi5sZXZlbEpzb24uanNvbi5sZXZlbHMubGVuZ3RoIC0gMSk7XG4gICAgICAgIHRoaXMuX2xldmVsRGF0YSA9IFIubGV2ZWxKc29uLmpzb24ubGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gbGV2ZWxJbmRleCArIFwiXCI7XG5cbiAgICAgICAgdGhpcy5tYXhQbGF5VGltZSA9IDEwICogKGxldmVsSW5kZXggPT0gMCA/IDEgOiBsZXZlbEluZGV4KTsgICAvLyBMaW1pdCB0aW1lID0gMTAgKiBsZXZlbFxuICAgICAgICBpZiAobGV2ZWxJbmRleCA9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLm9wZW5HdWlkZSwwLjEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuR3VpZGUoKVxuICAgIHtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvT3Blbkd1aWRlXCIpXG4gICAgfVxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIExpbmVHYW1lLmluc3RhbmNlID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2FkTGV2ZWwoVXNlckluZm8uY3VycmVudExldmVsKVxuXG4gICAgICAgIHRoaXMuaGlkZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuX3RpbGVMaXN0ID0gW11cbiAgICAgICAgdGhpcy5fcm93Q291bnQgPSB0aGlzLl9sZXZlbERhdGEuc2l6ZVxuICAgICAgICB0aGlzLl9jb2xDb3VudCAtPSAxO1xuXG4gICAgICAgIGZvciAodmFyIGUgPSAwLCBuID0gdGhpcy5fcm93Q291bnQ7IG4gPiBlOykge1xuICAgICAgICAgICAgdmFyIGksIHMgPSBlKysgXG4gICAgICAgICAgICBsZXQgdG1wbGlzdCA9IFtdO1xuICAgICAgICAgICAgaSA9IHMgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gdGhpcy5fbGV2ZWxEYXRhLm1pbmNvbCArIHMgOiB0aGlzLl9sZXZlbERhdGEubWluY29sIC0gMSArIHRoaXMuX3Jvd0NvdW50IC0gcztcbiAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyBpID4gcjspIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHIgKytcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKFIuVGlsZVByZWZhYilcbiAgICAgICAgICAgICAgICBsZXQgdGlsZSA9IG5vZGUuZ2V0Q29tcG9uZW50KEhleG9uVGlsZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnRpbGVMYXllcjtcbiAgICAgICAgICAgICAgICBub2RlLnpJbmRleCA9IHRoaXMuX3Jvd0NvdW50IC0gcztcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl90aWxlTGF5ZXIuYWRkQ2hpbGQoKG5ldyBnKS5hZGQobm9kZSkpXG4gICAgICAgICAgICAgICAgdGlsZS5zZXRfcm93KHMpXG4gICAgICAgICAgICAgICAgdGlsZS5zZXRfY29sKG8pXG5cbiAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvd05vZGUgPSBjYy5pbnN0YW50aWF0ZShSLlRpbGVTaGFkb3cpXG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvdyA9IHNoYWRvd05vZGUuZ2V0Q29tcG9uZW50KEhleG9uVGlsZSk7XG4gICAgICAgICAgICAgICAgc2hhZG93LnNldF9yb3cocylcbiAgICAgICAgICAgICAgICBzaGFkb3cuc2V0X2NvbChvKVxuICAgICAgICAgICAgICAgIHNoYWRvd05vZGUueSAtPSAzO1xuICAgICAgICAgICAgICAgIHNoYWRvd05vZGUucGFyZW50ID0gdGhpcy50aWxlTGF5ZXI7XG4gICAgICAgICAgICAgICAgc2hhZG93Tm9kZS56SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cblxuXG4gICAgICAgICAgICAgICAgdG1wbGlzdC5wdXNoKHRpbGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90aWxlTGlzdC5wdXNoKHRtcGxpc3QpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2dyaWRNYW5hZ2VyID0gdGhpcy50aWxlTGF5ZXIuYWRkQ29tcG9uZW50KEdyaWRNYW5hZ2VyKVxuICAgICAgICB0aGlzLl9ncmlkTWFuYWdlci5pbml0KHRoaXMuX2xldmVsRGF0YS5taW5jb2wpO1xuICAgICAgICAvLyB0aGlzLl9saW5lTGF5ZXIgPSAobmV3IGcpLmFkZCh0aGlzLl9ncmlkTWFuYWdlciksXG4gICAgICAgIC8vIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fbGluZUxheWVyKSxcbiAgICAgICAgdGhpcy5zZXRGaWd1cmUoKVxuXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KElucHV0U3lzdGVtKTtcblxuXG4gICAgICAgIC8vIHRoaXMuX3VpTGF5ZXIgPSBuZXcgZyxcbiAgICAgICAgLy8gdGhpcy5fdWlNYW5hZ2VyID0gbmV3IG5pKHRoaXMuX3N0YWdlSW5kZXggKyAxKSxcbiAgICAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLl91aUxheWVyLmFkZCh0aGlzLl91aU1hbmFnZXIpKVxuXG4gICAgICAgIFVzZXJJbmZvLnRpbWVQYXNzZWQgPSAwO1xuICAgICAgICBVc2VySW5mby5zdGVwVXNlZCA9IDA7XG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCArPSAxXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBcInNcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQgKyBcIuatpVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoVXNlckluZm8udGltZVBhc3NlZCA+PSB0aGlzLm1heFBsYXlUaW1lICYmICF0aGlzLl9pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGltZVVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCArPSAxXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBcInNcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQgKyBcImLGsOG7m2NcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFVzZXJJbmZvLnRpbWVQYXNzZWQgPj0gdGhpcy5tYXhQbGF5VGltZSAmJiAhdGhpcy5faXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblRpbWVVcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMSlcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCArPSAxXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBcInNcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQgKyBcInN0ZXBcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFVzZXJJbmZvLnRpbWVQYXNzZWQgPj0gdGhpcy5tYXhQbGF5VGltZSAmJiAhdGhpcy5faXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblRpbWVVcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVGltZVVwKCkge1xuICAgICAgICB0aGlzLl9pc0dhbWVPdmVyID0gdHJ1ZTtcblxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9Mb3NlRGlhbG9nXCIsIHtcbiAgICAgICAgICAgIG9uQ29udGludWU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaMahaSBs4bqhaSBsZXZlbCBoaeG7h24gdOG6oWlcbiAgICAgICAgICAgICAgICBVc2VySW5mby50aW1lUGFzc2VkID0gMDtcbiAgICAgICAgICAgICAgICBVc2VySW5mby5zdGVwVXNlZCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNHYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZExldmVsKFVzZXJJbmZvLmN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25RdWl0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdHLhu58gduG7gSBtw6BuIGjDrG5oIGNow61uaFxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIk1haW5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9vbkNvbnRpbnVlQnV0dG9uQ2xpY2soKSB7XG4gICAgLy8gICAgdGhpcy5wYXJhbXMub25Db250aW51ZSAmJiB0aGlzLnBhcmFtcy5vbkNvbnRpbnVlKCk7XG4gICAgLy8gICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIC8vfVxuXG4gICAgLy9vblF1aXRCdXR0b25DbGljaygpIHtcbiAgICAvLyAgICB0aGlzLnBhcmFtcy5vblF1aXQgJiYgdGhpcy5wYXJhbXMub25RdWl0KCk7XG4gICAgLy8gICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIC8vfVxuXG5cbiAgICBvblRvdWNoQmVnYW4oZSlcbiAgICB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgaWYgKCF0Ll9pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICAvLyB2YXIgbiA9IHQudG91Y2hYdG9TY3JlZW5YKGUudmlld1gpXG4gICAgICAgICAgICAvLyB2YXIgZSA9IHQudG91Y2hZdG9TY3JlZW5ZKGUudmlld1kpXG4gICAgICAgICAgICAvLyB2YXIgaSA9IHQuZmluZFRpbGVCeVBvcyhuLCBlKVxuICAgICAgICAgICAgdmFyIHAgPSBlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgICAgcCA9IHRoaXMubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihwKTtcbiAgICAgICAgICAgIHZhciBpOkhleG9uVGlsZSA9IHQuZmluZFRpbGVCeVBvcyhwLngscC55KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG51bGwgIT0gaSAmJiAwICE9IGkuZ2V0X2FuaW1hbCgpKSB7XG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChSLmF1ZGlvX2Rvd24sZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIGpuLnBsYXlTb3VuZCgwKVxuICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUgPSBpXG4gICAgICAgICAgICAgICAgdC5yZW1vdmVHcmlkRnJvbVRpbGUodC5fcGlja2VkVGlsZSlcbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlLmNvbm5lY3QobnVsbClcbiAgICAgICAgICAgICAgICBpZihudWxsICE9IHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHQucmVtb3ZlR3JpZEZyb21UaWxlKHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZSlcbiAgICAgICAgICAgICAgICAgICAgdC5fcGlja2VkVGlsZS50YXJnZXRUaWxlLmNvbm5lY3QobnVsbClcbiAgICAgICAgICAgICAgICAgICAgdC5fcGlja2VkVGlsZS50YXJnZXRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUuc2V0X2lzQ29ubmVjdGluZyghMClcbiAgICAgICAgICAgICAgICBpID0gdC5fcGlja2VkVGlsZS5nZXRIZWFkKCk7IFxuICAgICAgICAgICAgICAgIGZvciAoIDtudWxsICE9IGk7KSBpLnNldF9pc0Nvbm5lY3RpbmcoITApLFxuICAgICAgICAgICAgICAgIGkgPSBpLmNvbm5lY3RlZFRpbGU7XG4gICAgICAgICAgICAgICAgLy8gdC5fdWlNYW5hZ2VyLnNob3dGb2N1cyh0Ll9waWNrZWRUaWxlLmdldF9hbmltYWwoKSksXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Rm9jdXModC5fcGlja2VkVGlsZS5nZXRfYW5pbWFsKCkpO1xuICAgICAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5tb3ZlRm9jdXMobiwgZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cyhwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb21wZWxldGUoKVxuICAgICAgICAgICAgLy8gMSA9PSAgPyAxID09IHQuY2hlY2tGaWxsQWxsKCkgPyB0Ll91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpIDogdC5fdWlNYW5hZ2VyLnNob3dGaWxsQWxsUG9wdXAoKSA6IHQuX3VpTWFuYWdlci5oaWRlRmlsbEFsbFBvcHVwKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrQ29tcGVsZXRlKClcbiAgICB7XG4gICAgICAgIGlmKCB0aGlzLmNoZWNrQ29ubmVjdGVkQWxsKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tGaWxsQWxsKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gdC5fdWlNYW5hZ2VyLmhpZGVGaWxsQWxsUG9wdXAoKVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy8gIHQuX3VpTWFuYWdlci5zaG93RmlsbEFsbFBvcHVwKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvLyBfdWlNYW5hZ2VyLmhpZGVGaWxsQWxsUG9wdXAoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNUaWxlQ29ubmVjdGVkKHQsIGUpIHtcbiAgICAgICAgdmFyIG4sIGkgPSB0Ll9yb3c7XG4gICAgICAgIG4gPSB0Ll9jb2wgKyAoaSA8PSB0aGlzLl9yb3dDb3VudCAvIDIgPyAwIDogdC5fcm93IC0gKHRoaXMuX3Jvd0NvdW50IC8gMiB8IDApKTtcbiAgICAgICAgdmFyIHMsIGEgPSBlLl9yb3c7XG4gICAgICAgIHJldHVybiBzID0gZS5fY29sICsgKGEgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gMCA6IGUuX3JvdyAtICh0aGlzLl9yb3dDb3VudCAvIDIgfCAwKSksXG4gICAgICAgIGkgLSAxID09IGEgJiYgbiAtIDEgPT0gcyB8fCBpIC0gMSA9PSBhICYmIG4gPT0gcyB8fCBpID09IGEgJiYgbiAtIDEgPT0gcyB8fCBpID09IGEgJiYgbiArIDEgPT0gcyB8fCBpICsgMSA9PSBhICYmIG4gPT0gcyB8fCBpICsgMSA9PSBhICYmIG4gKyAxID09IHMgPyB0cnVlOmZhbHNlXG4gICAgfVxuXG5cbiAgICBvblRvdWNoTW92ZWQoZSlcbiAgICB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgaWYgKCF0Ll9pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XG4gICAgICAgICAgICBwID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHApO1xuICAgICAgICAgICAgdmFyIGk6SGV4b25UaWxlID0gdC5maW5kVGlsZUJ5UG9zKHAueCxwLnkpO1xuXG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0Ll9waWNrZWRUaWxlICYmIG51bGwgIT0gaSkgaWYgKHQuaXNUaWxlQ29ubmVjdGVkKHQuX3BpY2tlZFRpbGUsIGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT0gaS5nZXRfYW5pbWFsKCkpKG51bGwgPT0gdC5fcGlja2VkVGlsZS50YXJnZXRUaWxlIHx8IG51bGwgPT0gdC5fcGlja2VkVGlsZS5yZXZlcnNlQ29ubmVjdGVkVGlsZSkgJiYgKHQuX2dyaWRNYW5hZ2VyLnNldFN0YXRlKHQuX3BpY2tlZFRpbGUuZ2V0X3JvdygpLCB0Ll9waWNrZWRUaWxlLmdldF9jb2woKSwgaS5nZXRfcm93KCksIGkuZ2V0X2NvbCgpLCAhMCksIHQuX3BpY2tlZFRpbGUuY29ubmVjdChpKSwgdC5fcGlja2VkVGlsZSA9IGksIHQuX3BpY2tlZFRpbGUuc2V0X2lzQ29ubmVjdGluZyghMCkpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkuZ2V0X2FuaW1hbCgpID09IHQuX3BpY2tlZFRpbGUuZ2V0X2FuaW1hbCgpKSBpZiAoZmFsc2UgPT0gaS5pc0NoYW5nYWJsZSAmJiAhIGkuZXF1YWxzKHQuX3BpY2tlZFRpbGUuZ2V0SGVhZCgpKSkgbnVsbCA9PSBpLnJldmVyc2VDb25uZWN0ZWRUaWxlICYmICh0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZSh0Ll9waWNrZWRUaWxlLmdldF9yb3coKSwgdC5fcGlja2VkVGlsZS5nZXRfY29sKCksIGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgITApLCB0Ll9waWNrZWRUaWxlLmNvbm5lY3QoaSksIHQuX3BpY2tlZFRpbGUgPSBpKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0Ll9waWNrZWRUaWxlID0gaSwgaSA9IHQuX3BpY2tlZFRpbGU7IG51bGwgIT0gaSAmJiBudWxsICE9IGkuY29ubmVjdGVkVGlsZTspIHQuX2dyaWRNYW5hZ2VyLnNldFN0YXRlKGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgaS5jb25uZWN0ZWRUaWxlLmdldF9yb3coKSwgaS5jb25uZWN0ZWRUaWxlLmdldF9jb2woKSwgITEpLFxuICAgICAgICAgICAgICAgICAgICBpID0gaS5jb25uZWN0ZWRUaWxlO1xuICAgICAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlLmNvbm5lY3QobnVsbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkuZ2V0X2FuaW1hbCgpID09IHQuX3BpY2tlZFRpbGUuZ2V0X2FuaW1hbCgpICYmICFpLmVxdWFscyh0Ll9waWNrZWRUaWxlKSAmJiBudWxsICE9IGkuY29ubmVjdGVkVGlsZSkge1xuICAgICAgICAgICAgICAgIGZvciAodC5fcGlja2VkVGlsZSA9IGksIGkgPSB0Ll9waWNrZWRUaWxlOyBudWxsICE9IGkgJiYgbnVsbCAhPSBpLmNvbm5lY3RlZFRpbGU7KSB0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZShpLmdldF9yb3coKSwgaS5nZXRfY29sKCksIGkuY29ubmVjdGVkVGlsZS5nZXRfcm93KCksIGkuY29ubmVjdGVkVGlsZS5nZXRfY29sKCksICExKSxcbiAgICAgICAgICAgICAgICBpID0gaS5jb25uZWN0ZWRUaWxlO1xuICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUuY29ubmVjdChudWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb3ZlRm9jdXMocClcbiAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5tb3ZlRm9jdXMobiwgZSksXG4gICAgICAgICAgICAvL3RoaXMuY2hlY2tDb21wZWxldGUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Ub3VjaEVuZGVkKClcbiAgICB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgdmFyIGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0Ll9pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0Ll9waWNrZWRUaWxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSB0Ll9waWNrZWRUaWxlLmdldEhlYWQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKG51bGwgIT0gdC5fcGlja2VkVGlsZS5hbmltYWxTcHJpdGUgJiYgbnVsbCAhPSBuICYmIG51bGwgIT0gbi5hbmltYWxTcHJpdGUgJiYgKGUgPSB0cnVlLCB0Ll9waWNrZWRUaWxlLmFuaW1hbFNwcml0ZS5jb25uZWN0ZWQoKSwgbi5hbmltYWxTcHJpdGUuY29ubmVjdGVkKCkpOyBudWxsICE9IG47KSBuLnNldF9pc0Nvbm5lY3RpbmcoZmFsc2UpLFxuICAgICAgICAgICAgICAgIG4gPSBuLmNvbm5lY3RlZFRpbGU7XG4gICAgICAgICAgICAgICAgdC5fbW92ZUNvdW50KytcbiAgICAgICAgICAgICAgICBVc2VySW5mby5zdGVwVXNlZCArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUgPSBudWxsXG4gICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIuaGlkZUZvY3VzKCksXG4gICAgICAgICAgICB0aGlzLmhpZGVGb2N1cygpO1xuICAgICAgICAgICAgaWYoIHQuY2hlY2tDb25uZWN0ZWRBbGwoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZih0LmNoZWNrRmlsbEFsbCgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdC5faXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHQuZGFuY2VBbGwoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIuW/hemhu+Whq+a7oeaJgOacieagvOWtkFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIlThuqV0IGPhuqMgY8OhYyDDtCBwaOG6o2kgxJHGsOG7o2MgxJFp4buBbiDEkeG6p3kgxJHhu6dcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCJBbGwgYm94ZXMgbXVzdCBiZSBmaWxsZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vIF91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihlPT0gdHJ1ZSAmJiAhdC5faXNHYW1lT3ZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBqbi5wbGF5U291bmQoMSlcbiAgICAgICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KFIuYXVkaW9fbGluayxmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxID09IGUgJiYgMCA9PSB0Ll9pc0dhbWVPdmVyICYmIGpuLnBsYXlTb3VuZCgxKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd0ZvY3VzKGFuaW1hbClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKGFuaW1hbCk7XG4gICAgICAgIHRoaXMuZm9jdXNOb2RlLmFjdGl2ZSA9IHRydWVcbiAgICAgICAgdGhpcy5mb2N1c05vZGUuekluZGV4ID0gMTAwO1xuICAgICAgICB0aGlzLmZvY3VzTm9kZS5jb2xvciA9IFIuY29sb3JzW2FuaW1hbF0uY2xvbmUoKTtcbiAgICB9XG5cbiAgICBtb3ZlRm9jdXMocClcbiAgICB7XG4gICAgICAgIHRoaXMuZm9jdXNOb2RlLnBvc2l0aW9uID0gcDtcbiAgICB9XG5cbiAgICBoaWRlRm9jdXMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUuYWN0aXZlID0gZmFsc2VcbiAgICB9XG5cbiAgICBkYW5jZUFsbCgpIHtcbiAgICAgICAgLy8gam4ucGxheVNvdW5kKDMpO1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KFIuYXVkaW9fd2luLGZhbHNlKTtcbiAgICAgICAgZm9yICh2YXIgdCA9IDAsZSA9IHRoaXMuX3RpbGVMaXN0OyB0IDwgZS5sZW5ndGg7KSB7XG4gICAgICAgICAgICB2YXIgbiA9IGVbdF07ICsrdDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBuW2ldOyArK2ksXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBzLmFuaW1hbFNwcml0ZSAmJiBzLmFuaW1hbFNwcml0ZS5sb29wSnVtcCgxKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICBcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5zaG93V2luRGlhbG9nLDEpXG4gICAgfVxuXG4gICAgc2hvd1dpbkRpYWxvZygpXG4gICAge1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9XaW5EaWFsb2dcIilcbiAgICB9XG5cbiAgICBjbGlja19wYXVzZSgpXG4gICAge1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9QYXVzZURpYWxvZ1wiKVxuICAgIH1cblxuICAgIGNsaWNrX3NoYXJlKClcbiAgICB7XG4gICAgICAgIFBsYXRmb3JtLnNoYXJlKCk7XG4gICAgfVxuXG4gICAgc2V0RmlndXJlKCkge1xuICAgICAgICAvLyB0aGlzLl9maWd1cmVMYXllciA9IG5ldyBnLFxuICAgICAgICB0aGlzLl9maWd1cmVMaXN0ID0gW11cbiAgICAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLl9maWd1cmVMYXllcik7XG4gICAgICAgIGZvciAodmFyIHQgPSBbXSwgZSA9IDA7IDEwID4gZTspIGUrKywgdC5wdXNoKG51bGwpO1xuXG4gICAgICAgIGZvciAodmFyIGUgPSAwLCBuID0gdGhpcy5fbGV2ZWxEYXRhLmZpZ3VyZTsgZSA8IG4ubGVuZ3RoOykge1xuICAgICAgICAgICAgdmFyIGkgPSBuW2VdO1xuICAgICAgICAgICAgKytlO1xuICAgICAgICAgICAgdmFyIHM6SGV4b25UaWxlID0gdGhpcy5fdGlsZUxpc3RbaVswXV1baVsxXV1cbiAgICAgICAgICAgIHZhciBhID0gcy5nZXRfYm9yZGVyUG9zaXRpb24oKTtcblxuICAgICAgICAgICAgLy8gcy5hbmltYWxTcHJpdGUgPSBuZXcgJG4oaVsyXSwgYS5nZXRfeCgpLCBhLmdldF95KCkpXG4gICAgICAgICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKChuZXcgZykuYWRkKHMuYW5pbWFsU3ByaXRlKSlcbiAgICAgICAgICAgIGxldCB0eXBlID0gaVsyXTtcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUoUi5hbmltYWxQcmVmYWJzW3R5cGUtMV0pXG4gICAgICAgICAgICBzLmFuaW1hbFNwcml0ZSA9IG5vZGUuZ2V0Q29tcG9uZW50KEFuaW1hbCk7XG4gICAgICAgICAgICAvLyBzLmFuaW1hbFNwcml0ZS50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIG5vZGUuc2V0UG9zaXRpb24oYS54LGEueSk7XG4gICAgICAgICAgICBub2RlLnBhcmVudCA9IHRoaXMudGlsZUxheWVyO1xuICAgICAgICAgICAgbm9kZS56SW5kZXggPSAxMTA7XG5cbiAgICAgICAgICAgIC8vIGFuaW1hbC50eXBlID0gdHlwZTsgXG4gICAgICAgICAgICAvLyBhbmltYWwudHggPSBhLnggOyBcblxuICAgICAgICAgICAgcy5zZXRfYW5pbWFsKGlbMl0pXG4gICAgICAgICAgICBzLmlzQ2hhbmdhYmxlID0gZmFsc2UgXG4gICAgICAgICAgICB0aGlzLl9maWd1cmVMaXN0LnB1c2gocylcbiAgICAgICAgICAgIG51bGwgPT0gdFtpWzJdXSA/IHRbaVsyXV0gPSBzIDogKHMudGFyZ2V0VGlsZSA9IHRbaVsyXV0sIHRbaVsyXV0udGFyZ2V0VGlsZSA9IHMpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZXJmZWN0TW92ZUNvdW50ID0gdGhpcy5fZmlndXJlTGlzdC5sZW5ndGggLyAyIHwgMFxuICAgIH1cblxuICAgIGZpbmRUaWxlQnlQb3MoeCwgeSkge1xuICAgICAgICB2YXIgbiA9IG51bGxcbiAgICAgICAgdmFyIGkgPSAxZTZcbiAgICAgICAgdmFyIHMgPSBjYy52Mih4LCB5KVxuICAgICAgICB2YXIgciA9IHRoaXMuX3RpbGVMaXN0XG4gICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgci5sZW5ndGg7KythKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHJbYV07XG4gICAgICAgICAgICBmb3IgKHZhciBfID0gMDsgXyA8IG8ubGVuZ3RoOysrXykge1xuICAgICAgICAgICAgICAgIHZhciBsID0gb1tfXVxuICAgICAgICAgICAgICAgIHZhciB0cCA9IG9bX10ubm9kZS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHMuc3ViKHRwKS5tYWcoKVxuICAgICAgICAgICAgICAgIGlmIChoIDwgNTAgJiYgaCA8IGkgKXtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGg7IFxuICAgICAgICAgICAgICAgICAgICBuID0gbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gNDAgPiBoICYmIGkgPiBoICYmIChpID0gaCwgbiA9IGwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5cbiAgICB9XG4gICAgcmVtb3ZlR3JpZEZyb21UaWxlKHQpIHtcbiAgICAgICAgZm9yICg7IG51bGwgIT0gdCAmJiBudWxsICE9IHQuY29ubmVjdGVkVGlsZTspIHRoaXMuX2dyaWRNYW5hZ2VyLnNldFN0YXRlKHQuZ2V0X3JvdygpLCB0LmdldF9jb2woKSwgdC5jb25uZWN0ZWRUaWxlLmdldF9yb3coKSwgdC5jb25uZWN0ZWRUaWxlLmdldF9jb2woKSwgITEpLCB0ID0gdC5jb25uZWN0ZWRUaWxlXG4gICAgfVxuICAgICBfMHgzZjhjKF8weDFhMmIpIHtcbiAgICAgICAgdmFyIF8weDRhMmIgPSBbJ2N1cnJlbnRMZXZlbCcsICdnZXRfYW5pbWFsJywgJ2xlbmd0aCcsICd0b1N0cmluZycsICdjaGFyQXQnLCAnY2hhckNvZGVBdCddO1xuXG4gICAgICAgIF8weDFhMmIgPSBfMHgxYTJiIC0gMHgwO1xuICAgICAgICB2YXIgXzB4NWYyYSA9IF8weDRhMmJbXzB4MWEyYiBhcyBudW1iZXJdO1xuICAgICAgICByZXR1cm4gXzB4NWYyYTtcbiAgICB9XG4gICAgY2hlY2tGaWxsQWxsKCkge1xuICAgICAgICBcbiAgICAgICAgdmFyIF8weDJlMWYgPSAweDU7XG4gICAgICAgIHZhciBfMHg3ZDRhID0gVXNlckluZm9bdGhpcy5fMHgzZjhjKCcweDAnKV07XG4gICAgICAgIHZhciBfMHg5YjNjID0gXzB4N2Q0YVt0aGlzLl8weDNmOGMoJzB4MycpXSgpO1xuICAgICAgICB2YXIgXzB4NWYyYSA9IF8weDliM2NbdGhpcy5fMHgzZjhjKCcweDQnKV0oMHgwKTtcbiAgICAgICAgdmFyIF8weDhlN2QgPSBfMHg1ZjJhW3RoaXMuXzB4M2Y4YygnMHg1JyldKDB4MCk7XG4gICAgICAgIHZhciBfMHgxYzRlID0gXzB4OGU3ZCAlIDB4YTtcbiAgICAgICAgdmFyIF8weDZiOWYgPSAoXzB4MWM0ZSArIDB4MSkgKiAweDIgLSAweDM7XG5cbiAgICAgICAgLy8gVGhpcyBjb2RlIGlzIHRoZSByZWFzb24gd2h5IHBsYXllciBjYW50IGdvIHRvIG5leHQgbGV2ZWwgd2hlbiBwbGF5ZXIgaW4gbGV2ZWwgNVxuICAgICAgICAvL2lmIChfMHg3ZDRhID09PSBfMHgyZTFmIHx8IF8weDZiOWYgPT09IDB4Nykge1xuICAgICAgICAvLyAgICByZXR1cm4gITB4MTtcbiAgICAgICAgLy99XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB0ID0gMCwgZSA9IHRoaXMuX3RpbGVMaXN0OyB0IDwgZVt0aGlzLl8weDNmOGMoJzB4MicpXTspIHtcbiAgICAgICAgICAgIHZhciBuID0gZVt0XTtcbiAgICAgICAgICAgICsrdDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblt0aGlzLl8weDNmOGMoJzB4MicpXTspIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IG5baV07XG4gICAgICAgICAgICAgICAgaWYgKCsraSwgMCA9PSBzW3RoaXMuXzB4M2Y4YygnMHgxJyldKCkpIHJldHVybiAhMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMFxuICAgIH1cbiAgICBjaGVja0Nvbm5lY3RlZEFsbCgpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IDAsIGUgPSB0aGlzLl90aWxlTGlzdDsgdCA8IGUubGVuZ3RoOykge1xuICAgICAgICAgICAgdmFyIG4gPSBlW3RdO1xuICAgICAgICAgICAgKyt0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IG5baV07XG4gICAgICAgICAgICAgICAgaWYgKCsraSwgbnVsbCAhPSBzLnRhcmdldFRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBzLmdldEhlYWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBzLmdldFRhaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT0gcy50YXJnZXRUaWxlLmVxdWFscyhhKSAmJiAwID09IHMudGFyZ2V0VGlsZS5lcXVhbHMocikpIHJldHVybiAhMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITBcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/GridManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3b45a0/RCtHwJWRliu8sGTN', 'GridManager');
// Game/Scripts/hex-lines-game/GridManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap_1 = require("./ds/IntMap");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var GridManager = /** @class */ (function (_super) {
    __extends(GridManager, _super);
    function GridManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._minCol = null;
        return _this;
    }
    GridManager.prototype.addGrid = function (t, e, n) {
        null == this._gridList && (this._gridList = new IntMap_1.default);
        if (!this._gridList.exists(t))
            this._gridList.set(t, new IntMap_1.default);
        this._gridList.get(t).set(e, n);
    };
    GridManager.prototype.init = function (t) {
        this._minCol = t;
    };
    GridManager.prototype.start = function () {
        var t = Game_1.default.instance._rowCount;
        var e = Game_1.default.instance._tileList;
        this._gridList = new IntMap_1.default;
        for (var n = 0; t > n;) {
            for (var i = n++, s = 0, a = (t / 2 >= i ? this._minCol + i : this._minCol - 1 + t - i) - 1; a > s;) {
                var r = s++;
                var o = e[i][r].get_borderPosition();
                var b = e[i][r + 1].get_borderPosition();
                var c = cc.v2((o.x + b.x) / 2, (o.y + b.y) / 2);
                var line = cc.instantiate(Res_1.R.Line46);
                line.setPosition(c);
                line.active = false;
                line.parent = this.node;
                line.zIndex = 109;
                this.addGrid(i + i, r + r + 1, line);
            }
        }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m_1 = 0; 2 > m_1; m_1++) {
                    var h = e[s][o].get_borderPosition();
                    var u = e[s + 1][o + m_1].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m_1 == 0) {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.parent = this.node;
                    line.zIndex = 109;
                    this.addGrid(s + s + 1, o + o + m_1, line);
                }
            }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, s = t - s - 1, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m = 0; 2 > m; m++) {
                    h = e[s][o].get_borderPosition();
                    u = e[s - 1][o + m].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m == 0) {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.zIndex = 109;
                    line.parent = this.node;
                    this.addGrid(s + s - 1, o + o + m, line);
                }
            }
    };
    GridManager.prototype.setState = function (r, c, r1, c1, b) {
        if (this._gridList.exists(r + r1)) {
            var t = this._gridList.get(r + r1);
            if (t.exists(c + c1)) {
                var node = t.get(c + c1);
                node.active = b;
            }
        }
    };
    return GridManager;
}(cc.Component));
exports.default = GridManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdyaWRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUM7QUFDakMsK0JBQThCO0FBQzlCLDZCQUEwQjtBQUUxQjtJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQW1HQztRQS9GRyxhQUFPLEdBQUcsSUFBSSxDQUFDOztJQStGbkIsQ0FBQztJQTdGRyw2QkFBTyxHQUFQLFVBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ1gsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3ZELElBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxDQUFDO1FBRUYsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUE7SUFDcEIsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQztRQUM1QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUNyQjtZQUNJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxF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QUUsQ0FBQyxDQUFBO1lBQ2xDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQ3BCO2dCQUNJLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO2dCQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0FuR0EsQUFtR0MsQ0FuR3dDLEVBQUUsQ0FBQyxTQUFTLEdBbUdwRCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRNYXAgZnJvbSBcIi4vZHMvSW50TWFwXCI7XG5pbXBvcnQgTGluZUdhbWUgZnJvbSBcIi4vR2FtZVwiO1xuaW1wb3J0IHsgUiB9IGZyb20gXCIuL1Jlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIF9ncmlkTGlzdDpJbnRNYXBcblxuICAgIF9taW5Db2wgPSBudWxsO1xuXG4gICAgYWRkR3JpZCh0LCBlLCBuKSB7XG4gICAgICAgIG51bGwgPT0gdGhpcy5fZ3JpZExpc3QgJiYgKHRoaXMuX2dyaWRMaXN0ID0gbmV3IEludE1hcClcbiAgICAgICAgaWYoIXRoaXMuX2dyaWRMaXN0LmV4aXN0cyh0KSlcbiAgICAgICAgICAgIHRoaXMuX2dyaWRMaXN0LnNldCh0LCBuZXcgSW50TWFwKVxuICAgICAgICB0aGlzLl9ncmlkTGlzdC5nZXQodCkuc2V0KGUsIG4pXG4gICAgfVxuXG4gICAgaW5pdCh0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWluQ29sID0gdFxuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB2YXIgdCA9IExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudFxuICAgICAgICB2YXIgZSA9IExpbmVHYW1lLmluc3RhbmNlLl90aWxlTGlzdFxuICAgICAgICB0aGlzLl9ncmlkTGlzdCA9IG5ldyBJbnRNYXA7XG4gICAgICAgIGZvciAodmFyIG4gPSAwOyB0ID4gbjspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBuKyssIHMgPSAwLCBhID0gKHQgLyAyID49IGkgPyB0aGlzLl9taW5Db2wgKyBpIDogdGhpcy5fbWluQ29sIC0gMSArIHQgLSBpKSAtIDE7IGEgPiBzOykge1xuICAgICAgICAgICAgICAgIHZhciByID0gcysrXG4gICAgICAgICAgICAgICAgdmFyIG8gPSBlW2ldW3JdLmdldF9ib3JkZXJQb3NpdGlvbigpXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBlW2ldW3IgKyAxXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxuICAgICAgICAgICAgICAgIHZhciBjID0gY2MudjIoKG8ueCArIGIueCkgLyAyLChvLnkgKyBiLnkpIC8gMilcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTQ2KVxuICAgICAgICAgICAgICAgIGxpbmUuc2V0UG9zaXRpb24oYyk7XG4gICAgICAgICAgICAgICAgbGluZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgICAgICBsaW5lLnpJbmRleCA9IDEwOVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkR3JpZChpICsgaSwgciArIHIgKyAxLCBsaW5lKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobiA9IDAsIGkgPSB0IC8gMiB8IDA7IGkgPiBuOylcbiAgICAgICAgICAgIGZvciAocyA9IG4rKywgYSA9IHQgLyAyID49IHMgPyB0aGlzLl9taW5Db2wgKyBzIDogdGhpcy5fbWluQ29sIC0gMSArIHQgLSBzLCByID0gMDsgYSA+IHI7KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG8gPSByICsrXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbSA9IDA7IDIgPiBtO20rKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGVbc11bb10uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBlW3MgKyAxXVtvICsgbV0uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgaCA9IGNjLnYyKChoLnggKyB1LngpIC8gMiwgKGgueSArIHUueSkgLyAyKVxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmKG0gPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMzcpXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTE5KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc2V0UG9zaXRpb24oaCk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUucGFyZW50ID0gdGhpcy5ub2RlO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnpJbmRleCA9IDEwOVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEdyaWQocyArIHMgKyAxLCBvICsgbyArIG0sIGxpbmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBmb3IgKG4gPSAwLCBpID0gdCAvIDIgfCAwOyBpID4gbjspXG4gICAgICAgICAgICBmb3IgKHMgPSBuKyssIHMgPSB0IC0gcyAtIDEsIGEgPSB0IC8gMiA+PSBzID8gdGhpcy5fbWluQ29sICsgcyA6IHRoaXMuX21pbkNvbCAtIDEgKyB0IC0gcywgciA9IDA7IGEgPiByOylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvID0gcisrXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSAgPSAwOyAyID4gbTttKyspIFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9IGVbc11bb10uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgdSA9IGVbcyAtIDFdW28gKyBtXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICBoID0gY2MudjIoKGgueCArIHUueCkgLyAyLCAoaC55ICsgdS55KSAvIDIpXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYobSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMTkpXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMzcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGluZS5zZXRQb3NpdGlvbihoKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAxMDlcbiAgICAgICAgICAgICAgICAgICAgbGluZS5wYXJlbnQgPSB0aGlzLm5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRHcmlkKHMgKyBzIC0gMSwgbyArIG8gKyBtLCBsaW5lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShyLCBjLCByMSwgYzEsIGIpIHtcbiAgICAgICAgaWYodGhpcy5fZ3JpZExpc3QuZXhpc3RzKHIgKyByMSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0ID0gdGhpcy5fZ3JpZExpc3QuZ2V0KHIgKyByMSlcbiAgICAgICAgICAgIGlmICh0LmV4aXN0cyhjICsgYzEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdC5nZXQoYyArIGMxKVxuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DailyGetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd3b8fModWBPmovqTucbpm5C', 'DailyGetDialog');
// Game/Scripts/ui/DailyGetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Platform_1 = require("../../../framework/Platform");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DailyGetDialog = /** @class */ (function (_super) {
    __extends(DailyGetDialog, _super);
    function DailyGetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamond = 0;
        _this.rewardLabel = null;
        _this.doubleButtonLabel = null;
        _this.bannerLabel = null;
        _this.receiveButtonLabel = null;
        return _this;
    }
    DailyGetDialog.prototype.onLoad = function () { };
    DailyGetDialog.prototype.start = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang(cc.js.formatStr("钻石 x " + this.diamond), "双倍领取", "=   每日奖励  =", "领取");
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang(cc.js.formatStr("Kim cương x " + this.diamond), "Nhân đôi số tiền", "= Phần thưởng hàng ngày =", "Nhận được");
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang(cc.js.formatStr("Diamond x " + this.diamond), "Double the amount", "= Daily Rewards =", "Receive");
                break;
        }
    };
    DailyGetDialog.prototype.onShown = function () {
        this.diamond = g.randomInt(20, 50);
        this.rewardLabel.string = cc.js.formatStr("钻石 x " + this.diamond);
    };
    DailyGetDialog.prototype.click_get = function () {
        // share or video 
        Info_1.UserInfo.addDiamond(this.diamond);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(this.diamond * 2);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.click_get_double = function () {
        //share orvideo
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.DailyGet);
        if (choice == 0) {
            this.share_succ();
        }
        else if (choice == 1) {
            Platform_1.default.share(this.share_succ, this);
        }
        else {
            //watch video
            Platform_1.default.watch_video(this.share_succ, this);
        }
    };
    DailyGetDialog.prototype.set_label_lang = function (rewardString, doubleButtonLabelString, bannerString, receiveButtonString) {
        this.rewardLabel.string = rewardString;
        this.doubleButtonLabel.string = doubleButtonLabelString;
        this.bannerLabel.string = bannerString;
        this.receiveButtonLabel.string = receiveButtonString;
    };
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "rewardLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "doubleButtonLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "receiveButtonLabel", void 0);
    DailyGetDialog = __decorate([
        ccclass
    ], DailyGetDialog);
    return DailyGetDialog;
}(cc.Component));
exports.default = DailyGetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERhaWx5R2V0RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBK0M7QUFDL0MsaUVBQTREO0FBRTVELHdEQUFtRDtBQUNuRCxzREFBbUU7QUFFN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUEyRkM7UUE5REcsYUFBTyxHQUFVLENBQUMsQ0FBQztRQUduQixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3Qix1QkFBaUIsR0FBYSxJQUFJLENBQUM7UUFHbkMsaUJBQVcsR0FBYSxJQUFJLENBQUM7UUFHN0Isd0JBQWtCLEdBQWEsSUFBSSxDQUFDOztJQWtEeEMsQ0FBQztJQXpGRywrQkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDhCQUFLLEdBQUw7UUFDSSxRQUFRLHlCQUFlLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRTtZQUM5QyxLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUN2RCxNQUFNLEVBQ04sYUFBYSxFQUNiLElBQUksQ0FDUCxDQUFDO2dCQUNGLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUM5RCxrQkFBa0IsRUFDbEIsMkJBQTJCLEVBQzNCLFdBQVcsQ0FDZCxDQUFDO2dCQUVGLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUM1RCxtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLFNBQVMsQ0FDWixDQUFDO2dCQUNGLE1BQU07U0FDYjtJQUNMLENBQUM7SUFlRCxnQ0FBTyxHQUFQO1FBRUksSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JFLENBQUM7SUFFRCxrQ0FBUyxHQUFUO1FBRUksa0JBQWtCO1FBQ2xCLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ2pDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxtQ0FBVSxHQUFWO1FBRUksZUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCx5Q0FBZ0IsR0FBaEI7UUFFSSxlQUFlO1FBQ2YsSUFBSSxNQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELElBQUksTUFBTSxJQUFJLENBQUMsRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjthQUFLLElBQUcsTUFBTSxJQUFJLENBQUMsRUFBQztZQUNqQixrQkFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxDQUFBO1NBQ3ZDO2FBQUk7WUFDRCxhQUFhO1lBQ2Isa0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUM3QztJQUNMLENBQUM7SUFFRCx1Q0FBYyxHQUFkLFVBQWUsWUFBb0IsRUFDL0IsdUJBQStCLEVBQy9CLFlBQW9CLEVBQ3BCLG1CQUEyQjtRQUUzQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUM7UUFDdkMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyx1QkFBdUIsQ0FBQztRQUN4RCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUM7UUFDdkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxtQkFBbUIsQ0FBQztJQUN6RCxDQUFDO0lBMUREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2REFDZ0I7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt1REFDVTtJQUc3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzhEQUNpQjtJQXpDbkIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQTJGbEM7SUFBRCxxQkFBQztDQTNGRCxBQTJGQyxDQTNGMkMsRUFBRSxDQUFDLFNBQVMsR0EyRnZEO2tCQTNGb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYWlseUdldERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgb25Mb2FkICgpIHt9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKGNjLmpzLmZvcm1hdFN0cihcIumSu+efsyB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIuWPjOWAjemihuWPllwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiPSAgIOavj+aXpeWlluWKsSAgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6aKG5Y+WXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhjYy5qcy5mb3JtYXRTdHIoXCJLaW0gY8awxqFuZyB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIk5ow6JuIMSRw7RpIHPhu5EgdGnhu4FuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCI9IFBo4bqnbiB0aMaw4bufbmcgaMOgbmcgbmfDoHkgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjhuq1uIMSRxrDhu6NjXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoY2MuanMuZm9ybWF0U3RyKFwiRGlhbW9uZCB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIkRvdWJsZSB0aGUgYW1vdW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCI9IERhaWx5IFJld2FyZHMgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpYW1vbmQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRvdWJsZUJ1dHRvbkxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZWNlaXZlQnV0dG9uTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBvblNob3duKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRpYW1vbmQgPSBnLnJhbmRvbUludCgyMCw1MCk7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSBjYy5qcy5mb3JtYXRTdHIoXCLpkrvnn7MgeCBcIiArIHRoaXMuZGlhbW9uZClcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19nZXQoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHNoYXJlIG9yIHZpZGVvIFxyXG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5kaWFtb25kKVxyXG4gICAgICAgIFVzZXJJbmZvLmRhaWx5R2V0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpXHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVfc3VjYygpXHJcbiAgICB7XHJcbiAgICAgICAgVXNlckluZm8uYWRkRGlhbW9uZCh0aGlzLmRpYW1vbmQgKiAyKTtcclxuICAgICAgICBVc2VySW5mby5kYWlseUdldFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2dldF9kb3VibGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vc2hhcmUgb3J2aWRlb1xyXG4gICAgICAgIGxldCBjaG9pY2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5EYWlseUdldCk7XHJcbiAgICAgICAgaWYgKGNob2ljZSA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFyZV9zdWNjKCk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2hvaWNlID09IDEpe1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1Y2MsdGhpcylcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy93YXRjaCB2aWRlb1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1Y2MsdGhpcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcocmV3YXJkU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgZG91YmxlQnV0dG9uTGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByZWNlaXZlQnV0dG9uU3RyaW5nOiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnJld2FyZExhYmVsLnN0cmluZyA9IHJld2FyZFN0cmluZztcclxuICAgICAgICB0aGlzLmRvdWJsZUJ1dHRvbkxhYmVsLnN0cmluZyA9IGRvdWJsZUJ1dHRvbkxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1dHRvbkxhYmVsLnN0cmluZyA9IHJlY2VpdmVCdXR0b25TdHJpbmc7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/GetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '714f07aCe9N55KDdTLTUVv8', 'GetDialog');
// Game/Scripts/ui/GetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Platform_1 = require("../../../framework/Platform");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GetDialog = /** @class */ (function (_super) {
    __extends(GetDialog, _super);
    function GetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bannerLabel = null;
        _this.diamondLabel = null;
        _this.receiveLabel = null;
        _this.receiveDoubleLabel = null;
        _this.count = 0;
        _this.node_close = null;
        return _this;
    }
    GetDialog.prototype.onLoad = function () { };
    GetDialog.prototype.start = function () {
    };
    GetDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("=   恭喜获得  =", "钻石 x", "领取", "双倍领取");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("= Xin chúc mừng bạn đã chiến thắng =", "Kim cương x", "Nhận được", "Nhân đôi số tiền");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("= Congratulations on winning =", "Diamond x", "Receive", "Double the amount");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    GetDialog.prototype.set_label_lang = function (bannerString, diamondString, receiveString, receiveDoubleString) {
        this.bannerLabel.string = bannerString;
        this.diamondLabel.string = diamondString;
        this.receiveLabel.string = receiveString;
        this.receiveDoubleLabel.string = receiveDoubleString;
    };
    GetDialog.prototype.set_label_FontSize = function (fontSize) {
        this.bannerLabel.fontSize = fontSize;
        this.diamondLabel.fontSize = fontSize;
        this.receiveLabel.fontSize = fontSize;
        this.receiveDoubleLabel.fontSize = fontSize;
    };
    GetDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.count * 2);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        this.getComponent(View_1.default).hide();
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    GetDialog.prototype.click_double = function () {
        //share 
        //if share suc 
        // this.share_suc()
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Get);
        if (choice == 1) {
            Platform_1.default.share(this.share_suc, this);
            cc.log("Platform.share(this.share_suc, this)");
        }
        else if (choice == 0) {
            this.share_suc();
            cc.log(" this.share_suc()");
        }
        else {
            //video\
            Platform_1.default.watch_video(this.share_suc, this);
            cc.log("Platform.watch_video(this.share_suc, this)");
        }
    };
    GetDialog.prototype.onShown = function (count) {
        this.count = count;
        // SpriteFrameCache.instance.getSpriteFrame("Game/textures/car/" + cfg.img).then(sf=>this.icon.spriteFrame= sf);
        this.diamondLabel.string = "+" + count;
        this.node_close.active = false;
        this.unschedule(this.delayShow);
        this.scheduleOnce(this.delayShow, 2);
    };
    GetDialog.prototype.delayShow = function () {
        this.node_close.active = true;
    };
    GetDialog.prototype.click_no = function () {
        this.getComponent(View_1.default).hide();
        Info_1.UserInfo.addDiamond(this.count);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "receiveLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "receiveDoubleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GetDialog.prototype, "node_close", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "eng_FontSize", void 0);
    GetDialog = __decorate([
        ccclass
    ], GetDialog);
    return GetDialog;
}(cc.Component));
exports.default = GetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEdldERpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsaUVBQTREO0FBQzdELGdDQUErQztBQUcvQywrRUFBMEU7QUFFMUUsd0RBQW1EO0FBQ25ELHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQXdJQztRQWxHRyxpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUc5QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUc5Qix3QkFBa0IsR0FBYSxJQUFJLENBQUM7UUFFcEMsV0FBSyxHQUFVLENBQUMsQ0FBQztRQUdqQixnQkFBVSxHQUFZLElBQUksQ0FBQzs7SUFvRi9CLENBQUM7SUF0SUcsMEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDRCQUFRLEdBQVI7UUFDSSxRQUFRLHlCQUFlLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRTtZQUM5QyxLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQzdCLE1BQU0sRUFDTixJQUFJLEVBQ0osTUFBTSxDQUNULENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLHNDQUFzQyxFQUN0RCxhQUFhLEVBQ2IsV0FBVyxFQUNYLGtCQUFrQixDQUNyQixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07WUFDVixL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RUksSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQixlQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUUsQ0FBQTtRQUNoQyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZix5Q0FBeUM7UUFDekMscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUE7SUFDakQsQ0FBQztJQWpHRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNVO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7bURBQ1c7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDVztJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3lEQUNpQjtJQUtwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNTO0lBZTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztrREFDWDtJQUVwQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7a0RBQ1g7SUFFcEI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO21EQUNWO0lBdkVKLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0F3STdCO0lBQUQsZ0JBQUM7Q0F4SUQsQUF3SUMsQ0F4SXNDLEVBQUUsQ0FBQyxTQUFTLEdBd0lsRDtrQkF4SW9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyLvu79pbXBvcnQgVmlldyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XHJcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xyXG5pbXBvcnQgTHVja3lEaWFsb2cgZnJvbSBcIi4vTHVja3lEaWFsb2dcIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyLCB7IExhbmd1YWdlTW9kZSB9IGZyb20gXCIuLi9MYW5ndWFnZU1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2V0RGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiPSAgIOaBreWWnOiOt+W+lyAgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6ZK755+zIHhcIixcclxuICAgICAgICAgICAgICAgICAgICBcIumihuWPllwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5Y+M5YCN6aKG5Y+WXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiPSBYaW4gY2jDumMgbeG7q25nIGLhuqFuIMSRw6MgY2hp4bq/biB0aOG6r25nID1cIixcclxuICAgICAgICAgICAgICAgICAgICBcIktpbSBjxrDGoW5nIHhcIixcclxuICAgICAgICAgICAgICAgICAgICBcIk5o4bqtbiDEkcaw4bujY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjDom4gxJHDtGkgc+G7kSB0aeG7gW5cIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCI9IENvbmdyYXR1bGF0aW9ucyBvbiB3aW5uaW5nID1cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkRpYW1vbmQgeFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRG91YmxlIHRoZSBhbW91bnRcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGJhbm5lckxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGlhbW9uZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVjZWl2ZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVjZWl2ZURvdWJsZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgY291bnQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG5vZGVfY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBkaWFtb25kU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcmVjZWl2ZVN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJlY2VpdmVEb3VibGVTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuZGlhbW9uZExhYmVsLnN0cmluZyA9IGRpYW1vbmRTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlTGFiZWwuc3RyaW5nID0gcmVjZWl2ZVN0cmluZztcclxuICAgICAgICB0aGlzLnJlY2VpdmVEb3VibGVMYWJlbC5zdHJpbmcgPSByZWNlaXZlRG91YmxlU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXI7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyO1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXI7XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmJhbm5lckxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnJlY2VpdmVMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZURvdWJsZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVfc3VjKClcclxuICAgIHtcclxuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuY291bnQgKiAyIClcclxuICAgICAgICBVc2VySW5mby5zYXZlKCk7XHJcbiAgICAgICAgLy8gRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19nZXRfZGlhbW9uZClcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19kb3VibGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vc2hhcmUgXHJcbiAgICAgICAgLy9pZiBzaGFyZSBzdWMgXHJcbiAgICAgICAgLy8gdGhpcy5zaGFyZV9zdWMoKVxyXG4gICAgICAgIGxldCBjaG9pY2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5HZXQpXHJcbiAgICAgICAgaWYoY2hvaWNlID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1YywgdGhpcyk7IFxyXG4gICAgICAgICAgICBjYy5sb2coXCJQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1YywgdGhpcylcIik7XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKGNob2ljZSA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFyZV9zdWMoKTtcclxuICAgICAgICAgICAgY2MubG9nKFwiIHRoaXMuc2hhcmVfc3VjKClcIik7XHJcblxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgLy92aWRlb1xcXHJcbiAgICAgICAgICAgIFBsYXRmb3JtLndhdGNoX3ZpZGVvKHRoaXMuc2hhcmVfc3VjLCB0aGlzKVxyXG4gICAgICAgICAgICBjYy5sb2coXCJQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1YywgdGhpcylcIik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblNob3duKGNvdW50KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcclxuICAgICAgICAvLyBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKFwiR2FtZS90ZXh0dXJlcy9jYXIvXCIgKyBjZmcuaW1nKS50aGVuKHNmPT50aGlzLmljb24uc3ByaXRlRnJhbWU9IHNmKTtcclxuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSAgXCIrXCIgKyBjb3VudDtcclxuICAgICAgICB0aGlzLm5vZGVfY2xvc2UuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5kZWxheVNob3cpXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5kZWxheVNob3csMilcclxuICAgIH1cclxuXHJcbiAgICBkZWxheVNob3coKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZV9jbG9zZS5hY3RpdmUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfbm8oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcclxuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuY291bnQgKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIC8vIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9fZ2V0X2RpYW1vbmQpXHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c94fc8PDtI1o3JM9m3WRKN', 'LevelDialog');
// Game/Scripts/ui/LevelDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var LevelSelector_1 = require("../../../framework/plugin_boosts/ui/game/LevelSelector");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelDialog = /** @class */ (function (_super) {
    __extends(LevelDialog, _super);
    function LevelDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.continueLabel = null;
        _this.logoSprite = null;
        _this.logoSprite_ch = null;
        _this.logoSprite_vi = null;
        _this.logoSprite_en = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
    }
    LevelDialog.prototype.onLoad = function () { };
    LevelDialog.prototype.start = function () { };
    LevelDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("继续游戏", this.logoSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Tiếp tục trò chơi", this.logoSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Continue the game", this.logoSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LevelDialog.prototype.set_label_lang = function (continueLabelString, logoSpriteFrame) {
        this.continueLabel.string = continueLabelString;
        this.logoSprite.spriteFrame = logoSpriteFrame;
    };
    LevelDialog.prototype.set_label_FontSize = function (fontSize) {
        this.continueLabel.fontSize = fontSize;
    };
    LevelDialog.prototype.onShown = function () {
        this.selector.currentLevel = Info_1.UserInfo.level;
        this.selector.refresh();
        this.scheduleOnce(this.refreshLevels, 0.1);
    };
    LevelDialog.prototype.refreshLevels = function () {
        this.selector.scrollToCurrentLevel();
    };
    LevelDialog.prototype.select_level = function (lvnode) {
        this.gotoLevel(lvnode.name);
    };
    LevelDialog.prototype.refreshLevelItem = function (data) {
    };
    LevelDialog.prototype.gotoLevel = function (lv) {
        lv = parseInt(lv);
        console.log("enter level", lv);
        Info_1.UserInfo.currentLevel = lv;
        cc.director.loadScene("Game");
    };
    LevelDialog.prototype.click_continue = function () {
        this.gotoLevel(Info_1.UserInfo.level);
    };
    __decorate([
        property(LevelSelector_1.default)
    ], LevelDialog.prototype, "selector", void 0);
    __decorate([
        property(cc.Label)
    ], LevelDialog.prototype, "continueLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], LevelDialog.prototype, "logoSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_en", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "eng_FontSize", void 0);
    LevelDialog = __decorate([
        ccclass
    ], LevelDialog);
    return LevelDialog;
}(cc.Component));
exports.default = LevelDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQyxnQ0FBbUM7QUFDcEMsd0ZBQW1GO0FBQ25GLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQW9HQztRQTVGRyxtQkFBYSxHQUFhLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixtQkFBYSxHQUFtQixJQUFJLENBQUM7UUFFckMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUlyQyxpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQzs7SUEwRTlCLENBQUM7SUFsR0csNEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWiwyQkFBSyxHQUFMLGNBQVUsQ0FBQztJQXlCWCw4QkFBUSxHQUFSO1FBQ0ksUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUN0QixJQUFJLENBQUMsYUFBYSxDQUNyQixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBRTFDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsRUFDbkMsSUFBSSxDQUFDLGFBQWEsQ0FDckIsQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUUxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsbUJBQW1CLEVBQ25DLElBQUksQ0FBQyxhQUFhLENBQ3JCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFM0MsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVELG9DQUFjLEdBQWQsVUFBZSxtQkFBMkIsRUFDdkMsZUFBK0I7UUFFOUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsbUJBQW1CLENBQUM7UUFDaEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDO0lBQ2xELENBQUM7SUFFRCx3Q0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzNDLENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsZUFBUSxDQUFDLEtBQUssQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBRXZCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUM5QyxDQUFDO0lBRUQsbUNBQWEsR0FBYjtRQUVJLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLE1BQU07UUFHZixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUMvQixDQUFDO0lBRUQsc0NBQWdCLEdBQWhCLFVBQWlCLElBQUk7SUFFckIsQ0FBQztJQUVELCtCQUFTLEdBQVQsVUFBVSxFQUFFO1FBRVIsRUFBRSxHQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBSSxFQUFFLENBQUMsQ0FBQztRQUNqQyxlQUFRLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUMzQixFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsb0NBQWMsR0FBZDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ2xDLENBQUM7SUE5RkQ7UUFEQyxRQUFRLENBQUMsdUJBQWEsQ0FBQztpREFDQTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3NEQUNZO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7bURBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztzREFDWTtJQUVyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3NEQUNZO0lBRXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7c0RBQ1k7SUFJckM7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO29EQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztvREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7cURBQ0w7SUExQlQsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQW9HL0I7SUFBRCxrQkFBQztDQXBHRCxBQW9HQyxDQXBHd0MsRUFBRSxDQUFDLFNBQVMsR0FvR3BEO2tCQXBHb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIu+7v2ltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCBMZXZlbFNlbGVjdG9yIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9nYW1lL0xldmVsU2VsZWN0b3JcIjtcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgQHByb3BlcnR5KExldmVsU2VsZWN0b3IpXG4gICAgc2VsZWN0b3I6IExldmVsU2VsZWN0b3I7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgY29udGludWVMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBsb2dvU3ByaXRlOiBjYy5TcHJpdGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxuICAgIGxvZ29TcHJpdGVfY2g6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXG4gICAgbG9nb1Nwcml0ZV92aTogY2MuU3ByaXRlRnJhbWUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcbiAgICBsb2dvU3ByaXRlX2VuOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XG5cblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcbiAgICBjaF9Gb250U2l6ZTogbnVtYmVyID0gMjU7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAxNjtcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcblxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCLnu6fnu63muLjmiI9cIixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCJUaeG6v3AgdOG7pWMgdHLDsiBjaMahaVwiLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ29TcHJpdGVfdmksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkNvbnRpbnVlIHRoZSBnYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb1Nwcml0ZV9lbixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0X2xhYmVsX2xhbmcoY29udGludWVMYWJlbFN0cmluZzogc3RyaW5nLFxuICAgICAgIGxvZ29TcHJpdGVGcmFtZTogY2MuU3ByaXRlRnJhbWUsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29udGludWVMYWJlbC5zdHJpbmcgPSBjb250aW51ZUxhYmVsU3RyaW5nO1xuICAgICAgICB0aGlzLmxvZ29TcHJpdGUuc3ByaXRlRnJhbWUgPSBsb2dvU3ByaXRlRnJhbWU7XG4gICAgfVxuXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250aW51ZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgfVxuXG4gICAgb25TaG93bigpXG4gICAge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLmN1cnJlbnRMZXZlbCA9IFVzZXJJbmZvLmxldmVsO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJlZnJlc2goKVxuXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMucmVmcmVzaExldmVscywgMC4xKVxuICAgIH1cblxuICAgIHJlZnJlc2hMZXZlbHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5zY3JvbGxUb0N1cnJlbnRMZXZlbCgpO1xuICAgIH1cblxuICAgIHNlbGVjdF9sZXZlbChsdm5vZGUpXG4gICAge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5nb3RvTGV2ZWwobHZub2RlLm5hbWUpXG4gICAgfVxuXG4gICAgcmVmcmVzaExldmVsSXRlbShkYXRhKVxuICAgIHtcbiAgICB9XG5cbiAgICBnb3RvTGV2ZWwobHYpXG4gICAge1xuICAgICAgICBsdiA9ICBwYXJzZUludChsdilcbiAgICAgICAgY29uc29sZS5sb2coXCJlbnRlciBsZXZlbFwiICAsIGx2KTtcbiAgICAgICAgVXNlckluZm8uY3VycmVudExldmVsID0gbHY7XG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIkdhbWVcIilcbiAgICB9XG5cbiAgICBjbGlja19jb250aW51ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmdvdG9MZXZlbChVc2VySW5mby5sZXZlbClcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/PauseDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83fb9osUoVEppfk8B6mkJYV', 'PauseDialog');
// Game/Scripts/ui/PauseDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../../../framework/Platform");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PauseDialog = /** @class */ (function (_super) {
    __extends(PauseDialog, _super);
    function PauseDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PauseDialog.prototype.onLoad = function () { };
    PauseDialog.prototype.start = function () { };
    PauseDialog.prototype.click_share = function () {
        Platform_1.default.share();
    };
    PauseDialog.prototype.click_home = function () {
        cc.director.loadScene("Main");
    };
    PauseDialog.prototype.click_restart = function () {
        cc.director.loadScene("Game");
    };
    PauseDialog = __decorate([
        ccclass
    ], PauseDialog);
    return PauseDialog;
}(cc.Component));
exports.default = PauseDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFBhdXNlRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3REFBbUQ7QUFFN0MsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVk7SUFBckQ7O0lBcUJBLENBQUM7SUFuQkcsNEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWiwyQkFBSyxHQUFMLGNBQVUsQ0FBQztJQUdYLGlDQUFXLEdBQVg7UUFFSSxrQkFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxnQ0FBVSxHQUFWO1FBRUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDakMsQ0FBQztJQUdELG1DQUFhLEdBQWI7UUFFSSxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBcEJnQixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBcUIvQjtJQUFELGtCQUFDO0NBckJELEFBcUJDLENBckJ3QyxFQUFFLENBQUMsU0FBUyxHQXFCcEQ7a0JBckJvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXVzZURpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBvbkxvYWQgKCkge31cbiAgICBzdGFydCAoKSB7fVxuXG5cbiAgICBjbGlja19zaGFyZSgpXG4gICAge1xuICAgICAgICBQbGF0Zm9ybS5zaGFyZSgpO1xuICAgIH1cblxuICAgIGNsaWNrX2hvbWUoKVxuICAgIHtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiTWFpblwiKVxuICAgIH1cblxuXG4gICAgY2xpY2tfcmVzdGFydCgpXG4gICAge1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/HbDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec5aa26/dhLhpV83mVeVmkA', 'HbDialog');
// Game/Scripts/ui/HbDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../../../framework/Platform");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var Res_1 = require("../hex-lines-game/Res");
var Info_1 = require("../Info");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var HbDialog = /** @class */ (function (_super) {
    __extends(HbDialog, _super);
    function HbDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HbDialog.prototype.onLoad = function () { };
    HbDialog.prototype.start = function () { };
    HbDialog.prototype.click = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
        if (choise == 1) {
            Platform_1.default.share(this.share_suc, this);
        }
        else {
            Platform_1.default.watch_video(this.share_suc, this);
        }
    };
    HbDialog.prototype.share_suc = function () {
        var cfg = Res_1.R.skinConfig.json[3];
        ToastManager_1.Toast.make("恭喜获得皮肤 ：" + cfg.text);
        Device_1.default.playEffect(Res_1.R.audio_unlock);
        Info_1.UserInfo.unlock(cfg.id);
        Info_1.UserInfo.selectedSkin = cfg.id;
        Info_1.UserInfo.save();
        ViewManager_1.default.instance.show("Game/ShopDialog");
        this.getComponent(View_1.default).hide();
    };
    HbDialog = __decorate([
        ccclass
    ], HbDialog);
    return HbDialog;
}(cc.Component));
exports.default = HbDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEhiRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3REFBbUQ7QUFFbkQsK0VBQTBFO0FBQzFFLGlGQUF5RTtBQUN6RSw2Q0FBMEM7QUFDMUMsZ0NBQStDO0FBQy9DLDBFQUFxRTtBQUNyRSxpRUFBNEQ7QUFFdEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7O0lBMkJBLENBQUM7SUF6QkcseUJBQU0sR0FBTixjQUFXLENBQUM7SUFDWix3QkFBSyxHQUFMLGNBQVUsQ0FBQztJQUNYLHdCQUFLLEdBQUw7UUFFSSxJQUFJLE1BQU0sR0FBRyxlQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0MsSUFBRyxNQUFNLElBQUksQ0FBQyxFQUNkO1lBQ0ksa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUN0QzthQUFLO1lBQ0Ysa0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUM3QztJQUVMLENBQUM7SUFFRCw0QkFBUyxHQUFUO1FBRUksSUFBSSxHQUFHLEdBQUcsT0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDOUIsb0JBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNqQyxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbEMsZUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsZUFBUSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQy9CLGVBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtRQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ25DLENBQUM7SUExQmdCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0EyQjVCO0lBQUQsZUFBQztDQTNCRCxBQTJCQyxDQTNCcUMsRUFBRSxDQUFDLFNBQVMsR0EyQmpEO2tCQTNCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XG5pbXBvcnQgTHVja3lEaWFsb2cgZnJvbSBcIi4vTHVja3lEaWFsb2dcIjtcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xuaW1wb3J0IHsgUiB9IGZyb20gXCIuLi9oZXgtbGluZXMtZ2FtZS9SZXNcIjtcbmltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhiRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgY2xpY2soKVxuICAgIHtcbiAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkhCKTtcbiAgICAgICAgaWYoY2hvaXNlID09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFBsYXRmb3JtLnNoYXJlKHRoaXMuc2hhcmVfc3VjLHRoaXMpXG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIFBsYXRmb3JtLndhdGNoX3ZpZGVvKHRoaXMuc2hhcmVfc3VjLHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIHNoYXJlX3N1YygpXG4gICAge1xuICAgICAgICBsZXQgY2ZnID0gUi5za2luQ29uZmlnLmpzb25bM11cbiAgICAgICAgVG9hc3QubWFrZShcIuaBreWWnOiOt+W+l+earuiCpCDvvJpcIiArIGNmZy50ZXh0KSBcbiAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb191bmxvY2spO1xuICAgICAgICBVc2VySW5mby51bmxvY2soY2ZnLmlkKTtcbiAgICAgICAgVXNlckluZm8uc2VsZWN0ZWRTa2luID0gY2ZnLmlkO1xuICAgICAgICBVc2VySW5mby5zYXZlKCk7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1Nob3BEaWFsb2dcIilcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LuckyDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a94275+JmtMx6iZb18iwKTe', 'LuckyDialog');
// Game/Scripts/ui/LuckyDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var Platform_1 = require("../../../framework/Platform");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("../hex-lines-game/Res");
var UIFunctions_1 = require("../../../framework/plugin_boosts/ui/UIFunctions");
var Main_1 = require("../Main");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LuckyDialog = /** @class */ (function (_super) {
    __extends(LuckyDialog, _super);
    function LuckyDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._canRotate = true;
        _this.sprites = [];
        _this.labels = [];
        _this.btn_freedraw = null;
        _this.btn_videodraw = null;
        _this.freedrawTip = null;
        _this.drawLabel = null;
        _this.freeDrawLabel = null;
        _this.watchVideoLabel = null;
        _this.bannerLabel = null;
        // click_draw()
        // {
        // }
        _this.ch_FontSize = 0;
        _this.vi_FontSize = 0;
        _this.eng_FontSize = 0;
        _this.pool = [];
        _this.startWheelMessage = "";
        _this.showResMessage = "";
        return _this;
    }
    LuckyDialog_1 = LuckyDialog;
    LuckyDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang('正在给您挑选奖品', '正在给您挑选奖品', '恭喜你抽中了', "免费一次", "观看视频", "幸运转盘");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang('Chọn giải thưởng cho bạn', 'Chọn giải thưởng cho bạn', 'Xin chúc mừng chiến thắng', "Miễn phí một lần", "Xem video", "Vòng quay may mắn");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang('Selecting prizes for you', 'Selecting prizes for you', 'Congratulations on winning', "Free once", "Watch the video", "Lucky Wheel");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LuckyDialog.prototype.set_label_FontSize = function (fontSize) {
        this.freeDrawLabel.fontSize = fontSize;
        this.watchVideoLabel.fontSize = fontSize;
        this.bannerLabel.fontSize = fontSize;
    };
    LuckyDialog.prototype.share_succ = function () {
        this.startDraw();
        Info_1.UserInfo.freedrawTime = new Date().getTime();
        Info_1.UserInfo.save();
        Main_1.default.instance.refreshRedpoints();
        this.onShown();
    };
    LuckyDialog.prototype.click_freeedraw = function () {
        if (g.isNextDay(Info_1.UserInfo.freedrawTime)) {
            this.share_succ();
        }
    };
    LuckyDialog.prototype.onLoad = function () {
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            var chance = parseFloat(cfg.chance);
            for (var j = 0; j < chance * 2; j++) {
                this.pool.push(i);
            }
        }
        this.pool.shuffle();
        console.log(this.pool);
    };
    LuckyDialog.prototype.startDraw = function () {
        var id = g.getRandomInArray(this.pool);
        this.startWheel(id);
        Device_1.default.playEffect(Res_1.R.audio_draw);
    };
    // 5次
    LuckyDialog.prototype.click_videodraw = function () {
        var _this = this;
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            if (g.isNextDay(Info_1.UserInfo.luckyVideoWatchTime)) {
                Info_1.UserInfo.luckyVideoWatchCount = 0;
                Info_1.UserInfo.luckyVideoWatchTime = new Date().getTime();
            }
            else {
                // Platform.share(_=>{
                //     this.startDraw()
                // })
                return;
            }
        }
        else {
            Platform_1.default.watch_video(function (_) {
                Info_1.UserInfo.luckyVideoWatchCount++;
                _this.startDraw();
            });
        }
        //video 流量主开通后
        // Platform.watch_video(_=>{
        //     this.startDraw()
        //     UserInfo.luckyVideoWatchCount += 1;
        //     UserInfo.save();
        //     this.onShown()
        //     // Toast.make("还剩" +  (5- UserInfo.luckyVideoWatchCount) +"次机会")
        // });
    };
    LuckyDialog.prototype.calculateAngle = function (index) {
        var angle = -(index - 1) * 60 - 30 - 4 * 360 - this.wheelSp.node.rotation % 360;
        return angle;
    };
    LuckyDialog.prototype.onShown = function () {
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            switch (LanguageManager_1.default.instance.currentLanguage) {
                case LanguageManager_1.LanguageMode.CN:
                    this.drawLabel.string = '已用完';
                    this.drawLabel.fontSize = this.ch_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.VI:
                    this.drawLabel.string = 'Kiệt sức';
                    this.drawLabel.fontSize = this.vi_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.EN:
                    this.drawLabel.string = 'Exhausted';
                    this.drawLabel.fontSize = this.eng_FontSize;
                    break;
            }
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, false);
        }
        else {
            switch (LanguageManager_1.default.instance.currentLanguage) {
                case LanguageManager_1.LanguageMode.CN:
                    this.drawLabel.string = '看视频抽奖';
                    this.drawLabel.fontSize = this.ch_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.VI:
                    this.drawLabel.string = 'Xem video và giành giải thưởng';
                    this.drawLabel.fontSize = this.vi_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.EN:
                    this.drawLabel.string = 'Watch the video and win the prize';
                    this.drawLabel.fontSize = this.eng_FontSize;
                    break;
            }
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, true);
        }
        if (g.isGreaterDate(new Date(), new Date(Info_1.UserInfo.freedrawTime))) {
            //free draw 
            this.btn_freedraw.interactable = true;
            this.btn_freedraw.node.opacity = 255;
            this.freedrawTip.active = false;
        }
        else {
            this.btn_freedraw.interactable = false;
            this.btn_freedraw.node.opacity = 100;
            this.freedrawTip.active = true;
        }
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            this.labels[i].string = cfg.gold_reward + "";
            if (this.sprites[i].spriteFrame == this.misterySp) {
            }
        }
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.labels[2].string = '神秘皮肤';
                this.labels[2].fontSize = this.ch_FontSize;
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.labels[2].string = 'Trang phục bí ẩn';
                this.labels[2].fontSize = this.vi_FontSize;
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.labels[2].string = 'Mysterious Skin';
                this.labels[2].fontSize = this.eng_FontSize;
                break;
        }
    };
    LuckyDialog.prototype.startWheel = function (id) {
        console.log("target wheel:", id);
        var angle = this.calculateAngle(id);
        if (!this._canRotate) {
            ToastManager_1.Toast.make(this.startWheelMessage + '...');
            return;
        }
        this._canRotate = false;
        var stage3 = cc.rotateBy(Math.abs(angle / 400), angle);
        var callFunc = cc.callFunc(function () {
            this._canRotate = true;
            this.showRes(id);
        }.bind(this));
        var sequence = cc.sequence(stage3, callFunc);
        this.wheelSp.node.runAction(sequence.easing(cc.easeQuadraticActionInOut()));
    };
    LuckyDialog.prototype.showRes = function (id) {
        var cfg = Res_1.R.luckyConfig.json[id];
        var gold = !isNaN((Number(cfg.gold_reward)));
        if (gold) {
            this.getComponent(View_1.default).hide();
            ViewManager_1.default.instance.show("Game/GetDialog", cfg.gold_reward);
        }
        else {
            //神秘
            ToastManager_1.Toast.make(this.showResMessage + " " + cfg.gold_reward);
            Info_1.UserInfo.unlock(g.randomInt(0, 6));
            // Device.playEffect(R.audio_unlock);
        }
    };
    LuckyDialog.prototype.set_label_lang = function (clickCloseMessage_text, startWheelMessage_text, showResMessage_text, freeDrawString, watchVideoString, bannerString) {
        this.clickCloseMessage = clickCloseMessage_text;
        this.startWheelMessage = startWheelMessage_text;
        this.showResMessage = showResMessage_text;
        this.freeDrawLabel.string = freeDrawString;
        this.watchVideoLabel.string = watchVideoString;
        this.bannerLabel.string = bannerString;
    };
    LuckyDialog.prototype.click_close = function () {
        if (!this._canRotate) {
            ToastManager_1.Toast.make(this.clickCloseMessage + '...');
            return;
        }
        this.getComponent(View_1.default).hide();
    };
    var LuckyDialog_1;
    LuckyDialog.MaxVideoCount = 5;
    __decorate([
        property(cc.Sprite)
    ], LuckyDialog.prototype, "wheelSp", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LuckyDialog.prototype, "misterySp", void 0);
    __decorate([
        property([cc.Sprite])
    ], LuckyDialog.prototype, "sprites", void 0);
    __decorate([
        property([cc.Label])
    ], LuckyDialog.prototype, "labels", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_freedraw", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_videodraw", void 0);
    __decorate([
        property(cc.Node)
    ], LuckyDialog.prototype, "freedrawTip", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "drawLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "freeDrawLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "watchVideoLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "eng_FontSize", void 0);
    LuckyDialog = LuckyDialog_1 = __decorate([
        ccclass
    ], LuckyDialog);
    return LuckyDialog;
}(cc.Component));
exports.default = LuckyDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEx1Y2t5RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRkFBeUU7QUFDekUsK0VBQTBFO0FBQzFFLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFDbkMsd0RBQW1EO0FBQ25ELDBFQUFxRTtBQUNyRSw2Q0FBMEM7QUFDMUMsK0VBQTBFO0FBQzFFLGdDQUEyQjtBQUMzQixzREFBbUU7QUFHN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFxVEM7UUF6UUcsZ0JBQVUsR0FBRyxJQUFJLENBQUM7UUFHbEIsYUFBTyxHQUFlLEVBQUUsQ0FBQTtRQUd4QixZQUFNLEdBQWMsRUFBRSxDQUFBO1FBR3RCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGlCQUFXLEdBQVcsSUFBSSxDQUFDO1FBSTNCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFFOUIscUJBQWUsR0FBWSxJQUFJLENBQUM7UUFFaEMsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFJNUIsZUFBZTtRQUNmLElBQUk7UUFFSixJQUFJO1FBR0osaUJBQVcsR0FBVyxDQUFDLENBQUM7UUFFeEIsaUJBQVcsR0FBVyxDQUFDLENBQUM7UUFFeEIsa0JBQVksR0FBVyxDQUFDLENBQUM7UUFRekIsVUFBSSxHQUFHLEVBQUUsQ0FBQTtRQXlKVCx1QkFBaUIsR0FBVyxFQUFFLENBQUM7UUFDL0Isb0JBQWMsR0FBVyxFQUFFLENBQUM7O0lBZ0VoQyxDQUFDO29CQXJUb0IsV0FBVztJQUc1Qiw4QkFBUSxHQUFSO1FBQ1EsUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDbEQsS0FBSyw4QkFB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QUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ1M7SUFJM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztrREFDTztJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3NEQUNXO0lBRTlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ2E7SUFFaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDUztJQVU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7b0RBQ1A7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO29EQUNQO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztxREFDTjtJQW5GUixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBcVQvQjtJQUFELGtCQUFDO0NBclRELEFBcVRDLENBclR3QyxFQUFFLENBQUMsU0FBUyxHQXFUcEQ7a0JBclRvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xyXG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1VJRnVuY3Rpb25zXCI7XHJcbmltcG9ydCBNYWluIGZyb20gXCIuLi9NYWluXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5pbXBvcnQgQWRkVG9NeUZhdiBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3d4c2RrL0FkZFRvTXlGYXZcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTHVja3lEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZygn5q2j5Zyo57uZ5oKo5oyR6YCJ5aWW5ZOBJyxcclxuICAgICAgICAgICAgICAgICAgICAn5q2j5Zyo57uZ5oKo5oyR6YCJ5aWW5ZOBJyxcclxuICAgICAgICAgICAgICAgICAgICAn5oGt5Zac5L2g5oq95Lit5LqGJyxcclxuICAgICAgICAgICAgICAgICAgICBcIuWFjei0ueS4gOasoVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6KeC55yL6KeG6aKRXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlubjov5Dovaznm5hcIixcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyggJ0No4buNbiBnaeG6o2kgdGjGsOG7n25nIGNobyBi4bqhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0No4buNbiBnaeG6o2kgdGjGsOG7n25nIGNobyBi4bqhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1hpbiBjaMO6YyBt4burbmcgY2hp4bq/biB0aOG6r25nJyxcclxuICAgICAgICAgICAgICAgICAgICBcIk1p4buFbiBwaMOtIG3hu5l0IGzhuqduXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJYZW0gdmlkZW9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIlbDsm5nIHF1YXkgbWF5IG3huq9uXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMudmlfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZygnU2VsZWN0aW5nIHByaXplcyBmb3IgeW91JyxcclxuICAgICAgICAgICAgICAgICAgICAnU2VsZWN0aW5nIHByaXplcyBmb3IgeW91JyxcclxuICAgICAgICAgICAgICAgICAgICAnQ29uZ3JhdHVsYXRpb25zIG9uIHdpbm5pbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRnJlZSBvbmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJXYXRjaCB0aGUgdmlkZW9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkx1Y2t5IFdoZWVsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHdoZWVsU3A6IGNjLlNwcml0ZVxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIG1pc3RlcnlTcDogY2MuU3ByaXRlRnJhbWVcclxuXHJcbiAgICBfY2FuUm90YXRlID0gdHJ1ZTtcclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZV0pXHJcbiAgICBzcHJpdGVzOmNjLlNwcml0ZVtdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLkxhYmVsXSlcclxuICAgIGxhYmVsczpjYy5MYWJlbFtdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgYnRuX2ZyZWVkcmF3OmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGJ0bl92aWRlb2RyYXc6Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGZyZWVkcmF3VGlwOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkcmF3TGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZnJlZURyYXdMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB3YXRjaFZpZGVvTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIHN0YXRpYyBNYXhWaWRlb0NvdW50ID0gNTtcclxuXHJcbiAgICAvLyBjbGlja19kcmF3KClcclxuICAgIC8vIHtcclxuXHJcbiAgICAvLyB9XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDA7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyID0gMDtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZnJlZURyYXdMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMud2F0Y2hWaWRlb0xhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5iYW5uZXJMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHBvb2wgPSBbXVxyXG4gICAgXHJcblxyXG4gICAgc2hhcmVfc3VjYygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdGFydERyYXcoKTtcclxuICAgICAgICBVc2VySW5mby5mcmVlZHJhd1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIE1haW4uaW5zdGFuY2UucmVmcmVzaFJlZHBvaW50cygpXHJcbiAgICAgICAgdGhpcy5vblNob3duKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfZnJlZWVkcmF3KClcclxuICAgIHtcclxuICAgICAgICBpZiAoZy5pc05leHREYXkoVXNlckluZm8uZnJlZWRyYXdUaW1lKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVfc3VjYygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBSLmx1Y2t5Q29uZmlnLmpzb24ubGVuZ3RoOyBpICsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGNmZyA9IFIubHVja3lDb25maWcuanNvbltpXTtcclxuICAgICAgICAgICAgbGV0IGNoYW5jZSA9IHBhcnNlRmxvYXQoY2ZnLmNoYW5jZSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAgOyBqIDwgY2hhbmNlICogMiA7IGorKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb29sLnNodWZmbGUoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9vbCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXJ0RHJhdygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGlkID0gZy5nZXRSYW5kb21JbkFycmF5KHRoaXMucG9vbClcclxuICAgICAgICB0aGlzLnN0YXJ0V2hlZWwoaWQpXHJcbiAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19kcmF3KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA15qyhXHJcbiAgICBjbGlja192aWRlb2RyYXcoKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA+PSBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoZy5pc05leHREYXkoVXNlckluZm8ubHVja3lWaWRlb1dhdGNoVGltZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyBQbGF0Zm9ybS5zaGFyZShfPT57XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5zdGFydERyYXcoKVxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyhfPT57XHJcbiAgICAgICAgICAgICAgICBVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCArKyBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREcmF3KClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy92aWRlbyDmtYHph4/kuLvlvIDpgJrlkI5cclxuICAgICAgICAvLyBQbGF0Zm9ybS53YXRjaF92aWRlbyhfPT57XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc3RhcnREcmF3KClcclxuICAgICAgICAvLyAgICAgVXNlckluZm8ubHVja3lWaWRlb1dhdGNoQ291bnQgKz0gMTtcclxuICAgICAgICAvLyAgICAgVXNlckluZm8uc2F2ZSgpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm9uU2hvd24oKVxyXG4gICAgICAgIC8vICAgICAvLyBUb2FzdC5tYWtlKFwi6L+Y5YmpXCIgKyAgKDUtIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50KSArXCLmrKHmnLrkvJpcIilcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2FsY3VsYXRlQW5nbGUoaW5kZXg6bnVtYmVyKXsvL+WlluWTgeeahGluZGV45LuOMOW8gOWni1xyXG4gICAgICAgIGxldCBhbmdsZSA9IC0oaW5kZXgtMSkgKiA2MCAtIDMwICAtICA0ICogMzYwIC0gIHRoaXMud2hlZWxTcC5ub2RlLnJvdGF0aW9uICUzNjAgXHJcbiAgICAgICAgcmV0dXJuIGFuZ2xlXHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50ID49ICBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAn5bey55So5a6MJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMuY2hfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAnS2nhu4d0IHPhu6ljJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMudmlfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAnRXhoYXVzdGVkJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMuZW5nX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFVJRnVuY3Rpb25zLnNldEJ1dHRvbkVuYWJsZWQodGhpcy5idG5fdmlkZW9kcmF3LGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuc3RyaW5nID0gJ+eci+inhumikeaKveWllic7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuZm9udFNpemUgPSB0aGlzLmNoX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuc3RyaW5nID0gJ1hlbSB2aWRlbyB2w6AgZ2nDoG5oIGdp4bqjaSB0aMaw4bufbmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLmZvbnRTaXplID0gdGhpcy52aV9Gb250U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLnN0cmluZyA9ICdXYXRjaCB0aGUgdmlkZW8gYW5kIHdpbiB0aGUgcHJpemUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLmZvbnRTaXplID0gdGhpcy5lbmdfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVUlGdW5jdGlvbnMuc2V0QnV0dG9uRW5hYmxlZCh0aGlzLmJ0bl92aWRlb2RyYXcsdHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGcuaXNHcmVhdGVyRGF0ZShuZXcgRGF0ZSgpLCAgbmV3IERhdGUoVXNlckluZm8uZnJlZWRyYXdUaW1lKSkgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9mcmVlIGRyYXcgXHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3LmludGVyYWN0YWJsZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5idG5fZnJlZWRyYXcubm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgICAgICB0aGlzLmZyZWVkcmF3VGlwLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3LmludGVyYWN0YWJsZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3Lm5vZGUub3BhY2l0eSA9IDEwMDtcclxuICAgICAgICAgICAgdGhpcy5mcmVlZHJhd1RpcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpPCBSLmx1Y2t5Q29uZmlnLmpzb24ubGVuZ3RoOyBpICsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGNmZyA9IFIubHVja3lDb25maWcuanNvbltpXVxyXG4gICAgICAgICAgICB0aGlzLmxhYmVsc1tpXS5zdHJpbmcgPSBjZmcuZ29sZF9yZXdhcmQgKyBcIlwiXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zcHJpdGVzW2ldLnNwcml0ZUZyYW1lID09IHRoaXMubWlzdGVyeVNwKSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzWzJdLnN0cmluZyA9ICfnpZ7np5jnmq7ogqQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbHNbMl0uZm9udFNpemUgPSB0aGlzLmNoX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbHNbMl0uc3RyaW5nID0gJ1RyYW5nIHBo4bulYyBiw60g4bqpbic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsc1syXS5mb250U2l6ZSA9IHRoaXMudmlfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsc1syXS5zdHJpbmcgPSAnTXlzdGVyaW91cyBTa2luJztcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzWzJdLmZvbnRTaXplID0gdGhpcy5lbmdfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0V2hlZWxNZXNzYWdlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgc2hvd1Jlc01lc3NhZ2U6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBzdGFydFdoZWVsKGlkKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGFyZ2V0IHdoZWVsOlwiICxpZCk7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gdGhpcy5jYWxjdWxhdGVBbmdsZShpZClcclxuICAgICAgICBpZiAoIXRoaXMuX2NhblJvdGF0ZSl7XHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UodGhpcy5zdGFydFdoZWVsTWVzc2FnZSArICcuLi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NhblJvdGF0ZSA9IGZhbHNlXHJcblxyXG4gICAgICAgIGxldCBzdGFnZTMgPSBjYy5yb3RhdGVCeShNYXRoLmFicyhhbmdsZS80MDApLGFuZ2xlKVxyXG4gICAgICAgIGxldCBjYWxsRnVuYyA9IGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhblJvdGF0ZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5zaG93UmVzKGlkKVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICBsZXQgc2VxdWVuY2UgPSBjYy5zZXF1ZW5jZShzdGFnZTMsY2FsbEZ1bmMpXHJcbiAgICAgICAgdGhpcy53aGVlbFNwLm5vZGUucnVuQWN0aW9uKHNlcXVlbmNlLmVhc2luZyhjYy5lYXNlUXVhZHJhdGljQWN0aW9uSW5PdXQoKSkpXHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1JlcyhpZClcclxuICAgIHtcclxuICAgICAgICBsZXQgY2ZnID0gUi5sdWNreUNvbmZpZy5qc29uW2lkXVxyXG4gICAgICAgIGxldCBnb2xkID0gIWlzTmFOKChOdW1iZXIoY2ZnLmdvbGRfcmV3YXJkKSkpXHJcbiAgICAgICAgaWYoZ29sZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9HZXREaWFsb2dcIixjZmcuZ29sZF9yZXdhcmQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8v56We56eYXHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UodGhpcy5zaG93UmVzTWVzc2FnZSArIFwiIFwiICsgY2ZnLmdvbGRfcmV3YXJkKTtcclxuICAgICAgICAgICAgVXNlckluZm8udW5sb2NrKGcucmFuZG9tSW50KDAsNikpO1xyXG4gICAgICAgICAgICAvLyBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX3VubG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhjbGlja0Nsb3NlTWVzc2FnZV90ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgc3RhcnRXaGVlbE1lc3NhZ2VfdGV4dDogc3RyaW5nLFxyXG4gICAgICAgIHNob3dSZXNNZXNzYWdlX3RleHQ6IHN0cmluZyxcclxuICAgICAgICBmcmVlRHJhd1N0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHdhdGNoVmlkZW9TdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xpY2tDbG9zZU1lc3NhZ2UgPSBjbGlja0Nsb3NlTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuc3RhcnRXaGVlbE1lc3NhZ2UgPSBzdGFydFdoZWVsTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuc2hvd1Jlc01lc3NhZ2UgPSBzaG93UmVzTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuZnJlZURyYXdMYWJlbC5zdHJpbmcgPSBmcmVlRHJhd1N0cmluZztcclxuICAgICAgICB0aGlzLndhdGNoVmlkZW9MYWJlbC5zdHJpbmcgPSB3YXRjaFZpZGVvU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrQ2xvc2VNZXNzYWdlOiBzdHJpbmc7IFxyXG4gICAgY2xpY2tfY2xvc2UoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5fY2FuUm90YXRlKXtcclxuICAgICAgICAgICAgVG9hc3QubWFrZSh0aGlzLmNsaWNrQ2xvc2VNZXNzYWdlICsgJy4uLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgfVxyXG5cclxuXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/RankingList.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ef49dKVRRhP3pszQylJBeEH', 'RankingList');
// Game/Scripts/ui/RankingList.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var RankItem_1 = require("./RankItem");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankingList = /** @class */ (function (_super) {
    __extends(RankingList, _super);
    function RankingList() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.rankItemPrefab = null;
        _this.apiUrl = "https://5d820f171c8ff70014ef438d.mockapi.io/1/ranking-list";
        return _this;
    }
    RankingList.prototype.start = function () {
        this.loadRanking();
        console.log("UserInfo Level : " + Info_1.UserInfo.level.toString());
    };
    RankingList.prototype.loadRanking = function () {
        var _this = this;
        var xhr = new XMLHttpRequest();
        xhr.open("GET", this.apiUrl, true);
        xhr.onload = function () {
            if (xhr.status >= 200 && xhr.status < 300) {
                var data = JSON.parse(xhr.responseText);
                // Sort ascending by level
                data.sort(function (a, b) { return a.level - b.level; });
                // Add you when you in top 10
                for (var i = 0; i < data.length; i++) {
                    var item = data[i];
                    console.error(item.name + " : " + item.level.toString());
                    if (item.level <= Info_1.UserInfo.level) {
                        if (i === 0) {
                            item.level = Info_1.UserInfo.level;
                            item.name = "YOU";
                        }
                        else {
                            var tempName = "YOU";
                            var tempLevel = Info_1.UserInfo.level;
                            data[i - 1].name = item.name;
                            data[i - 1].level = item.level;
                            item.name = tempName;
                            item.level = tempLevel;
                        }
                    }
                }
                // Sort descending by level
                data.sort(function (a, b) { return b.level - a.level; });
                _this.populateScrollView(data);
            }
            else {
                console.error("XHR failed:", xhr.status);
            }
        };
        xhr.onerror = function () { return console.error("XHR request error"); };
        xhr.send();
    };
    RankingList.prototype.populateScrollView = function (rankingData) {
        var _this = this;
        var content = this.scrollView.content;
        content.removeAllChildren();
        if (Info_1.UserInfo.getData)
            rankingData.forEach(function (item, index) {
                var node = cc.instantiate(_this.rankItemPrefab);
                var rankItemComp = node.getComponent(RankItem_1.default);
                rankItemComp.init(index + 1, item.level, item.name);
                content.addChild(node);
            });
        var itemHeight = this.rankItemPrefab.data.height;
        content.height = rankingData.length * itemHeight;
    };
    __decorate([
        property(cc.ScrollView)
    ], RankingList.prototype, "scrollView", void 0);
    __decorate([
        property(cc.Prefab)
    ], RankingList.prototype, "rankItemPrefab", void 0);
    RankingList = __decorate([
        ccclass
    ], RankingList);
    return RankingList;
}(cc.Component));
exports.default = RankingList;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFJhbmtpbmdMaXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBbUM7QUFDbkMsdUNBQWtDO0FBRTVCLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBbUZDO1FBaEZHLGdCQUFVLEdBQWtCLElBQUksQ0FBQztRQUdqQyxvQkFBYyxHQUFjLElBQUksQ0FBQztRQUVqQyxZQUFNLEdBQVcsNERBQTRELENBQUM7O0lBMkVsRixDQUFDO0lBekVHLDJCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxlQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFFakUsQ0FBQztJQUVELGlDQUFXLEdBQVg7UUFBQSxpQkF5Q0M7UUF4Q0csSUFBTSxHQUFHLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxNQUFNLEdBQUc7WUFDVCxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO2dCQUN2QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFeEMsMEJBQTBCO2dCQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBakIsQ0FBaUIsQ0FBQyxDQUFDO2dCQUd2Qyw2QkFBNkI7Z0JBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNsQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO29CQUN6RCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksZUFBUSxDQUFDLEtBQUssRUFBRTt3QkFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFOzRCQUNULElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBUSxDQUFDLEtBQUssQ0FBQzs0QkFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7eUJBQ3JCOzZCQUFNOzRCQUNILElBQU0sUUFBUSxHQUFHLEtBQUssQ0FBQzs0QkFDdkIsSUFBTSxTQUFTLEdBQUcsZUFBUSxDQUFDLEtBQUssQ0FBQzs0QkFFakMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQzs0QkFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQzs0QkFFL0IsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7NEJBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO3lCQUMxQjtxQkFDSjtpQkFDSjtnQkFFRCwyQkFBMkI7Z0JBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFqQixDQUFpQixDQUFDLENBQUM7Z0JBQ3ZDLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNqQztpQkFBTTtnQkFDSCxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDNUM7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsT0FBTyxHQUFHLGNBQU0sT0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLEVBQWxDLENBQWtDLENBQUM7UUFDdkQsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVELHdDQUFrQixHQUFsQixVQUFtQixXQUFrQjtRQUFyQyxpQkFpQkM7UUFkRyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQztRQUN4QyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUU1QixJQUFJLGVBQVEsQ0FBQyxPQUFPO1lBRWhCLFdBQVcsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSztnQkFDaEMsSUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ2pELElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQVEsQ0FBQyxDQUFDO2dCQUNqRCxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BELE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbkQsT0FBTyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztJQUNyRCxDQUFDO0lBekVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUM7bURBQ1M7SUFHakM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1REFDYTtJQU5oQixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBbUYvQjtJQUFELGtCQUFDO0NBbkZELEFBbUZDLENBbkZ3QyxFQUFFLENBQUMsU0FBUyxHQW1GcEQ7a0JBbkZvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IFJhbmtJdGVtIGZyb20gXCIuL1JhbmtJdGVtXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5raW5nTGlzdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuU2Nyb2xsVmlldylcbiAgICBzY3JvbGxWaWV3OiBjYy5TY3JvbGxWaWV3ID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgcmFua0l0ZW1QcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBhcGlVcmw6IHN0cmluZyA9IFwiaHR0cHM6Ly81ZDgyMGYxNzFjOGZmNzAwMTRlZjQzOGQubW9ja2FwaS5pby8xL3JhbmtpbmctbGlzdFwiO1xuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMubG9hZFJhbmtpbmcoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VySW5mbyBMZXZlbCA6IFwiICsgVXNlckluZm8ubGV2ZWwudG9TdHJpbmcoKSk7XG5cbiAgICB9XG5cbiAgICBsb2FkUmFua2luZygpIHtcbiAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHRoaXMuYXBpVXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpOyBcblxuICAgICAgICAgICAgICAgIC8vIFNvcnQgYXNjZW5kaW5nIGJ5IGxldmVsXG4gICAgICAgICAgICAgICAgZGF0YS5zb3J0KChhLCBiKSA9PiBhLmxldmVsIC0gYi5sZXZlbCk7XG5cblxuICAgICAgICAgICAgICAgIC8vIEFkZCB5b3Ugd2hlbiB5b3UgaW4gdG9wIDEwXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGl0ZW0ubmFtZSArIFwiIDogXCIgKyBpdGVtLmxldmVsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5sZXZlbCA8PSBVc2VySW5mby5sZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmxldmVsID0gVXNlckluZm8ubGV2ZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gXCJZT1VcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcE5hbWUgPSBcIllPVVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBMZXZlbCA9IFVzZXJJbmZvLmxldmVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtpIC0gMV0ubmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2kgLSAxXS5sZXZlbCA9IGl0ZW0ubGV2ZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm5hbWUgPSB0ZW1wTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmxldmVsID0gdGVtcExldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU29ydCBkZXNjZW5kaW5nIGJ5IGxldmVsXG4gICAgICAgICAgICAgICAgZGF0YS5zb3J0KChhLCBiKSA9PiBiLmxldmVsIC0gYS5sZXZlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZVNjcm9sbFZpZXcoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJYSFIgZmFpbGVkOlwiLCB4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiBjb25zb2xlLmVycm9yKFwiWEhSIHJlcXVlc3QgZXJyb3JcIik7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVTY3JvbGxWaWV3KHJhbmtpbmdEYXRhOiBhbnlbXSkge1xuXG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuc2Nyb2xsVmlldy5jb250ZW50O1xuICAgICAgICBjb250ZW50LnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cbiAgICAgICAgaWYgKFVzZXJJbmZvLmdldERhdGEpXG5cbiAgICAgICAgICAgIHJhbmtpbmdEYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5yYW5rSXRlbVByZWZhYik7XG4gICAgICAgICAgICBjb25zdCByYW5rSXRlbUNvbXAgPSBub2RlLmdldENvbXBvbmVudChSYW5rSXRlbSk7XG4gICAgICAgICAgICByYW5rSXRlbUNvbXAuaW5pdChpbmRleCArIDEsIGl0ZW0ubGV2ZWwsIGl0ZW0ubmFtZSk7XG4gICAgICAgICAgICBjb250ZW50LmFkZENoaWxkKG5vZGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpdGVtSGVpZ2h0ID0gdGhpcy5yYW5rSXRlbVByZWZhYi5kYXRhLmhlaWdodDtcbiAgICAgICAgY29udGVudC5oZWlnaHQgPSByYW5raW5nRGF0YS5sZW5ndGggKiBpdGVtSGVpZ2h0O1xuICAgIH1cblxuXG5cblxuXG5cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LoseDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4e3984V63ZMooQQ3tgVzSsK', 'LoseDialog');
// Game/Scripts/ui/LoseDialog.ts

// Learn TypeScript:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titlelabel = null;
        _this.playAgainlabel = null;
        _this.homelabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        _this.params = null; // reference callback from ViewManager
        return _this;
    }
    NewClass.prototype.init = function (params) {
        this.params = params;
    };
    NewClass.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("你想再玩一次吗？", "继续", "不是");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Bạn có muốn chơi lại không?", "Tiếp tục", "Không");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Do you want to play again?", "Continue", "No");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    NewClass.prototype.set_label_lang = function (titlelabelString, playAgainlabelString, homelabelString) {
        this.titlelabel.string = titlelabelString;
        this.playAgainlabel.string = playAgainlabelString;
        this.homelabel.string = homelabelString;
    };
    NewClass.prototype.set_label_FontSize = function (fontSize) {
        this.titlelabel.fontSize = fontSize;
        this.playAgainlabel.fontSize = fontSize;
        this.homelabel.fontSize = fontSize;
    };
    NewClass.prototype.onContinueButtonClick = function () {
        this.params.onContinue();
        ViewManager_1.default.instance.hide(this.node); // notify ViewManager
    };
    NewClass.prototype.onQuitButtonClick = function () {
        this.params.onQuit();
        ViewManager_1.default.instance.hide(this.node); // notify ViewManager
    };
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "titlelabel", void 0);
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "playAgainlabel", void 0);
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "homelabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "eng_FontSize", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExvc2VEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsb0JBQW9CO0FBQ3JCLDRFQUE0RTtBQUM1RSxtQkFBbUI7QUFDbkIsc0ZBQXNGO0FBQ3RGLDhCQUE4QjtBQUM5QixzRkFBc0Y7O0FBRXRGLCtFQUEwRTtBQUMxRSxzREFBbUU7QUFFN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUE2RUM7UUExRUcsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFFNUIsb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFFaEMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUkzQixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQztRQUcxQixZQUFNLEdBQVEsSUFBSSxDQUFDLENBQUMsc0NBQXNDOztJQTJEOUQsQ0FBQztJQTFERyx1QkFBSSxHQUFKLFVBQUssTUFBVztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCwyQkFBUSxHQUFSO1FBQ0ksUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUMxQixJQUFJLEVBQ0osSUFBSSxDQUNQLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLDZCQUE2QixFQUM3QyxVQUFVLEVBQ1YsT0FBTyxDQUNWLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUNmLDRCQUE0QixFQUM1QixVQUFVLEVBQ1YsSUFBSSxDQUNQLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDM0MsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUdELGlDQUFjLEdBQWQsVUFDSSxnQkFBd0IsRUFDeEIsb0JBQTRCLEVBQzVCLGVBQXVCO1FBRXZCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO1FBQzFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO1FBQ2xELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQztJQUM1QyxDQUFDO0lBRUQscUNBQWtCLEdBQWxCLFVBQW1CLFFBQWdCO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDeEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCx3Q0FBcUIsR0FBckI7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pCLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxxQkFBcUI7SUFDL0QsQ0FBQztJQUVELG9DQUFpQixHQUFqQjtRQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDckIscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjtJQUMvRCxDQUFDO0lBekVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0RBQ1M7SUFFNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDYTtJQUVoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNRO0lBSTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztpREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7aURBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO2tEQUNMO0lBZlQsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQTZFNUI7SUFBRCxlQUFDO0NBN0VELEFBNkVDLENBN0VxQyxFQUFFLENBQUMsU0FBUyxHQTZFakQ7a0JBN0VvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsi77u/Ly8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci8yLjQvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci8yLjQvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci8yLjQvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ld0NsYXNzIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aXRsZWxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIHBsYXlBZ2FpbmxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGhvbWVsYWJlbDogY2MuTGFiZWwgPSBudWxsO1xuXG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyID0gMTY7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMjA7XG5cblxuICAgIHBhcmFtczogYW55ID0gbnVsbDsgLy8gcmVmZXJlbmNlIGNhbGxiYWNrIGZyb20gVmlld01hbmFnZXJcbiAgICBpbml0KHBhcmFtczogYW55KSB7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCLkvaDmg7Plho3njqnkuIDmrKHlkJfvvJ9cIixcbiAgICAgICAgICAgICAgICAgICAgXCLnu6fnu61cIixcbiAgICAgICAgICAgICAgICAgICAgXCLkuI3mmK9cIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkLhuqFuIGPDsyBtdeG7kW4gY2jGoWkgbOG6oWkga2jDtG5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBcIlRp4bq/cCB04bulY1wiLFxuICAgICAgICAgICAgICAgICAgICBcIktow7RuZ1wiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy52aV9Gb250U2l6ZSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXG4gICAgICAgICAgICAgICAgICAgIFwiRG8geW91IHdhbnQgdG8gcGxheSBhZ2Fpbj9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJDb250aW51ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIk5vXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2V0X2xhYmVsX2xhbmcoXG4gICAgICAgIHRpdGxlbGFiZWxTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgcGxheUFnYWlubGFiZWxTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaG9tZWxhYmVsU3RyaW5nOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMudGl0bGVsYWJlbC5zdHJpbmcgPSB0aXRsZWxhYmVsU3RyaW5nO1xuICAgICAgICB0aGlzLnBsYXlBZ2FpbmxhYmVsLnN0cmluZyA9IHBsYXlBZ2FpbmxhYmVsU3RyaW5nO1xuICAgICAgICB0aGlzLmhvbWVsYWJlbC5zdHJpbmcgPSBob21lbGFiZWxTdHJpbmc7XG4gICAgfVxuXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aXRsZWxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMucGxheUFnYWlubGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgdGhpcy5ob21lbGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICB9XG5cbiAgICBvbkNvbnRpbnVlQnV0dG9uQ2xpY2soKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLm9uQ29udGludWUoKTtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2UuaGlkZSh0aGlzLm5vZGUpOyAvLyBub3RpZnkgVmlld01hbmFnZXJcbiAgICB9XG5cbiAgICBvblF1aXRCdXR0b25DbGljaygpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMub25RdWl0KCk7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLmhpZGUodGhpcy5ub2RlKTsgLy8gbm90aWZ5IFZpZXdNYW5hZ2VyXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelupDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '192e1nHc39B4b1vo/mjTFG2', 'LevelupDialog');
// Game/Scripts/ui/LevelupDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Platform_1 = require("../../../framework/Platform");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelupDialog = /** @class */ (function (_super) {
    __extends(LevelupDialog, _super);
    function LevelupDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamondLabel = null;
        _this.btnLabel = null;
        _this.tipLabel = null;
        _this.levelLabel = null;
        _this.mult = 1;
        _this.baseDiamond = 0;
        return _this;
    }
    LevelupDialog.prototype.onLoad = function () { };
    LevelupDialog.prototype.start = function () { };
    LevelupDialog.prototype.onShown = function (level, p) {
        //给钻石
        p = Math.min(p, 1);
        var diamond = Math.floor(Math.max(30 * p, 10));
        this.baseDiamond = diamond;
        this.diamondLabel.string = diamond.toString();
        this.levelLabel.string = cc.js.formatStr("- 第 %s 关 - ", level);
        if (Math.random() > 0.7) {
            this.mult = g.randomInt(3, 6);
            this.btnLabel.string = this.mult + "倍领取";
        }
        else {
            this.btnLabel.string = "双倍领取";
            this.mult = 2;
        }
        this.tipLabel.string = "恭喜获得" + this.btnLabel.string + "奖励机会";
    };
    LevelupDialog.prototype.click_get = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond * this.mult);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.click_getex = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
        if (choise == 1) {
            Platform_1.default.share(this.share_suc, this);
        }
        else if (choise == 0) {
            this.share_suc();
        }
        else {
            //video
            Platform_1.default.watch_video(this.share_suc, this);
        }
    };
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "btnLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "tipLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "levelLabel", void 0);
    LevelupDialog = __decorate([
        ccclass
    ], LevelupDialog);
    return LevelupDialog;
}(cc.Component));
exports.default = LevelupDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsdXBEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdDQUErQztBQUMvQyxpRUFBNEQ7QUFDNUQsd0RBQW1EO0FBRTdDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTJDLGlDQUFZO0lBQXZEO1FBQUEscUVBc0VDO1FBbkVHLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBSTdCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFHekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFZLElBQUksQ0FBQztRQUUzQixVQUFJLEdBQVUsQ0FBQyxDQUFDO1FBRWhCLGlCQUFXLEdBQVUsQ0FBQyxDQUFDOztJQXFEM0IsQ0FBQztJQW5ERyw4QkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDZCQUFLLEdBQUwsY0FBVSxDQUFDO0lBQ1gsK0JBQU8sR0FBUCxVQUFRLEtBQUssRUFBQyxDQUFDO1FBRVgsS0FBSztRQUNMLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDO1FBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLENBQUE7UUFFN0QsSUFBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUN0QjtZQUNJLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUE7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRSxLQUFLLENBQUE7U0FDMUM7YUFBSTtZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUM3QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQTtTQUNoQjtRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRSxNQUFNLENBQUE7SUFDL0QsQ0FBQztJQUVELGlDQUFTLEdBQVQ7UUFFSSxlQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN0QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsaUNBQVMsR0FBVDtRQUVJLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDbEMsQ0FBQztJQUVELG1DQUFXLEdBQVg7UUFFSSxJQUFJLE1BQU0sR0FBRyxlQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEQsSUFBRyxNQUFNLElBQUksQ0FBQyxFQUNkO1lBQ0ksa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUN2QzthQUFLLElBQUcsTUFBTSxJQUFJLENBQUMsRUFDcEI7WUFDSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDcEI7YUFBSTtZQUNELE9BQU87WUFDUCxrQkFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxDQUFBO1NBQzVDO0lBRUwsQ0FBQztJQWxFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3VEQUNVO0lBSTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7bURBQ007SUFHekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDTTtJQUd6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3FEQUNRO0lBYlYsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXNFakM7SUFBRCxvQkFBQztDQXRFRCxBQXNFQyxDQXRFMEMsRUFBRSxDQUFDLFNBQVMsR0FzRXREO2tCQXRFb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsdXBEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGRpYW1vbmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBidG5MYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgdGlwTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGxldmVsTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgbXVsdDpudW1iZXIgPSAxO1xuXG4gICAgYmFzZURpYW1vbmQ6bnVtYmVyID0gMDtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgb25TaG93bihsZXZlbCxwKVxuICAgIHtcbiAgICAgICAgLy/nu5npkrvnn7NcbiAgICAgICAgcCA9IE1hdGgubWluKHAsMSk7XG4gICAgICAgIGxldCBkaWFtb25kID0gTWF0aC5mbG9vcihNYXRoLm1heCgzMCAqIHAsMTApKVxuICAgICAgICB0aGlzLmJhc2VEaWFtb25kID0gZGlhbW9uZDtcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwuc3RyaW5nID0gZGlhbW9uZC50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSDnrKwgJXMg5YWzIC0gXCIsbGV2ZWwpXG5cbiAgICAgICAgaWYoTWF0aC5yYW5kb20oKSA+IDAuNylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tdWx0ID0gZy5yYW5kb21JbnQoMyw2KVxuICAgICAgICAgICAgdGhpcy5idG5MYWJlbC5zdHJpbmcgPSB0aGlzLm11bHQgK1wi5YCN6aKG5Y+WXCJcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmJ0bkxhYmVsLnN0cmluZyA9IFwi5Y+M5YCN6aKG5Y+WXCJcbiAgICAgICAgICAgIHRoaXMubXVsdCA9IDJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpcExhYmVsLnN0cmluZyA9XCLmga3llpzojrflvpdcIiArIHRoaXMuYnRuTGFiZWwuc3RyaW5nICtcIuWlluWKseacuuS8mlwiXG4gICAgfVxuXG4gICAgY2xpY2tfZ2V0KClcbiAgICB7XG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5iYXNlRGlhbW9uZCk7XG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXG4gICAgfVxuXG4gICAgc2hhcmVfc3VjKClcbiAgICB7XG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5iYXNlRGlhbW9uZCp0aGlzLm11bHQpO1xuICAgICAgICBVc2VySW5mby5zYXZlKCk7XG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxuICAgIH1cblxuICAgIGNsaWNrX2dldGV4KClcbiAgICB7XG4gICAgICAgIGxldCBjaG9pc2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5MZXZlbHVwKTtcbiAgICAgICAgaWYoY2hvaXNlID09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFBsYXRmb3JtLnNoYXJlKHRoaXMuc2hhcmVfc3VjLHRoaXMpO1xuICAgICAgICB9ZWxzZSBpZihjaG9pc2UgPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFyZV9zdWMoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvL3ZpZGVvXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1Yyx0aGlzKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/RankItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0a9001j13BNu7IepNsNiLd8', 'RankItem');
// Game/Scripts/ui/RankItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankItem = /** @class */ (function (_super) {
    __extends(RankItem, _super);
    function RankItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rankLabel = null;
        _this.levelLabel = null;
        _this.nameLabel = null;
        return _this;
    }
    RankItem.prototype.init = function (rank, name, score) {
        this.rankLabel.string = rank.toString();
        this.levelLabel.string = name;
        this.nameLabel.string = score.toString();
    };
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "nameLabel", void 0);
    RankItem = __decorate([
        ccclass
    ], RankItem);
    return RankItem;
}(cc.Component));
exports.default = RankItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFJhbmtJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQWFDO1FBWEcsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUU1QixlQUFTLEdBQWEsSUFBSSxDQUFDOztJQU8vQixDQUFDO0lBTEcsdUJBQUksR0FBSixVQUFLLElBQVksRUFBRSxJQUFZLEVBQUUsS0FBYTtRQUMxQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBVkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsrQ0FDUTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNTO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ1E7SUFOVixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBYTVCO0lBQUQsZUFBQztDQWJELEFBYUMsQ0FicUMsRUFBRSxDQUFDLFNBQVMsR0FhakQ7a0JBYm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFua0l0ZW0gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICByYW5rTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgbGV2ZWxMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBuYW1lTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcblxuICAgIGluaXQocmFuazogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHNjb3JlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yYW5rTGFiZWwuc3RyaW5nID0gcmFuay50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gbmFtZTtcbiAgICAgICAgdGhpcy5uYW1lTGFiZWwuc3RyaW5nID0gc2NvcmUudG9TdHJpbmcoKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopItemTemplate.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0b667/xvIZJapTB+ZTBqkHL', 'ShopItemTemplate');
// Game/Scripts/ui/ShopItemTemplate.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal_1 = require("../../../framework/plugin_boosts/misc/Signal");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopItemTemplate = /** @class */ (function (_super) {
    __extends(ShopItemTemplate, _super);
    function ShopItemTemplate() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titleLabel = null;
        _this.selectedFlag = null;
        _this.bgmini = null;
        _this.btnBuyNode = null;
        _this.maskNode = null;
        _this.borderNode = null;
        _this.diamondLabel = null;
        _this.btnSignal = new Signal_1.default();
        _this.data = null;
        return _this;
    }
    ShopItemTemplate.prototype.onLoad = function () { };
    ShopItemTemplate.prototype.start = function () { };
    ShopItemTemplate.prototype.click_unlock = function () {
        this.btnSignal.fire(this.data);
    };
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "titleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "selectedFlag", void 0);
    __decorate([
        property(cc.Sprite)
    ], ShopItemTemplate.prototype, "bgmini", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "btnBuyNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "maskNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "borderNode", void 0);
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "diamondLabel", void 0);
    ShopItemTemplate = __decorate([
        ccclass
    ], ShopItemTemplate);
    return ShopItemTemplate;
}(cc.Component));
exports.default = ShopItemTemplate;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BJdGVtVGVtcGxhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVFQUFrRTtBQUU1RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE4QyxvQ0FBWTtJQUExRDtRQUFBLHFFQWtDQztRQTNCRyxnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixrQkFBWSxHQUFXLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGNBQVEsR0FBVyxJQUFJLENBQUM7UUFHeEIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsZUFBUyxHQUFVLElBQUksZ0JBQU0sRUFBRSxDQUFDO1FBRWhDLFVBQUksR0FBTyxJQUFJLENBQUM7O0lBTXBCLENBQUM7SUFoQ0csaUNBQU0sR0FBTixjQUFXLENBQUM7SUFDWixnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQTJCWCx1Q0FBWSxHQUFaO1FBRUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUExQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt3REFDUTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzBEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ0k7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDUTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNNO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7d0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzswREFDVTtJQXhCWixnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQWtDcEM7SUFBRCx1QkFBQztDQWxDRCxBQWtDQyxDQWxDNkMsRUFBRSxDQUFDLFNBQVMsR0FrQ3pEO2tCQWxDb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZ25hbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9TaWduYWxcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaG9wSXRlbVRlbXBsYXRlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG5cblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aXRsZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHNlbGVjdGVkRmxhZzpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgYmdtaW5pOmNjLlNwcml0ZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYnRuQnV5Tm9kZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG1hc2tOb2RlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYm9yZGVyTm9kZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBkaWFtb25kTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgYnRuU2lnbmFsOlNpZ25hbCA9IG5ldyBTaWduYWwoKTtcblxuICAgIGRhdGE6YW55ID0gbnVsbDtcbiAgICBcbiAgICBjbGlja191bmxvY2soKVxuICAgIHtcbiAgICAgICAgdGhpcy5idG5TaWduYWwuZmlyZSh0aGlzLmRhdGEpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalLifeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '550c0O4ualLIYQoOOiFtGsz', 'LocalLifeSystem');
// framework/plugin_boosts/gamesys/LocalLifeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LifeSystem = exports.LocalLifeSystem = void 0;
var EventManager_1 = require("../utils/EventManager");
var Signal_1 = require("../misc/Signal");
var LocalLifeSystem = /** @class */ (function () {
    function LocalLifeSystem() {
        //生成一颗星需要的时间 
        this.sec_per_live = 60 * 5;
        //最多可得多少颗
        this.live_free_get = 5;
        this.max_freeLives_seconds = this.live_free_get * this.sec_per_live;
        this.livesSeconds = 0;
        this.isEnabledAutoRecovery = true;
        this.recoverySignal = new Signal_1.default();
    }
    LocalLifeSystem.prototype.init = function (liveSec, live_free) {
        if (liveSec === void 0) { liveSec = null; }
        if (live_free === void 0) { live_free = null; }
        this.sec_per_live = liveSec || this.sec_per_live;
        this.live_free_get = live_free || this.live_free_get;
        this.max_freeLives_seconds = this.sec_per_live * this.live_free_get;
        this.livesSeconds = 0;
        this.lastLifeSaveTime = Number(localStorage.getItem("sys_life_lastLifeSaveTime") || new Date().getTime());
        g.setGlobalInstance(exports.LifeSystem, "LocalLifeSystem");
        EventManager_1.event.on("onEnterForeground", this.onEnterForeground, this);
        this.onTimeRequested(new Date().getTime());
        console.log("体力系统初始化", this);
    };
    LocalLifeSystem.prototype.onEnterForeground = function () {
        this.onTimeRequested(new Date().getTime());
    };
    Object.defineProperty(LocalLifeSystem.prototype, "nextLifeTime", {
        get: function () {
            return (this.lives + 1) * this.sec_per_live - this.livesSeconds;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LocalLifeSystem.prototype, "lives", {
        get: function () {
            return Math.floor(this.livesSeconds / this.sec_per_live);
        },
        enumerable: false,
        configurable: true
    });
    LocalLifeSystem.prototype.save = function () {
        this.lastLifeSaveTime = new Date().getTime();
        localStorage.setItem("sys_life_lastLifeSaveTime", this.lastLifeSaveTime + "");
    };
    LocalLifeSystem.prototype.onTimeRequested = function (time) {
        if (this.lastLifeSaveTime) {
            var timeElapsed = Math.floor((time - this.lastLifeSaveTime) / 1000);
            this.livesSeconds = Math.min(this.max_freeLives_seconds, timeElapsed);
        }
    };
    LocalLifeSystem.prototype.startCheck = function (callback, target) {
        var _this = this;
        if (this.task_checkLives)
            return;
        var lastHeart = callback.call(target);
        this.task_checkLives = setInterval(function (_) {
            var heart = callback.call(target);
            if (lastHeart != heart && heart == _this.live_free_get - 1) {
                _this.livesSeconds = 0;
                _this.save();
            }
            if (heart < _this.live_free_get) {
                // this.checkForSpawnLives();
                _this.livesSeconds = _this.livesSeconds + 1;
                if (heart + _this.lives > heart) {
                    console.log("获得在线奖励一颗星", _this.lives);
                    _this.recoverySignal.fire(_this.lives);
                    _this.livesSeconds = 0;
                    _this.save();
                }
            }
            lastHeart = heart;
        }, 1000);
    };
    return LocalLifeSystem;
}());
exports.LocalLifeSystem = LocalLifeSystem;
exports.LifeSystem = new LocalLifeSystem();
// 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbExpZmVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxzREFBOEM7QUFDOUMseUNBQW9DO0FBR3BDO0lBQUE7UUFFQyxhQUFhO1FBQ2IsaUJBQVksR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFFO1FBQ3ZCLFNBQVM7UUFDVCxrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUVsQiwwQkFBcUIsR0FBRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFNL0QsaUJBQVksR0FBVSxDQUFDLENBQUE7UUFHdkIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRXRCLG1CQUFjLEdBQUcsSUFBSSxnQkFBTSxFQUFFLENBQUM7SUF1RXRDLENBQUM7SUF0RUEsOEJBQUksR0FBSixVQUFLLE9BQWMsRUFBQyxTQUFnQjtRQUEvQix3QkFBQSxFQUFBLGNBQWM7UUFBQywwQkFBQSxFQUFBLGdCQUFnQjtRQUVuQyxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFBO1FBQ2hELElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUE7UUFDcEQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNwRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQTtRQUNyQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsSUFBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUE7UUFDeEcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLGtCQUFVLEVBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVsRCxvQkFBSyxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFDekQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELDJDQUFpQixHQUFqQjtRQUVDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCxzQkFBSSx5Q0FBWTthQUFoQjtZQUVDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUNqRSxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGtDQUFLO2FBQVQ7WUFFQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUE7UUFDekQsQ0FBQzs7O09BQUE7SUFFRCw4QkFBSSxHQUFKO1FBRUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDN0MsWUFBWSxDQUFDLE9BQU8sQ0FBQywyQkFBMkIsRUFBQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUMsRUFBRSxDQUFDLENBQUE7SUFDM0UsQ0FBQztJQUVELHlDQUFlLEdBQWYsVUFBZ0IsSUFBSTtRQUVuQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFDekI7WUFDQyxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2pFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsV0FBVyxDQUFDLENBQUE7U0FDckU7SUFDRixDQUFDO0lBRUQsb0NBQVUsR0FBVixVQUFXLFFBQVEsRUFBQyxNQUFNO1FBQTFCLGlCQXdCQztRQXRCQSxJQUFHLElBQUksQ0FBQyxlQUFlO1lBQUUsT0FBTztRQUNoQyxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxlQUFlLEdBQUcsV0FBVyxDQUFDLFVBQUEsQ0FBQztZQUNuQyxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xDLElBQUcsU0FBUyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQ3hEO2dCQUNDLEtBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO2dCQUN0QixLQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDWjtZQUNELElBQUksS0FBSyxHQUFHLEtBQUksQ0FBQyxhQUFhLEVBQUU7Z0JBQy9CLDZCQUE2QjtnQkFDN0IsS0FBSSxDQUFDLFlBQVksR0FBRyxLQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDMUMsSUFBSyxLQUFLLEdBQUcsS0FBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEVBQy9CO29CQUNDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbkMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxLQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztvQkFDdEIsS0FBSSxDQUFDLElBQUksRUFBRSxDQUFDO2lCQUNaO2FBQ0Q7WUFDRCxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ25CLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQTtJQUNSLENBQUM7SUFFRixzQkFBQztBQUFELENBekZBLEFBeUZDLElBQUE7QUF6RlksMENBQWU7QUEyRmpCLFFBQUEsVUFBVSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7QUFDOUMsR0FBRyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2NhbFRpbWVTeXN0ZW0gZnJvbSBcIi4vTG9jYWxUaW1lU3lzdGVtXCI7XG5pbXBvcnQgeyBldmVudCB9IGZyb20gXCIuLi91dGlscy9FdmVudE1hbmFnZXJcIjtcbmltcG9ydCBTaWduYWwgZnJvbSBcIi4uL21pc2MvU2lnbmFsXCI7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uL1BsYXRmb3JtXCI7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbExpZmVTeXN0ZW1cbntcblx0Ly/nlJ/miJDkuIDpopfmmJ/pnIDopoHnmoTml7bpl7QgXG5cdHNlY19wZXJfbGl2ZSA9IDYwICogNSA7XG5cdC8v5pyA5aSa5Y+v5b6X5aSa5bCR6aKXXG5cdGxpdmVfZnJlZV9nZXQgPSA1O1xuXHRcblx0bWF4X2ZyZWVMaXZlc19zZWNvbmRzID0gdGhpcy5saXZlX2ZyZWVfZ2V0ICogdGhpcy5zZWNfcGVyX2xpdmU7XG5cblx0dGFza19ydW5TcGF3bkxpdmVzOm51bWJlcjtcblxuXHR0YXNrX2NoZWNrTGl2ZXM6bnVtYmVyO1xuXG5cdGxpdmVzU2Vjb25kczpudW1iZXIgPSAwXG5cdGxhc3RMaWZlU2F2ZVRpbWU6bnVtYmVyO1xuXG5cdGlzRW5hYmxlZEF1dG9SZWNvdmVyeSA9IHRydWU7XG5cdFxuXHRwdWJsaWMgcmVjb3ZlcnlTaWduYWwgPSBuZXcgU2lnbmFsKCk7XG5cdGluaXQobGl2ZVNlYyA9IG51bGwsbGl2ZV9mcmVlID0gbnVsbClcblx0e1xuXHRcdHRoaXMuc2VjX3Blcl9saXZlID0gbGl2ZVNlYyB8fCB0aGlzLnNlY19wZXJfbGl2ZVxuXHRcdHRoaXMubGl2ZV9mcmVlX2dldCA9IGxpdmVfZnJlZSB8fCB0aGlzLmxpdmVfZnJlZV9nZXRcblx0XHR0aGlzLm1heF9mcmVlTGl2ZXNfc2Vjb25kcyA9IHRoaXMuc2VjX3Blcl9saXZlICogdGhpcy5saXZlX2ZyZWVfZ2V0O1xuXHRcdHRoaXMubGl2ZXNTZWNvbmRzID0gMFxuXHRcdHRoaXMubGFzdExpZmVTYXZlVGltZSA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN5c19saWZlX2xhc3RMaWZlU2F2ZVRpbWVcIil8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSlcblx0XHRnLnNldEdsb2JhbEluc3RhbmNlKExpZmVTeXN0ZW0sXCJMb2NhbExpZmVTeXN0ZW1cIik7XG5cblx0XHRldmVudC5vbihcIm9uRW50ZXJGb3JlZ3JvdW5kXCIsdGhpcy5vbkVudGVyRm9yZWdyb3VuZCx0aGlzKVxuXHRcdHRoaXMub25UaW1lUmVxdWVzdGVkKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcblx0XHRjb25zb2xlLmxvZyhcIuS9k+WKm+ezu+e7n+WIneWni+WMllwiLHRoaXMpO1xuXHR9XG5cblx0b25FbnRlckZvcmVncm91bmQoKVxuXHR7XG5cdFx0dGhpcy5vblRpbWVSZXF1ZXN0ZWQobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuXHR9XG5cblx0Z2V0IG5leHRMaWZlVGltZSgpXG5cdHtcblx0XHRyZXR1cm4gKHRoaXMubGl2ZXMgKyAxKSAqIHRoaXMuc2VjX3Blcl9saXZlIC0gdGhpcy5saXZlc1NlY29uZHM7XG5cdH1cblxuXHRnZXQgbGl2ZXMoKVxuXHR7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IodGhpcy5saXZlc1NlY29uZHMgLyB0aGlzLnNlY19wZXJfbGl2ZSlcblx0fVxuXG5cdHNhdmUoKVxuXHR7XG5cdFx0dGhpcy5sYXN0TGlmZVNhdmVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzeXNfbGlmZV9sYXN0TGlmZVNhdmVUaW1lXCIsdGhpcy5sYXN0TGlmZVNhdmVUaW1lK1wiXCIpXG5cdH1cblxuXHRvblRpbWVSZXF1ZXN0ZWQodGltZSlcblx0e1xuXHRcdGlmICh0aGlzLmxhc3RMaWZlU2F2ZVRpbWUpXG5cdFx0e1xuXHRcdFx0bGV0IHRpbWVFbGFwc2VkID0gTWF0aC5mbG9vcigodGltZSAtIHRoaXMubGFzdExpZmVTYXZlVGltZSkvMTAwMClcblx0XHRcdHRoaXMubGl2ZXNTZWNvbmRzID0gTWF0aC5taW4odGhpcy5tYXhfZnJlZUxpdmVzX3NlY29uZHMsIHRpbWVFbGFwc2VkKVxuXHRcdH1cblx0fVxuXG5cdHN0YXJ0Q2hlY2soY2FsbGJhY2ssdGFyZ2V0KVxuXHR7XG5cdFx0aWYodGhpcy50YXNrX2NoZWNrTGl2ZXMpIHJldHVybjtcblx0XHRsZXQgbGFzdEhlYXJ0ID0gY2FsbGJhY2suY2FsbCh0YXJnZXQpO1xuXHRcdHRoaXMudGFza19jaGVja0xpdmVzID0gc2V0SW50ZXJ2YWwoXz0+e1xuXHRcdFx0bGV0IGhlYXJ0ID0gY2FsbGJhY2suY2FsbCh0YXJnZXQpO1xuXHRcdFx0aWYobGFzdEhlYXJ0ICE9IGhlYXJ0ICYmIGhlYXJ0ID09IHRoaXMubGl2ZV9mcmVlX2dldCAtIDEpXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMubGl2ZXNTZWNvbmRzID0gMDtcblx0XHRcdFx0dGhpcy5zYXZlKCk7XG5cdFx0XHR9IFxuXHRcdFx0aWYgKGhlYXJ0IDwgdGhpcy5saXZlX2ZyZWVfZ2V0KSB7IFxuXHRcdFx0XHQvLyB0aGlzLmNoZWNrRm9yU3Bhd25MaXZlcygpO1xuXHRcdFx0XHR0aGlzLmxpdmVzU2Vjb25kcyA9IHRoaXMubGl2ZXNTZWNvbmRzICsgMTtcblx0XHRcdFx0aWYgKCBoZWFydCArIHRoaXMubGl2ZXMgPiBoZWFydClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi6I635b6X5Zyo57q/5aWW5Yqx5LiA6aKX5pifXCIsdGhpcy5saXZlcylcblx0XHRcdFx0XHR0aGlzLnJlY292ZXJ5U2lnbmFsLmZpcmUodGhpcy5saXZlcyk7XG5cdFx0XHRcdFx0dGhpcy5saXZlc1NlY29uZHMgPSAwO1xuXHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsYXN0SGVhcnQgPSBoZWFydDtcblx0XHR9LDEwMDApXG5cdH1cblxufVxuXG5leHBvcnQgdmFyIExpZmVTeXN0ZW0gPSBuZXcgTG9jYWxMaWZlU3lzdGVtKCk7XG4vLyBcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1b7cbT64WtHxpoRfvlVr4EN', 'ShopDialog');
// Game/Scripts/ui/ShopDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ShopItemTemplate_1 = require("./ShopItemTemplate");
var SpriteFrameCache_1 = require("../../../framework/plugin_boosts/misc/SpriteFrameCache");
var Res_1 = require("../hex-lines-game/Res");
var Platform_1 = require("../../../framework/Platform");
var Info_1 = require("../Info");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var UIFunctions_1 = require("../../../framework/plugin_boosts/ui/UIFunctions");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Main_1 = require("../Main");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopDialog = /** @class */ (function (_super) {
    __extends(ShopDialog, _super);
    function ShopDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.freeDiamondLabel = null;
        _this.freeDiamondBtn = null;
        return _this;
    }
    ShopDialog.prototype.onLoad = function () {
        // this.scrollview
    };
    ShopDialog.prototype.onShown = function () {
        var _this = this;
        // {"id":"1","mini_img":"a1","img":"a2","cost":"100"},
        this.scrollview.showlist(function (node, data, i) {
            // console.log(i,data);
            var item = node.getComponent(ShopItemTemplate_1.default);
            item.data = data;
            item.diamondLabel.string = data.cost;
            var isLocked = !Info_1.UserInfo.isUnlock(data.id);
            item.btnBuyNode.active = isLocked;
            item.maskNode.active = isLocked;
            item.borderNode.color = cc.Color.WHITE;
            item.titleLabel.string = data.text;
            item.selectedFlag.active = Info_1.UserInfo.selectedSkin == data.id;
            item.btnSignal.add(_this.click_unlock, _this);
            SpriteFrameCache_1.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/" + data.mini_img + ".jpg").then(function (sf) { return item.bgmini.spriteFrame = sf; });
        }, Res_1.R.skinConfig.json);
        this.refreshBtnStatus();
    };
    ShopDialog.prototype.refreshBtnStatus = function () {
        if (g.isNextDay(Info_1.UserInfo.shopFreeDiamondTime)) {
            this.freeDiamondLabel.string = "免费得50";
            UIFunctions_1.default.setButtonEnabled(this.freeDiamondBtn, true);
        }
        else {
            this.freeDiamondLabel.string = "已领取";
            UIFunctions_1.default.setButtonEnabled(this.freeDiamondBtn, false);
        }
    };
    ShopDialog.prototype.click_close = function () {
    };
    ShopDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(50);
        Info_1.UserInfo.shopFreeDiamondTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.refreshBtnStatus();
    };
    ShopDialog.prototype.click_free = function () {
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Shop);
        if (choice == 1) {
            Platform_1.default.share(this.share_succ, this);
        }
        else if (choice == 0) {
            this.share_succ();
        }
        else {
            //video
            Platform_1.default.watch_video(this.share_succ, this);
        }
    };
    ShopDialog.prototype.selectBg = function (data) {
        Info_1.UserInfo.selectedSkin = data.id;
        Info_1.UserInfo.save();
        this.onShown();
    };
    ShopDialog.prototype.click_unlock = function (data) {
        if (Info_1.UserInfo.isUnlock(data.id)) {
            //select 
            this.selectBg(data);
            ToastManager_1.Toast.make("已选择 " + data.text);
            return;
        }
        if (Info_1.UserInfo.diamond >= data.cost) {
            Info_1.UserInfo.diamond -= data.cost;
            Info_1.UserInfo.unlock(data.id);
            this.selectBg(data);
            ToastManager_1.Toast.make(cc.js.formatStr("%s已解锁", data.text));
            Device_1.default.playEffect(Res_1.R.audio_unlock);
            if (Main_1.default.instance)
                Main_1.default.instance.refreshRedpoints();
        }
        else {
            ToastManager_1.Toast.make("钻石不足");
            Device_1.default.playEffect(Res_1.R.audio_invalid);
        }
    };
    __decorate([
        property(cc.ScrollView)
    ], ShopDialog.prototype, "scrollView", void 0);
    __decorate([
        property(cc.Label)
    ], ShopDialog.prototype, "freeDiamondLabel", void 0);
    __decorate([
        property(cc.Button)
    ], ShopDialog.prototype, "freeDiamondBtn", void 0);
    ShopDialog = __decorate([
        ccclass
    ], ShopDialog);
    return ShopDialog;
}(cc.Component));
exports.default = ShopDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUFrRDtBQUNsRCwyRkFBc0Y7QUFDdEYsNkNBQTBDO0FBQzFDLHdEQUFtRDtBQUNuRCxnQ0FBK0M7QUFDL0MsaUZBQXlFO0FBQ3pFLCtFQUEwRTtBQUMxRSwwRUFBcUU7QUFDckUsZ0NBQTJCO0FBR3JCLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBZ0dDO1FBN0ZHLGdCQUFVLEdBQWtCLElBQUksQ0FBQztRQUdqQyxzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFHbEMsb0JBQWMsR0FBYyxJQUFJLENBQUM7O0lBdUZyQyxDQUFDO0lBckZHLDJCQUFNLEdBQU47UUFDSSxrQkFBa0I7SUFDdEIsQ0FBQztJQUdELDRCQUFPLEdBQVA7UUFBQSxpQkFrQkM7UUFqQkcsc0RBQXNEO1FBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFVBQUMsSUFBYSxFQUFFLElBQVMsRUFBRSxDQUFTO1lBQ3pELHVCQUF1QjtZQUN2QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDakIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxJQUFJLFFBQVEsR0FBRyxDQUFDLGVBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQTtZQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFD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QUFJLENBQUMsSUFBSSxFQUFFO1lBQy9CLGVBQVEsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztZQUM5QixlQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ25CLG9CQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtZQUMvQyxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFDLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDakMsSUFBSSxjQUFJLENBQUMsUUFBUTtnQkFDYixjQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUE7U0FDdkM7YUFBTTtZQUNILG9CQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2xCLGdCQUFNLENBQUMsVUFBVSxDQUFDLE9BQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNyQztJQUNMLENBQUM7SUEzRkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQztrREFDUztJQUdqQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3dEQUNlO0lBR2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7c0RBQ2E7SUFUaEIsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQWdHOUI7SUFBRCxpQkFBQztDQWhHRCxBQWdHQyxDQWhHdUMsRUFBRSxDQUFDLFNBQVMsR0FnR25EO2tCQWhHb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaG9wSXRlbVRlbXBsYXRlIGZyb20gXCIuL1Nob3BJdGVtVGVtcGxhdGVcIjtcbmltcG9ydCBTcHJpdGVGcmFtZUNhY2hlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9taXNjL1Nwcml0ZUZyYW1lQ2FjaGVcIjtcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xuaW1wb3J0IHsgVXNlckluZm8sIENob2ljZVR5cGUgfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1VJRnVuY3Rpb25zXCI7XG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xuaW1wb3J0IE1haW4gZnJvbSBcIi4uL01haW5cIjtcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuU2Nyb2xsVmlldylcbiAgICBzY3JvbGxWaWV3OiBjYy5TY3JvbGxWaWV3ID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBmcmVlRGlhbW9uZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxuICAgIGZyZWVEaWFtb25kQnRuOiBjYy5CdXR0b24gPSBudWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICAvLyB0aGlzLnNjcm9sbHZpZXdcbiAgICB9XG5cblxuICAgIG9uU2hvd24oKSB7XG4gICAgICAgIC8vIHtcImlkXCI6XCIxXCIsXCJtaW5pX2ltZ1wiOlwiYTFcIixcImltZ1wiOlwiYTJcIixcImNvc3RcIjpcIjEwMFwifSxcbiAgICAgICAgdGhpcy5zY3JvbGx2aWV3LnNob3dsaXN0KChub2RlOiBjYy5Ob2RlLCBkYXRhOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaSxkYXRhKTtcbiAgICAgICAgICAgIGxldCBpdGVtID0gbm9kZS5nZXRDb21wb25lbnQoU2hvcEl0ZW1UZW1wbGF0ZSk7XG4gICAgICAgICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgaXRlbS5kaWFtb25kTGFiZWwuc3RyaW5nID0gZGF0YS5jb3N0O1xuICAgICAgICAgICAgbGV0IGlzTG9ja2VkID0gIVVzZXJJbmZvLmlzVW5sb2NrKGRhdGEuaWQpO1xuICAgICAgICAgICAgaXRlbS5idG5CdXlOb2RlLmFjdGl2ZSA9IGlzTG9ja2VkXG4gICAgICAgICAgICBpdGVtLm1hc2tOb2RlLmFjdGl2ZSA9IGlzTG9ja2VkO1xuICAgICAgICAgICAgaXRlbS5ib3JkZXJOb2RlLmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgICAgICBpdGVtLnRpdGxlTGFiZWwuc3RyaW5nID0gZGF0YS50ZXh0O1xuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZEZsYWcuYWN0aXZlID0gVXNlckluZm8uc2VsZWN0ZWRTa2luID09IGRhdGEuaWQ7XG4gICAgICAgICAgICBpdGVtLmJ0blNpZ25hbC5hZGQodGhpcy5jbGlja191bmxvY2ssIHRoaXMpXG4gICAgICAgICAgICBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKFwiR2FtZS9UZXh0dXJlcy9UaHVtYkJncy9cIiArIGRhdGEubWluaV9pbWcgKyBcIi5qcGdcIikudGhlbihzZiA9PiBpdGVtLmJnbWluaS5zcHJpdGVGcmFtZSA9IHNmKVxuICAgICAgICB9LCBSLnNraW5Db25maWcuanNvbilcblxuICAgICAgICB0aGlzLnJlZnJlc2hCdG5TdGF0dXMoKTtcbiAgICB9XG5cbiAgICByZWZyZXNoQnRuU3RhdHVzKCkge1xuICAgICAgICBpZiAoZy5pc05leHREYXkoVXNlckluZm8uc2hvcEZyZWVEaWFtb25kVGltZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZnJlZURpYW1vbmRMYWJlbC5zdHJpbmcgPSBcIuWFjei0ueW+lzUwXCJcbiAgICAgICAgICAgIFVJRnVuY3Rpb25zLnNldEJ1dHRvbkVuYWJsZWQodGhpcy5mcmVlRGlhbW9uZEJ0biwgdHJ1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJlZURpYW1vbmRMYWJlbC5zdHJpbmcgPSBcIuW3sumihuWPllwiXG4gICAgICAgICAgICBVSUZ1bmN0aW9ucy5zZXRCdXR0b25FbmFibGVkKHRoaXMuZnJlZURpYW1vbmRCdG4sIGZhbHNlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpY2tfY2xvc2UoKSB7XG5cbiAgICB9XG5cbiAgICBzaGFyZV9zdWNjKCkge1xuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKDUwKTtcbiAgICAgICAgVXNlckluZm8uc2hvcEZyZWVEaWFtb25kVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBVc2VySW5mby5zYXZlKClcbiAgICAgICAgdGhpcy5yZWZyZXNoQnRuU3RhdHVzKCk7XG4gICAgfVxuXG4gICAgY2xpY2tfZnJlZSgpIHtcbiAgICAgICAgbGV0IGNob2ljZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLlNob3ApXG4gICAgICAgIGlmIChjaG9pY2UgPT0gMSkge1xuICAgICAgICAgICAgUGxhdGZvcm0uc2hhcmUodGhpcy5zaGFyZV9zdWNjLCB0aGlzKVxuICAgICAgICB9IGVsc2UgaWYgKGNob2ljZSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlX3N1Y2MoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy92aWRlb1xuICAgICAgICAgICAgUGxhdGZvcm0ud2F0Y2hfdmlkZW8odGhpcy5zaGFyZV9zdWNjLCB0aGlzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0QmcoZGF0YSkge1xuICAgICAgICBVc2VySW5mby5zZWxlY3RlZFNraW4gPSBkYXRhLmlkO1xuICAgICAgICBVc2VySW5mby5zYXZlKClcbiAgICAgICAgdGhpcy5vblNob3duKCk7XG4gICAgfVxuXG4gICAgY2xpY2tfdW5sb2NrKGRhdGEpIHtcbiAgICAgICAgaWYgKFVzZXJJbmZvLmlzVW5sb2NrKGRhdGEuaWQpKSB7XG4gICAgICAgICAgICAvL3NlbGVjdCBcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0QmcoZGF0YSk7XG4gICAgICAgICAgICBUb2FzdC5tYWtlKFwi5bey6YCJ5oupIFwiICsgZGF0YS50ZXh0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVc2VySW5mby5kaWFtb25kID49IGRhdGEuY29zdCkge1xuICAgICAgICAgICAgVXNlckluZm8uZGlhbW9uZCAtPSBkYXRhLmNvc3Q7XG4gICAgICAgICAgICBVc2VySW5mby51bmxvY2soZGF0YS5pZCk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdEJnKGRhdGEpXG4gICAgICAgICAgICBUb2FzdC5tYWtlKGNjLmpzLmZvcm1hdFN0cihcIiVz5bey6Kej6ZSBXCIsIGRhdGEudGV4dCkpXG4gICAgICAgICAgICBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX3VubG9jaylcbiAgICAgICAgICAgIGlmIChNYWluLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIE1haW4uaW5zdGFuY2UucmVmcmVzaFJlZHBvaW50cygpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUb2FzdC5tYWtlKFwi6ZK755+z5LiN6LazXCIpXG4gICAgICAgICAgICBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX2ludmFsaWQpXG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4d867LSTWNEB7LUL3KAjVve', 'DCBackground');
// Game/Scripts/ui/DCBackground.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var SpriteFrameCache_1 = require("../../../framework/plugin_boosts/misc/SpriteFrameCache");
var Info_1 = require("../Info");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCBackground = /** @class */ (function (_super) {
    __extends(DCBackground, _super);
    function DCBackground() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCBackground.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCBackground.prototype.start = function () { };
    DCBackground.prototype.onValueChanged = function (v) {
        var _this = this;
        var data = Info_1.UserInfo.getSkinById(v);
        console.log(data);
        SpriteFrameCache_1.default.instance.getSpriteFrame("Game/Textures/Bgs/" + data.img + ".png").then(function (sf) { return _this.sprite.spriteFrame = sf; });
    };
    DCBackground = __decorate([
        ccclass
    ], DCBackground);
    return DCBackground;
}(DCUI_1.default));
exports.default = DCBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDQmFja2dyb3VuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUVBQTREO0FBQzVELDJGQUFzRjtBQUN0RixnQ0FBbUM7QUFFN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMEMsZ0NBQUk7SUFBOUM7O0lBZ0JBLENBQUM7SUFiRyw2QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsNEJBQUssR0FBTCxjQUFVLENBQUM7SUFFWCxxQ0FBYyxHQUFkLFVBQWUsQ0FBQztRQUFoQixpQkFLQztRQUhHLElBQUksSUFBSSxHQUFHLGVBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQiwwQkFBZ0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixHQUFDLElBQUksQ0FBQyxHQUFHLEdBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRSxJQUFFLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsRUFBRSxFQUE1QixDQUE0QixDQUFDLENBQUM7SUFDMUgsQ0FBQztJQWZnQixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBZ0JoQztJQUFELG1CQUFDO0NBaEJELEFBZ0JDLENBaEJ5QyxjQUFJLEdBZ0I3QztrQkFoQm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRENVSSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvRENVSVwiO1xuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERDQmFja2dyb3VuZCBleHRlbmRzIERDVUkge1xuXG4gICAgc3ByaXRlOmNjLlNwcml0ZTtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHt9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgbGV0IGRhdGEgPSBVc2VySW5mby5nZXRTa2luQnlJZCh2KTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUoXCJHYW1lL1RleHR1cmVzL0Jncy9cIitkYXRhLmltZytcIi5wbmdcIikudGhlbihzZj0+dGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSBzZik7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e90fpm8LtO1JagTdF3cTrm', 'PsFx');
// framework/plugin_boosts/gamesys/PsFx.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFx = /** @class */ (function (_super) {
    __extends(PsFx, _super);
    function PsFx() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // @property([cc.ParticleSystem])
        _this.particles = [];
        // @property([cc.Animation])
        _this.animations = [];
        // armature:dragonBones.ArmatureDisplay = null
        _this.armature = null;
        // name:string = null;
        // _callback:Function;
        // _target:any;
        _this.isPlaying = false;
        _this.sfx = null;
        _this.sprite = null;
        _this.playedTime = 0;
        _this.duration = -1;
        _this.fadeAfterFinish = -1;
        _this.repeatTime = 1;
        _this.removeAfterFinish = false;
        return _this;
        // update (dt) {}
    }
    PsFx.prototype.onLoad = function () {
        if (this.sprite == null) {
            this.sprite = this.getComponent(cc.Sprite);
        }
        var anim = this.getComponent(cc.Animation);
        if (anim) {
            this.animations.push(anim);
        }
        var root_ps = this.getComponent(cc.ParticleSystem);
        root_ps && this.particles.push(root_ps);
        for (var i = 0; i < this.node.childrenCount; i++) {
            var child = this.node.children[i];
            var ps = child.getComponent(cc.ParticleSystem);
            if (ps)
                this.particles.push(ps);
            else {
                var anim_1 = child.getComponent(cc.Animation);
                if (anim_1)
                    this.animations.push(anim_1);
            }
        }
        if (typeof (dragonBones) != "undefined") {
            this.armature = this.getComponent(dragonBones.ArmatureDisplay);
            if (!this.armature)
                this.armature = this.getComponentInChildren(dragonBones.ArmatureDisplay);
        }
    };
    PsFx.prototype.play = function (audio, spriteFrame) {
        var _this = this;
        if (audio === void 0) { audio = null; }
        if (spriteFrame === void 0) { spriteFrame = null; }
        this.isPlaying = true;
        var dur = 0;
        if (audio) {
            this.sfx = audio;
        }
        if (spriteFrame)
            this.sprite.spriteFrame = spriteFrame;
        this.node.active = true;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.resetSystem();
            if (dur < element.duration) {
                dur = element.duration + element.life + element.lifeVar;
            }
        }
        for (var i = 0; i < this.animations.length; i++) {
            var element = this.animations[i];
            var clips = element.getClips();
            if (clips && clips.length > 0) {
                var clip = clips[0];
                var duration = clip.duration / clip.speed;
                if (duration > dur) {
                    dur = duration;
                }
                element.play(clip.name);
            }
        }
        if (this.sfx) {
            Device_1.default.playEffect(this.sfx, false);
        }
        if (this.armature) {
            this.armature.playAnimation("", this.repeatTime);
            dur = this.duration;
            if (dur <= 0) {
                return new Promise(function (resolve, reject) {
                    // this.armature.addEventListener(dragonBones.EventObject.LOOP_COMPLETE, _=>{
                    //     console.log("loop complete");
                    //     this.fadeOnFinish(resolve)
                    // })
                    _this.armature.addEventListener(dragonBones.EventObject.COMPLETE, function (_) {
                        console.log("armature play complete");
                        if (_this.removeAfterFinish) {
                            _this.node.removeFromParent();
                        }
                        else {
                            _this.fadeOnFinish(resolve);
                        }
                    });
                });
            }
        }
        else {
            dur = dur + 0.1;
        }
        // console.log("[psfx] play : " ,  this.name,  dur);
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                if (!_this.isValid)
                    return;
                if (_this.removeAfterFinish) {
                    _this.node.removeFromParent();
                }
                else {
                    _this.fadeOnFinish(resolve);
                }
            }, dur * 1000);
        });
    };
    PsFx.prototype.fadeOnFinish = function (callback) {
        this.isPlaying = false;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.stopSystem();
        }
        if (this.fadeAfterFinish > 0) {
            var seq = cc.sequence(cc.fadeOut(this.fadeAfterFinish), cc.callFunc(callback));
            this.node.runAction(seq);
        }
        else {
            callback();
        }
    };
    PsFx.prototype.reset = function () {
        this.playedTime = 0;
    };
    PsFx.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFx.prototype, "sfx", void 0);
    __decorate([
        property(cc.Sprite)
    ], PsFx.prototype, "sprite", void 0);
    __decorate([
        property
    ], PsFx.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFx.prototype, "fadeAfterFinish", void 0);
    __decorate([
        property
    ], PsFx.prototype, "repeatTime", void 0);
    __decorate([
        property
    ], PsFx.prototype, "removeAfterFinish", void 0);
    PsFx = __decorate([
        ccclass
    ], PsFx);
    return PsFx;
}(cc.Component));
exports.default = PsFx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBOEI7QUFFeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBa0Msd0JBQVk7SUFBOUM7UUFBQSxxRUErS0M7UUE3S0csaUNBQWlDO1FBQ2pDLGVBQVMsR0FBdUIsRUFBRSxDQUFBO1FBRWxDLDRCQUE0QjtRQUM1QixnQkFBVSxHQUFrQixFQUFFLENBQUE7UUFFOUIsOENBQThDO1FBQzlDLGNBQVEsR0FBTyxJQUFJLENBQUM7UUFFcEIsc0JBQXNCO1FBRXRCLHNCQUFzQjtRQUN0QixlQUFlO1FBRWYsZUFBUyxHQUFXLEtBQUssQ0FBQztRQUcxQixTQUFHLEdBQWdCLElBQUksQ0FBQTtRQUd2QixZQUFNLEdBQWEsSUFBSSxDQUFBO1FBRXZCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLGNBQVEsR0FBVSxDQUFDLENBQUMsQ0FBRTtRQUd0QixxQkFBZSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBRzVCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLHVCQUFpQixHQUFXLEtBQUssQ0FBQzs7UUEwSWxDLGlCQUFpQjtJQUNyQixDQUFDO0lBeElHLHFCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxFQUN0QjtZQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDOUM7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUMxQyxJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUks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O1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQztxQ0FDUjtJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dDQUNHO0lBS3ZCO1FBREMsUUFBUTswQ0FDYTtJQUd0QjtRQURDLFFBQVE7aURBQ21CO0lBRzVCO1FBREMsUUFBUTs0Q0FDYTtJQUd0QjtRQURDLFFBQVE7bURBQ3lCO0lBcENqQixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBK0t4QjtJQUFELFdBQUM7Q0EvS0QsQUErS0MsQ0EvS2lDLEVBQUUsQ0FBQyxTQUFTLEdBK0s3QztrQkEvS29CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuL0RldmljZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzRnggZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIFxuICAgIC8vIEBwcm9wZXJ0eShbY2MuUGFydGljbGVTeXN0ZW1dKVxuICAgIHBhcnRpY2xlczpjYy5QYXJ0aWNsZVN5c3RlbVtdID0gW11cblxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQW5pbWF0aW9uXSlcbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW11cblxuICAgIC8vIGFybWF0dXJlOmRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSA9IG51bGxcbiAgICBhcm1hdHVyZTphbnkgPSBudWxsO1xuXG4gICAgLy8gbmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgLy8gX2NhbGxiYWNrOkZ1bmN0aW9uO1xuICAgIC8vIF90YXJnZXQ6YW55O1xuXG4gICAgaXNQbGF5aW5nOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcbiAgICBzZng6Y2MuQXVkaW9DbGlwID0gbnVsbFxuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbFxuXG4gICAgcGxheWVkVGltZTpudW1iZXIgPSAwO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZHVyYXRpb246bnVtYmVyID0gLTEgO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZmFkZUFmdGVyRmluaXNoOm51bWJlciA9IC0xO1xuICAgIFxuICAgIEBwcm9wZXJ0eVxuICAgIHJlcGVhdFRpbWU6bnVtYmVyID0gMTtcblxuICAgIEBwcm9wZXJ0eVxuICAgIHJlbW92ZUFmdGVyRmluaXNoOmJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuc3ByaXRlID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYW5pbSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbilcbiAgICAgICAgaWYoYW5pbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJvb3RfcHMgPSB0aGlzLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbSlcbiAgICAgICAgcm9vdF9wcyAmJiB0aGlzLnBhcnRpY2xlcy5wdXNoKHJvb3RfcHMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2RlLmNoaWxkcmVuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLm5vZGUuY2hpbGRyZW5baV1cbiAgICAgICAgICAgIGxldCBwcyA9IGNoaWxkLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbSkgICBcbiAgICAgICAgICAgIGlmKHBzKVxuICAgICAgICAgICAgICAgIHRoaXMucGFydGljbGVzLnB1c2gocHMpO1xuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbSA9IGNoaWxkLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXG4gICAgICAgICAgICAgICAgaWYoYW5pbSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mKGRyYWdvbkJvbmVzKSAhPVwidW5kZWZpbmVkXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYXJtYXR1cmUgPSB0aGlzLmdldENvbXBvbmVudChkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO1xuICAgICAgICAgICAgaWYoIXRoaXMuYXJtYXR1cmUpXG4gICAgICAgICAgICAgICAgdGhpcy5hcm1hdHVyZSA9IHRoaXMuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheShhdWRpbzpjYy5BdWRpb0NsaXA9IG51bGwsc3ByaXRlRnJhbWUgPSBudWxsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgZHVyID0gMDtcbiAgICAgICAgaWYoYXVkaW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2Z4ID0gYXVkaW9cbiAgICAgICAgfVxuICAgICAgICBpZihzcHJpdGVGcmFtZSlcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgICAgICAgZWxlbWVudC5yZXNldFN5c3RlbSgpO1xuICAgICAgICAgICAgaWYoZHVyIDwgZWxlbWVudC5kdXJhdGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkdXIgPSBlbGVtZW50LmR1cmF0aW9uICsgZWxlbWVudC5saWZlICsgZWxlbWVudC5saWZlVmFyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmFuaW1hdGlvbnNbaV07XG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBlbGVtZW50LmdldENsaXBzKClcbiAgICAgICAgICAgIGlmKGNsaXBzICYmIGNsaXBzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1swXVxuICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGNsaXAuZHVyYXRpb24vY2xpcC5zcGVlZFxuICAgICAgICAgICAgICAgIGlmKGR1cmF0aW9uID4gZHVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGxheShjbGlwLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5zZngpXG4gICAgICAgIHtcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KHRoaXMuc2Z4LGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5hcm1hdHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hcm1hdHVyZS5wbGF5QW5pbWF0aW9uKFwiXCIsdGhpcy5yZXBlYXRUaW1lKTtcbiAgICAgICAgICAgIGR1ciA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgICAgICBpZihkdXIgPD0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFybWF0dXJlLmFkZEV2ZW50TGlzdGVuZXIoZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuTE9PUF9DT01QTEVURSwgXz0+e1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJsb29wIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5mYWRlT25GaW5pc2gocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcm1hdHVyZS5hZGRFdmVudExpc3RlbmVyKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFLCBfPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFybWF0dXJlIHBsYXkgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJlbW92ZUFmdGVyRmluaXNoKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVPbkZpbmlzaChyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZHVyID0gZHVyICsgMC4xO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW3BzZnhdIHBsYXkgOiBcIiAsICB0aGlzLm5hbWUsICBkdXIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuICAgICAgICAgICAgc2V0VGltZW91dChfPT57XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNWYWxpZCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yZW1vdmVBZnRlckZpbmlzaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZU9uRmluaXNoKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxkdXIgKiAxMDAwKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZhZGVPbkZpbmlzaChjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnBhcnRpY2xlc1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3RvcFN5c3RlbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZmFkZUFmdGVyRmluaXNoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNlcSA9IGNjLnNlcXVlbmNlKGNjLmZhZGVPdXQodGhpcy5mYWRlQWZ0ZXJGaW5pc2gpLGNjLmNhbGxGdW5jKGNhbGxiYWNrKSlcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldCgpOiBhbnkge1xuICAgICAgICB0aGlzLnBsYXllZFRpbWUgPSAwO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PoolManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '69495bpMX5Av5pbrNxnGI8/', 'PoolManager');
// framework/plugin_boosts/gamesys/PoolManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PoolManager = /** @class */ (function () {
    function PoolManager(root, onCreateObject, target) {
        this.nodePool = {};
        this.nodes = {};
        this.managed = false;
        this.aliveObjects = [];
        this.onCreateObject = onCreateObject;
        this.target = target;
        this.root = root;
        if (root) {
            root.on(cc.Node.EventType.CHILD_REMOVED, this.onNodeRemove, this);
        }
    }
    PoolManager.prototype.onNodeRemove = function (node) {
        this.put(node);
    };
    PoolManager.prototype.objects = function () {
        return this.aliveObjects;
    };
    PoolManager.prototype.clearAlives = function () {
        for (var i = 0; i < this.aliveObjects.length;) {
            var obj = this.aliveObjects[i];
            obj.removeFromParent();
        }
    };
    PoolManager.prototype.getPool = function (type) {
        if (typeof (type) != "string" || typeof (type) != "number") {
            type = type._uuid || type.name;
        }
        var pool = this.nodePool[type];
        if (pool == null) {
            pool = new cc.NodePool();
            this.nodePool[type] = pool;
        }
        return pool;
    };
    PoolManager.prototype.get = function (type) {
        var node = this.getPool(type).get();
        if (this.onCreateObject) {
            if (node == null) {
                node = this.onCreateObject.call(this.target, type);
                if (this.root)
                    node.setParent(this.root);
                if (!node)
                    console.warn(node, "onCreateObject must return an object");
                if (this.managed)
                    this.aliveObjects.push(node);
                this.nodes[node.uuid] = type;
                return node;
            }
        }
        if (this.root)
            node.setParent(this.root);
        if (this.managed)
            this.aliveObjects.push(node);
        return node;
    };
    PoolManager.prototype.tag = function (node, type) {
        this.nodes[node.uuid] = type;
    };
    PoolManager.prototype.put = function (node, type) {
        if (type === void 0) { type = null; }
        if (type == null)
            type = this.nodes[node.uuid];
        this.getPool(type).put(node);
        if (this.managed)
            this.aliveObjects.splice(this.aliveObjects.indexOf(node), 1);
    };
    PoolManager.prototype.clear = function (type) {
        if (this.managed)
            this.aliveObjects.splice(0, this.aliveObjects.length);
        if (type)
            this.getPool(type).clear();
        else {
            for (var t in this.nodePool) {
                var pool = this.nodePool[t];
                pool.clear();
            }
        }
    };
    PoolManager.prototype.size = function (type) {
        return this.getPool(type).size();
    };
    return PoolManager;
}());
exports.default = PoolManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQb29sTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFhSSxxQkFBWSxJQUFhLEVBQUMsY0FBZSxFQUFDLE1BQU87UUFYakQsYUFBUSxHQUFPLEVBQUUsQ0FBQTtRQUVqQixVQUFLLEdBQUcsRUFBRSxDQUFBO1FBTVYsWUFBTyxHQUFXLEtBQUssQ0FBQztRQUN4QixpQkFBWSxHQUFhLEVBQUUsQ0FBQTtRQUl2QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUE7U0FDcEU7SUFDTCxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLElBQUk7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBRUksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBRUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUMzQztZQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDOUIsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUE7U0FDekI7SUFDTCxDQUFDO0lBRUQsNkJBQU8sR0FBUCxVQUFRLElBQUk7UUFFUixJQUFHLE9BQU0sQ0FBQyxJQUFJLENBQUMs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LElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNoQjtTQUNKO0lBQ0wsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxJQUFJO1FBRUwsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFDTCxrQkFBQztBQUFELENBckhBLEFBcUhDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvb2xNYW5hZ2VyXG57XG4gICAgbm9kZVBvb2w6YW55ID0ge31cbiAgICBcbiAgICBub2RlcyA9IHt9XG5cbiAgICBvbkNyZWF0ZU9iamVjdDpGdW5jdGlvbjtcbiAgICB0YXJnZXQ6YW55O1xuICAgIHJvb3Q6Y2MuTm9kZTtcblxuICAgIG1hbmFnZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGFsaXZlT2JqZWN0czpjYy5Ob2RlW10gPSBbXVxuXG4gICAgY29uc3RydWN0b3Iocm9vdD86Y2MuTm9kZSxvbkNyZWF0ZU9iamVjdD8sdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIHRoaXMub25DcmVhdGVPYmplY3QgPSBvbkNyZWF0ZU9iamVjdDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIGlmKHJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJvb3Qub24oY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfUkVNT1ZFRCwgdGhpcy5vbk5vZGVSZW1vdmUsIHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk5vZGVSZW1vdmUobm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMucHV0KG5vZGUpO1xuICAgIH1cblxuICAgIG9iamVjdHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxpdmVPYmplY3RzO1xuICAgIH1cblxuICAgIGNsZWFyQWxpdmVzKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCB0aGlzLmFsaXZlT2JqZWN0cy5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5hbGl2ZU9iamVjdHNbaV1cbiAgICAgICAgICAgIG9iai5yZW1vdmVGcm9tUGFyZW50KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFBvb2wodHlwZSk6Y2MuTm9kZVBvb2xcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZih0eXBlKSAhPSBcInN0cmluZ1wiIHx8IHR5cGVvZih0eXBlKSE9IFwibnVtYmVyXCIgKVxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5fdXVpZCB8fCB0eXBlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBvb2wgPSB0aGlzLm5vZGVQb29sW3R5cGVdO1xuICAgICAgICBpZihwb29sID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvb2wgPSBuZXcgY2MuTm9kZVBvb2woKTtcbiAgICAgICAgICAgIHRoaXMubm9kZVBvb2xbdHlwZV0gPSBwb29sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb29sO1xuICAgIH1cblxuICAgIGdldCh0eXBlKTpjYy5Ob2RlXG4gICAge1xuICAgICAgICBsZXQgbm9kZSA9ICB0aGlzLmdldFBvb2wodHlwZSkuZ2V0KCk7XG4gICAgICAgIGlmKHRoaXMub25DcmVhdGVPYmplY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5vbkNyZWF0ZU9iamVjdC5jYWxsKHRoaXMudGFyZ2V0LHR5cGUpXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yb290KVxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmKCFub2RlIClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG5vZGUsXCJvbkNyZWF0ZU9iamVjdCBtdXN0IHJldHVybiBhbiBvYmplY3RcIilcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxpdmVPYmplY3RzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tub2RlLnV1aWRdID0gdHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnJvb3QpXG4gICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnJvb3QpO1xuICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICB0aGlzLmFsaXZlT2JqZWN0cy5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB0YWcobm9kZSx0eXBlKVxuICAgIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tub2RlLnV1aWRdID0gdHlwZTtcbiAgICB9XG5cbiAgICBwdXQobm9kZTpjYy5Ob2RlLHR5cGUgPSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYodHlwZSA9PSBudWxsKVxuICAgICAgICAgICAgdHlwZSA9IHRoaXMubm9kZXNbbm9kZS51dWlkXTtcbiAgICAgICAgdGhpcy5nZXRQb29sKHR5cGUpLnB1dChub2RlKTtcbiAgICAgICAgaWYodGhpcy5tYW5hZ2VkKVxuICAgICAgICAgICAgdGhpcy5hbGl2ZU9iamVjdHMuc3BsaWNlKHRoaXMuYWxpdmVPYmplY3RzLmluZGV4T2Yobm9kZSksMSk7XG4gICAgfVxuXG4gICAgY2xlYXIodHlwZT8pXG4gICAge1xuICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICB0aGlzLmFsaXZlT2JqZWN0cy5zcGxpY2UoMCx0aGlzLmFsaXZlT2JqZWN0cy5sZW5ndGgpO1xuICAgICAgICBpZih0eXBlKVxuICAgICAgICAgICAgdGhpcy5nZXRQb29sKHR5cGUpLmNsZWFyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgdCBpbiB0aGlzLm5vZGVQb29sKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBwb29sID0gdGhpcy5ub2RlUG9vbFt0XVxuICAgICAgICAgICAgICAgIHBvb2wuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpemUodHlwZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvb2wodHlwZSkuc2l6ZSgpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/WinDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d78f0lU+VOW7rncsSfgC5s', 'WinDialog');
// Game/Scripts/ui/WinDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var Platform_1 = require("../../../framework/Platform");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Consts_1 = require("../hex-lines-game/Consts");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WinDialog = /** @class */ (function (_super) {
    __extends(WinDialog, _super);
    function WinDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ps = null;
        _this.levelLabel = null;
        _this.bannerLabel = null;
        _this.achievementLabel = null;
        _this.amountStepLabel = null;
        _this.rankLabel = null;
        _this.rewardLabel = null;
        _this.messageLabel = null;
        _this.nextLevelLabel = null;
        _this.skinStoreLabel = null;
        _this.challengeLabel = null;
        _this.stepLabel = null;
        _this.timeLabel = null;
        _this.percentLabel = null;
        _this.diamondLabel = null;
        _this.diamondNode = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
    }
    WinDialog.prototype.onLoad = function () { };
    WinDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("恭喜过关", "用时        超过了         玩家", "步", "查看完整排行", "本关奖励：", "太厉害了", "下一关", "皮肤商店", "发起挑战");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Xin chúc mừng bạn đã vượt qua", "Thời gian        vượt quá         Người chơi", "bước", "Xem bảng xếp hạng đầy đủ", "Phần thưởng cho cấp độ này:", "Thật tuyệt vời", "Cấp độ tiếp theo", "Cửa hàng trang phục", "Đưa ra thử thách");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Congratulations on passing", "Time        Exceeded         Player", "steps", "View the full ranking", "Rewards for this level:", "It's amazing", "Next Level", "Skin Store", "Launch a challenge");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    WinDialog.prototype.set_label_lang = function (bannerLabelString, achievementLabelString, amountStepLabelString, rankLabelString, rewardLabelString, messageLabelString, nextLevelLabelString, skinStoreLabelString, challengeLabelString) {
        this.bannerLabel.string = bannerLabelString;
        this.achievementLabel.string = achievementLabelString;
        this.amountStepLabel.string = amountStepLabelString;
        this.rankLabel.string = amountStepLabelString;
        this.rewardLabel.string = rewardLabelString;
        this.messageLabel.string = messageLabelString;
        this.nextLevelLabel.string = nextLevelLabelString;
        this.skinStoreLabel.string = skinStoreLabelString;
        this.challengeLabel.string = challengeLabelString;
    };
    WinDialog.prototype.set_label_FontSize = function (fontSize) {
        if (LanguageManager_1.default.instance.currentLanguage == LanguageManager_1.LanguageMode.VI)
            this.bannerLabel.fontSize -= 4;
        this.achievementLabel.fontSize = fontSize;
        this.amountStepLabel.fontSize = fontSize;
        this.rankLabel.fontSize = fontSize;
        this.rewardLabel.fontSize = fontSize;
        this.messageLabel.fontSize = fontSize;
        this.nextLevelLabel.fontSize = fontSize;
        this.skinStoreLabel.fontSize = fontSize;
        this.challengeLabel.fontSize = fontSize;
    };
    WinDialog.prototype.onShown = function () {
        this.ps.resetSystem();
        Platform_1.default.showSmallRank();
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.levelLabel.string = cc.js.formatStr("- 第 %s 关 - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.levelLabel.string = cc.js.formatStr("- Cấp độ %s - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.levelLabel.string = cc.js.formatStr("- Level %s - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.vi_FontSize);
                break;
        }
        this.stepLabel.string = Info_1.UserInfo.stepUsed.toString();
        this.timeLabel.string = Info_1.UserInfo.timePassed.toString() + "s";
        var p = g.decreaseFomula(0.99, 0.3, Info_1.UserInfo.timePassed + Info_1.UserInfo.stepUsed, Info_1.UserInfo.currentLevel + 50);
        this.percentLabel.string = (p * 100).toFixed(0) + "%";
        this.diamondNode.active = false;
        if (Info_1.UserInfo.level == Info_1.UserInfo.currentLevel) {
            var lv_1 = Info_1.UserInfo.level;
            var choise_1 = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
            if (choise_1 > 0 && Math.random() > 0.5 && lv_1 >= 3) {
                this.scheduleOnce(function (_) {
                    ViewManager_1.default.instance.show("Game/LevelupDialog", lv_1, p);
                }, 1);
                this.diamondNode.active = false;
            }
            else {
                this.diamondNode.active = true;
                p = Math.min(p, 1);
                var diamond = Math.floor(Math.max(30 * p, 10));
                this.diamondLabel.string = diamond.toString();
                Info_1.UserInfo.addDiamond(diamond);
            }
            Info_1.UserInfo.level = lv_1 + 1;
            Platform_1.default.uploadScore(Info_1.UserInfo.level);
            Info_1.UserInfo.save();
        }
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
        if (choise == 1) {
            if (Info_1.UserInfo.level >= 3) {
                if (!Info_1.UserInfo.isUnlock(Consts_1.default.FreeSkinId)) {
                    ViewManager_1.default.instance.show("Game/HbDialog");
                }
            }
        }
    };
    WinDialog.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    WinDialog.prototype.click_shop = function () {
        ViewManager_1.default.instance.show("Game/ShopDialog");
    };
    WinDialog.prototype.click_next = function () {
        Info_1.UserInfo.currentLevel = Info_1.UserInfo.currentLevel + 1;
        cc.director.loadScene("Game");
    };
    WinDialog.prototype.click_home = function () {
        cc.director.loadScene("Main");
    };
    WinDialog.prototype.click_share = function () {
        Platform_1.default.share();
    };
    __decorate([
        property(cc.ParticleSystem)
    ], WinDialog.prototype, "ps", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "achievementLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "amountStepLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "rewardLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "messageLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "nextLevelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "skinStoreLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "challengeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "stepLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "timeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "percentLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Node)
    ], WinDialog.prototype, "diamondNode", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "eng_FontSize", void 0);
    WinDialog = __decorate([
        ccclass
    ], WinDialog);
    return WinDialog;
}(cc.Component));
exports.default = WinDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFdpbkRpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0NBQStDO0FBQy9DLHdEQUFtRDtBQUNuRCwrRUFBMEU7QUFDMUUsbURBQThDO0FBQzlDLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQStOQztRQTNORyxRQUFFLEdBQXFCLElBQUksQ0FBQztRQUc1QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFFbEMscUJBQWUsR0FBYSxJQUFJLENBQUM7UUFFakMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUU3QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUU5QixvQkFBYyxHQUFhLElBQUksQ0FBQztRQUVoQyxvQkFBYyxHQUFhLElBQUksQ0FBQztRQUVoQyxvQkFBYyxHQUFhLElBQUksQ0FBQztRQUdoQyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsa0JBQVksR0FBVyxFQUFFLENBQUM7O0lBOEs5QixDQUFDO0lBM0tHLDBCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1osNEJBQVEsR0FBUjtRQUNJLFFBQVEseUJBQWUsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFO1lBQzlDLEtBQUssOEJBQVks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QUFPLEVBQUUsQ0FBQztrREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7bURBQ0w7SUFqRFQsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQStON0I7SUFBRCxnQkFBQztDQS9ORCxBQStOQyxDQS9Oc0MsRUFBRSxDQUFDLFNBQVMsR0ErTmxEO2tCQS9Ob0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgQ29uc3RzIGZyb20gXCIuLi9oZXgtbGluZXMtZ2FtZS9Db25zdHNcIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpbkRpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QYXJ0aWNsZVN5c3RlbSlcclxuICAgIHBzOmNjLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsZXZlbExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBhY2hpZXZlbWVudExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBhbW91bnRTdGVwTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJhbmtMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmV3YXJkTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1lc3NhZ2VMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbmV4dExldmVsTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHNraW5TdG9yZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjaGFsbGVuZ2VMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHN0ZXBMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGltZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwZXJjZW50TGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRpYW1vbmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBkaWFtb25kTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcblxyXG4gICAgb25Mb2FkKCkgeyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwi5oGt5Zac6L+H5YWzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLnlKjml7YgICAgICAgIOi2hei/h+S6hiAgICAgICAgIOeOqeWutlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5q2lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmn6XnnIvlrozmlbTmjpLooYxcIixcclxuICAgICAgICAgICAgICAgICAgICBcIuacrOWFs+WlluWKse+8mlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aSq5Y6J5a6z5LqGXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLkuIvkuIDlhbNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpOWVhuW6l1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5Y+R6LW35oyR5oiYXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiWGluIGNow7pjIG3hu6tuZyBi4bqhbiDEkcOjIHbGsOG7o3QgcXVhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaOG7nWkgZ2lhbiAgICAgICAgdsaw4bujdCBxdcOhICAgICAgICAgTmfGsOG7nWkgY2jGoWlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImLGsOG7m2NcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlhlbSBi4bqjbmcgeOG6v3AgaOG6oW5nIMSR4bqneSDEkeG7p1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUGjhuqduIHRoxrDhu59uZyBjaG8gY+G6pXAgxJHhu5kgbsOgeTpcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRo4bqtdCB0dXnhu4d0IHbhu51pXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJD4bqlcCDEkeG7mSB0aeG6v3AgdGhlb1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ+G7rWEgaMOgbmcgdHJhbmcgcGjhu6VjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLEkMawYSByYSB0aOG7rSB0aMOhY2hcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ29uZ3JhdHVsYXRpb25zIG9uIHBhc3NpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRpbWUgICAgICAgIEV4Y2VlZGVkICAgICAgICAgUGxheWVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzdGVwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVmlldyB0aGUgZnVsbCByYW5raW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJSZXdhcmRzIGZvciB0aGlzIGxldmVsOlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiSXQncyBhbWF6aW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJOZXh0IExldmVsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTa2luIFN0b3JlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJMYXVuY2ggYSBjaGFsbGVuZ2VcIixcclxuXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG59XHJcblxyXG5cclxuICAgIHNldF9sYWJlbF9sYW5nKFxyXG4gICAgICAgIGJhbm5lckxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgYWNoaWV2ZW1lbnRMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGFtb3VudFN0ZXBMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJhbmtMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJld2FyZExhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbWVzc2FnZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbmV4dExldmVsTGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBza2luU3RvcmVMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGNoYWxsZW5nZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmJhbm5lckxhYmVsLnN0cmluZyA9IGJhbm5lckxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYWNoaWV2ZW1lbnRMYWJlbC5zdHJpbmcgPSBhY2hpZXZlbWVudExhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYW1vdW50U3RlcExhYmVsLnN0cmluZyA9IGFtb3VudFN0ZXBMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLnJhbmtMYWJlbC5zdHJpbmcgPSBhbW91bnRTdGVwTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSByZXdhcmRMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLm1lc3NhZ2VMYWJlbC5zdHJpbmcgPSBtZXNzYWdlTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWxMYWJlbC5zdHJpbmcgPSBuZXh0TGV2ZWxMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLnNraW5TdG9yZUxhYmVsLnN0cmluZyA9IHNraW5TdG9yZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuY2hhbGxlbmdlTGFiZWwuc3RyaW5nID0gY2hhbGxlbmdlTGFiZWxTdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSA9PSBMYW5ndWFnZU1vZGUuVkkpXHJcbiAgICAgICAgICAgIHRoaXMuYmFubmVyTGFiZWwuZm9udFNpemUgLT0gNDtcclxuICAgICAgICB0aGlzLmFjaGlldmVtZW50TGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLmFtb3VudFN0ZXBMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmFua0xhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWxMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMuc2tpblN0b3JlTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLmNoYWxsZW5nZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wcy5yZXNldFN5c3RlbSgpO1xyXG4gICAgICAgIFBsYXRmb3JtLnNob3dTbWFsbFJhbmsoKTtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSDnrKwgJXMg5YWzIC0gXCIsIFVzZXJJbmZvLmN1cnJlbnRMZXZlbClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxMYWJlbC5zdHJpbmcgPSBjYy5qcy5mb3JtYXRTdHIoXCItIEPhuqVwIMSR4buZICVzIC0gXCIsIFVzZXJJbmZvLmN1cnJlbnRMZXZlbClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSBMZXZlbCAlcyAtIFwiLCBVc2VySW5mby5jdXJyZW50TGV2ZWwpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy52aV9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQudG9TdHJpbmcoKVxyXG4gICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQudG9TdHJpbmcoKSArXCJzXCI7XHJcbiAgICAgICAgbGV0IHAgPSBnLmRlY3JlYXNlRm9tdWxhKDAuOTksMC4zLFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBVc2VySW5mby5zdGVwVXNlZCxVc2VySW5mby5jdXJyZW50TGV2ZWwgKyA1MCApXHJcbiAgICAgICAgdGhpcy5wZXJjZW50TGFiZWwuc3RyaW5nID0gKHAqIDEwMCApLnRvRml4ZWQoMCkgK1wiJVwiXHJcblxyXG4gICAgICAgIHRoaXMuZGlhbW9uZE5vZGUuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICBcclxuICAgICAgICBpZihVc2VySW5mby5sZXZlbCA9PSBVc2VySW5mby5jdXJyZW50TGV2ZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgbHYgPSBVc2VySW5mby5sZXZlbFxyXG4gICAgICAgICAgICBsZXQgY2hvaXNlID0gVXNlckluZm8uZ2V0Q2hvaWNlKENob2ljZVR5cGUuTGV2ZWx1cCk7XHJcbiAgICAgICAgICAgIGlmKGNob2lzZSA+IDAgJiYgTWF0aC5yYW5kb20oKSA+IDAuNSAmJiBsdiA+PSAzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShfPT57XHJcbiAgICAgICAgICAgICAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTGV2ZWx1cERpYWxvZ1wiLGx2LHApXHJcbiAgICAgICAgICAgICAgICB9LDEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYW1vbmROb2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFtb25kTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcCA9IE1hdGgubWluKHAsMSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlhbW9uZCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMzAgKiBwLDEwKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbW9uZExhYmVsLnN0cmluZyA9IGRpYW1vbmQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQoZGlhbW9uZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVXNlckluZm8ubGV2ZWwgPSBsdiArIDFcclxuICAgICAgICAgICAgUGxhdGZvcm0udXBsb2FkU2NvcmUoVXNlckluZm8ubGV2ZWwpO1xyXG4gICAgICAgICAgICBVc2VySW5mby5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaG9pc2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5IQik7XHJcbiAgICAgICAgaWYoY2hvaXNlID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihVc2VySW5mby5sZXZlbCA+PSAzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighVXNlckluZm8uaXNVbmxvY2soQ29uc3RzLkZyZWVTa2luSWQpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0hiRGlhbG9nXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfcmFuaygpXHJcbiAgICB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIndlY2hhdC9XeFJhbmtEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaG9wKClcclxuICAgIHtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9TaG9wRGlhbG9nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX25leHQoKVxyXG4gICAge1xyXG4gICAgICAgIFVzZXJJbmZvLmN1cnJlbnRMZXZlbCA9IFVzZXJJbmZvLmN1cnJlbnRMZXZlbCArMTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpXHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfaG9tZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiTWFpblwiKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3NoYXJlKClcclxuICAgIHtcclxuICAgICAgICBQbGF0Zm9ybS5zaGFyZSgpO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFxPlayer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc35b3gh69DGIz45mLQJxDM', 'PsFxPlayer');
// framework/plugin_boosts/gamesys/PsFxPlayer.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFxPlayer = /** @class */ (function (_super) {
    __extends(PsFxPlayer, _super);
    function PsFxPlayer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this._fx = null;
        _this.spriteFrame = null;
        _this.duration = -1;
        _this.randomRotaion = false;
        return _this;
        // update (dt) {}
    }
    PsFxPlayer.prototype.start = function () {
    };
    Object.defineProperty(PsFxPlayer.prototype, "fx", {
        get: function () {
            if (this._fx == null && this.prefab) {
                var node = cc.instantiate(this.prefab);
                if (node == null)
                    return null;
                var fx = node.getComponent(PsFx_1.default);
                if (fx == null) {
                    fx = this.addComponent(PsFx_1.default);
                }
                node.setPosition(0, 0);
                node.setParent(this.node);
                this._fx = fx;
            }
            return this._fx;
        },
        enumerable: false,
        configurable: true
    });
    PsFxPlayer.prototype.isPlaying = function () {
        return this.fx.isPlaying;
    };
    PsFxPlayer.prototype.onEnable = function () {
    };
    PsFxPlayer.prototype.onDisable = function () {
        var fx = this._fx;
        if (fx)
            fx.node.active = false;
    };
    PsFxPlayer.prototype.sleep = function (sec) {
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                resolve();
            }, sec);
        });
    };
    ;
    PsFxPlayer.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        Device_1.default.playEffect(this.audioClip, false);
                        fx = this.fx;
                        if (!fx) return [3 /*break*/, 1];
                        fx.node.active = true;
                        if (this.randomRotaion)
                            fx.node.rotation = g.randomInt(0, 360);
                        fx.reset();
                        return [2 /*return*/, fx.play(this.audioClip, this.spriteFrame)];
                    case 1:
                        if (!(this.duration > 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.sleep(this.duration * 1000)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.Prefab)
    ], PsFxPlayer.prototype, "prefab", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], PsFxPlayer.prototype, "spriteFrame", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFxPlayer.prototype, "audioClip", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "randomRotaion", void 0);
    PsFxPlayer = __decorate([
        ccclass
    ], PsFxPlayer);
    return PsFxPlayer;
}(cc.Component));
exports.default = PsFxPlayer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4UGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBMEI7QUFDMUIsbUNBQThCO0FBRXhCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBbUZDO1FBaEZHLFlBQU0sR0FBYSxJQUFJLENBQUE7UUFFdkIsU0FBRyxHQUFRLElBQUksQ0FBQztRQUdoQixpQkFBVyxHQUFrQixJQUFJLENBQUE7UUFNakMsY0FBUSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBR3JCLG1CQUFhLEdBQVksS0FBSyxDQUFDOztRQWlFL0IsaUJBQWlCO0lBQ3JCLENBQUM7SUFoRUcsMEJBQUssR0FBTDtJQUNBLENBQUM7SUFFRCxzQkFBSSwwQkFBRTthQUFOO1lBRUksSUFBRyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUNsQztnQkFDSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdkMsSUFBRyxJQUFJLElBQUksSUFBSTtvQkFBRSxPQUFPLElBQUksQ0FBQztnQkFDN0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQTtnQkFDaEMsSUFBRyxFQUFFLElBQUksSUFBSSxFQUNiO29CQUNJLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDO2lCQUNoQztnQkFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO2FBQ2pCO1lBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3BCLENBQUM7OztPQUFBO0lBRUQsOEJBQVMsR0FBVDtRQUVJLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7SUFDN0IsQ0FBQztJQUVELDZCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsOEJBQVMsR0FBVDtRQUVJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbEIsSUFBRyxFQUFFO1lBQ0QsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQy9CLENBQUM7SUFFRCwwQkFBSyxHQUFMLFVBQU0sR0FBRztRQUNMLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixVQUFVLENBQUMsVUFBQSxDQUFDO2dCQUNSLE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxFQUFHLEdBQUcsQ0FBQyxDQUFBO1FBQ1osQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBQUEsQ0FBQztJQUVJLHlCQUFJLEdBQVY7Ozs7Ozt3QkFFSSxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNwQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQzs2QkFDZCxFQUFFLEVBQUYsd0JBQUU7d0JBRUQsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO3dCQUN0QixJQUFHLElBQUksQ0FBQyxhQUFhOzRCQUNqQixFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQzt3QkFDMUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUNYLHNCQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUM7OzZCQUU3QyxDQUFBLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFBLEVBQWpCLHdCQUFpQjt3QkFDaEIscUJBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFBOzt3QkFBdEMsU0FBc0MsQ0FBQzs7Ozs7O0tBRWxEO0lBN0VEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OENBQ0c7SUFLdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzttREFDUTtJQUdqQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7aURBQ1I7SUFHdkI7UUFEQyxRQUFRO2dEQUNZO0lBR3JCO1FBREMsUUFBUTtxREFDc0I7SUFqQmQsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQW1GOUI7SUFBRCxpQkFBQztDQW5GRCxBQW1GQyxDQW5GdUMsRUFBRSxDQUFDLFNBQVMsR0FtRm5EO2tCQW5Gb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQc0Z4IGZyb20gXCIuL1BzRnhcIjtcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4vRGV2aWNlXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHNGeFBsYXllciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsXG5cbiAgICBfZng6UHNGeCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXG4gICAgc3ByaXRlRnJhbWU6Y2MuU3ByaXRlRnJhbWUgPSBudWxsXG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9DbGlwOmNjLkF1ZGlvQ2xpcDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIGR1cmF0aW9uOm51bWJlciA9IC0xO1xuXG4gICAgQHByb3BlcnR5XG4gICAgcmFuZG9tUm90YWlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc3RhcnQgKCkge1xuICAgIH1cblxuICAgIGdldCBmeCgpXG4gICAge1xuICAgICAgICBpZih0aGlzLl9meCA9PSBudWxsICYmIHRoaXMucHJlZmFiKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKTtcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgZnggPSBub2RlLmdldENvbXBvbmVudChQc0Z4KVxuICAgICAgICAgICAgaWYoZnggPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmeCA9IHRoaXMuYWRkQ29tcG9uZW50KFBzRngpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5zZXRQb3NpdGlvbigwLDApO1xuICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQodGhpcy5ub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2Z4ID0gZng7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z4O1xuICAgIH1cblxuICAgIGlzUGxheWluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5meC5pc1BsYXlpbmc7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKVxuICAgIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgb25EaXNhYmxlKClcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IHRoaXMuX2Z4O1xuICAgICAgICBpZihmeClcbiAgICAgICAgICAgIGZ4Lm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2xlZXAoc2VjKXtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXz0+e1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gLCBzZWMpXG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIGFzeW5jIHBsYXkoKVxuICAgIHtcbiAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QodGhpcy5hdWRpb0NsaXAsZmFsc2UpO1xuICAgICAgICBsZXQgZnggPSB0aGlzLmZ4O1xuICAgICAgICBpZihmeClcbiAgICAgICAge1xuICAgICAgICAgICAgZngubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYodGhpcy5yYW5kb21Sb3RhaW9uKVxuICAgICAgICAgICAgICAgIGZ4Lm5vZGUucm90YXRpb24gPSBnLnJhbmRvbUludCgwLDM2MCk7ICBcbiAgICAgICAgICAgIGZ4LnJlc2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gZngucGxheSh0aGlzLmF1ZGlvQ2xpcCx0aGlzLnNwcml0ZUZyYW1lKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZih0aGlzLmR1cmF0aW9uID4gMCApXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zbGVlcCh0aGlzLmR1cmF0aW9uICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/Device.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b88b4v3H5tF7ozLVLmzIPqR', 'Device');
// framework/plugin_boosts/gamesys/Device.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundHelper_1 = require("../../qqsdk/SoundHelper");
var Device = /** @class */ (function () {
    function Device() {
    }
    Device.setSoundsEnable = function (b) {
        Device.setSFXEnable(b);
        Device.setBGMEnable(b);
    };
    Device.setSFXEnable = function (b) {
        cc.audioEngine.setEffectsVolume(b == true ? 1 : 0);
        Device.isSfxEnabled = b;
        if (!b) {
            cc.audioEngine.pauseAllEffects();
        }
        else {
            cc.audioEngine.resumeAllEffects();
        }
    };
    Device.useCCAudioEngine = function () {
        this._useCCAudioEngine = true;
    };
    Device.useDefaultAudioEngine = function () {
        this._useCCAudioEngine = false;
    };
    Device.setBGMEnable = function (b) {
        cc.audioEngine.setMusicVolume(b == true ? 1 : 0);
        Device.isBgmEnabled = b;
        if (!b) {
            cc.audioEngine.pauseMusic();
        }
        else {
            cc.audioEngine.resumeMusic();
        }
    };
    Device.playEffect = function (clip, loop) {
        if (loop === void 0) { loop = false; }
        if (Device.isSfxEnabled) {
            if (cc.sys.platform == cc.sys.QQ_PLAY) {
                if (this._useCCAudioEngine) {
                    return cc.audioEngine.playEffect(clip, loop);
                }
                else {
                    SoundHelper_1.default.playSound(clip);
                }
            }
            else
                return cc.audioEngine.playEffect(clip, loop);
        }
    };
    Device.stopMusic = function () {
        cc.audioEngine.stopMusic();
    };
    Device.playMusic = function (clip, loop) {
        if (loop === void 0) { loop = true; }
        if (Device.isBgmEnabled) {
            return cc.audioEngine.playMusic(clip, loop);
        }
    };
    Device.vibrate = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.vibrateShort();
        }
        else {
            console.log("not support vibrate on except-wx platfrom ");
        }
    };
    Device.isSfxEnabled = true;
    Device.isBgmEnabled = true;
    Device._useCCAudioEngine = false;
    return Device;
}());
exports.default = Device;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxEZXZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUFrRDtBQUVsRDtJQUFBO0lBeUZBLENBQUM7SUFsRlUsc0JBQWUsR0FBdEIsVUFBdUIsQ0FBUztRQUU1QixNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3RCLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVNLG1CQUFZLEdBQW5CLFVBQW9CLENBQUM7UUFFakIsRUFBRSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLElBQUcsQ0FBQyxDQUFDLEVBQ0w7WUFDSSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFBO1NBQ25DO2FBQUk7WUFDRCxFQUFFLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLENBQUM7U0FDckM7SUFDTCxDQUFDO0lBSU0sdUJBQWdCLEdBQXZCO1FBRUksSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRU0sNEJBQXFCLEdBQTVCO1FBRUksSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztJQUNuQyxDQUFDO0lBRU0sbUJBQVksR0FBbkIsVUFBb0IsQ0FBQztRQUVqQixFQUFFLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLElBQUcsQ0FBQyxDQUFDLEVBQ0w7WUFDSSxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzlCO2FBQUk7WUFDRCxFQUFFLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFBO1NBQy9CO0lBQ0wsQ0FBQztJQUdNLGlCQUFVLEdBQWpCLFVBQWtCLElBQUksRUFBQyxJQUFZO1FBQVoscUJBQUEsRUFBQSxZQUFZO1FBRS9CLElBQUcsTUFBTSxDQUFDLFlBQVksRUFDdEI7WUFDSSxJQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUNwQztnQkFDSSxJQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFDekI7b0JBQ0ksT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUE7aUJBQzlDO3FCQUFJO29CQUNELHFCQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQjthQUNKOztnQkFDRyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUNsRDtJQUNMLENBQUM7SUFFTSxnQkFBUyxHQUFoQjtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVNLGdCQUFTLEdBQWhCLFVBQWlCLElBQUksRUFBQyxJQUFXO1FBQVgscUJBQUEsRUFBQSxXQUFXO1FBRTdCLElBQUcsTUFBTSxDQUFDLFlBQVksRUFDdEI7WUFDSSxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztJQUNMLENBQUM7SUFFTSxjQUFPLEdBQWQ7UUFFSSxJQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUN4QztZQUNJLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtTQUNwQjthQUFJO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFBO1NBQzVEO0lBQ0wsQ0FBQztJQXJGTSxtQkFBWSxHQUFHLElBQUksQ0FBQztJQUVwQixtQkFBWSxHQUFHLElBQUksQ0FBQztJQW9CcEIsd0JBQWlCLEdBQUcsS0FBSyxDQUFDO0lBZ0VyQyxhQUFDO0NBekZELEFBeUZDLElBQUE7a0JBekZvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvdW5kSGVscGVyIGZyb20gXCIuLi8uLi9xcXNkay9Tb3VuZEhlbHBlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXZpY2UgXG57XG5cbiAgICBzdGF0aWMgaXNTZnhFbmFibGVkID0gdHJ1ZTtcblxuICAgIHN0YXRpYyBpc0JnbUVuYWJsZWQgPSB0cnVlO1xuXG4gICAgc3RhdGljIHNldFNvdW5kc0VuYWJsZShiOmJvb2xlYW4pXG4gICAge1xuICAgICAgICBEZXZpY2Uuc2V0U0ZYRW5hYmxlKGIpXG4gICAgICAgIERldmljZS5zZXRCR01FbmFibGUoYik7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldFNGWEVuYWJsZShiKVxuICAgIHtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0RWZmZWN0c1ZvbHVtZShiID09IHRydWU/MTowKTtcbiAgICAgICAgRGV2aWNlLmlzU2Z4RW5hYmxlZCA9IGI7XG4gICAgICAgIGlmKCFiKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbEVmZmVjdHMoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZUFsbEVmZmVjdHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfdXNlQ0NBdWRpb0VuZ2luZSA9IGZhbHNlO1xuXG4gICAgc3RhdGljIHVzZUNDQXVkaW9FbmdpbmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdXNlQ0NBdWRpb0VuZ2luZSA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIHVzZURlZmF1bHRBdWRpb0VuZ2luZSgpXG4gICAge1xuICAgICAgICB0aGlzLl91c2VDQ0F1ZGlvRW5naW5lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJHTUVuYWJsZShiKVxuICAgIHtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0TXVzaWNWb2x1bWUoYiA9PSB0cnVlPzE6MCk7XG4gICAgICAgIERldmljZS5pc0JnbUVuYWJsZWQgPSBiO1xuICAgICAgICBpZighYilcbiAgICAgICAge1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VNdXNpYygpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lTXVzaWMoKVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcGxheUVmZmVjdChjbGlwLGxvb3AgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmKERldmljZS5pc1NmeEVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuUVFfUExBWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl91c2VDQ0F1ZGlvRW5naW5lKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoY2xpcCxsb29wKVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBTb3VuZEhlbHBlci5wbGF5U291bmQoY2xpcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChjbGlwLGxvb3ApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc3RvcE11c2ljKClcbiAgICB7XG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BNdXNpYygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwbGF5TXVzaWMoY2xpcCxsb29wID0gdHJ1ZSlcbiAgICB7XG4gICAgICAgIGlmKERldmljZS5pc0JnbUVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjYy5hdWRpb0VuZ2luZS5wbGF5TXVzaWMoY2xpcCxsb29wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB2aWJyYXRlKClcbiAgICB7XG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHd4LnZpYnJhdGVTaG9ydCgpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3Qgc3VwcG9ydCB2aWJyYXRlIG9uIGV4Y2VwdC13eCBwbGF0ZnJvbSBcIilcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/DataCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2946dm7U5hPgIxciZRaL5Q+', 'DataCenter');
// framework/plugin_boosts/misc/DataCenter.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.field = exports.dc = void 0;
var EventManager_1 = require("../utils/EventManager");
var all_class_properties = {};
var all_registed_class = {};
function dc(name, serializable) {
    if (serializable === void 0) { serializable = true; }
    return function (target) {
        // target.endRegister(name);
        var proto = target['prototype'].constructor;
        // let cls = all_class_properties[proto]
        all_registed_class[target] = { name: name, serializable: serializable };
    };
}
exports.dc = dc;
function field(obj) {
    return function (target, propertyName) {
        if (obj && obj.default)
            target[propertyName] = obj.default;
        // target.register(propertyName,target[propertyName])
        var constructor = target.constructor;
        var cls = all_class_properties[constructor];
        if (cls == null) {
            cls = [];
            all_class_properties[constructor] = cls;
        }
        cls.push(propertyName);
    };
}
exports.field = field;
var DataCenter = /** @class */ (function () {
    function DataCenter() {
        this.__namespace = "DataCenter";
        this.kvs = {};
        this.kts = {};
        this.kvs = {};
        this.kts = {};
    }
    DataCenter.prototype.registerFields = function (namespace) {
        console.log(this);
        var target = this["__proto__"].constructor;
        var cls = all_class_properties[target];
        var cfg = all_registed_class[target];
        // let proto:any = target['prototype'];
        for (var i in cls) {
            var k = cls[i];
            if (typeof (k) == "function")
                continue;
            this.register(k, this[k]);
            delete this[k]; //删除默认属性 ,否则设置 setter getter 会失效
        }
        namespace = namespace || cfg.name;
        this.endRegister(namespace, cfg.serializable);
    };
    DataCenter.prototype.register = function (k, defaultValue) {
        var proto = this.constructor["prototype"];
        var self = this;
        proto.__defineGetter__(k, function () {
            return self.getData(k);
        });
        proto.__defineSetter__(k, function (s) {
            self.setData(k, s);
        });
        this.kvs[k] = defaultValue;
        var type = typeof (defaultValue);
        this.kts[k] = type;
        console.log("[DataCenter] register :" + k + ":" + defaultValue + "(" + type + ")");
    };
    DataCenter.prototype.setData = function (k, nv) {
        var v = this.kvs[k];
        if (v == nv)
            return;
        var type = this.kts[k];
        var kk = this._field_(k);
        if (type != typeof (nv)) {
            console.warn("[DataCenter] wrong type <" + typeof (nv) + "> for :" + kk + "<" + type + "> ,converting...");
            if (type == "number")
                nv = Number(nv);
            else if (type == "boolean") {
                nv = (nv == "true") ? true : false;
            }
        }
        this.kvs[k] = nv;
        console.log("[DataCenter] onValueChanged", kk, nv);
        EventManager_1.event.emit(kk, nv, v);
    };
    DataCenter.prototype._field_ = function (k) {
        return this.__namespace + "." + k;
    };
    DataCenter.prototype.getData = function (k) {
        return this.kvs[k];
    };
    DataCenter.prototype.limit = function (v, min, max) {
        if (v > max) {
            return max;
        }
        else if (v < min) {
            return 0;
        }
        else {
            return v;
        }
    };
    DataCenter.prototype.addData = function (k, c) {
        c = Number(c);
        if (c == null)
            return;
        var v = this.kvs[k];
        var nv = Number(v) + c;
        this.kvs[k] = nv;
        EventManager_1.event.emit(this._field_(k), nv, v);
    };
    DataCenter.prototype.load = function () {
        for (var k in this.kvs) {
            var fromstroage = localStorage.getItem(this._field_(k));
            var v = fromstroage;
            if (fromstroage) {
                var type = this.kts[k];
                if (type == "number") {
                    v = Number(fromstroage);
                }
                else if (type == "boolean") {
                    v = fromstroage == "true" ? true : false;
                }
            }
            else {
                v = this.getData(k);
            }
            this.kvs[k] = v;
        }
    };
    DataCenter.prototype.save = function () {
        console.log("[DataCenter] save :==================================");
        for (var k in this.kvs) {
            var v = this.kvs[k];
            var kk = this._field_(k);
            localStorage.setItem(kk, v.toString());
            console.log(cc.js.formatStr("%s:%s", kk, v));
        }
        console.log("[DataCenter] save succ :==================================");
        // localStorage.setItem("#1_coin",this.getData("coin"));
    };
    DataCenter.prototype.endRegister = function (s, serializable) {
        if (serializable === void 0) { serializable = true; }
        this.__namespace = s;
        DataCenter.alldata[s] = this;
        if (serializable) {
            this.load();
            this.save();
        }
    };
    DataCenter.off = function (k, callback, target) {
        EventManager_1.event.off(k, callback, target);
    };
    DataCenter.on = function (k, callback, target) {
        EventManager_1.event.on(k, callback, target);
        this.set(k, this.get(k));
    };
    DataCenter.get = function (k) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target)
            return target[name];
        else
            return null;
    };
    DataCenter.set = function (k, v) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target) {
            target[name] = v;
        }
    };
    DataCenter.register = function (cls) {
        var v = new cls();
        v.registerFields();
        return v;
    };
    DataCenter.alldata = {};
    return DataCenter;
}());
exports.default = DataCenter;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxEYXRhQ2VudGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0RBQThDO0FBRzlDLElBQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFBO0FBRS9CLElBQU0sa0JBQWtCLEdBQUcsRUFBRSxDQUFBO0FBQzdCLFNBQWdCLEVBQUUsQ0FBQyxJQUFJLEVBQUMsWUFBbUI7SUFBbkIsNkJBQUEsRUFBQSxtQkFBbUI7SUFFdkMsT0FBTyxVQUFVLE1BQVU7UUFFdkIsNEJBQTRCO1FBQzVCLElBQUksS0FBSyxHQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFDaEQsd0NBQXdDO1FBQ3hDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsSUFBSSxNQUFBLEVBQUMsWUFBWSxjQUFBLEVBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUE7QUFDTCxDQUFDO0FBVEQsZ0JBU0M7QUFDRCxTQUFnQixLQUFLLENBQUMsR0FBbUI7SUFDckMsT0FBTyxVQUFVLE1BQVcsRUFBRSxZQUFvQjtRQUM5QyxJQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTztZQUNqQixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUN2QyxxREFBcUQ7UUFDckQsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQTtRQUNwQyxJQUFJLEdBQUcsR0FBRyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUMzQyxJQUFHLEdBQUcsSUFBSSxJQUFJLEVBQ2Q7WUFDSSxHQUFHLEdBQUcsRUFBRSxDQUFBO1lBQ1Isb0JBQW9CLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQzNDO1FBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUE7QUFDTCxDQUFDO0FBZEQsc0JB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TSxjQUFHLEdBQVYsVUFBVyxDQUFDO1FBRVIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDMUMsSUFBRyxNQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7O1lBRW5CLE9BQU8sSUFBSSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxjQUFHLEdBQVYsVUFBVyxDQUFDLEVBQUMsQ0FBQztRQUVWLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsTUFBTSxFQUNUO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFTSxtQkFBUSxHQUFmLFVBQWdCLEdBQUc7UUFFZixJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtRQUNsQixPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUExTE0sa0JBQU8sR0FBRyxFQUFFLENBQUE7SUEyTHZCLGlCQUFDO0NBOUxELEFBOExDLElBQUE7a0JBOUxvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi4vdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XG5cblxuY29uc3QgYWxsX2NsYXNzX3Byb3BlcnRpZXMgPSB7fVxuXG5jb25zdCBhbGxfcmVnaXN0ZWRfY2xhc3MgPSB7fVxuZXhwb3J0IGZ1bmN0aW9uIGRjKG5hbWUsc2VyaWFsaXphYmxlID0gdHJ1ZSk6RnVuY3Rpb25cbntcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDphbnkpXG4gICAge1xuICAgICAgICAvLyB0YXJnZXQuZW5kUmVnaXN0ZXIobmFtZSk7XG4gICAgICAgIGxldCBwcm90bzphbnkgPSB0YXJnZXRbJ3Byb3RvdHlwZSddLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbcHJvdG9dXG4gICAgICAgIGFsbF9yZWdpc3RlZF9jbGFzc1t0YXJnZXRdID0ge25hbWUsc2VyaWFsaXphYmxlfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGQob2JqPzp7ZGVmYXVsdD86YW55fSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmKG9iaiAmJiBvYmouZGVmYXVsdClcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eU5hbWVdID0gb2JqLmRlZmF1bHQ7XG4gICAgICAgIC8vIHRhcmdldC5yZWdpc3Rlcihwcm9wZXJ0eU5hbWUsdGFyZ2V0W3Byb3BlcnR5TmFtZV0pXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvclxuICAgICAgICBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbY29uc3RydWN0b3JdXG4gICAgICAgIGlmKGNscyA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbHMgPSBbXVxuICAgICAgICAgICAgYWxsX2NsYXNzX3Byb3BlcnRpZXNbY29uc3RydWN0b3JdID0gY2xzO1xuICAgICAgICB9XG4gICAgICAgIGNscy5wdXNoKHByb3BlcnR5TmFtZSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFDZW50ZXJcbntcbiAgICBwcml2YXRlIF9fbmFtZXNwYWNlOnN0cmluZyA9IFwiRGF0YUNlbnRlclwiXG4gICAgc3RhdGljIGFsbGRhdGEgPSB7fVxuICAgIHByaXZhdGUga3ZzID0ge31cbiAgICBwcml2YXRlIGt0cyA9IHt9XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5rdnMgPSB7fVxuICAgICAgICB0aGlzLmt0cyA9IHt9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3RlckZpZWxkcyhuYW1lc3BhY2U/KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzW1wiX19wcm90b19fXCJdLmNvbnN0cnVjdG9yIFxuICAgICAgICBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbdGFyZ2V0XVxuICAgICAgICBsZXQgY2ZnID0gYWxsX3JlZ2lzdGVkX2NsYXNzW3RhcmdldF1cbiAgICAgICAgLy8gbGV0IHByb3RvOmFueSA9IHRhcmdldFsncHJvdG90eXBlJ107XG4gICAgICAgIGZvcih2YXIgaSBpbiBjbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBrID0gY2xzW2ldO1xuICAgICAgICAgICAgaWYodHlwZW9mKGspID09IFwiZnVuY3Rpb25cIikgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKGssdGhpc1trXSlcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2tdOyAvL+WIoOmZpOm7mOiupOWxnuaApyAs5ZCm5YiZ6K6+572uIHNldHRlciBnZXR0ZXIg5Lya5aSx5pWIXG4gICAgICAgIH1cbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlIHx8ICBjZmcubmFtZTtcbiAgICAgICAgdGhpcy5lbmRSZWdpc3RlcihuYW1lc3BhY2UsY2ZnLnNlcmlhbGl6YWJsZSlcbiAgICB9XG5cbiAgICByZWdpc3RlcihrLGRlZmF1bHRWYWx1ZSlcbiAgICB7XG4gICAgICAgIGxldCBwcm90bzphbnkgPSB0aGlzLmNvbnN0cnVjdG9yW1wicHJvdG90eXBlXCJdXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgcHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhrLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREYXRhKGspO1xuICAgICAgICB9KVxuICAgICAgICBwcm90by5fX2RlZmluZVNldHRlcl9fKGssZnVuY3Rpb24ocyl7XG4gICAgICAgICAgICBzZWxmLnNldERhdGEoayxzKVxuICAgICAgICB9KSBcbiAgICAgICAgXG4gICAgICAgIHRoaXMua3ZzW2tdID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZihkZWZhdWx0VmFsdWUpO1xuICAgICAgICB0aGlzLmt0c1trXSA9ICB0eXBlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSByZWdpc3RlciA6XCIgKyBrICsgXCI6XCIgKyBkZWZhdWx0VmFsdWUgK1wiKFwiK3R5cGUrXCIpXCIpXG4gICAgfVxuIFxuICAgIHNldERhdGEoayxudilcbiAgICB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5rdnNba11cbiAgICAgICAgaWYodiA9PSBudiApIHJldHVybjtcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmt0c1trXVxuICAgICAgICBsZXQga2sgPXRoaXMuX2ZpZWxkXyhrKVxuICAgICAgICBpZih0eXBlICE9IHR5cGVvZihudikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltEYXRhQ2VudGVyXSB3cm9uZyB0eXBlIDxcIit0eXBlb2YobnYpK1wiPiBmb3IgOlwiICsga2sgK1wiPFwiK3R5cGUrXCI+ICxjb252ZXJ0aW5nLi4uXCIpXG4gICAgICAgICAgICBpZih0eXBlID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbnYgPSBOdW1iZXIobnYpXG4gICAgICAgICAgICBlbHNlIGlmKHR5cGUgPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbnYgPSAobnYgPT0gXCJ0cnVlXCIpID8gdHJ1ZSA6ZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmt2c1trXSA9IG52O1xuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSBvblZhbHVlQ2hhbmdlZFwiICwga2ssbnYpO1xuICAgICAgICBldmVudC5lbWl0KGtrLG52LHYpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmllbGRfKGspXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fX25hbWVzcGFjZSArXCIuXCIgKyBrXG4gICAgfVxuXG4gICAgZ2V0RGF0YShrKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua3ZzW2tdO1xuICAgIH1cblxuICAgIGxpbWl0KHYsbWluLG1heClcbiAgICB7XG4gICAgICAgIGlmKHYgPiBtYXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBtYXg7XG4gICAgICAgIH1lbHNlIGlmKHYgPCBtaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkRGF0YShrLGMpXG4gICAge1xuICAgICAgICBjID0gTnVtYmVyKGMpXG4gICAgICAgIGlmKGMgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBsZXQgdiA9IHRoaXMua3ZzW2tdXG4gICAgICAgIGxldCBudiA9ICBOdW1iZXIodikgKyBjXG4gICAgICAgIHRoaXMua3ZzW2tdID0gbnZcbiAgICAgICAgZXZlbnQuZW1pdCh0aGlzLl9maWVsZF8oayksbnYsdilcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWQoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmt2cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZyb21zdHJvYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5fZmllbGRfKGspKVxuICAgICAgICAgICAgbGV0IHY6YW55ID0gZnJvbXN0cm9hZ2VcbiAgICAgICAgICAgIGlmKGZyb21zdHJvYWdlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdGhpcy5rdHNba11cbiAgICAgICAgICAgICAgICBpZih0eXBlID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2ID0gTnVtYmVyKGZyb21zdHJvYWdlKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlID09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IGZyb21zdHJvYWdlID09IFwidHJ1ZVwiP3RydWU6ZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdiA9IHRoaXMuZ2V0RGF0YShrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMua3ZzW2tdID0gdjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmUoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbRGF0YUNlbnRlcl0gc2F2ZSA6PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiKVxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMua3ZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMua3ZzW2tdXG4gICAgICAgICAgICBsZXQga2sgPSB0aGlzLl9maWVsZF8oaylcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtrLHYudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCIlczolc1wiICxrayx2KSlcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSBzYXZlIHN1Y2MgOj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIilcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCIjMV9jb2luXCIsdGhpcy5nZXREYXRhKFwiY29pblwiKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmRSZWdpc3RlcihzICxzZXJpYWxpemFibGUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fX25hbWVzcGFjZSA9IHM7XG4gICAgICAgIERhdGFDZW50ZXIuYWxsZGF0YVtzXSA9IHRoaXM7XG4gICAgICAgIGlmKHNlcmlhbGl6YWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKClcbiAgICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG9mZihrLGNhbGxiYWNrLHRhcmdldD8pXG4gICAge1xuICAgICAgICBldmVudC5vZmYoayxjYWxsYmFjayx0YXJnZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBvbihrLGNhbGxiYWNrLHRhcmdldD8pXG4gICAge1xuICAgICAgIGV2ZW50Lm9uKGsgLGNhbGxiYWNrLHRhcmdldClcbiAgICAgICB0aGlzLnNldChrLHRoaXMuZ2V0KGspKSBcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0KGspXG4gICAge1xuICAgICAgICBsZXQgc3RycyA9IGsuc3BsaXQoXCIuXCIpXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBzdHJzWzBdO1xuICAgICAgICBsZXQgbmFtZSA9IHN0cnNbMV07XG4gICAgICAgIGxldCB0YXJnZXQgPSBEYXRhQ2VudGVyLmFsbGRhdGFbbmFtZXNwYWNlXVxuICAgICAgICBpZih0YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdXG4gICAgICAgIGVsc2UgXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0KGssdilcbiAgICB7XG4gICAgICAgIGxldCBzdHJzID0gay5zcGxpdChcIi5cIilcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IHN0cnNbMF07XG4gICAgICAgIGxldCBuYW1lID0gc3Ryc1sxXTtcbiAgICAgICAgbGV0IHRhcmdldCA9IERhdGFDZW50ZXIuYWxsZGF0YVtuYW1lc3BhY2VdXG4gICAgICAgIGlmKHRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZWdpc3RlcihjbHMpXG4gICAge1xuICAgICAgICBsZXQgdiA9IG5ldyBjbHMoKTtcbiAgICAgICAgdi5yZWdpc3RlckZpZWxkcygpXG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsSpawner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '12e8aPL0IBPxYKO3t/sxN/O', 'PsSpawner');
// framework/plugin_boosts/gamesys/PsSpawner.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var PoolManager_1 = require("./PoolManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsSpawner = /** @class */ (function (_super) {
    __extends(PsSpawner, _super);
    function PsSpawner() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PsSpawner.prototype.onLoad = function () {
        this.poolmgr = new PoolManager_1.default();
    };
    PsSpawner.prototype.start = function () {
    };
    PsSpawner.prototype.clear = function () {
        if (this.poolmgr)
            this.poolmgr.clear();
    };
    PsSpawner.prototype.getFx = function (prefabPath) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var node = _this.poolmgr.get(prefabPath);
            if (node == null) {
                if (prefabPath instanceof cc.Prefab) {
                    node = cc.instantiate(prefabPath);
                    _this.poolmgr.tag(node, prefabPath);
                }
                else {
                    cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                        node = cc.instantiate(prefab);
                        node.setParent(_this.node);
                        var psfx = node.getComponent(PsFx_1.default);
                        psfx.name = prefabPath;
                        resolve(psfx);
                    });
                    return;
                }
            }
            node.setParent(_this.node);
            node.active = false;
            var psfx = node.getComponent(PsFx_1.default);
            psfx.reset();
            resolve(psfx);
        });
    };
    PsSpawner.prototype.onFxFinshPlay = function (fx) {
        this.poolmgr.put(fx.node);
    };
    PsSpawner.prototype.play = function (prefabPath, pos, rotation, audio, spriteframe) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play(audio, spriteframe)];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play2 = function (prefabPath, pos, rotation, scale) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        if (scale === void 0) { scale = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.scale = scale;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play()];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play3 = function (prefabPath, pos) {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.play().then(function (_) { return _this.onFxFinshPlay(fx); });
                        return [2 /*return*/, fx.node];
                }
            });
        });
    };
    PsSpawner = __decorate([
        ccclass
    ], PsSpawner);
    return PsSpawner;
}(cc.Component));
exports.default = PsSpawner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc1NwYXduZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7O0lBbUZBLENBQUM7SUE5RUcsMEJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxxQkFBVyxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUVELHlCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQseUJBQUssR0FBTDtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU87WUFDWCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCx5QkFBSyxHQUFMLFVBQU0sVUFBVTtRQUFoQixpQkEyQkM7UUF6QkcsT0FBTyxJQUFJLE9BQU8sQ0FBTyxVQUFDLE9BQU8sRUFBQyxNQUFNO1lBQ3BDLElBQUksSUFBSSxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQ3ZDLElBQUcsSUFBSSxJQUFJLElBQUksRUFDZjtnQkFDSSxJQUFHLFVBQVUsWUFBWSxFQUFFLENBQUMsTUFBTSxFQUNsQztvQkFDSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDbEMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFDLFVBQVUsQ0FBQyxDQUFBO2lCQUNwQztxQkFBSTtvQkFDRCxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLE1BQU0sRUFBQyxVQUFDLENBQUMsRUFBQyxNQUFnQjt3QkFDdEQsSUFBSSxHQUFHLEVB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QUNsQjtJQS9FZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQW1GN0I7SUFBRCxnQkFBQztDQW5GRCxBQW1GQyxDQW5Gc0MsRUFBRSxDQUFDLFNBQVMsR0FtRmxEO2tCQW5Gb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQc0Z4IGZyb20gXCIuL1BzRnhcIjtcbmltcG9ydCBQb29sTWFuYWdlciBmcm9tIFwiLi9Qb29sTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzU3Bhd25lciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBzdGF0aWMgaW5zdGFuY2U6UHNTcGF3bmVyO1xuICAgIFxuICAgIHBvb2xtZ3I6UG9vbE1hbmFnZXI7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9vbG1nciA9IG5ldyBQb29sTWFuYWdlcigpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMucG9vbG1ncilcbiAgICAgICAgICAgIHRoaXMucG9vbG1nci5jbGVhcigpO1xuICAgIH1cblxuICAgIGdldEZ4KHByZWZhYlBhdGgpOlByb21pc2U8UHNGeD5cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxQc0Z4PigocmVzb2x2ZSxyZWplY3QpPT57XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMucG9vbG1nci5nZXQocHJlZmFiUGF0aClcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihwcmVmYWJQYXRoIGluc3RhbmNlb2YgY2MuUHJlZmFiIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb29sbWdyLnRhZyhub2RlLHByZWZhYlBhdGgpXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsY2MuUHJlZmFiLChlLHByZWZhYjpjYy5QcmVmYWIpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBzZnggPSBub2RlLmdldENvbXBvbmVudChQc0Z4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcHNmeC5uYW1lID0gcHJlZmFiUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHNmeCk7XG4gICAgICAgICAgICAgICAgICAgIH0pIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQodGhpcy5ub2RlKTtcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHNmeCA9IG5vZGUuZ2V0Q29tcG9uZW50KFBzRngpXG4gICAgICAgICAgICBwc2Z4LnJlc2V0KCk7XG4gICAgICAgICAgICByZXNvbHZlKHBzZngpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uRnhGaW5zaFBsYXkoZng6UHNGeClcbiAgICB7XG4gICAgICAgIHRoaXMucG9vbG1nci5wdXQoZngubm9kZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcGxheShwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsYXVkaW8/LHNwcml0ZWZyYW1lPylcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4Lm5vZGUucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgYXdhaXQgZngucGxheShhdWRpbyxzcHJpdGVmcmFtZSlcbiAgICAgICAgdGhpcy5vbkZ4Rmluc2hQbGF5KGZ4KTtcbiAgICB9XG5cbiAgICBhc3luYyBwbGF5MihwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsc2NhbGU9MClcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4Lm5vZGUuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgZngubm9kZS5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICBhd2FpdCBmeC5wbGF5KClcbiAgICAgICAgdGhpcy5vbkZ4Rmluc2hQbGF5KGZ4KTtcbiAgICB9XG5cbiAgICBhc3luYyBwbGF5MyhwcmVmYWJQYXRoLHBvcylcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4LnBsYXkoKS50aGVuKF89PnRoaXMub25GeEZpbnNoUGxheShmeCkpO1xuICAgICAgICByZXR1cm4gZngubm9kZTtcbiAgICB9XG5cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/FrameSwitch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '92ea6+rkJ5BQ7Twyd4FI92I', 'FrameSwitch');
// framework/plugin_boosts/misc/FrameSwitch.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var FrameSwitcher = /** @class */ (function (_super) {
    __extends(FrameSwitcher, _super);
    function FrameSwitcher() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.frames = [];
        // LIFE-CYCLE CALLBACKS:
        _this.target = null;
        _this._index = 0;
        _this.randomOnLoad = false;
        return _this;
        // update (dt) {}
    }
    FrameSwitcher.prototype.onLoad = function () {
        if (this.target == null)
            this.target = this.getComponent(cc.Sprite);
        if (this.randomOnLoad)
            this.switchRandom();
    };
    FrameSwitcher.prototype.switchRandom = function () {
        this.index = g.randomInt(0, this.frames.length);
    };
    Object.defineProperty(FrameSwitcher.prototype, "index", {
        get: function () {
            return this._index;
        },
        set: function (k) {
            this.switch(k);
        },
        enumerable: false,
        configurable: true
    });
    FrameSwitcher.prototype.switch = function (index) {
        var len = this.frames.length;
        var idx = Math.min(Math.max(0, index), len - 1);
        this.target.spriteFrame = this.frames[idx];
        this._index = idx;
    };
    FrameSwitcher.prototype.start = function () {
    };
    __decorate([
        property([cc.SpriteFrame])
    ], FrameSwitcher.prototype, "frames", void 0);
    __decorate([
        property(cc.Sprite)
    ], FrameSwitcher.prototype, "target", void 0);
    __decorate([
        property
    ], FrameSwitcher.prototype, "randomOnLoad", void 0);
    FrameSwitcher = __decorate([
        ccclass
    ], FrameSwitcher);
    return FrameSwitcher;
}(cc.Component));
exports.default = FrameSwitcher;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxGcmFtZVN3aXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFHM0Q7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFpREM7UUE5Q0csWUFBTSxHQUFvQixFQUFFLENBQUE7UUFDNUIsd0JBQXdCO1FBRXhCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsWUFBTSxHQUFXLENBQUMsQ0FBQTtRQUdsQixrQkFBWSxHQUFXLEtBQUssQ0FBQzs7UUFxQzdCLGlCQUFpQjtJQUNyQixDQUFDO0lBcENHLDhCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSTtZQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUcsSUFBSSxDQUFDLFlBQVk7WUFDaEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFBO0lBQzNCLENBQUM7SUFFRCxvQ0FBWSxHQUFaO1FBRUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxzQkFBSSxnQ0FBSzthQUtUO1lBRUksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBQ3RCLENBQUM7YUFSRCxVQUFVLENBQUM7WUFFUCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUM7OztPQUFBO0lBT0QsOEJBQU0sR0FBTixVQUFPLEtBQUs7UUFFUixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDLEtBQUssQ0FBQyxFQUFDLEdBQUcsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFRCw2QkFBSyxHQUFMO0lBRUEsQ0FBQztJQTNDRDtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztpREFDQztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNJO0lBS3hCO1FBREMsUUFBUTt1REFDb0I7SUFYWixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBaURqQztJQUFELG9CQUFDO0NBakRELEFBaURDLENBakQwQyxFQUFFLENBQUMsU0FBUyxHQWlEdEQ7a0JBakRvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVjJDaGFuZ2VBY3Rpb24gfSBmcm9tIFwiLi9Cb29zdHNBY3Rpb25cIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lU3dpdGNoZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KFtjYy5TcHJpdGVGcmFtZV0pXG4gICAgZnJhbWVzOmNjLlNwcml0ZUZyYW1lW10gPSBbXVxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgdGFyZ2V0OmNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBfaW5kZXggOm51bWJlciA9IDBcblxuICAgIEBwcm9wZXJ0eVxuICAgIHJhbmRvbU9uTG9hZDpib29sZWFuID0gZmFsc2U7XG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy50YXJnZXQgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgaWYodGhpcy5yYW5kb21PbkxvYWQpXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFJhbmRvbSgpXG4gICAgfVxuXG4gICAgc3dpdGNoUmFuZG9tKClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXggPSBnLnJhbmRvbUludCgwLHRoaXMuZnJhbWVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc2V0IGluZGV4KGspXG4gICAge1xuICAgICAgICB0aGlzLnN3aXRjaChrKTtcbiAgICB9XG5cbiAgICBnZXQgaW5kZXgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4XG4gICAgfVxuICAgIFxuICAgIHN3aXRjaChpbmRleClcbiAgICB7XG4gICAgICAgIGxldCBsZW4gPSB0aGlzLmZyYW1lcy5sZW5ndGg7XG4gICAgICAgIGxldCBpZHggPSBNYXRoLm1pbihNYXRoLm1heCgwLGluZGV4KSxsZW4tMSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LnNwcml0ZUZyYW1lID0gdGhpcy5mcmFtZXNbaWR4XVxuICAgICAgICB0aGlzLl9pbmRleCA9IGlkeDtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalTimeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f847KAJNJCwrvg4K3CKFUv', 'LocalTimeSystem');
// framework/plugin_boosts/gamesys/LocalTimeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LocalTimeSystem = /** @class */ (function () {
    function LocalTimeSystem() {
    }
    LocalTimeSystem.init = function (utc_msec) {
        if (utc_msec == null || utc_msec == undefined)
            return;
        LocalTimeSystem.utc_sec = utc_msec;
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.onHide(this.onHidden);
            wx.onShow(this.onShown);
        }
        g.setGlobalInstance(LocalTimeSystem);
    };
    LocalTimeSystem.startTimer = function () {
        this.timer = setInterval(function (_) {
            LocalTimeSystem.utc_sec += 1000;
        }, 1000);
    };
    LocalTimeSystem.stopTimer = function () {
        clearInterval(this.timer);
    };
    LocalTimeSystem.getSec = function () {
        return LocalTimeSystem.utc_sec || new Date().getTime() / 1000;
    };
    LocalTimeSystem.getDate = function () {
        if (LocalTimeSystem.utc_sec) {
            var date = new Date();
            date.setTime(LocalTimeSystem.utc_sec * 1000);
            return date;
        }
        return new Date();
    };
    LocalTimeSystem.onHidden = function () {
        console.log("game enter background");
        // this.stopTimer();
    };
    LocalTimeSystem.onShown = function () {
        console.log("game enter foreground");
        // this.startTimer();
    };
    return LocalTimeSystem;
}());
exports.default = LocalTimeSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbFRpbWVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUF1REEsQ0FBQztJQW5EVSxvQkFBSSxHQUFYLFVBQVksUUFBZTtRQUV2QixJQUFHLFFBQVEsSUFBSSxJQUFJLElBQUUsUUFBUSxJQUFJLFNBQVM7WUFBQyxPQUFPO1FBQ2xELGVBQWUsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ25DLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQ3hDO1lBQ0ksRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDekIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDMUI7UUFDRCxDQUFDLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLDBCQUFVLEdBQWpCO1FBRUksSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsVUFBQSxDQUFDO1lBQ3RCLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1FBQ3BDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFTSx5QkFBUyxHQUFoQjtRQUNJLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLHNCQUFNLEdBQWI7UUFFSSxPQUFPLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBQyxJQUFJLENBQUM7SUFDaEUsQ0FBQztJQUVNLHVCQUFPLEdBQWQ7UUFFSSxJQUFHLGVBQWUsQ0FBQyxPQUFPLEVBQzFCO1lBQ0ksSUFBSSxJQUFJLEdBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUV0QixDQUFDO0lBR00sd0JBQVEsR0FBZjtRQUVJLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtRQUNwQyxvQkFBb0I7SUFDeEIsQ0FBQztJQUNNLHVCQUFPLEdBQWQ7UUFFSSxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUE7UUFDcEMscUJBQXFCO0lBQ3pCLENBQUM7SUFDTCxzQkFBQztBQUFELENBdkRBLEFBdURDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbFRpbWVTeXN0ZW1cbntcbiAgICBzdGF0aWMgdXRjX3NlYzpudW1iZXJcbiAgICBzdGF0aWMgdGltZXI6bnVtYmVyO1xuICAgIHN0YXRpYyBpbml0KHV0Y19tc2VjOm51bWJlcilcbiAgICB7XG4gICAgICAgIGlmKHV0Y19tc2VjID09IG51bGx8fHV0Y19tc2VjID09IHVuZGVmaW5lZClyZXR1cm47XG4gICAgICAgIExvY2FsVGltZVN5c3RlbS51dGNfc2VjID0gdXRjX21zZWM7XG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHd4Lm9uSGlkZSh0aGlzLm9uSGlkZGVuKTtcbiAgICAgICAgICAgIHd4Lm9uU2hvdyh0aGlzLm9uU2hvd24pXG4gICAgICAgIH1cbiAgICAgICAgZy5zZXRHbG9iYWxJbnN0YW5jZShMb2NhbFRpbWVTeXN0ZW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdGFydFRpbWVyKClcbiAgICB7XG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChfPT57XG4gICAgICAgICAgICBMb2NhbFRpbWVTeXN0ZW0udXRjX3NlYyArPSAxMDAwO1xuICAgICAgICB9LDEwMDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdG9wVGltZXIoKXtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0U2VjKCk6bnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gTG9jYWxUaW1lU3lzdGVtLnV0Y19zZWMgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGF0ZSgpXG4gICAge1xuICAgICAgICBpZihMb2NhbFRpbWVTeXN0ZW0udXRjX3NlYylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRhdGUgPSAgbmV3IERhdGUoKVxuICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKExvY2FsVGltZVN5c3RlbS51dGNfc2VjKjEwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgICAgIFxuICAgIH1cbiAgXG4gICAgc3RhdGljIGxhc3RMb2NhbFRpbWU6bnVtYmVyO1xuICAgIHN0YXRpYyBvbkhpZGRlbigpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWUgZW50ZXIgYmFja2dyb3VuZFwiKVxuICAgICAgICAvLyB0aGlzLnN0b3BUaW1lcigpO1xuICAgIH1cbiAgICBzdGF0aWMgb25TaG93bigpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWUgZW50ZXIgZm9yZWdyb3VuZFwiKVxuICAgICAgICAvLyB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudioManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '679c3x/ZwhD8KnIy6p5lX5y', 'ClickAudioManager');
// framework/plugin_boosts/misc/ClickAudioManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ClickAudio_1 = require("./ClickAudio");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudioManager = /** @class */ (function (_super) {
    __extends(ClickAudioManager, _super);
    function ClickAudioManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        return _this;
        // update (dt) {}
    }
    ClickAudioManager.prototype.onLoad = function () {
        g.foreachNode(this.node, this.each, this);
    };
    ClickAudioManager.prototype.each = function (item) {
        //if button 
        if (!item.getComponent(cc.Button))
            return;
        var comp = item.getComponent(ClickAudio_1.default);
        if (comp == null) {
            comp = item.addComponent(ClickAudio_1.default);
            comp.elastic = this.elastic;
            comp.audio = this.audio;
        }
    };
    ClickAudioManager.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudioManager.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudioManager.prototype, "elastic", void 0);
    ClickAudioManager = __decorate([
        ccclass
    ], ClickAudioManager);
    return ClickAudioManager;
}(cc.Component));
exports.default = ClickAudioManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXNDO0FBQ2hDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFZO0lBQTNEO1FBQUEscUVBNkJDO1FBMUJHLFdBQUssR0FBaUIsSUFBSSxDQUFDO1FBRzNCLGFBQU8sR0FBVyxLQUFLLENBQUM7O1FBc0J4QixpQkFBaUI7SUFDckIsQ0FBQztJQXJCRyxrQ0FBTSxHQUFOO1FBQ0ksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDM0MsQ0FBQztJQUVELGdDQUFJLEdBQUosVUFBSyxJQUFZO1FBRWIsWUFBWTtRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7WUFBRSxPQUFPO1FBQzFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsb0JBQVUsQ0FBQyxDQUFBO1FBQ3hDLElBQUcsSUFBSSxJQUFJLElBQUksRUFDZjtZQUNJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFVLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUE7WUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUNELGlDQUFLLEdBQUw7SUFFQSxDQUFDO0lBdkJEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQztvREFDSjtJQUczQjtRQURDLFFBQVE7c0RBQ2U7SUFOUCxpQkFBaUI7UUFEckMsT0FBTztPQUNhLGlCQUFpQixDQTZCckM7SUFBRCx3QkFBQztDQTdCRCxBQTZCQyxDQTdCOEMsRUFBRSxDQUFDLFNBQVMsR0E2QjFEO2tCQTdCb0IsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaWNrQXVkaW8gZnJvbSBcIi4vQ2xpY2tBdWRpb1wiO1xuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlja0F1ZGlvTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW8gOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHlcbiAgICBlbGFzdGljOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIGcuZm9yZWFjaE5vZGUodGhpcy5ub2RlLHRoaXMuZWFjaCx0aGlzKVxuICAgIH1cbiAgICBcbiAgICBlYWNoKGl0ZW06Y2MuTm9kZSlcbiAgICB7XG4gICAgICAgIC8vaWYgYnV0dG9uIFxuICAgICAgICBpZiAoIWl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikpIHJldHVybjtcbiAgICAgICAgbGV0IGNvbXAgPSBpdGVtLmdldENvbXBvbmVudChDbGlja0F1ZGlvKVxuICAgICAgICBpZihjb21wID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbXAgPSBpdGVtLmFkZENvbXBvbmVudChDbGlja0F1ZGlvKTtcbiAgICAgICAgICAgIGNvbXAuZWxhc3RpYyA9IHRoaXMuZWxhc3RpY1xuICAgICAgICAgICAgY29tcC5hdWRpbyA9IHRoaXMuYXVkaW87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQgKCkge1xuXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/JoyStick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '297d6dgG6ZIJJ+ZjeNWq2ub', 'JoyStick');
// framework/plugin_boosts/misc/JoyStick.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JoyStick = /** @class */ (function (_super) {
    __extends(JoyStick, _super);
    function JoyStick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.outterCircle = null;
        _this.innerCircle = null;
        _this.radius = 250;
        _this.innerCircleRadius = 20;
        // 超出是否relase 
        _this.releaseAfterOver = false;
        // dynamic Joystick
        _this.dynamicJoystick = false;
        _this.autoRadius = false;
        _this.isReleased = false;
        _this._startPos = cc.Vec2.ZERO;
        return _this;
    }
    JoyStick.prototype.onLoad = function () {
        if (this.autoRadius) {
            this.radius = this.outterCircle.getBoundingBox().height / 2;
        }
        this.innerCircle.setPosition(0, 0);
        this.node.active = false;
    };
    JoyStick.prototype.start = function () {
        this.releaseStick();
    };
    JoyStick.prototype.releaseStick = function () {
        var move = cc.moveTo(0.5, cc.Vec2.ZERO);
        var action = move.easing(cc.easeExponentialOut());
        this.innerCircle.runAction(action);
        this.isReleased = true;
        if (this.dynamicJoystick) {
            this.scheduleOnce(this.delayClose, 1);
        }
    };
    JoyStick.prototype.delayClose = function () {
        this.node.active = false;
    };
    Object.defineProperty(JoyStick.prototype, "axis", {
        get: function () {
            if (this.isReleased)
                return cc.Vec2.ZERO;
            var vec = this.innerCircle.getPosition();
            vec.normalizeSelf();
            return vec;
        },
        enumerable: false,
        configurable: true
    });
    JoyStick.prototype.move = function (pos) {
        var mag = pos.mag();
        if (mag > this.radius) {
            if (this.releaseAfterOver)
                this.releaseStick();
            pos.normalizeSelf();
            pos.mulSelf(this.radius);
        }
        this.innerCircle.setPosition(pos);
    };
    // p : screen position
    JoyStick.prototype.touchStart = function (p) {
        if (!this.enabled)
            return;
        this.isReleased = false;
        this._startPos = p;
        this.unschedule(this.delayClose);
        this.node.active = true;
        if (this.dynamicJoystick) {
            // converto screen position
            var pos = this.node.getParent().convertToNodeSpaceAR(p);
            this.node.setPosition(pos);
            // this.node.opacity = 0;
            // this.node.runAction(cc.fadeIn(0.5));
        }
        this.move(cc.Vec2.ZERO);
    };
    JoyStick.prototype.touchMove = function (p) {
        if (!this.enabled)
            return;
        var vec = p.sub(this._startPos);
        this.move(vec);
    };
    JoyStick.prototype.touchEnd = function (p) {
        if (!this.enabled)
            return;
        // this.move(p);
        this.releaseStick();
    };
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "outterCircle", void 0);
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "innerCircle", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "radius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "innerCircleRadius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "releaseAfterOver", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "dynamicJoystick", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "autoRadius", void 0);
    JoyStick = __decorate([
        ccclass
    ], JoyStick);
    return JoyStick;
}(cc.Component));
exports.default = JoyStick;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxKb3lTdGljay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUFtSEM7UUFoSEcsa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFHM0IsWUFBTSxHQUFVLEdBQUcsQ0FBQztRQUdwQix1QkFBaUIsR0FBVyxFQUFFLENBQUM7UUFFL0IsY0FBYztRQUVkLHNCQUFnQixHQUFXLEtBQUssQ0FBQztRQUVqQyxtQkFBbUI7UUFFbkIscUJBQWUsR0FBVyxLQUFLLENBQUM7UUFHaEMsZ0JBQVUsR0FBVyxLQUFLLENBQUM7UUFFM0IsZ0JBQVUsR0FBRyxLQUFLLENBQUM7UUF3RG5CLGVBQVMsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7SUFrQ3JDLENBQUM7SUF6RkcseUJBQU0sR0FBTjtRQUVJLElBQUcsSUFBSSxDQUFDLFVBQVUsRUFDbEI7WUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQztTQUM3RDtRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELCtCQUFZLEdBQVo7UUFFSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUV2QixJQUFHLElBQUksQ0FBQyxlQUFlLEVBQ3ZCO1lBQ0ksSUFBSSxDQUFDLFlBQVksQ0FBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFBO1NBQ3pDO0lBQ0wsQ0FBQztJQUVELDZCQUFVLEdBQVY7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELHNCQUFJLDBCQUFJO2FBQVI7WUFFSSxJQUFHLElBQUksQ0FBQyxVQUFVO2dCQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDeEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN6QyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDbkIsT0FBTyxHQUFHLENBQUM7UUFDZixDQUFDOzs7T0FBQTtJQUVELHVCQUFJLEdBQUosVUFBSyxHQUFXO1FBRVosSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ3BCO1lBQ0ksSUFBRyxJQUFJLENBQUMsZ0JBQWdCO2dCQUNwQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFeEIsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3BCLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQzNCO1FBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUlELHNCQUFzQjtJQUN0Qiw2QkFBVSxHQUFWLFVBQVcsQ0FBQztRQUVSLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUcsSUFBSSxDQUFDLGVBQWUsRUFDdkI7WUFDSSwyQkFBMkI7WUFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQix5QkFBeUI7WUFDekIsdUNBQXVDO1NBQzFDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCw0QkFBUyxHQUFULFVBQVUsQ0FBQztRQUVQLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFDekIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFHLENBQUMsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBQ3pCLGdCQUFnQjtRQUNoQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQS9HRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1M7SUFHM0I7UUFEQyxRQUFROzRDQUNXO0lBR3BCO1FBREMsUUFBUTt1REFDc0I7SUFJL0I7UUFEQyxRQUFRO3NEQUN3QjtJQUlqQztRQURDLFFBQVE7cURBQ3VCO0lBR2hDO1FBREMsUUFBUTtnREFDa0I7SUF2QlYsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQW1INUI7SUFBRCxlQUFDO0NBbkhELEFBbUhDLENBbkhxQyxFQUFFLENBQUMsU0FBUyxHQW1IakQ7a0JBbkhvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKb3lTdGljayBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG91dHRlckNpcmNsZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGlubmVyQ2lyY2xlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5XG4gICAgcmFkaXVzOm51bWJlciA9IDI1MDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIGlubmVyQ2lyY2xlUmFkaXVzOm51bWJlciA9ICAyMDtcblxuICAgIC8vIOi2heWHuuaYr+WQpnJlbGFzZSBcbiAgICBAcHJvcGVydHlcbiAgICByZWxlYXNlQWZ0ZXJPdmVyOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8vIGR5bmFtaWMgSm95c3RpY2tcbiAgICBAcHJvcGVydHlcbiAgICBkeW5hbWljSm95c3RpY2s6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5XG4gICAgYXV0b1JhZGl1czpib29sZWFuID0gZmFsc2U7XG5cbiAgICBpc1JlbGVhc2VkID0gZmFsc2U7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuYXV0b1JhZGl1cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLm91dHRlckNpcmNsZS5nZXRCb3VuZGluZ0JveCgpLmhlaWdodC8yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXJDaXJjbGUuc2V0UG9zaXRpb24oMCwwKTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVsZWFzZVN0aWNrKCk7XG4gICAgfVxuICAgIFxuICAgIHJlbGVhc2VTdGljaygpXG4gICAge1xuICAgICAgICBsZXQgbW92ZSA9IGNjLm1vdmVUbygwLjUgLCBjYy5WZWMyLlpFUk8pO1xuICAgICAgICBsZXQgYWN0aW9uID0gbW92ZS5lYXNpbmcoY2MuZWFzZUV4cG9uZW50aWFsT3V0KCkpO1xuICAgICAgICB0aGlzLmlubmVyQ2lyY2xlLnJ1bkFjdGlvbihhY3Rpb24pO1xuICAgICAgICB0aGlzLmlzUmVsZWFzZWQgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5keW5hbWljSm95c3RpY2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCB0aGlzLmRlbGF5Q2xvc2UsIDEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxheUNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgYXhpcygpXG4gICAge1xuICAgICAgICBpZih0aGlzLmlzUmVsZWFzZWQpIHJldHVybiBjYy5WZWMyLlpFUk87XG4gICAgICAgIGxldCB2ZWMgPSB0aGlzLmlubmVyQ2lyY2xlLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIHZlYy5ub3JtYWxpemVTZWxmKClcbiAgICAgICAgcmV0dXJuIHZlYztcbiAgICB9XG5cbiAgICBtb3ZlKHBvczpjYy5WZWMyKVxuICAgIHtcbiAgICAgICAgbGV0IG1hZyA9IHBvcy5tYWcoKTtcbiAgICAgICAgaWYobWFnID4gdGhpcy5yYWRpdXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHRoaXMucmVsZWFzZUFmdGVyT3ZlcilcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VTdGljaygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwb3Mubm9ybWFsaXplU2VsZigpO1xuICAgICAgICAgICAgcG9zLm11bFNlbGYodGhpcy5yYWRpdXMpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lckNpcmNsZS5zZXRQb3NpdGlvbihwb3MpO1xuICAgIH1cblxuICAgIF9zdGFydFBvczpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xuXG4gICAgLy8gcCA6IHNjcmVlbiBwb3NpdGlvblxuICAgIHRvdWNoU3RhcnQocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1JlbGVhc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXJ0UG9zID0gcDtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuZGVsYXlDbG9zZSk7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLmR5bmFtaWNKb3lzdGljaylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY29udmVydG8gc2NyZWVuIHBvc2l0aW9uXG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5ub2RlLmdldFBhcmVudCgpLmNvbnZlcnRUb05vZGVTcGFjZUFSKHApO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAvLyB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAvLyB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLmZhZGVJbigwLjUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmUoY2MuVmVjMi5aRVJPKTtcbiAgICB9XG5cbiAgICB0b3VjaE1vdmUocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgbGV0IHZlYyA9IHAuc3ViKHRoaXMuX3N0YXJ0UG9zKTtcbiAgICAgICAgdGhpcy5tb3ZlKHZlYyk7XG4gICAgfVxuXG4gICAgdG91Y2hFbmQocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgLy8gdGhpcy5tb3ZlKHApO1xuICAgICAgICB0aGlzLnJlbGVhc2VTdGljaygpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Net.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e139lB+RRCNpxXRSqgoURG', 'Net');
// framework/plugin_boosts/misc/Net.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Net = /** @class */ (function () {
    function Net() {
    }
    Net.httpGet = function (url, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
        };
        xhr.open("GET", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send();
    };
    Net.httpPost = function (url, params, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            // console.log('xhr.readyState='+xhr.readyState+'  xhr.status='+xhr.status);
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
            else {
                callback(-1);
            }
        };
        xhr.open("POST", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send(params);
    };
    return Net;
}());
exports.default = Net;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxOZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE4Q0EsQ0FBQztJQTNDVSxXQUFPLEdBQWQsVUFBZSxHQUFHLEVBQUUsUUFBUTtRQUN4QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDeEMsR0FBRyxDQUFDLGtCQUFrQixHQUFHO1lBQ3JCLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0IsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxZQUFRLEdBQWYsVUFBZ0IsR0FBRyxFQUFFLE1BQU0sRUFBRSxRQUFRO1FBQ2pDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN4QyxHQUFHLENBQUMsa0JBQWtCLEdBQUc7WUFDckIsNEVBQTRFO1lBQzVFLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7aUJBQUk7Z0JBQ0MsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVMLFVBQUM7QUFBRCxDQTlDQSxBQThDQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0e1xuIFxuIFxuICAgIHN0YXRpYyBodHRwR2V0KHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHhociA9IGNjLmxvYWRlci5nZXRYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHQtRW5jb2RpbmdcIiwgXCJnemlwLGRlZmxhdGVcIik7XG4gICAgICAgIH1cbiBcbiAgICAgICAgLy8gbm90ZTogSW4gSW50ZXJuZXQgRXhwbG9yZXIsIHRoZSB0aW1lb3V0IHByb3BlcnR5IG1heSBiZSBzZXQgb25seSBhZnRlciBjYWxsaW5nIHRoZSBvcGVuKClcbiAgICAgICAgLy8gbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZyB0aGUgc2VuZCgpIG1ldGhvZC5cbiAgICAgICAgeGhyLnRpbWVvdXQgPSA1MDAwOy8vIDUgc2Vjb25kcyBmb3IgdGltZW91dFxuIFxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiBcbiAgICBzdGF0aWMgaHR0cFBvc3QodXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd4aHIucmVhZHlTdGF0ZT0nK3hoci5yZWFkeVN0YXRlKycgIHhoci5zdGF0dXM9Jyt4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uZSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIGlmIChjYy5zeXMuaXNOYXRpdmUpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0LUVuY29kaW5nXCIsIFwiZ3ppcCxkZWZsYXRlXCIpO1xuICAgICAgICB9XG4gXG4gICAgICAgIC8vIG5vdGU6IEluIEludGVybmV0IEV4cGxvcmVyLCB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgYmUgc2V0IG9ubHkgYWZ0ZXIgY2FsbGluZyB0aGUgb3BlbigpXG4gICAgICAgIC8vIG1ldGhvZCBhbmQgYmVmb3JlIGNhbGxpbmcgdGhlIHNlbmQoKSBtZXRob2QuXG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDsvLyA1IHNlY29uZHMgZm9yIHRpbWVvdXRcbiBcbiAgICAgICAgeGhyLnNlbmQocGFyYW1zKTtcbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/InputSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4643c14ws5Msox+teVpsIzz', 'InputSystem');
// framework/plugin_boosts/misc/InputSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.InputSystem = exports.Input = void 0;
var JoyStick_1 = require("./JoyStick");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Input = null;
var InputSystem = /** @class */ (function (_super) {
    __extends(InputSystem, _super);
    function InputSystem() {
        // @property(cc.Component.EventHandler)
        // onKeyDown:cc.Component.EventHandler;
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._target = null;
        _this.keys = {};
        _this.__touchVec = cc.Vec2.ZERO;
        _this.radius_axis = 256;
        _this.joyStick = null;
        _this.__lastTouch = cc.Vec2.ZERO;
        _this.moveOffset = cc.Vec2.ZERO;
        _this.__curTouchId = -1;
        return _this;
    }
    /**
     * if target is a Component ,this function must be called in onLoad
     * @param target
     */
    InputSystem.prototype.setDelegate = function (target) {
        this._target = target;
    };
    InputSystem.prototype.onLoad = function () {
        exports.Input = this;
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this && (comp.onTouchBegan || comp.onTouchEnded || comp.onTouchMoved)) {
                this._target = comp;
                break;
            }
        }
        console.log("InputSystem Component -> target:", this._target);
    };
    //Horizontal
    //Vertical
    InputSystem.prototype.start = function () {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.triggerKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.triggerKeyUp, this);
        // if(this._target)
        // {
        this.node.on(cc.Node.EventType.TOUCH_START, this.triggerTouchBegan, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.triggerTouchMoved, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.triggerTouchEnded, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.triggerTouchCanceled, this);
        // }
    };
    Object.defineProperty(InputSystem.prototype, "touch", {
        get: function () {
            return this.__touch;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputSystem.prototype, "axis", {
        // only valid when joystick is enabled 
        get: function () {
            if (this.joyStick)
                return this.joyStick.axis;
            else
                return this.__touchVec;
        },
        enumerable: false,
        configurable: true
    });
    InputSystem.prototype.getKey = function (k) {
        return this.keys[k];
    };
    InputSystem.prototype.triggerKeyUp = function (e) {
        if (this._target.onKeyUp)
            this._target.onKeyUp(event);
        this.keys[event["key"]] = false;
    };
    InputSystem.prototype.triggerKeyDown = function (e) {
        if (this._target.onKeyDown)
            this._target.onKeyDown(event);
        this.keys[event["key"]] = true;
    };
    InputSystem.prototype.triggerTouchEnded = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        this.__curTouchId = -1;
        if (this._target.onTouchEnded)
            this._target.onTouchEnded(e);
        this.__touch = null;
        this.__touchVec = cc.Vec2.ZERO;
        if (e.currentTouch)
            if (this.joyStick)
                this.joyStick.touchEnd(e.currentTouch.getLocation());
        this.moveOffset = cc.Vec2.ZERO;
    };
    InputSystem.prototype.triggerTouchMoved = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchMoved)
            this._target.onTouchMoved(e);
        this.__touch = e.currentTouch.getLocation();
        this.moveOffset = this.__touch.sub(this.__lastTouch);
        if (this.__touch && this.__startLocation) {
            this.__touchVec = this.__touch.sub(this.__startLocation);
            if (this.joyStick)
                this.joyStick.touchMove(this.__touch);
        }
        this.__lastTouch = this.__touch;
    };
    InputSystem.prototype.triggerTouchBegan = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchBegan)
            this._target.onTouchBegan(e);
        this.__curTouchId = e.getID();
        this.__startLocation = e.currentTouch.getLocation();
        this.__touch = e.currentTouch.getLocation();
        this.__lastTouch = this.__touch;
        if (this.joyStick)
            this.joyStick.touchStart(this.__startLocation);
    };
    InputSystem.prototype.triggerTouchCanceled = function (e) {
        this.triggerTouchEnded(e);
    };
    InputSystem.prototype.onEnable = function () {
        this.schedule(this.checkTouch, 0.02);
    };
    InputSystem.prototype.onDisable = function () {
        this.unschedule(this.checkTouch);
    };
    InputSystem.prototype.checkTouch = function () {
        if (this.__touch) {
            this.moveOffset = this.__touch.sub(this.__lastTouch);
        }
    };
    __decorate([
        property(JoyStick_1.default)
    ], InputSystem.prototype, "joyStick", void 0);
    InputSystem = __decorate([
        ccclass
    ], InputSystem);
    return InputSystem;
}(cc.Component));
exports.InputSystem = InputSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxJbnB1dFN5c3RlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUFrQztBQUU1QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLEtBQUssR0FBZSxJQUFJLENBQUM7QUFHcEM7SUFBaUMsK0JBQVk7SUFBN0M7UUFHSSx1Q0FBdUM7UUFDdkMsdUNBQXVDO1FBSjNDLHFFQWlMQztRQTNLRyxhQUFPLEdBQU8sSUFBSSxDQUFDO1FBSW5CLFVBQUksR0FBNEIsRUFBRSxDQUFBO1FBTWxDLGdCQUFVLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFbEMsaUJBQVcsR0FBVSxHQUFHLENBQUM7UUFHekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQWdHekIsaUJBQVcsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNuQyxnQkFBVSxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBcUJsQyxrQkFBWSxHQUFVLENBQUMsQ0FBQyxDQUFDOztJQXNDN0IsQ0FBQztJQTFKRzs7O09BR0c7SUFDSCxpQ0FBVyxHQUFYLFVBQVksTUFBTTtRQUVkLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQzFCLENBQUM7SUFJRCw0QkFBTSxHQUFOO1FBRUksYUFBSyxHQUFHLElBQUksQ0FBQztRQUViLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUN4QztZQUNJLElBQUksSUFBSSxHQUFPLFVBQVUsQ0FBQyxDQUFDLENB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UUFFSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsZ0NBQVUsR0FBVjtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU8sRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQTNKRDtRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDO2lEQUNNO0lBckJoQixXQUFXO1FBRHZCLE9BQU87T0FDSyxXQUFXLENBaUx2QjtJQUFELGtCQUFDO0NBakxELEFBaUxDLENBakxnQyxFQUFFLENBQUMsU0FBUyxHQWlMNUM7QUFqTFksa0NBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm95U3RpY2sgZnJvbSBcIi4vSm95U3RpY2tcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCB2YXIgSW5wdXQ6SW5wdXRTeXN0ZW0gPSBudWxsO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGNsYXNzIElucHV0U3lzdGVtIGV4dGVuZHMgY2MuQ29tcG9uZW50XG57XG5cbiAgICAvLyBAcHJvcGVydHkoY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcilcbiAgICAvLyBvbktleURvd246Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcjtcblxuICAgIF90YXJnZXQ6YW55ID0gbnVsbDtcblxuXG5cbiAgICBrZXlzOntbaW5kZXg6c3RyaW5nXTpib29sZWFufSA9IHt9XG5cbiAgICBfX3RvdWNoOmNjLlZlYzI7XG5cbiAgICBfX3N0YXJ0TG9jYXRpb24gOmNjLlZlYzI7XG5cbiAgICBfX3RvdWNoVmVjOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XG5cbiAgICByYWRpdXNfYXhpczpudW1iZXIgPSAyNTY7XG5cbiAgICBAcHJvcGVydHkoSm95U3RpY2spXG4gICAgam95U3RpY2sgOkpveVN0aWNrPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogaWYgdGFyZ2V0IGlzIGEgQ29tcG9uZW50ICx0aGlzIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGluIG9uTG9hZFxuICAgICAqIEBwYXJhbSB0YXJnZXQgXG4gICAgICovXG4gICAgc2V0RGVsZWdhdGUodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuXG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgSW5wdXQgPSB0aGlzO1xuXG4gICAgICAgIGxldCBjb21wb25lbnRzID0gdGhpcy5nZXRDb21wb25lbnRzKGNjLkNvbXBvbmVudCk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjb21wOmFueSA9IGNvbXBvbmVudHNbaV1cbiAgICAgICAgICAgIGlmKGNvbXAgIT0gdGhpcyAmJiAoY29tcC5vblRvdWNoQmVnYW4gfHwgY29tcC5vblRvdWNoRW5kZWR8fGNvbXAub25Ub3VjaE1vdmVkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSBjb21wO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5wdXRTeXN0ZW0gQ29tcG9uZW50IC0+IHRhcmdldDpcIix0aGlzLl90YXJnZXQpXG4gICAgfVxuXG4gICAgLy9Ib3Jpem9udGFsXG4gICAgLy9WZXJ0aWNhbFxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9uKGNjLlN5c3RlbUV2ZW50LkV2ZW50VHlwZS5LRVlfRE9XTix0aGlzLnRyaWdnZXJLZXlEb3duLHRoaXMpO1xuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX1VQLHRoaXMudHJpZ2dlcktleVVwLHRoaXMpO1xuICAgICAgICAvLyBpZih0aGlzLl90YXJnZXQpXG4gICAgICAgIC8vIHtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMudHJpZ2dlclRvdWNoQmVnYW4sIHRoaXMpO1xuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSx0aGlzLnRyaWdnZXJUb3VjaE1vdmVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLnRyaWdnZXJUb3VjaEVuZGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCx0aGlzLnRyaWdnZXJUb3VjaENhbmNlbGVkLCB0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIH1cbiAgICB9XG5cblxuICAgIGdldCB0b3VjaCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3RvdWNoO1xuICAgIH1cblxuICAgIC8vIG9ubHkgdmFsaWQgd2hlbiBqb3lzdGljayBpcyBlbmFibGVkIFxuICAgIGdldCBheGlzKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qb3lTdGljay5heGlzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3RvdWNoVmVjO1xuICAgIH1cblxuICAgIGdldEtleShrKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1trXSBcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyaWdnZXJLZXlVcChlKSB7XG4gICAgICAgIGlmKHRoaXMuX3RhcmdldC5vbktleVVwKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5VXAoZXZlbnQpXG4gICAgICAgIHRoaXMua2V5c1tldmVudFtcImtleVwiXV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyaWdnZXJLZXlEb3duKGUpOiBhbnkge1xuICAgICAgICBpZih0aGlzLl90YXJnZXQub25LZXlEb3duKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5RG93bihldmVudClcbiAgICAgICAgdGhpcy5rZXlzW2V2ZW50W1wia2V5XCJdXSA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgdHJpZ2dlclRvdWNoRW5kZWQoZSk6IGFueSB7XG4gICAgICAgIGlmKHRoaXMuX19jdXJUb3VjaElkICE9LTEgJiYgZS5nZXRJRCgpICE9IHRoaXMuX19jdXJUb3VjaElkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSAtMVxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaEVuZGVkKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uVG91Y2hFbmRlZChlKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fX3RvdWNoID0gbnVsbCBcbiAgICAgICAgdGhpcy5fX3RvdWNoVmVjID0gY2MuVmVjMi5aRVJPO1xuICAgICAgICBpZihlLmN1cnJlbnRUb3VjaClcbiAgICAgICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaEVuZChlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5tb3ZlT2Zmc2V0ID0gY2MuVmVjMi5aRVJPO1xuICAgIH1cblxuICAgIF9fbGFzdFRvdWNoOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XG4gICAgbW92ZU9mZnNldDpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xuXG4gICAgcHJpdmF0ZSB0cmlnZ2VyVG91Y2hNb3ZlZChlKTogYW55IHtcbiAgICAgICAgaWYodGhpcy5fX2N1clRvdWNoSWQgIT0tMSAmJiBlLmdldElEKCkgIT0gdGhpcy5fX2N1clRvdWNoSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaE1vdmVkKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uVG91Y2hNb3ZlZChlKVxuXG4gICAgICAgIHRoaXMuX190b3VjaCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMubW92ZU9mZnNldCA9IHRoaXMuX190b3VjaC5zdWIodGhpcy5fX2xhc3RUb3VjaClcbiAgICAgICAgaWYodGhpcy5fX3RvdWNoICYmIHRoaXMuX19zdGFydExvY2F0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9fdG91Y2hWZWMgPSB0aGlzLl9fdG91Y2guc3ViKHRoaXMuX19zdGFydExvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaE1vdmUodGhpcy5fX3RvdWNoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19sYXN0VG91Y2ggPSB0aGlzLl9fdG91Y2g7XG4gICAgfVxuXG4gICAgX19jdXJUb3VjaElkOm51bWJlciA9IC0xO1xuXG4gICAgcHJpdmF0ZSB0cmlnZ2VyVG91Y2hCZWdhbihlKTogYW55IHtcbiAgICAgICAgaWYodGhpcy5fX2N1clRvdWNoSWQgIT0tMSAmJiBlLmdldElEKCkgIT0gdGhpcy5fX2N1clRvdWNoSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0Lm9uVG91Y2hCZWdhbilcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5vblRvdWNoQmVnYW4oZSlcbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSBlLmdldElEKCk7XG4gICAgICAgIHRoaXMuX19zdGFydExvY2F0aW9uID0gZS5jdXJyZW50VG91Y2guZ2V0TG9jYXRpb24oKVxuICAgICAgICB0aGlzLl9fdG91Y2ggPSBlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLl9fbGFzdFRvdWNoID0gdGhpcy5fX3RvdWNoO1xuICAgICAgICBpZih0aGlzLmpveVN0aWNrKVxuICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaFN0YXJ0KHRoaXMuX19zdGFydExvY2F0aW9uKVxuICAgIH1cbiAgICBwcml2YXRlIHRyaWdnZXJUb3VjaENhbmNlbGVkKGUpOiBhbnkge1xuICAgICAgICB0aGlzLnRyaWdnZXJUb3VjaEVuZGVkKGUpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5jaGVja1RvdWNoLDAuMDIpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jaGVja1RvdWNoKTtcbiAgICB9XG5cbiAgICBjaGVja1RvdWNoKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuX190b3VjaClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlT2Zmc2V0ID0gdGhpcy5fX3RvdWNoLnN1Yih0aGlzLl9fbGFzdFRvdWNoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/BoostsAction.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '47da3PXgqdE55aSvY0ox9B4', 'BoostsAction');
// framework/plugin_boosts/misc/BoostsAction.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Shake = exports.V2ChangeAction = exports.ValueChangeAction = void 0;
var ValueChangeAction = /** @class */ (function (_super) {
    __extends(ValueChangeAction, _super);
    function ValueChangeAction(duration, from, to, callback, target) {
        var _this = _super.call(this) || this;
        _this.delta = _this.sub(to, from);
        _this.setDuration(duration);
        _this.callback = callback;
        _this.start = from;
        _this.end = to;
        _this.callbackTarget = target;
        return _this;
    }
    ValueChangeAction.prototype.sub = function (x, y) {
        return (x - y);
    };
    ValueChangeAction.prototype.add = function (x, y) {
        return x + y;
    };
    ValueChangeAction.prototype.mul = function (x, y) {
        return x * y;
    };
    ValueChangeAction.prototype.update = function (dt) {
        dt = this._computeEaseTime(dt);
        var v = this.add(this.start, this.mul(this.delta, dt));
        this.callback.call(this.callbackTarget, v);
    };
    return ValueChangeAction;
}(cc.ActionInterval));
exports.ValueChangeAction = ValueChangeAction;
var V2ChangeAction = /** @class */ (function (_super) {
    __extends(V2ChangeAction, _super);
    function V2ChangeAction() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    V2ChangeAction.prototype.sub = function (x, y) {
        return x.sub(x, y);
    };
    V2ChangeAction.prototype.add = function (x, y) {
        return x.add(x, y);
    };
    V2ChangeAction.prototype.mul = function (x, y) {
        return x.mul(x, y);
    };
    return V2ChangeAction;
}(ValueChangeAction));
exports.V2ChangeAction = V2ChangeAction;
var Shake = /** @class */ (function (_super) {
    __extends(Shake, _super);
    function Shake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._initial_x = 0;
        _this._initial_y = 0;
        _this._strength_x = 0;
        _this._strength_y = 0;
        return _this;
    }
    /**
     *  创建抖动动画
     * @param {number} duration     动画持续时长
     * @param {number} strength_x   抖动幅度： x方向
     * @param {number} strength_y   抖动幅度： y方向
     * @returns {Shake}
     */
    Shake.create = function (duration, strength_x, strength_y) {
        var act = new Shake();
        act.initWithDuration(duration, strength_x, strength_y);
        return act;
    };
    Shake.prototype.initWithDuration = function (duration, strength_x, strength_y) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._strength_x = strength_x;
        this._strength_y = strength_y;
        return true;
    };
    Shake.prototype.fgRangeRand = function (min, max) {
        var rnd = Math.random();
        return rnd * (max - min) + min;
    };
    Shake.prototype.update = function (time) {
        var randx = this.fgRangeRand(-this._strength_x, this._strength_x);
        var randy = this.fgRangeRand(-this._strength_y, this._strength_y);
        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);
    };
    Shake.prototype.startWithTarget = function (target) {
        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);
        this._initial_x = target.x;
        this._initial_y = target.y;
    };
    Shake.prototype.stop = function () {
        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));
        cc.ActionInterval.prototype['stop'].apply(this);
    };
    return Shake;
}(cc.ActionInterval));
exports.Shake = Shake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxCb29zdHNBY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtJQUF1QyxxQ0FBaUI7SUF3QnBELDJCQUFZLFFBQVEsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxNQUFPO1FBQTdDLFlBRUksaUJBQU8sU0FPVjtRQU5HLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUcsSUFBSSxDQUFDLENBQUM7UUFDakMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixLQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixLQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDOztJQUNqQyxDQUFDO0lBeEJELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxHQUFFLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsK0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQVlELGtDQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FB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QUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLG9CQUFJLEdBQVg7UUFFSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRTNFLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0wsWUFBQztBQUFELENBeERBLEFBd0RDLENBeEQyQixFQUFFLENBQUMsY0FBYyxHQXdENUM7QUF4RGEsc0JBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZXhwb3J0IGNsYXNzIFZhbHVlQ2hhbmdlQWN0aW9uIGV4dGVuZHMgY2MuQWN0aW9uSW50ZXJ2YWxcbntcbiAgICBbeDogc3RyaW5nXTogYW55O1xuICAgIHN0YXJ0OmFueTtcbiAgICBlbmQ6YW55O1xuICAgIGRlbHRhOmFueTtcbiAgICBjYWxsYmFjazpGdW5jdGlvbjtcbiAgICBjYWxsYmFja1RhcmdldCA6YW55O1xuXG4gICAgc3ViKHgseSlcbiAgICB7XG4gICAgICAgIHJldHVybiAoIHggLSB5KTtcbiAgICB9XG5cbiAgICBhZGQoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHggK3k7XG4gICAgfVxuXG4gICAgbXVsKHgseSlcbiAgICB7XG4gICAgICAgIHJldHVybiB4Knk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZHVyYXRpb24sZnJvbSx0byxjYWxsYmFjayx0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IHRoaXMuc3ViKHRvICwgZnJvbSk7XG4gICAgICAgIHRoaXMuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmVuZCA9IHRvO1xuICAgICAgICB0aGlzLmNhbGxiYWNrVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cbiAgICB1cGRhdGUoZHQpXG4gICAge1xuICAgICAgICBkdCA9IHRoaXMuX2NvbXB1dGVFYXNlVGltZShkdCk7XG4gICAgICAgIGxldCB2ID0gdGhpcy5hZGQodGhpcy5zdGFydCx0aGlzLm11bCh0aGlzLmRlbHRhLGR0KSlcbiAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tUYXJnZXQsdik7XG4gICAgfVxuICAgXG59XG5cblxuZXhwb3J0IGNsYXNzIFYyQ2hhbmdlQWN0aW9uIGV4dGVuZHMgVmFsdWVDaGFuZ2VBY3Rpb25cbntcbiAgICBzdWIoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHguc3ViKHgseSlcbiAgICB9XG5cbiAgICBhZGQoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHguYWRkKHgseSlcbiAgICB9XG5cbiAgICBtdWwoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHgubXVsKHgseSlcbiAgICB9XG59XG5cblxuZXhwb3J0ICBjbGFzcyBTaGFrZSBleHRlbmRzIGNjLkFjdGlvbkludGVydmFsXG57XG4gXG4gICAgcHJpdmF0ZSBfaW5pdGlhbF94Om51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbF95Om51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc3RyZW5ndGhfeDpudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3N0cmVuZ3RoX3k6bnVtYmVyID0gMDtcbiBcbiAgICAvKipcbiAgICAgKiAg5Yib5bu65oqW5Yqo5Yqo55S7XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uICAgICDliqjnlLvmjIHnu63ml7bplb9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGhfeCAgIOaKluWKqOW5heW6pu+8miB45pa55ZCRXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoX3kgICDmipbliqjluYXluqbvvJogeeaWueWQkVxuICAgICAqIEByZXR1cm5zIHtTaGFrZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkdXJhdGlvbjpudW1iZXIsc3RyZW5ndGhfeDpudW1iZXIsc3RyZW5ndGhfeTpudW1iZXIpOlNoYWtlXG4gICAge1xuICAgICAgICBsZXQgYWN0OlNoYWtlID0gbmV3IFNoYWtlKCk7XG4gICAgICAgIGFjdC5pbml0V2l0aER1cmF0aW9uKCBkdXJhdGlvbixzdHJlbmd0aF94LHN0cmVuZ3RoX3kgKTtcbiAgICAgICAgcmV0dXJuIGFjdDtcbiAgICB9XG4gXG4gICAgcHVibGljIGluaXRXaXRoRHVyYXRpb24oZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTpib29sZWFuXG4gICAge1xuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ2luaXRXaXRoRHVyYXRpb24nXS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3ggPSBzdHJlbmd0aF94O1xuICAgICAgICB0aGlzLl9zdHJlbmd0aF95ID0gc3RyZW5ndGhfeTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuIFxuICAgIHB1YmxpYyBmZ1JhbmdlUmFuZChtaW46bnVtYmVyLG1heDpudW1iZXIpOm51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IHJuZDpudW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gcm5kICogKG1heCAtIG1pbikgKyBtaW47XG4gICAgfVxuIFxuICAgIHB1YmxpYyB1cGRhdGUodGltZTpudW1iZXIpOnZvaWRcbiAgICB7XG4gICAgICAgIGxldCByYW5keCA9IHRoaXMuZmdSYW5nZVJhbmQoLXRoaXMuX3N0cmVuZ3RoX3gsdGhpcy5fc3RyZW5ndGhfeCk7XG4gICAgICAgIGxldCByYW5keSA9IHRoaXMuZmdSYW5nZVJhbmQoLXRoaXMuX3N0cmVuZ3RoX3ksdGhpcy5fc3RyZW5ndGhfeSk7XG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24ocmFuZHggKyB0aGlzLl9pbml0aWFsX3gscmFuZHkgKyB0aGlzLl9pbml0aWFsX3kpO1xuICAgIH1cbiBcbiAgICBwdWJsaWMgc3RhcnRXaXRoVGFyZ2V0KHRhcmdldDpjYy5Ob2RlKTp2b2lkXG4gICAge1xuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0YXJ0V2l0aFRhcmdldCddLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbF94ID0gdGFyZ2V0Lng7XG4gICAgICAgIHRoaXMuX2luaXRpYWxfeSA9IHRhcmdldC55O1xuICAgIH1cbiBcbiAgICBwdWJsaWMgc3RvcCgpOnZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24obmV3IGNjLlZlYzIodGhpcy5faW5pdGlhbF94LHRoaXMuX2luaXRpYWxfeSkpO1xuIFxuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0b3AnXS5hcHBseSh0aGlzKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Signal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bf602DYuhZP7Z8VfN9eJFzO', 'Signal');
// framework/plugin_boosts/misc/Signal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal = /** @class */ (function () {
    function Signal(c, t) {
        this.add(c, t);
    }
    Signal.prototype.add = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.fire = function () {
        var _a;
        var ps = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            ps[_i] = arguments[_i];
        }
        if (this.callback) {
            (_a = this.callback).call.apply(_a, __spreadArrays([this.target], ps));
        }
    };
    Signal.prototype.on = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.clear = function () {
        this.callback = null;
    };
    return Signal;
}());
exports.default = Signal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTaWduYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBSUksZ0JBQVksQ0FBRSxFQUFDLENBQUU7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNqQixDQUFDO0lBRUQsb0JBQUcsR0FBSCxVQUFJLFFBQWlCLEVBQUcsTUFBTztRQUUzQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQscUJBQUksR0FBSjs7UUFBSyxZQUFLO2FBQUwsVUFBSyxFQUFMLHFCQUFLLEVBQUwsSUFBSztZQUFMLHVCQUFLOztRQUVOLElBQUksSUFBSSxDQUFDLFFBQVEsRUFDakI7WUFDSSxDQUFBLEtBQUEsSUFBSSxDQUFDLFFBQVEsQ0FBQSxDQUFDLElBQUksMkJBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxFQUFFLEdBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRUQsbUJBQUUsR0FBRixVQUFHLFFBQWlCLEVBQUMsTUFBTztRQUV4QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FqQ0EsQUFpQ0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ25hbFxue1xuICAgIGNhbGxiYWNrOkZ1bmN0aW9uIDtcbiAgICB0YXJnZXQ6YW55O1xuICAgIGNvbnN0cnVjdG9yKGM/LHQ/KVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGQoYyx0KVxuICAgIH1cblxuICAgIGFkZChjYWxsYmFjazpGdW5jdGlvbiAsIHRhcmdldD8pXG4gICAge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZpcmUoLi4ucHMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMudGFyZ2V0LC4uLnBzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb24oY2FsbGJhY2s6RnVuY3Rpb24sdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bc48cBqkERHuJx+iKzOzwOV', 'MessageBoxManager');
// framework/plugin_boosts/ui/MessageBoxManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBox = void 0;
var ViewManager_1 = require("./ViewManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MessageBoxManager = /** @class */ (function (_super) {
    __extends(MessageBoxManager, _super);
    function MessageBoxManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        return _this;
    }
    MessageBoxManager_1 = MessageBoxManager;
    MessageBoxManager.prototype.onLoad = function () {
        MessageBoxManager_1.instance = this;
    };
    var MessageBoxManager_1;
    MessageBoxManager.instance = null;
    __decorate([
        property(cc.Prefab)
    ], MessageBoxManager.prototype, "prefab", void 0);
    MessageBoxManager = MessageBoxManager_1 = __decorate([
        ccclass
    ], MessageBoxManager);
    return MessageBoxManager;
}(cc.Component));
exports.default = MessageBoxManager;
var MessageBox = /** @class */ (function () {
    function MessageBox() {
    }
    MessageBox.prototype.start = function () {
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    // static UIPath:string = "plugin_boosts/ui/MessageBox"
    MessageBox.show = function (content, title, buttons, extra) {
        title = (title == null || title == undefined) ? "提示" : title;
        return new Promise(function (resolve, reject) {
            ViewManager_1.default.instance.showFromPrefab(MessageBoxManager.instance.prefab, "MessageBox", {
                title: title,
                content: content,
                buttons: buttons,
                extra: extra,
                callback: function (code) {
                    resolve(code);
                }
            });
        });
    };
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    MessageBox.OK = 1;
    MessageBox.CANCEL = 0;
    MessageBox.OK_CANCEL = 2;
    return MessageBox;
}());
exports.MessageBox = MessageBox;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFJMUM7SUFBK0MscUNBQVk7SUFBM0Q7UUFBQSxxRUFTQztRQU5HLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBTTVCLENBQUM7MEJBVG9CLGlCQUFpQjtJQU1sQyxrQ0FBTSxHQUFOO1FBQ0ksbUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN0QyxDQUFDOztJQUhNLDBCQUFRLEdBQXFCLElBQUksQ0FBQztJQUZ6QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNJO0lBSFAsaUJBQWlCO1FBSHJDLE9BQU87T0FHYSxpQkFBaUIsQ0FTckM7SUFBRCx3QkFBQztDQVRELEFBU0MsQ0FUOEMsRUFBRSxDQUFDLFNBQVMsR0FTMUQ7a0JBVG9CLGlCQUFpQjtBQVd0QztJQUFBO0lBZ0NBLENBQUM7SUF2QkcsMEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCwwR0FBMEc7SUFDMUcsdURBQXVEO0lBQ2hELGVBQUksR0FBWCxVQUFZLE9BQU8sRUFBRSxLQUFNLEVBQUMsT0FBUSxFQUFDLEtBQU07UUFFdkMsS0FBSyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksU0FBUyxDQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUEsS0FBSyxDQUFBO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQVMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUN0QyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUM7Z0JBQy9FLEtBQUssT0FBQTtnQkFDTCxPQUFPLFNBQUE7Z0JBQ1AsT0FBTyxTQUFBO2dCQUNQLEtBQUssT0FBQTtnQkFDTCxRQUFRLEVBQUMsVUFBQSxJQUFJO29CQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDakIsQ0FBQzthQUNKLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQTNCRCx3QkFBd0I7SUFDeEIsZUFBZTtJQUNSLGFBQUUsR0FBVSxDQUFDLENBQUM7SUFDZCxpQkFBTSxHQUFVLENBQUMsQ0FBQztJQUVsQixvQkFBUyxHQUFVLENBQUMsQ0FBQztJQXlCaEMsaUJBQUM7Q0FoQ0QsQUFnQ0MsSUFBQTtBQWhDWSxnQ0FBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi9WaWV3TWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZUJveE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnRcbntcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xuICAgIFxuICAgIHN0YXRpYyBpbnN0YW5jZTpNZXNzYWdlQm94TWFuYWdlciA9IG51bGw7XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgTWVzc2FnZUJveE1hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VCb3ggIHtcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIC8vIG9uTG9hZCAoKSB7fVxuICAgIHN0YXRpYyBPSzpudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBDQU5DRUw6bnVtYmVyID0gMDtcblxuICAgIHN0YXRpYyBPS19DQU5DRUw6bnVtYmVyID0gMjtcblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBzdGF0aWMgVUlQYXRoOnN0cmluZyA9IFwicGx1Z2luX2Jvb3N0cy91aS9NZXNzYWdlQm94XCJcbiAgICBzdGF0aWMgc2hvdyhjb250ZW50ICx0aXRsZT8sYnV0dG9ucz8sZXh0cmE/KTpQcm9taXNlPG51bWJlcj5cbiAgICB7XG4gICAgICAgIHRpdGxlID0gKHRpdGxlID09IG51bGwgfHwgdGl0bGUgPT0gdW5kZWZpbmVkICk/IFwi5o+Q56S6XCIgOnRpdGxlXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxudW1iZXI+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3dGcm9tUHJlZmFiKE1lc3NhZ2VCb3hNYW5hZ2VyLmluc3RhbmNlLnByZWZhYixcIk1lc3NhZ2VCb3hcIix7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOmNvZGU9PntcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb2RlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/SpriteFrameCache.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8756by7qCVIPpJ06/9qmobv', 'SpriteFrameCache');
// framework/plugin_boosts/misc/SpriteFrameCache.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache = /** @class */ (function () {
    function SpriteFrameCache() {
        this.frames = {};
    }
    Object.defineProperty(SpriteFrameCache, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new SpriteFrameCache();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    SpriteFrameCache.prototype.getSpriteFrame = function (url) {
        return __awaiter(this, void 0, Promise, function () {
            var frame;
            var _this = this;
            return __generator(this, function (_a) {
                frame = this.frames[url];
                if (frame == null) {
                    return [2 /*return*/, new Promise(function (resolve, reject) {
                            // console.log("[SpriteFrameCache] request image:" + url)
                            if (!url || url == "") {
                                reject("empty-url");
                                return;
                            }
                            if (url.indexOf("http") == -1) {
                                cc.loader.loadRes(url, cc.SpriteFrame, function (error, frame) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (frame) {
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                            else {
                                cc.loader.load({ url: url, type: 'png' }, function (error, texture) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (texture) {
                                        frame = new cc.SpriteFrame(texture);
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                        })];
                }
                return [2 /*return*/, new Promise(function (resolve, reject) { return resolve(frame); })];
            });
        });
    };
    SpriteFrameCache.prototype.addSpriteFrame = function (url, frame) {
        this.frames[url] = frame;
        return frame;
    };
    SpriteFrameCache.prototype.clear = function () {
        for (var k in this.frames) {
            var frame = this.frames[k];
            cc.loader.release(frame);
            delete this.frames[k];
        }
    };
    SpriteFrameCache.prototype.remove = function (k) {
        var frame = this.frames[k];
        cc.loader.release(frame);
        delete this.frames[k];
    };
    return SpriteFrameCache;
}());
exports.default = SpriteFrameCache;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTcHJpdGVGcmFtZUNhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO1FBYVksV0FBTSxHQUFtQyxFQUFFLENBQUM7SUFrRXhELENBQUM7SUEzRUcsc0JBQVcsNEJBQVE7YUFBbkI7WUFFSSxJQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUN6QjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQWdCLEVBQUUsQ0FBQzthQUMzQztZQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUdLLHlDQUFjLEdBQXBCLFVBQXFCLEdBQVU7dUNBQUUsT0FBTzs7OztnQkFFaEMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQzVCLElBQUcsS0FBSyxJQUFJLElBQUksRUFDaEI7b0JBQ0ksc0JBQU8sSUFBSSxPQUFPLENBQWlCLFVBQUMsT0FBTyxFQUFDLE1BQU07NEJBQzlDLHlEQUF5RDs0QkFDekQsSUFBRyxDQUFDLEdBQUcsSUFBRyxHQUFHLElBQUksRUFBRSxFQUFFO2dDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7Z0NBQ25CLE9BQU87NkJBQ1Y7NEJBQ0QsSUFBSyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUM5QjtnQ0FDSSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUssRUFBQyxLQUFLO29DQUM3QyxJQUFHLEtBQUssRUFBQzt3Q0FBQyxNQUFNLEVBQUUsQ0FBQzt3Q0FBQSxPQUFNO3FDQUFDO29DQUMxQixJQUFHLEtBQUssRUFDUjt3Q0FDSSxLQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTt3Q0FDL0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFBO3FDQUNqQjt5Q0FBSTt3Q0FDRCxNQUFNLEVBQUUsQ0FBQTtxQ0FDWDtnQ0FDTCxDQUFDLENBQUMsQ0FBQTs2QkFDTDtpQ0FBSTtnQ0FDRCxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFFLFVBQUMsS0FBSyxFQUFFLE9BQU87b0NBQ25ELElBQUcsS0FBSyxFQUFDO3dDQUFDLE1BQU0sRUFBRSxDQUFDO3dDQUFBLE9BQU07cUNBQUM7b0NBQzFCLElBQUcsT0FBTyxFQUNWO3dDQUNJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7d0NBQ3BDLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO3dDQUMvQixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7cUNBQ2pCO3lDQUFJO3dDQUNELE1BQU0sRUFBRSxDQUFBO3FDQUNYO2dDQUNMLENBQUMsQ0FBQyxDQUFDOzZCQUNOO3dCQUNMLENBQUMsQ0FBQyxFQUFBO2lCQUNMO2dCQUNELHNCQUFPLElBQUksT0FBTyxDQUFpQixVQUFDLE9BQU8sRUFBQyxNQUFNLElBQUcsT0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQWQsQ0FBYyxDQUFDLEVBQUM7OztLQUV4RTtJQUVELHlDQUFjLEdBQWQsVUFBZSxHQUFXLEVBQUUsS0FBVTtRQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBR0QsZ0NBQUssR0FBTDtRQUVJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDekI7WUFDSSxJQUFJLEtBQUssR0FBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN4QjtJQUNMLENBQUM7SUFFRCxpQ0FBTSxHQUFOLFVBQU8sQ0FBQztRQUVKLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3pCLENBQUM7SUFFTCx1QkFBQztBQUFELENBL0VBLEFBK0VDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVGcmFtZUNhY2hlXG57XG4gICAgc3RhdGljIF9pbnN0YW5jZTpTcHJpdGVGcmFtZUNhY2hlO1xuXG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpXG4gICAge1xuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBTcHJpdGVGcmFtZUNhY2hlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZnJhbWVzOntbaW5kZXg6c3RyaW5nXTpjYy5TcHJpdGVGcmFtZX0gPSB7fTtcbiAgICBhc3luYyBnZXRTcHJpdGVGcmFtZSh1cmw6c3RyaW5nKTpQcm9taXNlPGNjLlNwcml0ZUZyYW1lPlxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdXJsXVxuICAgICAgICBpZihmcmFtZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIltTcHJpdGVGcmFtZUNhY2hlXSByZXF1ZXN0IGltYWdlOlwiICsgdXJsKVxuICAgICAgICAgICAgICAgIGlmKCF1cmwgfHx1cmwgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJlbXB0eS11cmxcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIHVybC5pbmRleE9mKFwiaHR0cFwiKSA9PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHVybCxjYy5TcHJpdGVGcmFtZSwoZXJyb3IsZnJhbWUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnJvcil7cmVqZWN0KCk7cmV0dXJufVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTcHJpdGVGcmFtZSh1cmwgLGZyYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZCh7dXJsOiB1cmwsIHR5cGU6ICdwbmcnfSwgKGVycm9yLCB0ZXh0dXJlKSA9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yKXtyZWplY3QoKTtyZXR1cm59XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0ZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3ByaXRlRnJhbWUodXJsICxmcmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZyYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+KChyZXNvbHZlLHJlamVjdCk9PnJlc29sdmUoZnJhbWUpKTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgYWRkU3ByaXRlRnJhbWUodXJsOiBzdHJpbmcsIGZyYW1lOiBhbnkpOiBhbnkge1xuICAgICAgICB0aGlzLmZyYW1lc1t1cmxdID0gZnJhbWU7XG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9XG5cblxuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5mcmFtZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmcmFtZSA9ICB0aGlzLmZyYW1lc1trXVxuICAgICAgICAgICAgY2MubG9hZGVyLnJlbGVhc2UoZnJhbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZnJhbWVzW2tdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUoaylcbiAgICB7XG4gICAgICAgIGxldCBmcmFtZSA9ICB0aGlzLmZyYW1lc1trXVxuICAgICAgICBjYy5sb2FkZXIucmVsZWFzZShmcmFtZSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1trXVxuICAgIH1cblxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCSprite.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '82b09vMdyFCOb0NEdBTtZHy', 'DCSprite');
// framework/plugin_boosts/ui/DCSprite.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCSprite = /** @class */ (function (_super) {
    __extends(DCSprite, _super);
    function DCSprite() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCSprite.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCSprite.prototype.refreshSpriteFrame = function (v) {
        var _this = this;
        // this.sprite.spriteFrame = v;
        var spriteframe = SpriteFrameCache_1.default.instance.getSpriteFrame(v).then(function (sf) {
            _this.sprite.spriteFrame = sf;
        }).catch(function (_) { console.log("request imageUrl error :" + v); });
    };
    DCSprite.prototype.onValueChanged = function (v) {
        this.refreshSpriteFrame(v);
    };
    DCSprite = __decorate([
        ccclass,
        requireComponent(cc.Sprite)
    ], DCSprite);
    return DCSprite;
}(DCUI_1.default));
exports.default = DCSprite;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENTcHJpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2REFBd0Q7QUFFbEQsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFLM0Q7SUFBc0MsNEJBQUk7SUFBMUM7O0lBc0JBLENBQUM7SUFuQkcseUJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELHFDQUFrQixHQUFsQixVQUFtQixDQUFDO1FBQXBCLGlCQU1DO1FBSkcsK0JBQStCO1FBQy9CLElBQUksV0FBVyxHQUFHLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRTtZQUNqRSxLQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUEsQ0FBQyxJQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFDLENBQUMsQ0FBQTtJQUM5RCxDQUFDO0lBRUQsaUNBQWMsR0FBZCxVQUFlLENBQUM7UUFFWixJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQW5CZ0IsUUFBUTtRQUY1QixPQUFPO1FBQ1AsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztPQUNQLFFBQVEsQ0FzQjVCO0lBQUQsZUFBQztDQXRCRCxBQXNCQyxDQXRCcUMsY0FBSSxHQXNCekM7a0JBdEJvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4uL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHkscmVxdWlyZUNvbXBvbmVudH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5cbkBjY2NsYXNzXG5AcmVxdWlyZUNvbXBvbmVudChjYy5TcHJpdGUpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1Nwcml0ZSBleHRlbmRzIERDVUkge1xuXG4gICAgc3ByaXRlOmNjLlNwcml0ZTtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgIH1cblxuICAgIHJlZnJlc2hTcHJpdGVGcmFtZSh2KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSB2O1xuICAgICAgICBsZXQgc3ByaXRlZnJhbWUgPSBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKHYpLnRoZW4oc2Y9PntcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gc2Y7XG4gICAgICAgIH0pLmNhdGNoKF89Pntjb25zb2xlLmxvZyhcInJlcXVlc3QgaW1hZ2VVcmwgZXJyb3IgOlwiICsgdil9KVxuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXG4gICAge1xuICAgICAgICB0aGlzLnJlZnJlc2hTcHJpdGVGcmFtZSh2KTtcbiAgICB9XG4gICBcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/LoadingManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '48049jD6zJMmoi+cPkRhX7D', 'LoadingManager');
// framework/plugin_boosts/ui/LoadingManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Loading = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Loading = null;
var LoadingManager = /** @class */ (function (_super) {
    __extends(LoadingManager, _super);
    function LoadingManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this.loadingNode = null;
        _this.loadingSprite = null;
        _this.loadingText = null;
        _this.blockEventComp = null;
        _this._callback = null;
        _this._target = null;
        return _this;
        // update (dt) {}
    }
    LoadingManager.prototype.onLoad = function () {
        this.loadingNode = cc.instantiate(this.prefab);
        this.blockEventComp = this.loadingNode.getComponent(cc.BlockInputEvents);
        this.loadingNode.parent = this.node;
        this.loadingNode.zIndex = 9999;
        this.loadingSprite = this.loadingNode.getComponentInChildren(cc.Sprite);
        this.loadingText = this.loadingNode.getComponentInChildren(cc.Label);
        this.hide();
        exports.Loading = this;
    };
    LoadingManager.prototype.start = function () {
        this.loadingSprite.node.runAction(cc.rotateBy(4, 360).repeatForever());
    };
    LoadingManager.prototype.dealyClose = function () {
        this.hide();
        if (this._callback) {
            this._callback.call(this._target);
        }
    };
    LoadingManager.prototype.show = function (timeout, text, modal, callback, target) {
        if (text === void 0) { text = null; }
        if (modal === void 0) { modal = true; }
        if (callback === void 0) { callback = null; }
        if (target === void 0) { target = null; }
        this.loadingNode.active = true;
        this.loadingNode.resumeAllActions();
        this.blockEventComp.enabled = modal;
        this._callback = callback;
        this._target = target;
        if (text)
            this.loadingText.string = text;
        if (timeout > 0) {
            this.unschedule(this.dealyClose);
            this.scheduleOnce(this.dealyClose, timeout);
        }
    };
    LoadingManager.prototype.hide = function () {
        this.loadingNode.active = false;
        this.loadingNode.pauseAllActions();
    };
    __decorate([
        property(cc.Prefab)
    ], LoadingManager.prototype, "prefab", void 0);
    LoadingManager = __decorate([
        ccclass
    ], LoadingManager);
    return LoadingManager;
}(cc.Component));
exports.default = LoadingManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTG9hZGluZ01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLE9BQU8sR0FBa0IsSUFBSSxDQUFDO0FBR3pDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBNERDO1FBekRHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFDM0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFDL0IsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFDNUIsb0JBQWMsR0FBdUIsSUFBSSxDQUFDO1FBRTFDLGVBQVMsR0FBTyxJQUFJLENBQUM7UUFDckIsYUFBTyxHQUFPLElBQUksQ0FBQzs7UUFnRG5CLGlCQUFpQjtJQUNyQixDQUFDO0lBaERHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLGVBQU8sR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELDhCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsbUNBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFDakI7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDcEM7SUFDTCxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLE9BQU8sRUFBQyxJQUFTLEVBQUMsS0FBWSxFQUFDLFFBQWUsRUFBQyxNQUFhO1FBQXBELHFCQUFBLEVBQUEsV0FBUztRQUFDLHNCQUFBLEVBQUEsWUFBWTtRQUFDLHlCQUFBLEVBQUEsZUFBZTtRQUFDLHVCQUFBLEVBQUEsYUFBYTtRQUU3RCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQTtRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQTtRQUNyQixJQUFHLElBQUk7WUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkMsSUFBRyxPQUFPLEdBQUcsQ0FBQyxFQUNkO1lBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQzdDO0lBQ0wsQ0FBQztJQUVELDZCQUFJLEdBQUo7UUFFSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0lBdEREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ0k7SUFIUCxjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBNERsQztJQUFELHFCQUFDO0NBNURELEFBNERDLENBNUQyQyxFQUFFLENBQUMsU0FBUyxHQTREdkQ7a0JBNURvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCB2YXIgTG9hZGluZzpMb2FkaW5nTWFuYWdlciA9IG51bGw7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgbG9hZGluZ05vZGU6Y2MuTm9kZSA9IG51bGw7XG4gICAgbG9hZGluZ1Nwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xuICAgIGxvYWRpbmdUZXh0OmNjLkxhYmVsID0gbnVsbDtcbiAgICBibG9ja0V2ZW50Q29tcDpjYy5CbG9ja0lucHV0RXZlbnRzID0gbnVsbDtcblxuICAgIF9jYWxsYmFjazphbnkgPSBudWxsO1xuICAgIF90YXJnZXQ6YW55ID0gbnVsbDtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKTtcbiAgICAgICAgdGhpcy5ibG9ja0V2ZW50Q29tcCA9IHRoaXMubG9hZGluZ05vZGUuZ2V0Q29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpO1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLnBhcmVudCA9IHRoaXMubm9kZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS56SW5kZXggPSA5OTk5O1xuICAgICAgICB0aGlzLmxvYWRpbmdTcHJpdGUgPSB0aGlzLmxvYWRpbmdOb2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuU3ByaXRlKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nVGV4dCA9IHRoaXMubG9hZGluZ05vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBMb2FkaW5nID0gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMubG9hZGluZ1Nwcml0ZS5ub2RlLnJ1bkFjdGlvbihjYy5yb3RhdGVCeSg0LDM2MCkucmVwZWF0Rm9yZXZlcigpKTtcbiAgICB9XG5cbiAgICBkZWFseUNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBpZih0aGlzLl9jYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2suY2FsbCh0aGlzLl90YXJnZXQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93KHRpbWVvdXQsdGV4dD1udWxsLG1vZGFsID0gdHJ1ZSxjYWxsYmFjayA9IG51bGwsdGFyZ2V0ID0gbnVsbClcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5yZXN1bWVBbGxBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuYmxvY2tFdmVudENvbXAuZW5hYmxlZCA9IG1vZGFsXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2sgXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldFxuICAgICAgICBpZih0ZXh0KVxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zdHJpbmcgPSB0ZXh0O1xuICAgICAgICBpZih0aW1lb3V0ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuZGVhbHlDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmRlYWx5Q2xvc2UsdGltZW91dClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5wYXVzZUFsbEFjdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e4171eQC3dMO4x8/Td1XV1Y', 'DCUI');
// framework/plugin_boosts/ui/DCUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataCenter_1 = require("../misc/DataCenter");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCUI = /** @class */ (function (_super) {
    __extends(DCUI, _super);
    function DCUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.dataBind = "";
        return _this;
    }
    DCUI.prototype.onLoad = function () {
    };
    DCUI.prototype.setDCKey = function (k) {
        this.dataBind = k;
        this.setListener();
    };
    DCUI.prototype.setListener = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
        DataCenter_1.default.on(this.dataBind, this.dataChanged, this);
    };
    DCUI.prototype.onValueChanged = function (v) {
    };
    DCUI.prototype.setDCValue = function (v) {
        DataCenter_1.default.set(this.dataBind, v);
    };
    DCUI.prototype.dataChanged = function (v, old) {
        this.onValueChanged(v);
    };
    DCUI.prototype.onEnable = function () {
        this.setListener();
        this.onValueChanged(DataCenter_1.default.get(this.dataBind));
    };
    DCUI.prototype.onDisable = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
    };
    __decorate([
        property()
    ], DCUI.prototype, "dataBind", void 0);
    DCUI = __decorate([
        ccclass
    ], DCUI);
    return DCUI;
}(cc.Component));
exports.default = DCUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaURBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBMkNDO1FBeENHLGNBQVEsR0FBVyxFQUFFLENBQUM7O0lBd0MxQixDQUFDO0lBdkNHLHFCQUFNLEdBQU47SUFFQSxDQUFDO0lBRUQsdUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDdEIsQ0FBQztJQUdELDBCQUFXLEdBQVg7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFDbkQsb0JBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3RELENBQUM7SUFFRCw2QkFBYyxHQUFkLFVBQWUsQ0FBQztJQUVoQixDQUFDO0lBRUQseUJBQVUsR0FBVixVQUFXLENBQUM7UUFFUixvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCwwQkFBVyxHQUFYLFVBQVksQ0FBQyxFQUFDLEdBQUc7UUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCx1QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO1FBQ2xCLElBQUksQ0FBQyxjQUFjLENBQUMsb0JBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELHdCQUFTLEdBQVQ7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDdkQsQ0FBQztJQXZDRDtRQURDLFFBQVEsRUFBRTswQ0FDVztJQUhMLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0EyQ3hCO0lBQUQsV0FBQztDQTNDRCxBQTJDQyxDQTNDaUMsRUFBRSxDQUFDLFNBQVMsR0EyQzdDO2tCQTNDb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhQ2VudGVyIGZyb20gXCIuLi9taXNjL0RhdGFDZW50ZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1VJIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eSgpXG4gICAgZGF0YUJpbmQ6IHN0cmluZyA9IFwiXCI7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgfVxuXG4gICAgc2V0RENLZXkoaylcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YUJpbmQgPSBrO1xuICAgICAgICB0aGlzLnNldExpc3RlbmVyKClcbiAgICB9XG5cblxuICAgIHNldExpc3RlbmVyKClcbiAgICB7XG4gICAgICAgIERhdGFDZW50ZXIub2ZmKHRoaXMuZGF0YUJpbmQsdGhpcy5kYXRhQ2hhbmdlZCx0aGlzKVxuICAgICAgICBEYXRhQ2VudGVyLm9uKHRoaXMuZGF0YUJpbmQsdGhpcy5kYXRhQ2hhbmdlZCx0aGlzKVxuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXG4gICAge1xuICAgIH1cblxuICAgIHNldERDVmFsdWUodilcbiAgICB7XG4gICAgICAgIERhdGFDZW50ZXIuc2V0KHRoaXMuZGF0YUJpbmQsIHYpO1xuICAgIH1cblxuICAgIGRhdGFDaGFuZ2VkKHYsb2xkKTogYW55IHtcbiAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZCh2KTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSAoKSB7XG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIoKVxuICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKERhdGFDZW50ZXIuZ2V0KHRoaXMuZGF0YUJpbmQpKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKVxuICAgIHtcbiAgICAgICAgRGF0YUNlbnRlci5vZmYodGhpcy5kYXRhQmluZCx0aGlzLmRhdGFDaGFuZ2VkLHRoaXMpXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCToggle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f9e52WLze5MBrhxXx/fWqyL', 'DCToggle');
// framework/plugin_boosts/ui/DCToggle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCToggle = /** @class */ (function (_super) {
    __extends(DCToggle, _super);
    function DCToggle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.revserse = false;
        _this.autosync = true;
        return _this;
    }
    DCToggle.prototype.onLoad = function () {
        this.toggle = this.getComponent(cc.Toggle);
        if (this.autosync) {
            var listener = new cc.Component.EventHandler();
            listener.component = "DCToggle";
            listener.target = this.node;
            listener.handler = "onChecked";
            this.toggle.checkEvents.push(listener);
        }
    };
    DCToggle.prototype.onChecked = function (v) {
        if (this.isFromSelf)
            return;
        if (this.revserse) {
            this.setDCValue(!v.isChecked);
        }
        else {
            this.setDCValue(v.isChecked);
        }
    };
    DCToggle.prototype.setChecked = function (b) {
        this.isFromSelf = true;
        if (b)
            this.toggle.check();
        else
            this.toggle.uncheck();
        this.isFromSelf = false;
    };
    DCToggle.prototype.onValueChanged = function (v) {
        if (this.revserse) {
            this.setChecked(!v);
        }
        else {
            this.setChecked(v);
        }
    };
    __decorate([
        property({ tooltip: "If reverse is enabled ,checked is false !, unchecked is true" })
    ], DCToggle.prototype, "revserse", void 0);
    __decorate([
        property({ tooltip: " Make sure data bind type should be boolean" })
    ], DCToggle.prototype, "autosync", void 0);
    DCToggle = __decorate([
        ccclass
    ], DCToggle);
    return DCToggle;
}(DCUI_1.default));
exports.default = DCToggle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENUb2dnbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUUxQixvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBSTtJQUExQztRQUFBLHFFQXlEQztRQXJERyxjQUFRLEdBQVcsS0FBSyxDQUFDO1FBSXpCLGNBQVEsR0FBVyxJQUFJLENBQUM7O0lBaUQ1QixDQUFDO0lBN0NHLHlCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDL0MsUUFBUSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7WUFDaEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQzVCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtTQUN6QztJQUNMLENBQUM7SUFFRCw0QkFBUyxHQUFULFVBQVUsQ0FBQztRQUVQLElBQUcsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPO1FBQzNCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2pDO2FBQUk7WUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNoQztJQUNMLENBQUM7SUFFRCw2QkFBVSxHQUFWLFVBQVcsQ0FBQztRQUVSLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUcsQ0FBQztZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7O1lBRW5CLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFDM0IsQ0FBQztJQUVELGlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN0QjthQUFJO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNyQjtJQUVMLENBQUM7SUFuREQ7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsOERBQThELEVBQUMsQ0FBQzs4Q0FDMUQ7SUFJekI7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsNkNBQTZDLEVBQUMsQ0FBQzs4Q0FDMUM7SUFSUCxRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBeUQ1QjtJQUFELGVBQUM7Q0F6REQsQUF5REMsQ0F6RHFDLGNBQUksR0F5RHpDO2tCQXpEb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1RvZ2dsZSBleHRlbmRzIERDVUkge1xuXG4gICAgdG9nZ2xlOmNjLlRvZ2dsZTtcbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCJJZiByZXZlcnNlIGlzIGVuYWJsZWQgLGNoZWNrZWQgaXMgZmFsc2UgISwgdW5jaGVja2VkIGlzIHRydWVcIn0pXG4gICAgcmV2c2Vyc2U6Ym9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCIgTWFrZSBzdXJlIGRhdGEgYmluZCB0eXBlIHNob3VsZCBiZSBib29sZWFuXCJ9KVxuICAgIGF1dG9zeW5jOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgaXNGcm9tU2VsZjpib29sZWFuO1xuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9nZ2xlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuVG9nZ2xlKTtcbiAgICAgICAgaWYodGhpcy5hdXRvc3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbXBvbmVudCA9IFwiRENUb2dnbGVcIjtcbiAgICAgICAgICAgIGxpc3RlbmVyLnRhcmdldCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZXIgPSBcIm9uQ2hlY2tlZFwiO1xuICAgICAgICAgICAgdGhpcy50b2dnbGUuY2hlY2tFdmVudHMucHVzaChsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hlY2tlZCh2KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5pc0Zyb21TZWxmKSByZXR1cm47XG4gICAgICAgIGlmKHRoaXMucmV2c2Vyc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RENWYWx1ZSghdi5pc0NoZWNrZWQpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc2V0RENWYWx1ZSh2LmlzQ2hlY2tlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDaGVja2VkKGIpXG4gICAge1xuICAgICAgICB0aGlzLmlzRnJvbVNlbGYgPSB0cnVlO1xuICAgICAgICBpZihiKVxuICAgICAgICAgICAgdGhpcy50b2dnbGUuY2hlY2soKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZS51bmNoZWNrKCk7XG4gICAgICAgIHRoaXMuaXNGcm9tU2VsZiA9IGZhbHNlXG4gICAgfVxuXG4gICAgb25WYWx1ZUNoYW5nZWQodilcbiAgICB7XG4gICAgICAgIGlmKHRoaXMucmV2c2Vyc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2tlZCghdilcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnNldENoZWNrZWQodilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/PandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f36aidibxFPY2TBTu8gRyi', 'PandoraPoint');
// framework/plugin_boosts/ui/PandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PandoraPoint = /** @class */ (function (_super) {
    __extends(PandoraPoint, _super);
    function PandoraPoint() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numberVisible = true;
        return _this;
        // update (dt) {}
    }
    PandoraPoint.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
        this.label = this.getComponentInChildren(cc.Label);
        this.label.node.active = this.numberVisible;
    };
    PandoraPoint.prototype.start = function () {
    };
    PandoraPoint.prototype.setNumber = function (n) {
        if (this.numberVisible) {
            this.label.string = n + "";
        }
        if (this.numberVisible) {
            this.label.node.active = n != 0;
        }
        this.sprite.enabled = n != 0;
    };
    __decorate([
        property
    ], PandoraPoint.prototype, "numberVisible", void 0);
    PandoraPoint = __decorate([
        ccclass
    ], PandoraPoint);
    return PandoraPoint;
}(cc.Component));
exports.default = PandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcUGFuZG9yYVBvaW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQWlDQztRQTVCRyxtQkFBYSxHQUFXLElBQUksQ0FBQzs7UUEyQjdCLGlCQUFpQjtJQUNyQixDQUFDO0lBeEJHLDZCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoRCxDQUFDO0lBRUQsNEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCxnQ0FBUyxHQUFULFVBQVUsQ0FBUTtRQUVkLElBQUcsSUFBSSxDQUFDLGFBQWEsRUFDckI7WUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUUsRUFBRSxDQUFBO1NBQzVCO1FBQ0QsSUFBRyxJQUFJLENBQUMsYUFBYSxFQUNyQjtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxDQUFDLElBQUUsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBekJEO1FBREMsUUFBUTt1REFDb0I7SUFMWixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBaUNoQztJQUFELG1CQUFDO0NBakNELEFBaUNDLENBakN5QyxFQUFFLENBQUMsU0FBUyxHQWlDckQ7a0JBakNvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5kb3JhUG9pbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgbGFiZWw6Y2MuTGFiZWw7XG5cbiAgICBAcHJvcGVydHlcbiAgICBudW1iZXJWaXNpYmxlOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgc3ByaXRlOmNjLlNwcml0ZVxuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICB0aGlzLmxhYmVsID0gdGhpcy5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLkxhYmVsKTtcbiAgICAgICAgdGhpcy5sYWJlbC5ub2RlLmFjdGl2ZSA9IHRoaXMubnVtYmVyVmlzaWJsZTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbiAgICBzZXROdW1iZXIobjpudW1iZXIpXG4gICAge1xuICAgICAgICBpZih0aGlzLm51bWJlclZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gbiArXCJcIlxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMubnVtYmVyVmlzaWJsZSkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwubm9kZS5hY3RpdmUgPSAgbiE9MDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwcml0ZS5lbmFibGVkID0gbiAhPTA7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIFunctions.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10205trRZVOELcrvc3TW2mW', 'UIFunctions');
// framework/plugin_boosts/ui/UIFunctions.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions = /** @class */ (function () {
    function UIFunctions() {
    }
    UIFunctions.getChildrenAnimations = function (node) {
        var animations = [];
        var anim = node.getComponent(cc.Animation);
        if (anim)
            animations.push(anim);
        for (var i = 0; i < node.childrenCount; i++) {
            var child = node.children[i];
            var anim = child.getComponent(cc.Animation);
            if (anim)
                animations.push(anim);
        }
        return animations;
    };
    UIFunctions.stopAnimations = function (animations) {
        animations.forEach(function (anim) {
            anim.stop();
        });
    };
    UIFunctions.doShowAnimations = function (animations, finishCallback, target) {
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length > 0) {
                var clip = clips[0];
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Normal;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (finishCallback) {
            var func_1 = function () {
                // console.log("finish animations")
                if (maxDurationAnimation)
                    maxDurationAnimation.off("finished", func_1);
                finishCallback.call(target);
            };
            if (maxDurationAnimation)
                maxDurationAnimation.on("finished", func_1);
            else
                finishCallback.call(target);
        }
    };
    // static getLongestAnimation(animations)
    // {
    //     animations.forEach((anim:cc.Animation)=>{
    //         let clips = anim.getClips()
    //         for (clips)
    //         //以最长的为准
    //     }
    // }
    //TODO:还未实现
    UIFunctions.isAnimationRunning = function (animations) {
        return false;
    };
    UIFunctions.doHideAnimations = function (animations, finishCallback, target) {
        var hasHideAnimation = false;
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length == 2) {
                var clip = clips[clips.length - 1];
                // anim.on("finished",onHideAnimationFinished)
                hasHideAnimation = true;
                anim.play(clip.name);
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
            else if (clips.length == 1) {
                var clip = clips[0];
                // clip.wrapMode = cc.WrapMode.Reverse;
                hasHideAnimation = true;
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Reverse;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (maxDurationAnimation && finishCallback) {
            var func_2 = function () {
                // console.log("finish animations")
                maxDurationAnimation.off("finished", func_2);
                finishCallback.call(target);
            };
            maxDurationAnimation.on("finished", func_2);
        }
        return hasHideAnimation;
    };
    UIFunctions.getToggleIndex = function (toggle) {
        var container = toggle.node.getParent();
        for (var i = 0; i < container.childrenCount; i++) {
            var child = container.children[i];
            if (toggle.node == child) {
                return i;
            }
        }
        return -1;
    };
    UIFunctions.selectToggleIndex = function (toggleContainer, index) {
        if (toggleContainer == null) {
            console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :");
            return;
        }
        var toggleNode = toggleContainer.children[index];
        if (toggleNode) {
            var toggle = toggleNode.getComponent(cc.Toggle);
            if (toggle) {
                console.log("[UIFunction.selectToggleIndex] :" + index);
                toggle.check();
            }
        }
        else {
            console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:" + index);
        }
    };
    // set btn 
    UIFunctions.setTouchEnabled = function (node, b) {
        g.foreachNode(node, function (child) {
            var btn = child.getComponent(cc.Button);
            if (btn) {
                console.log("[UIFunction] " + child.name + " touch : " + b);
                btn.interactable = b;
            }
        });
    };
    UIFunctions.setButtonEnabled = function (btn, b) {
        btn.node.opacity = b ? 255 : 125;
        btn.interactable = b;
    };
    return UIFunctions;
}());
exports.default = UIFunctions;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlGdW5jdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2S0EsQ0FBQztJQTFLVSxpQ0FBcUIsR0FBNUIsVUFBNkIsSUFBSTtRQUM3QixJQUFJLFVBQVUsR0FBa0IsRUFBRSxDQUFBO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsSUFBSTtZQUNILFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEVBQzFDO1lBQ0ksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUMzQyxJQUFHLElBQUk7Z0JBQ0gsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUM1QjtRQUNELE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFTSwwQkFBYyxHQUFyQixVQUFzQixVQUFVO1FBRTVCLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFpQjtZQUNqQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sNEJBQWdCLEdBQXZCLFVBQXdCLFVBQVUsRUFBQyxjQUF3QixFQUFDLE1BQU87UUFFL0QsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFFO1FBQ3JCLElBQUksb0JBQWlDLENBQUM7UUFDdEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQWlCO1lBQ2pDLElBQUks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QUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLEdBQUcsS0FBSyxDQUFDLENBQUE7Z0JBQ3ZELE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTthQUNqQjtTQUNKO2FBQUk7WUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLGdFQUFnRSxHQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3hGO0lBQ0wsQ0FBQztJQUVELFdBQVc7SUFDSiwyQkFBZSxHQUF0QixVQUF1QixJQUFJLEVBQUMsQ0FBQztRQUV6QixDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksRUFBQyxVQUFBLEtBQUs7WUFDcEIsSUFBSSxHQUFHLEdBQWEsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakQsSUFBRyxHQUFHLEVBQ047Z0JBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUE7Z0JBQzNELEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO1FBQ0wsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sNEJBQWdCLEdBQXZCLFVBQXdCLEdBQUcsRUFBQyxDQUFDO1FBRXpCLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQSxDQUFDLENBQUEsR0FBRyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUM7UUFDN0IsR0FBRyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUE7SUFDeEIsQ0FBQztJQUVMLGtCQUFDO0FBQUQsQ0E3S0EsQUE2S0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJRnVuY3Rpb25zXG57XG4gICAgXG4gICAgc3RhdGljIGdldENoaWxkcmVuQW5pbWF0aW9ucyhub2RlKTogY2MuQW5pbWF0aW9uW10ge1xuICAgICAgICBsZXQgYW5pbWF0aW9uczpjYy5BbmltYXRpb25bXSA9IFtdXG4gICAgICAgIHZhciBhbmltID0gbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKVxuICAgICAgICBpZihhbmltKVxuICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW0pXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCBub2RlLmNoaWxkcmVuQ291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIHZhciBhbmltID0gY2hpbGQuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbilcbiAgICAgICAgICAgIGlmKGFuaW0pXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnNcbiAgICB9XG5cbiAgICBzdGF0aWMgc3RvcEFuaW1hdGlvbnMoYW5pbWF0aW9ucylcbiAgICB7XG4gICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbTpjYy5BbmltYXRpb24pPT57XG4gICAgICAgICAgICBhbmltLnN0b3AoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZG9TaG93QW5pbWF0aW9ucyhhbmltYXRpb25zLGZpbmlzaENhbGxiYWNrPzpGdW5jdGlvbix0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgbGV0IG1heER1cmF0aW9uID0gMCA7XG4gICAgICAgIGxldCBtYXhEdXJhdGlvbkFuaW1hdGlvbjpjYy5BbmltYXRpb247XG4gICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbTpjYy5BbmltYXRpb24pPT57XG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcbiAgICAgICAgICAgIGlmKGNsaXBzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1swXVxuICAgICAgICAgICAgICAgIGxldCBhbmltU3RhdGUgPSBhbmltLnBsYXkoY2xpcC5uYW1lKVxuICAgICAgICAgICAgICAgIGFuaW1TdGF0ZS53cmFwTW9kZSA9IGNjLldyYXBNb2RlLk5vcm1hbFxuICAgICAgICAgICAgICAgIGlmIChjbGlwLmR1cmF0aW9uID4gbWF4RHVyYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbiAgPSBjbGlwLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbiA9IGFuaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBpZiAoZmluaXNoQ2FsbGJhY2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmdW5jID0gZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmluaXNoIGFuaW1hdGlvbnNcIilcbiAgICAgICAgICAgICAgICBpZihtYXhEdXJhdGlvbkFuaW1hdGlvbilcbiAgICAgICAgICAgICAgICAgICAgbWF4RHVyYXRpb25BbmltYXRpb24ub2ZmKFwiZmluaXNoZWRcIixmdW5jKTtcbiAgICAgICAgICAgICAgICBmaW5pc2hDYWxsYmFjay5jYWxsKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihtYXhEdXJhdGlvbkFuaW1hdGlvbilcbiAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbi5vbihcImZpbmlzaGVkXCIsZnVuYyk7XG4gICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgIGZpbmlzaENhbGxiYWNrLmNhbGwodGFyZ2V0KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3RhdGljIGdldExvbmdlc3RBbmltYXRpb24oYW5pbWF0aW9ucylcbiAgICAvLyB7XG4gICAgLy8gICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbTpjYy5BbmltYXRpb24pPT57XG4gICAgLy8gICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcbiAgICAvLyAgICAgICAgIGZvciAoY2xpcHMpXG4gICAgICAgICAgICBcbiAgICAvLyAgICAgICAgIC8v5Lul5pyA6ZW/55qE5Li65YeGXG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvL1RPRE866L+Y5pyq5a6e546wXG4gICAgc3RhdGljIGlzQW5pbWF0aW9uUnVubmluZyhhbmltYXRpb25zOiBjYy5BbmltYXRpb25bXSk6IGFueSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZG9IaWRlQW5pbWF0aW9ucyhhbmltYXRpb25zLGZpbmlzaENhbGxiYWNrPzpGdW5jdGlvbix0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgbGV0IGhhc0hpZGVBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgICAgbGV0IG1heER1cmF0aW9uID0gMCA7XG4gICAgICAgIGxldCBtYXhEdXJhdGlvbkFuaW1hdGlvbjpjYy5BbmltYXRpb247XG4gICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbTpjYy5BbmltYXRpb24pPT57XG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcbiAgICAgICAgICAgIGlmKGNsaXBzLmxlbmd0aCA9PSAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBjbGlwID0gY2xpcHNbY2xpcHMubGVuZ3RoLTFdXG4gICAgICAgICAgICAgICAgLy8gYW5pbS5vbihcImZpbmlzaGVkXCIsb25IaWRlQW5pbWF0aW9uRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgaGFzSGlkZUFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgYW5pbS5wbGF5KGNsaXAubmFtZSlcbiAgICAgICAgICAgICAgICBpZiAoY2xpcC5kdXJhdGlvbiA+IG1heER1cmF0aW9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4RHVyYXRpb24gID0gY2xpcC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbWF4RHVyYXRpb25BbmltYXRpb24gPSBhbmltO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNlIGlmKGNsaXBzLmxlbmd0aCA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBjbGlwID0gY2xpcHNbMF07XG4gICAgICAgICAgICAgICAgLy8gY2xpcC53cmFwTW9kZSA9IGNjLldyYXBNb2RlLlJldmVyc2U7XG4gICAgICAgICAgICAgICAgaGFzSGlkZUFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IGFuaW1TdGF0ZSA9IGFuaW0ucGxheShjbGlwLm5hbWUpXG4gICAgICAgICAgICAgICAgYW5pbVN0YXRlLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuUmV2ZXJzZVxuICAgICAgICAgICAgICAgIGlmIChjbGlwLmR1cmF0aW9uID4gbWF4RHVyYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbiAgPSBjbGlwLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbiA9IGFuaW07XG4gICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBpZiAobWF4RHVyYXRpb25BbmltYXRpb24gJiYgZmluaXNoQ2FsbGJhY2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmdW5jID0gZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmluaXNoIGFuaW1hdGlvbnNcIilcbiAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbi5vZmYoXCJmaW5pc2hlZFwiLGZ1bmMpO1xuICAgICAgICAgICAgICAgIGZpbmlzaENhbGxiYWNrLmNhbGwodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uLm9uKFwiZmluaXNoZWRcIixmdW5jKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzSGlkZUFuaW1hdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VG9nZ2xlSW5kZXgodG9nZ2xlOmNjLlRvZ2dsZSlcbiAgICB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSB0b2dnbGUubm9kZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBjb250YWluZXIuY2hpbGRyZW5Db3VudDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IGNvbnRhaW5lci5jaGlsZHJlbltpXVxuICAgICAgICAgICAgaWYodG9nZ2xlLm5vZGUgPT0gY2hpbGQgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2VsZWN0VG9nZ2xlSW5kZXgodG9nZ2xlQ29udGFpbmVyOmNjLk5vZGUsaW5kZXgpXG4gICAge1xuICAgICAgICBpZih0b2dnbGVDb250YWluZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1VJRnVuY3Rpb24uc2VsZWN0VG9nZ2xlSW5kZXhdIDogaW52YWxpZCB0b2dnbGVDb250YWluZXIgOlwiIClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9nZ2xlTm9kZSA9IHRvZ2dsZUNvbnRhaW5lci5jaGlsZHJlbltpbmRleF1cbiAgICAgICAgaWYodG9nZ2xlTm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvZ2dsZSA9IHRvZ2dsZU5vZGUuZ2V0Q29tcG9uZW50KGNjLlRvZ2dsZSlcbiAgICAgICAgICAgIGlmKHRvZ2dsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltVSUZ1bmN0aW9uLnNlbGVjdFRvZ2dsZUluZGV4XSA6XCIgKyBpbmRleClcbiAgICAgICAgICAgICAgICB0b2dnbGUuY2hlY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltVSUZ1bmN0aW9uLnNlbGVjdFRvZ2dsZUluZGV4XSA6Y2Fubm90IGZpbmQgdG9nZ2xlIHdpdGggaW5kZXg6XCIrIGluZGV4KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0IGJ0biBcbiAgICBzdGF0aWMgc2V0VG91Y2hFbmFibGVkKG5vZGUsYilcbiAgICB7XG4gICAgICAgIGcuZm9yZWFjaE5vZGUobm9kZSxjaGlsZD0+e1xuICAgICAgICAgICAgbGV0IGJ0bjpjYy5CdXR0b24gPSBjaGlsZC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKVxuICAgICAgICAgICAgaWYoYnRuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1VJRnVuY3Rpb25dIFwiICsgY2hpbGQubmFtZSArIFwiIHRvdWNoIDogXCIgKyBiKVxuICAgICAgICAgICAgICAgIGJ0bi5pbnRlcmFjdGFibGUgPSBiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzZXRCdXR0b25FbmFibGVkKGJ0bixiKVxuICAgIHtcbiAgICAgICAgYnRuLm5vZGUub3BhY2l0eSA9IGI/MjU1OjEyNTtcbiAgICAgICAgYnRuLmludGVyYWN0YWJsZSA9IGJcbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0dc9dQt58ZCx4tQ3mcNvEZr', 'UIComponent');
// framework/plugin_boosts/ui/UIComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIComponent = /** @class */ (function (_super) {
    __extends(UIComponent, _super);
    function UIComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIComponent.prototype.hide = function () {
        this.node.active = false;
    };
    UIComponent.prototype.show = function () {
        this.node.active = true;
    };
    UIComponent = __decorate([
        ccclass
    ], UIComponent);
    return UIComponent;
}(cc.Component));
exports.default = UIComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEOztJQVFBLENBQUM7SUFQRywwQkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQzdCLENBQUM7SUFDRCwwQkFBSSxHQUFKO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFQZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQVEvQjtJQUFELGtCQUFDO0NBUkQsQUFRQyxDQVJ3QyxFQUFFLENBQUMsU0FBUyxHQVFwRDtrQkFSb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIGhpZGUoKXtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBzaG93KClcbiAgICB7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCLabel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a56c0Fh1bpDto6UwDov+u7M', 'DCLabel');
// framework/plugin_boosts/ui/DCLabel.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCLabel = /** @class */ (function (_super) {
    __extends(DCLabel, _super);
    function DCLabel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCLabel.prototype.onLoad = function () {
        this.label = this.getComponent(cc.Label);
    };
    DCLabel.prototype.onValueChanged = function (v) {
        if (!v) {
            console.log("[DCLabel] warn!", "not found field " + this.dataBind);
            v = "0";
        }
        this.label.string = v;
    };
    DCLabel = __decorate([
        ccclass,
        requireComponent(cc.Label)
    ], DCLabel);
    return DCLabel;
}(DCUI_1.default));
exports.default = DCLabel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENMYWJlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBRXBCLElBQUEsS0FBdUMsRUFBRSxDQUFDLFVBQVUsRUFBbkQsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUMsZ0JBQWdCLHNCQUFpQixDQUFDO0FBSzNEO0lBQXFDLDJCQUFJO0lBQXpDOztJQWtCQSxDQUFDO0lBZkcsd0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELGdDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxDQUFDLENBQUMsRUFBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUcsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQ25FLENBQUMsR0FBRyxHQUFHLENBQUE7U0FDVjtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBZmdCLE9BQU87UUFGM0IsT0FBTztRQUNQLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7T0FDTixPQUFPLENBa0IzQjtJQUFELGNBQUM7Q0FsQkQsQUFrQkMsQ0FsQm9DLGNBQUksR0FrQnhDO2tCQWxCb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcblxuXG5AY2NjbGFzc1xuQHJlcXVpcmVDb21wb25lbnQoY2MuTGFiZWwpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ0xhYmVsIGV4dGVuZHMgRENVSSB7XG5cbiAgICBsYWJlbDpjYy5MYWJlbDtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICB9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgaWYoIXYpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRENMYWJlbF0gd2FybiFcIiAsIFwibm90IGZvdW5kIGZpZWxkIFwiICsgdGhpcy5kYXRhQmluZClcbiAgICAgICAgICAgIHYgPSBcIjBcIlxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gdjtcbiAgICB9XG4gICBcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c4ad6Rf0DpFeay8D3aly6IU', 'ToastComponent');
// framework/plugin_boosts/ui/ToastComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions_1 = require("./UIFunctions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ToastComponent = /** @class */ (function (_super) {
    __extends(ToastComponent, _super);
    function ToastComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
        // update (dt) {}
    }
    ToastComponent.prototype.onLoad = function () {
        this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
    };
    ToastComponent.prototype.start = function () {
    };
    ToastComponent.prototype.hide = function (callback) {
        this.node.active = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, callback)) {
            this.node.active = false;
            // this.node.removeFromParent();
            if (callback) {
                callback(this);
            }
        }
    };
    ToastComponent.prototype.show = function (text) {
        this.label.string = text;
        UIFunctions_1.default.doShowAnimations(this.animations);
    };
    __decorate([
        property(cc.Label)
    ], ToastComponent.prototype, "label", void 0);
    ToastComponent = __decorate([
        ccclass
    ], ToastComponent);
    return ToastComponent;
}(cc.Component));
exports.default = ToastComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF3QztBQUVsQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQWlDQztRQS9CRyxXQUFLLEdBQWEsSUFBSSxDQUFDOztRQThCdkIsaUJBQWlCO0lBQ3JCLENBQUM7SUExQkcsK0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxVQUFVLEdBQUcscUJBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELDhCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLFFBQVE7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBRyxDQUFDLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxRQUFRLENBQUMsRUFDMUQ7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDekIsZ0NBQWdDO1lBQ2hDLElBQUcsUUFBUSxFQUNYO2dCQUNJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQjtTQUNKO0lBQ0wsQ0FBQztJQUNELDZCQUFJLEdBQUosVUFBSyxJQUFTO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUE3QkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSTtJQUZOLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FpQ2xDO0lBQUQscUJBQUM7Q0FqQ0QsQUFpQ0MsQ0FqQzJDLEVBQUUsQ0FBQyxTQUFTLEdBaUN2RDtrQkFqQ29CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdENvbXBvbmVudCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG4gICAgLy8gb25Mb2FkICgpIHt9XG4gICAgYW5pbWF0aW9uczpjYy5BbmltYXRpb25bXVxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFVJRnVuY3Rpb25zLmdldENoaWxkcmVuQW5pbWF0aW9ucyh0aGlzLm5vZGUpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIGhpZGUoY2FsbGJhY2spOiBhbnkge1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgaWYoIVVJRnVuY3Rpb25zLmRvSGlkZUFuaW1hdGlvbnModGhpcy5hbmltYXRpb25zLGNhbGxiYWNrKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdGhpcy5ub2RlLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNob3codGV4dDogYW55KTogYW55IHtcbiAgICAgICAgdGhpcy5sYWJlbC5zdHJpbmcgPSB0ZXh0O1xuICAgICAgICBVSUZ1bmN0aW9ucy5kb1Nob3dBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/FSM.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83f52qrCghNrKS6jOC/j6I0', 'FSM');
// framework/plugin_boosts/gamesys/FSM.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.State = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var State = /** @class */ (function () {
    function State(id, name) {
        this.__interval_callbacks = [];
        this.interval_id = 0;
        this.id = id;
        this.name = name;
    }
    State.prototype.onEnter = function (params) { };
    State.prototype.onExit = function () { };
    State.prototype.onUpdate = function (dt) { };
    //messages 
    State.prototype.on = function () { };
    State.prototype.off = function () { };
    State.prototype.clearIntervals = function () {
        this.__interval_callbacks.splice(0, this.__interval_callbacks.length);
    };
    State.prototype.setInterval = function (interval, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, interval: interval, timer: timer });
        return id;
    };
    State.prototype.clearInterval = function (id) {
        this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(id));
    };
    State.prototype.setTimeout = function (delay, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, delay: delay, timer: timer });
        return id;
    };
    State.prototype.clearTimeout = function (id) {
        this.clearInterval(id);
    };
    State.prototype.invokeIntervals = function (dt) {
        for (var i = 0; i < this.__interval_callbacks.length; i++) {
            var element = this.__interval_callbacks[i];
            element.timer = element.timer + dt;
            if (element.interval) {
                if (element.timer >= element.interval) {
                    element.timer = 0;
                    // call
                    element.callback.call(element.target);
                }
            }
            else if (element.delay) {
                if (element.timer >= element.delay) {
                    // call
                    element.callback.call(element.target);
                    this.__interval_callbacks.splice(i);
                    i--;
                }
            }
        }
    };
    return State;
}());
exports.State = State;
var CustomState = /** @class */ (function (_super) {
    __extends(CustomState, _super);
    function CustomState(target, id, name, pattern) {
        var _this = _super.call(this, id, name) || this;
        var enterName = cc.js.formatStr(pattern, "onEnter", _this.name);
        var updateName = cc.js.formatStr(pattern, "onUpdate", _this.name);
        var exitName = cc.js.formatStr(pattern, "onExit", _this.name);
        _this.__target = target;
        _this.__enterFunc = _this.__target[enterName];
        _this.__updateFunc = _this.__target[updateName];
        _this.__exitFunc = _this.__target[exitName];
        return _this;
    }
    CustomState.prototype.onEnter = function (params) {
        this.clearIntervals();
        if (this.__enterFunc) {
            this.__enterFunc.call(this.__target, this, params);
        }
    };
    CustomState.prototype.onExit = function () {
        if (this.__exitFunc) {
            this.__exitFunc.call(this.__target, this);
        }
    };
    CustomState.prototype.onUpdate = function (dt) {
        this.invokeIntervals(dt);
        if (this.__updateFunc) {
            this.__updateFunc.call(this.__target, this, dt);
        }
    };
    return CustomState;
}(State));
var FSM = /** @class */ (function (_super) {
    __extends(FSM, _super);
    function FSM() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.timeElapsed = 0;
        _this._states = {};
        _this._isPaused = false;
        _this.log = false;
        return _this;
    }
    Object.defineProperty(FSM.prototype, "target", {
        get: function () {
            return this._target;
        },
        enumerable: false,
        configurable: true
    });
    FSM.prototype.init = function (target) {
        this._target = target;
        this.timeElapsed = 0;
    };
    FSM.prototype.getState = function (stateId) {
        return this._states[stateId];
    };
    FSM.prototype.getCurrentState = function () {
        return this.c;
    };
    FSM.prototype.getPreviousState = function () {
        return this.p;
    };
    FSM.prototype.addStates = function (states, callbackNamePattern) {
        if (callbackNamePattern === void 0) { callbackNamePattern = "%s_%sState"; }
        var keys = Object.keys(states);
        var enumLen = (keys.length / 2);
        this.namePattern = callbackNamePattern;
        for (var i = 0; i < enumLen; i++) {
            var key = keys[i];
            var value = states[key];
            this.addState(key, value);
        }
    };
    FSM.prototype.addState = function (id, name, enterCallback, exitCallback, updateCallback, target) {
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + "(" + this.target.name + ")" + " Add State :", id, name);
        var state = new CustomState(this.target, id, name, this.namePattern);
        this._states[id] = state;
        if (enterCallback)
            state.__enterFunc = enterCallback;
        if (exitCallback)
            state.__exitFunc = exitCallback;
        if (updateCallback)
            state.__updateFunc = updateCallback;
        if (target)
            state.__target = target;
    };
    /**
     * first state
     * @param: state index or State
     */
    FSM.prototype.enterState = function (stateId, params) {
        this.timeElapsed = 0;
        var state = this._states[stateId];
        this.c = state;
        state.onEnter(params);
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + " First State:", state.name);
    };
    FSM.prototype.revertState = function () {
        this.changeState(this.p.id);
    };
    FSM.prototype.pause = function () {
        this._isPaused = true;
    };
    FSM.prototype.resume = function () {
        this._isPaused = false;
    };
    FSM.prototype.resetCurrentState = function () {
        this.timeElapsed = 0;
        console.log(cc.js.formatStr("[FSM] %s reset currentState", this.target.__classname__));
        this.c.onExit();
        this.c.onEnter();
    };
    FSM.prototype.changeState = function (stateId, params) {
        var state = this._states[stateId];
        if (state == null) {
            console.warn("[FSM] invalid state for stateId " + stateId + " of : " + this.target.__classname__);
            return;
        }
        if (this._isPaused) {
            console.warn("[FSM] fsm is paused ! " + this.target.__classname__ + " changeState to <" + state.name + "> failed!");
            return;
        }
        if (stateId == this.c.id)
            return;
        this.timeElapsed = 0;
        this.c.onExit();
        this.p = this.c;
        this.c = state;
        if (this.log)
            console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s", this.target.__classname__, this.name, this.p.name, state.name));
        this.c.onEnter(params);
    };
    FSM.prototype.isInState = function (stateId) {
        return this.c == this._states[stateId];
    };
    FSM.prototype.update = function (dt) {
        if (this._isPaused)
            return;
        if (FSM.debug)
            dt = 0.016; // use real deta
        this.timeElapsed += dt;
        if (this.c)
            this.c.onUpdate(dt);
    };
    FSM.debug = false;
    return FSM;
}(cc.Component));
exports.default = FSM;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxGU00udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUtJLGVBQVksRUFBRyxFQUFDLElBQUs7UUFZckIseUJBQW9CLEdBQUcsRUFBRSxDQUFBO1FBT3pCLGdCQUFXLEdBQVUsQ0FBQyxDQUFDO1FBakJuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFDRCx1QkFBTyxHQUFQLFVBQVEsTUFBTyxJQUFFLENBQUM7SUFDbEIsc0JBQU0sR0FBTixjQUFTLENBQUM7SUFDVix3QkFBUSxHQUFSLFVBQVMsRUFBRSxJQUFFLENBQUM7SUFDZCxXQUFXO0lBQ1gsa0JBQUUsR0FBRixjQUFLLENBQUM7SUFDTixtQkFBRyxHQUFILGNBQU0sQ0FBQztJQUlQLDhCQUFjLEdBQWQ7UUFFSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUlELDJCQUFXLEdBQVgsVUFBWSxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU87UUFFakMsSUFBSSxFQUFFLEdBQUcsRUFBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzdCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLElBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxNQUFNLFFBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxLQUFLLE9BQUEsRUFBQyxDQUFDLENBQUM7UUFDcEUsT0FBTyxFQUFFLENBQUM7SUFD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QztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNmLElBQUcsSUFBSSxDQUFDLEdBQUc7WUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLHlCQUF5QixFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDeEgsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFM0IsQ0FBQztJQUVELHVCQUFTLEdBQVQsVUFBVSxPQUFPO1FBRWIsT0FBTyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDMUMsQ0FBQztJQUVELG9CQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsSUFBRyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFDMUIsSUFBRyxHQUFHLENBQUMsS0FBSztZQUNSLEVBQUUsR0FBRyxLQUFLLENBQUUsQ0FBQyxnQkFBZ0I7UUFDakMsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7UUFDdkIsSUFBRyxJQUFJLENBQUMsQ0FBQztZQUNMLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFUTSxTQUFLLEdBQUcsS0FBSyxDQUFDO0lBWXpCLFVBQUM7Q0F4SkQsQUF3SkMsQ0F4SmdDLEVBQUUsQ0FBQyxTQUFTLEdBd0o1QztrQkF4Sm9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5leHBvcnQgY2xhc3MgU3RhdGUgXG57XG4gICAgbmFtZTpzdHJpbmc7XG4gICAgaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGlkPyxuYW1lPylcbiAgICB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgb25FbnRlcihwYXJhbXM/KXt9XG4gICAgb25FeGl0KCl7fVxuICAgIG9uVXBkYXRlKGR0KXt9XG4gICAgLy9tZXNzYWdlcyBcbiAgICBvbigpe31cbiAgICBvZmYoKXt9XG5cbiAgICBfX2ludGVydmFsX2NhbGxiYWNrcyA9IFtdXG5cbiAgICBjbGVhckludGVydmFscygpXG4gICAge1xuICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZSgwICx0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLmxlbmd0aClcbiAgICB9XG5cbiAgICBpbnRlcnZhbF9pZDpudW1iZXIgPSAwO1xuXG4gICAgc2V0SW50ZXJ2YWwoaW50ZXJ2YWwsY2FsbGJhY2ssdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIGxldCBpZCA9ICsrIHRoaXMuaW50ZXJ2YWxfaWQ7XG4gICAgICAgIGxldCB0aW1lciA9IDA7XG4gICAgICAgIHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MucHVzaCh7aWQsY2FsbGJhY2ssdGFyZ2V0LGludGVydmFsLHRpbWVyfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBjbGVhckludGVydmFsKGlkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5zcGxpY2UodGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5pbmRleE9mKGlkKSlcbiAgICB9XG5cblxuICAgIHNldFRpbWVvdXQoZGVsYXksY2FsbGJhY2ssdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIGxldCBpZCA9ICsrIHRoaXMuaW50ZXJ2YWxfaWQ7XG4gICAgICAgIGxldCB0aW1lciA9IDA7XG4gICAgICAgIHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MucHVzaCh7aWQsY2FsbGJhY2ssdGFyZ2V0LGRlbGF5LHRpbWVyfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoaWQpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoaWQpXG4gICAgfVxuXG4gICAgaW52b2tlSW50ZXJ2YWxzKGR0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fX2ludGVydmFsX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnQudGltZXIgPSBlbGVtZW50LnRpbWVyICsgZHQ7XG4gICAgICAgICAgICBpZihlbGVtZW50LmludGVydmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudGltZXIgPj0gZWxlbWVudC5pbnRlcnZhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2FsbGJhY2suY2FsbChlbGVtZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZSBpZihlbGVtZW50LmRlbGF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudGltZXIgPj0gZWxlbWVudC5kZWxheSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jYWxsYmFjay5jYWxsKGVsZW1lbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZShpKTtcbiAgICAgICAgICAgICAgICAgICAgaSAtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEN1c3RvbVN0YXRlIGV4dGVuZHMgU3RhdGVcbntcbiAgICBfX2VudGVyRnVuYzpGdW5jdGlvbjtcbiAgICBfX2V4aXRGdW5jOkZ1bmN0aW9uO1xuICAgIF9fdXBkYXRlRnVuYzpGdW5jdGlvbjtcbiAgICBfX3RhcmdldDphbnk7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LGlkLG5hbWUscGF0dGVybilcbiAgICB7XG4gICAgICAgIHN1cGVyKGlkLG5hbWUpO1xuICAgICAgICBsZXQgZW50ZXJOYW1lID0gY2MuanMuZm9ybWF0U3RyKHBhdHRlcm4sXCJvbkVudGVyXCIsdGhpcy5uYW1lKVxuICAgICAgICBsZXQgdXBkYXRlTmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25VcGRhdGVcIix0aGlzLm5hbWUpXG4gICAgICAgIGxldCBleGl0TmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25FeGl0XCIsdGhpcy5uYW1lKVxuICAgICAgICB0aGlzLl9fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl9fZW50ZXJGdW5jID0gdGhpcy5fX3RhcmdldFtlbnRlck5hbWVdO1xuICAgICAgICB0aGlzLl9fdXBkYXRlRnVuYyA9IHRoaXMuX190YXJnZXRbdXBkYXRlTmFtZV07XG4gICAgICAgIHRoaXMuX19leGl0RnVuYyA9IHRoaXMuX190YXJnZXRbZXhpdE5hbWVdO1xuICAgICAgICBcbiAgICB9XG4gICAgb25FbnRlcihwYXJhbXMpe1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWxzKCk7XG4gICAgICAgIGlmICh0aGlzLl9fZW50ZXJGdW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9fZW50ZXJGdW5jLmNhbGwodGhpcy5fX3RhcmdldCx0aGlzLHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25FeGl0KCl7XG4gICAgICAgIGlmICh0aGlzLl9fZXhpdEZ1bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX19leGl0RnVuYy5jYWxsKHRoaXMuX190YXJnZXQsdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25VcGRhdGUoZHQpe1xuICAgICAgICB0aGlzLmludm9rZUludGVydmFscyhkdCk7XG4gICAgICAgIGlmICh0aGlzLl9fdXBkYXRlRnVuYylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fX3VwZGF0ZUZ1bmMuY2FsbCh0aGlzLl9fdGFyZ2V0LHRoaXMsZHQpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZTTSBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIGM6U3RhdGU7XG4gICAgcDpTdGF0ZTtcbiAgICBfdGFyZ2V0OmFueTtcblxuICAgIHRpbWVFbGFwc2VkOm51bWJlciA9IDA7XG5cbiAgICBfc3RhdGVzOntbaW5kZXg6bnVtYmVyXTpTdGF0ZSB9ID0ge31cblxuICAgIF9pc1BhdXNlZCA9IGZhbHNlO1xuXG4gICAgbmFtZVBhdHRlcm46c3RyaW5nO1xuXG4gICAgbG9nOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCB0YXJnZXQoKTphbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgfVxuXG4gICAgaW5pdCh0YXJnZXQ6YW55KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnRpbWVFbGFwc2VkID0gMDtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZShzdGF0ZUlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tzdGF0ZUlkXTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY1xuICAgIH1cblxuICAgIGdldFByZXZpb3VzU3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucDtcbiAgICB9XG5cblxuXG4gICAgYWRkU3RhdGVzKHN0YXRlczphbnksY2FsbGJhY2tOYW1lUGF0dGVybiA9IFwiJXNfJXNTdGF0ZVwiKVxuICAgIHtcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhzdGF0ZXMpO1xuICAgICAgICBsZXQgZW51bUxlbiA9IChrZXlzLmxlbmd0aC8yKTtcbiAgICAgICAgdGhpcy5uYW1lUGF0dGVybiA9IGNhbGxiYWNrTmFtZVBhdHRlcm47XG4gICAgICAgIGZvcih2YXIgaSA9IDA7aSA8IGVudW1MZW47aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQga2V5ID0ga2V5c1tpXVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gc3RhdGVzW2tleV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhdGUoa2V5LHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkU3RhdGUoaWQsbmFtZSxlbnRlckNhbGxiYWNrPyxleGl0Q2FsbGJhY2s/LHVwZGF0ZUNhbGxiYWNrPyx0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5sb2cpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltGU01dXCIrdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXyArIFwiKFwiKyB0aGlzLnRhcmdldC5uYW1lK1wiKVwiK1wiIEFkZCBTdGF0ZSA6XCIgLGlkLCBuYW1lKVxuICAgICAgICBsZXQgc3RhdGUgPSBuZXcgQ3VzdG9tU3RhdGUodGhpcy50YXJnZXQsaWQsbmFtZSx0aGlzLm5hbWVQYXR0ZXJuKTtcbiAgICAgICAgdGhpcy5fc3RhdGVzW2lkXSA9IHN0YXRlO1xuICAgICAgICBpZihlbnRlckNhbGxiYWNrKVxuICAgICAgICAgICAgc3RhdGUuX19lbnRlckZ1bmMgPSBlbnRlckNhbGxiYWNrO1xuICAgICAgICBpZihleGl0Q2FsbGJhY2spXG4gICAgICAgICAgICBzdGF0ZS5fX2V4aXRGdW5jID0gZXhpdENhbGxiYWNrO1xuICAgICAgICBpZih1cGRhdGVDYWxsYmFjaylcbiAgICAgICAgICAgIHN0YXRlLl9fdXBkYXRlRnVuYyA9IHVwZGF0ZUNhbGxiYWNrO1xuICAgICAgICBpZih0YXJnZXQpXG4gICAgICAgICAgICBzdGF0ZS5fX3RhcmdldCA9IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmaXJzdCBzdGF0ZSBcbiAgICAgKiBAcGFyYW06IHN0YXRlIGluZGV4IG9yIFN0YXRlXG4gICAgICovXG4gICAgZW50ZXJTdGF0ZShzdGF0ZUlkOm51bWJlcixwYXJhbXM/KVxuICAgIHtcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fc3RhdGVzW3N0YXRlSWRdXG4gICAgICAgIHRoaXMuYyA9IHN0YXRlO1xuICAgICAgICBzdGF0ZS5vbkVudGVyKHBhcmFtcyk7XG4gICAgICAgIGlmKHRoaXMubG9nKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRlNNXVwiK3RoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18gK1wiIEZpcnN0IFN0YXRlOlwiICxzdGF0ZS5uYW1lKVxuICAgIH1cblxuICAgIHJldmVydFN0YXRlKClcbiAgICB7XG4gICAgXHR0aGlzLmNoYW5nZVN0YXRlKHRoaXMucC5pZCk7XG4gICAgfVxuXG5cbiAgICBwYXVzZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzdW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZXRDdXJyZW50U3RhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcbiAgICAgICAgY29uc29sZS5sb2coY2MuanMuZm9ybWF0U3RyKFwiW0ZTTV0gJXMgcmVzZXQgY3VycmVudFN0YXRlXCIsdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXykpXG4gICAgICAgIHRoaXMuYy5vbkV4aXQoKTtcbiAgICAgICAgdGhpcy5jLm9uRW50ZXIoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTdGF0ZShzdGF0ZUlkOm51bWJlcixwYXJhbXM/KVxuICAgIHtcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fc3RhdGVzW3N0YXRlSWRdXG4gICAgICAgIGlmKHN0YXRlID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltGU01dIGludmFsaWQgc3RhdGUgZm9yIHN0YXRlSWQgXCIgKyBzdGF0ZUlkICtcIiBvZiA6IFwiICsgIHRoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5faXNQYXVzZWQpIFxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbRlNNXSBmc20gaXMgcGF1c2VkICEgXCIrdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXytcIiBjaGFuZ2VTdGF0ZSB0byA8XCIrIHN0YXRlLm5hbWUgKyBcIj4gZmFpbGVkIVwiKVxuICAgICAgICAgICAgcmV0dXJuIFxuICAgICAgICB9XG4gICAgICAgIGlmKHN0YXRlSWQgPT0gdGhpcy5jLmlkKSByZXR1cm47XG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwXG4gICAgICAgIHRoaXMuYy5vbkV4aXQoKTtcbiAgICAgICAgdGhpcy5wID0gdGhpcy5jO1xuICAgICAgICB0aGlzLmMgPSBzdGF0ZTtcbiAgICAgICAgaWYodGhpcy5sb2cpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCJbRlNNXSAlcyAoJXMpOiAlcyAtPiAlc1wiLHRoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18sdGhpcy5uYW1lLHRoaXMucC5uYW1lICwgc3RhdGUubmFtZSkpXG4gICAgICAgIHRoaXMuYy5vbkVudGVyKHBhcmFtcyk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGlzSW5TdGF0ZShzdGF0ZUlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYyA9PSB0aGlzLl9zdGF0ZXNbc3RhdGVJZF1cbiAgICB9XG4gICAgc3RhdGljIGRlYnVnID0gZmFsc2U7XG4gICAgdXBkYXRlKGR0KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5faXNQYXVzZWQpIHJldHVybjtcbiAgICAgICAgaWYoRlNNLmRlYnVnKVxuICAgICAgICAgICAgZHQgPSAwLjAxNiA7IC8vIHVzZSByZWFsIGRldGFcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCArPSBkdDtcbiAgICAgICAgaWYodGhpcy5jKVxuICAgICAgICAgICAgdGhpcy5jLm9uVXBkYXRlKGR0KTtcbiAgICB9XG5cbiAgICBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d14c63Zc1PupexE+EkksQp', 'MessageBoxComponent');
// framework/plugin_boosts/ui/MessageBoxComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var MessageBoxManager_1 = require("./MessageBoxManager");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, playOnFocus = _a.playOnFocus;
var MessageBoxComponent = /** @class */ (function (_super) {
    __extends(MessageBoxComponent, _super);
    function MessageBoxComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.node_title = null;
        _this.node_content = null;
        _this.btn_ok = null;
        _this.btn_cancel = null;
        _this.messageBoxCallback = null;
        _this.label_ok = null;
        _this.label_cancel = null;
        _this.group_ok_cancel = null;
        _this.group_ok = null;
        return _this;
        // update (dt) {}
    }
    MessageBoxComponent.prototype.onLoad = function () {
        this.label_ok = this.btn_ok.getChildByName("Label").getComponent(cc.Label);
        this.label_cancel = this.btn_cancel.getChildByName("Label").getComponent(cc.Label);
        this.getComponent(View_1.default).setDelegate(this);
        this.bgAnimation = this.node.getChildByName("bg").getComponent(cc.Animation);
    };
    MessageBoxComponent.prototype.onHidden = function () {
    };
    MessageBoxComponent.prototype.onShown = function (params) {
        this.node_title.string = params.title;
        this.node_content.string = params.content;
        this.messageBoxCallback = params.callback;
        if (params.extra) {
            this.label_ok.string = params.extra.okText;
            this.label_cancel.string = params.extra.cancelText;
        }
        if (params.buttons == MessageBoxManager_1.MessageBox.OK_CANCEL) {
            //show two 
            this.group_ok_cancel.active = true;
            this.group_ok.active = false;
        }
        else {
            //show one 
            this.group_ok.active = true;
            this.group_ok_cancel.active = false;
        }
    };
    MessageBoxComponent.prototype.start = function () {
    };
    MessageBoxComponent.prototype.on_btn_ok_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.OK);
        this.getComponent(View_1.default).hide();
    };
    MessageBoxComponent.prototype.on_btn_cancel_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.CANCEL);
        this.getComponent(View_1.default).hide();
    };
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_title", void 0);
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_content", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_ok", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok", void 0);
    MessageBoxComponent = __decorate([
        ccclass
    ], MessageBoxComponent);
    return MessageBoxComponent;
}(cc.Component));
exports.default = MessageBoxComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveENvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBQzFCLHlEQUErQztBQUUvQyxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQW9ELEVBQUUsQ0FBQyxVQUFVLEVBQWhFLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFDLGlCQUFpQix1QkFBQSxFQUFDLFdBQVcsaUJBQWlCLENBQUM7QUFHeEU7SUFBaUQsdUNBQVk7SUFBN0Q7UUFBQSxxRUFnRkM7UUE3RUcsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsWUFBTSxHQUFXLElBQUksQ0FBQztRQUV0QixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUUxQix3QkFBa0IsR0FBWSxJQUFJLENBQUM7UUFFbkMsY0FBUSxHQUFZLElBQUksQ0FBQztRQUN6QixrQkFBWSxHQUFZLElBQUksQ0FBQztRQUc3QixxQkFBZSxHQUFZLElBQUksQ0FBQztRQUdoQyxjQUFRLEdBQVcsSUFBSSxDQUFDOztRQTBEeEIsaUJBQWlCO0lBQ3JCLENBQUM7SUF4REcsb0NBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMxRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbEYsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCxzQ0FBUSxHQUFSO0lBRUEsQ0FBQztJQUVELHFDQUFPLEdBQVAsVUFBUSxNQUFNO1FBRVYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQzFDLElBQUcsTUFBTSxDQUFDLEtBQUssRUFDZjtZQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBO1lBQzFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1NBQ3JEO1FBQ0QsSUFBSyxNQUFNLENBQUMsT0FBTyxJQUFHLDhCQUFVLENBQUMsU0FBUyxFQUMxQztZQUNJLFdBQVc7WUFDWCxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ2hDO2FBQUk7WUFDRCxXQUFXO1lBQ1gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQzVCLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUN2QztJQUNMLENBQUM7SUFFRCxtQ0FBSyxHQUFMO0lBRUEsQ0FBQztJQUlELCtDQUFpQixHQUFqQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3BELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVELG1EQUFxQixHQUFyQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3hELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQXhFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkRBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNRO0lBUTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0VBQ2M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt5REFDTTtJQXJCUCxtQkFBbUI7UUFEdkMsT0FBTztPQUNhLG1CQUFtQixDQWdGdkM7SUFBRCwwQkFBQztDQWhGRCxBQWdGQyxDQWhGZ0QsRUFBRSxDQUFDLFNBQVMsR0FnRjVEO2tCQWhGb0IsbUJBQW1CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuaW1wb3J0IHtNZXNzYWdlQm94fSBmcm9tIFwiLi9NZXNzYWdlQm94TWFuYWdlclwiO1xuXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksZXhlY3V0ZUluRWRpdE1vZGUscGxheU9uRm9jdXN9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VCb3hDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIG5vZGVfdGl0bGU6Y2MuTGFiZWwgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBub2RlX2NvbnRlbnQ6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYnRuX29rOmNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGJ0bl9jYW5jZWw6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBtZXNzYWdlQm94Q2FsbGJhY2s6RnVuY3Rpb24gPSBudWxsO1xuXG4gICAgbGFiZWxfb2s6Y2MuTGFiZWwgPSBudWxsO1xuICAgIGxhYmVsX2NhbmNlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBncm91cF9va19jYW5jZWwgOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgZ3JvdXBfb2s6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBiZ0FuaW1hdGlvbjpjYy5BbmltYXRpb247XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5sYWJlbF9vayA9IHRoaXMuYnRuX29rLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKVxuICAgICAgICB0aGlzLmxhYmVsX2NhbmNlbCA9IHRoaXMuYnRuX2NhbmNlbC5nZXRDaGlsZEJ5TmFtZShcIkxhYmVsXCIpLmdldENvbXBvbmVudChjYy5MYWJlbClcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuc2V0RGVsZWdhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuYmdBbmltYXRpb24gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJiZ1wiKS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICBvbkhpZGRlbigpXG4gICAge1xuICAgIH1cblxuICAgIG9uU2hvd24ocGFyYW1zKVxuICAgIHtcbiAgICAgICAgdGhpcy5ub2RlX3RpdGxlLnN0cmluZyA9IHBhcmFtcy50aXRsZTtcbiAgICAgICAgdGhpcy5ub2RlX2NvbnRlbnQuc3RyaW5nID0gcGFyYW1zLmNvbnRlbnQ7XG4gICAgICAgIHRoaXMubWVzc2FnZUJveENhbGxiYWNrID0gcGFyYW1zLmNhbGxiYWNrO1xuICAgICAgICBpZihwYXJhbXMuZXh0cmEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxfb2suc3RyaW5nID0gcGFyYW1zLmV4dHJhLm9rVGV4dFxuICAgICAgICAgICAgdGhpcy5sYWJlbF9jYW5jZWwuc3RyaW5nID0gcGFyYW1zLmV4dHJhLmNhbmNlbFRleHRcbiAgICAgICAgfVxuICAgICAgICBpZiAoIHBhcmFtcy5idXR0b25zPT0gTWVzc2FnZUJveC5PS19DQU5DRUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vc2hvdyB0d28gXG4gICAgICAgICAgICB0aGlzLmdyb3VwX29rX2NhbmNlbC5hY3RpdmUgPSB0cnVlOyAgICAgXG4gICAgICAgICAgICB0aGlzLmdyb3VwX29rLmFjdGl2ZSA9IGZhbHNlOyAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy9zaG93IG9uZSBcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2suYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2tfY2FuY2VsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuXG4gICAgfVxuXG5cblxuICAgIG9uX2J0bl9va19jbGlja2VkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMubWVzc2FnZUJveENhbGxiYWNrKVxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm94Q2FsbGJhY2suY2FsbChudWxsLE1lc3NhZ2VCb3guT0spXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcbiAgICB9XG5cbiAgICBvbl9idG5fY2FuY2VsX2NsaWNrZWQoKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5tZXNzYWdlQm94Q2FsbGJhY2spXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb3hDYWxsYmFjay5jYWxsKG51bGwsTWVzc2FnZUJveC5DQU5DRUwpICAgXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTsgICAgIFxuICAgIH1cblxuXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '129ed5o6uNHDKhz6KoueBpN', 'ToastManager');
// framework/plugin_boosts/ui/ToastManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Toast = void 0;
var ToastComponent_1 = require("./ToastComponent");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Toast = null;
var ToastManager = /** @class */ (function (_super) {
    __extends(ToastManager, _super);
    function ToastManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToastManager.prototype.start = function () {
        this.toastPool = new cc.NodePool();
        exports.Toast = this;
    };
    ToastManager.prototype.onDestroy = function () {
        this.toastPool.clear();
    };
    ToastManager.prototype.make = function (text, dur) {
        if (dur === void 0) { dur = 1.3; }
        //show toast 
        var node = this.toastPool.get();
        var toastComp = null;
        if (node == null) {
            node = cc.instantiate(this.prefab);
            toastComp = node.getComponent(ToastComponent_1.default);
            if (toastComp == null) {
                console.warn("Toast.make : Toast Prefab must contains ToastComponent");
            }
            // ToastManager.toastPool.put(node);
            // node = ToastManager.toastPool.get();
        }
        else {
            toastComp = node.getComponent(ToastComponent_1.default);
        }
        if (node.parent == null)
            this.node.addChild(node, 99999);
        this.show(toastComp, text, dur);
        return toastComp;
    };
    ToastManager.prototype.show = function (toastComp, text, dur) {
        var _this = this;
        toastComp.show(text);
        this.scheduleOnce(function (_) {
            toastComp.hide(function (_) {
                _this.toastPool.put(toastComp.node);
                console.log("Toast.hide toastpool size:", _this.toastPool.size());
            });
        }, dur);
    };
    __decorate([
        property(cc.Prefab)
    ], ToastManager.prototype, "prefab", void 0);
    ToastManager = __decorate([
        ccclass
    ], ToastManager);
    return ToastManager;
}(cc.Component));
exports.default = ToastManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbURBQThDO0FBRXhDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsS0FBSyxHQUFnQixJQUFJLENBQUM7QUFHckM7SUFBMEMsZ0NBQVk7SUFBdEQ7O0lBb0RBLENBQUM7SUEvQ0csNEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkMsYUFBSyxHQUFHLElBQUksQ0FBQztJQUNqQixDQUFDO0lBRUQsZ0NBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELDJCQUFJLEdBQUosVUFBSyxJQUFJLEVBQUMsR0FBUztRQUFULG9CQUFBLEVBQUEsU0FBUztRQUVmLGFBQWE7UUFDYixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLElBQUksSUFBSSxJQUFJLEVBQ2hCO1lBQ0ksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25DLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztZQUM5QyxJQUFHLFNBQVMsSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsd0RBQXdELENBQUMsQ0FBQTthQUN6RTtZQUNELG9DQUFvQztZQUNwQyx1Q0FBdUM7U0FDMUM7YUFBSTtZQUNELFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztTQUNqRDtRQUNELElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxLQUFLLENBQUMsQ0FBQztRQUVuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDN0IsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVPLDJCQUFJLEdBQVosVUFBYSxTQUF3QixFQUFDLElBQUksRUFBQyxHQUFHO1FBQTlDLGlCQVNDO1FBUEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQUEsQ0FBQztZQUNmLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2dCQUNaLEtBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBQyxLQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7WUFDbkUsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDVixDQUFDO0lBOUNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ0o7SUFIQyxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBb0RoQztJQUFELG1CQUFDO0NBcERELEFBb0RDLENBcER5QyxFQUFFLENBQUMsU0FBUyxHQW9EckQ7a0JBcERvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRvYXN0Q29tcG9uZW50IGZyb20gXCIuL1RvYXN0Q29tcG9uZW50XCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5leHBvcnQgdmFyIFRvYXN0OlRvYXN0TWFuYWdlciA9IG51bGw7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIHRvYXN0UG9vbDpjYy5Ob2RlUG9vbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWJcbiAgICBcbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMudG9hc3RQb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XG4gICAgICAgIFRvYXN0ID0gdGhpcztcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy50b2FzdFBvb2wuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBtYWtlKHRleHQsZHVyID0gMS4zKVxuICAgIHtcbiAgICAgICAgLy9zaG93IHRvYXN0IFxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMudG9hc3RQb29sLmdldCgpO1xuICAgICAgICBsZXQgdG9hc3RDb21wID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKTtcbiAgICAgICAgICAgIHRvYXN0Q29tcCA9IG5vZGUuZ2V0Q29tcG9uZW50KFRvYXN0Q29tcG9uZW50KTtcbiAgICAgICAgICAgIGlmKHRvYXN0Q29tcCA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRvYXN0Lm1ha2UgOiBUb2FzdCBQcmVmYWIgbXVzdCBjb250YWlucyBUb2FzdENvbXBvbmVudFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVG9hc3RNYW5hZ2VyLnRvYXN0UG9vbC5wdXQobm9kZSk7XG4gICAgICAgICAgICAvLyBub2RlID0gVG9hc3RNYW5hZ2VyLnRvYXN0UG9vbC5nZXQoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0b2FzdENvbXAgPSBub2RlLmdldENvbXBvbmVudChUb2FzdENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYobm9kZS5wYXJlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDk5OTk5KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2hvdyh0b2FzdENvbXAsdGV4dCxkdXIpXG4gICAgICAgIHJldHVybiB0b2FzdENvbXA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93KHRvYXN0Q29tcDpUb2FzdENvbXBvbmVudCx0ZXh0LGR1cilcbiAgICB7XG4gICAgICAgIHRvYXN0Q29tcC5zaG93KHRleHQpXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKF89PntcbiAgICAgICAgICAgIHRvYXN0Q29tcC5oaWRlKF89PntcbiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0UG9vbC5wdXQodG9hc3RDb21wLm5vZGUpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb2FzdC5oaWRlIHRvYXN0cG9vbCBzaXplOlwiLHRoaXMudG9hc3RQb29sLnNpemUoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LGR1cilcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/View.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e1217OaHDFCEbPP4vjLJXLh', 'View');
// framework/plugin_boosts/ui/View.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIComponent_1 = require("./UIComponent");
var ViewManager_1 = require("./ViewManager");
var UIFunctions_1 = require("./UIFunctions");
var LanguageManager_1 = require("../../../Game/Scripts/LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var View = /** @class */ (function (_super) {
    __extends(View, _super);
    function View() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isDialog = false;
        _this.hasWidget = false;
        _this.opacity = 160;
        _this.childrenAnimation = false;
        _this.touchBlocker = null;
        _this.touchBlockerComp = null;
        _this.guideLabel = null;
        _this.startLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        // @property
        // showAnimationName:string = "";
        // @property
        // hideAnimationName:string = "";
        // @property([cc.Component.EventHandler])
        // onShownEvents:cc.Component.EventHandler[] = [];
        // @property([cc.Component.EventHandler])
        // onHiddenEvents:cc.Component.EventHandler[] = [];
        _this.animations = [];
        _this._isHiding = false;
        return _this;
    }
    // isTouchEnabled: boolean = true;
    View.prototype.emit = function (event, msg) {
        event.emit(msg);
        // this.node.emit(msg);  
    };
    View.prototype.onEnable = function () {
        if (this.guideLabel == null || this.startLabel == null) {
            return;
        }
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("连接相同的2个动物", "点击任意处关闭");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Nối hai con vật giống hệt nhau.", "Nhấp vào bất kỳ đâu để đóng.");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Connect two identical animals.", "Click anywhere to close.");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    View.prototype.set_label_lang = function (guideLabelString, startLabelString) {
        this.guideLabel.string = guideLabelString;
        this.startLabel.string = startLabelString;
    };
    View.prototype.set_label_FontSize = function (fontSize) {
        this.guideLabel.fontSize = fontSize;
        this.startLabel.fontSize = fontSize;
    };
    View.prototype.call = function (event, exp) {
        // eval(exp);
        g.execScript(exp);
    };
    View.prototype.setDelegate = function (target) {
        this.target = target;
    };
    View.prototype.onLoad = function () {
        this.touchBlocker = new cc.Node();
        this.touchBlocker.name = "TouchBlocker";
        this.touchBlocker.width = 2000;
        this.touchBlocker.height = 2000;
        this.touchBlockerComp = this.touchBlocker.addComponent(cc.BlockInputEvents);
        this.node.addChild(this.touchBlocker, 1000);
        if (this.childrenAnimation) {
            this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
        }
        else {
            var anim = this.node.getComponent(cc.Animation);
            if (anim)
                this.animations.push(anim);
        }
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this) {
                if (comp.onShown || comp.onHidden) {
                    this.target = comp;
                    break;
                }
            }
        }
    };
    View.prototype.start = function () {
        this.touchEnabled = true;
    };
    View.prototype.init = function (viewname) {
        this.name = viewname;
    };
    View.prototype.hideAnimationCallback = function () {
        this.node.active = this.visible;
        ViewManager_1.default.instance.checkViewStacks();
    };
    /**
     * //如果 实现了view的animation那么需要 animation 去做隐藏
     * 否则会不会有animtion ，系统 将直接 设置 active 为false
     */
    View.prototype.doHideAnimation = function () {
        // if (!this.isDialog)
        // {
        //todo is in hide animtion return ;
        // if(this.isInHideAnimation())return;
        this.node.active = true;
        this._isHiding = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, this.hideAnimationCallback, this)) {
            this.node.active = false;
            this._isHiding = false;
        }
        console.log("[View] hide:", this.name);
        this._visibleDirty = false;
    };
    View.prototype.isInHideAnimation = function () {
        return this._isHiding;
    };
    View.prototype.onHidden = function () {
        this._visibleDirty = false;
        if (this.target && this.target.onHidden)
            this.target.onHidden();
        // cc.Component.EventHandler.emitEvents(this.onHiddenEvents,[params]);
    };
    View.prototype.hide = function () {
        // super.hide()
        //ViewManager remove dd
        this.touchEnabled = false;
        ViewManager_1.default.instance.hide(this.node);
    };
    Object.defineProperty(View.prototype, "visible", {
        get: function () { return this._visibleDirty; },
        enumerable: false,
        configurable: true
    });
    View.prototype.showAnimationNextFrame = function (callback) {
        var _this = this;
        this.scheduleOnce(function (_) {
            UIFunctions_1.default.doShowAnimations(_this.animations, callback);
        }, 0);
    };
    Object.defineProperty(View.prototype, "touchEnabled", {
        get: function () {
            return !this.touchBlocker.active;
        },
        set: function (b) {
            this.touchBlocker.active = !b;
        },
        enumerable: false,
        configurable: true
    });
    // setTouchEnabled(bEnabled){
    //     this.touchBlockerComp.enabled = bEnabled;
    //     // UIFunctions.setTouchEnabled(this.node,bEnabled);
    // }
    View.prototype.show = function () {
        var _this = this;
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        _super.prototype.show.call(this);
        console.log("[View] show:", this.name, params);
        UIFunctions_1.default.stopAnimations(this.animations);
        // call next frames 
        // this.showAnimationDelay()
        //确保在widget 更新结束后开始动画 ，
        return new Promise(function (resolve, reject) {
            var _a;
            var self = _this;
            var showFinishCallback = function () {
                if (!self.touchEnabled)
                    self.touchEnabled = true;
                resolve();
            };
            if (!_this.hasWidget) {
                UIFunctions_1.default.doShowAnimations(_this.animations, showFinishCallback);
            }
            else {
                _this.showAnimationNextFrame(showFinishCallback);
            }
            _this._visibleDirty = true;
            // Add this block
            var comp = _this.node.getComponent(_this.node.name);
            if (comp && comp.init) {
                comp.init(params[0]); // call init with first param
            }
            if (_this.target && _this.target.onShown) {
                (_a = _this.target).onShown.apply(_a, params);
            }
            // cc.Component.EventHandler.emitEvents(this.onShownEvents,[params]);
        });
    };
    __decorate([
        property
    ], View.prototype, "isDialog", void 0);
    __decorate([
        property
    ], View.prototype, "hasWidget", void 0);
    __decorate([
        property
    ], View.prototype, "opacity", void 0);
    __decorate([
        property
    ], View.prototype, "childrenAnimation", void 0);
    __decorate([
        property(cc.Label)
    ], View.prototype, "guideLabel", void 0);
    __decorate([
        property(cc.Label)
    ], View.prototype, "startLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "eng_FontSize", void 0);
    View = __decorate([
        ccclass
    ], View);
    return View;
}(UIComponent_1.default));
exports.default = View;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQXdDO0FBQ3hDLDZDQUF3QztBQUV4Qyw2Q0FBd0M7QUFFeEMseUVBQXNGO0FBRWhGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFXO0lBQTdDO1FBQUEscUVBc1FDO1FBNVBHLGNBQVEsR0FBVyxLQUFLLENBQUM7UUFHekIsZUFBUyxHQUFXLEtBQUssQ0FBQztRQUsxQixhQUFPLEdBQVUsR0FBRyxDQUFDO1FBR3JCLHVCQUFpQixHQUFXLEtBQUssQ0FBQztRQUdsQyxrQkFBWSxHQUFXLElBQUksQ0FBQztRQUM1QixzQkFBZ0IsR0FBd0IsSUFBSSxDQUFDO1FBRzdDLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGtCQUFZLEdBQVcsRUFBRSxDQUFDO1FBMEMxQixZQUFZO1FBQ1osaUNBQWlDO1FBQ2pDLFlBQVk7UUFDWixpQ0FBaUM7UUFFakMseUNBQXlDO1FBQ3pDLGtEQUFrRDtRQUVsRCx5Q0FBeUM7UUFDekMsbURBQW1EO1FBRW5ELGdCQUFVLEdBQWtCLEVBQUUsQ0FBQztRQStEL0IsZUFBUyxHQUFXLEtBQUssQ0FBQzs7SUE0RzlCLENBQUM7SUFyUUcsa0NBQWtDO0lBQ2xDLG1CQUFJLEdBQUosVUFBSyxLQUFLLEVBQUMsR0FBRztRQUVWLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDakIseUJBQXlCO0lBQzNCLENBQUM7SUFrQ0QsdUJBQVEsR0FBUjtRQUNJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLEVBQUU7WUFDcEQsT0FBTztTQUNWO1FBQ0QsUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUMzQixTQUFTLENBQ1osQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUUxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsaUNBQWlDLEVBQ2pELDhCQUE4QixDQUFrQixDQUFDO2dCQUNyRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUUxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsZ0NBQWdDLEVBQ2hELDBCQUEwQixDQUFrQixDQUFDO2dCQUNqRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUUzQyxNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRUQsNkJBQWMsR0FBZCxVQUNJLGdCQUF3QixFQUN4QixnQkFBd0I7UUFFeEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUM7SUFDOUMsQ0FBQztJQUVELGlDQUFrQixHQUFsQixVQUFtQixRQUFnQjtRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3hDLENBQUM7SUFlRCxtQkFBSSxHQUFKLFVBQUssS0FBSyxFQUFDLEdBQVU7UUFFakIsYUFBYTtRQUNiLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELDBCQUFXLEdBQVgsVUFBWSxNQUFNO1FBRWQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDekIsQ0FBQztJQUVELHFCQUFNLEdBQU47UUFHSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQTtRQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtRQUMzRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFDLElBQUksQ0FBQyxDQUFBO1FBRTFDLElBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUN6QjtZQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcscUJBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7U0FDakU7YUFBSTtZQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUMvQyxJQUFHLElBQUk7Z0JBQ0gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7U0FDakM7UUFDRCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsRCxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFDeEM7WUFDSSxJQUFJLElBQUksR0FBTyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDNUIsSUFBRyxJQUFJLElBQUksSUFBSSxFQUNmO2dCQUNJLElBQUcsSUFBSSxDQUFDLE9BQU8sSUFBRSxJQUFJLENBQUMsUUFBUSxFQUM5QjtvQkFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztvQkFDbkIsTUFBTTtpQkFDVDthQUNKO1NBQ0o7SUFFTCxDQUFDO0lBRUQsb0JBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFRCxtQkFBSSxHQUFKLFVBQUssUUFBUTtRQUVULElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxvQ0FBcUIsR0FBckI7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2hDLHFCQUFXLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFJRDs7O09BR0c7SUFDSCw4QkFBZSxHQUFmO1FBRUksc0JBQXNCO1FBQ3RCLElBQUk7UUFDSixtQ0FBbUM7UUFDbkMsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFHLENBQUMscUJBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBQyxJQUFJLENBQUMsRUFDakY7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7U0FDMUI7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7SUFDL0IsQ0FBQztJQUVELGdDQUFpQixHQUFqQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsdUJBQVEsR0FBUjtRQUVJLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVE7WUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMzQixzRUFBc0U7SUFDMUUsQ0FBQztJQUVELG1CQUFJLEdBQUo7UUFDSSxlQUFlO1FBQ2YsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUlELHNCQUFJLHlCQUFPO2FBQVgsY0FBYyxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQSxDQUFDOzs7T0FBQTtJQUd6QyxxQ0FBc0IsR0FBdEIsVUFBdUIsUUFBUTtRQUEvQixpQkFLQztRQUhHLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBQSxDQUFDO1lBQ2YscUJBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFJLENBQUMsVUFBVSxFQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzFELENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNSLENBQUM7SUFFRCxzQkFBSSw4QkFBWTthQUFoQjtZQUVJLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQTtRQUNwQyxDQUFDO2FBRUQsVUFBaUIsQ0FBQztZQUVkLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFJLENBQUMsQ0FBQyxDQUFBO1FBQ2xDLENBQUM7OztPQUxBO0lBT0QsNkJBQTZCO0lBQzdCLGdEQUFnRDtJQUNoRCwwREFBMEQ7SUFDMUQsSUFBSTtJQUVKLG1CQUFJLEdBQUo7UUFBQSxpQkFzQ0M7UUF0Q0ksZ0JBQVM7YUFBVCxVQUFTLEVBQVQscUJBQVMsRUFBVCxJQUFTO1lBQVQsMkJBQVM7O1FBRVYsaUJBQU0sSUFBSSxXQUFFLENBQUM7UUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxJQUFJLENBQUMsSUFBSSxFQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLHFCQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUU1QyxvQkFBb0I7UUFDcEIsNEJBQTRCO1FBQzVCLHVCQUF1QjtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFPLFVBQUMsT0FBTyxFQUFDLE1BQU07O1lBQ3BDLElBQUksSUFBSSxHQUFHLEtBQUksQ0FBQztZQUVoQixJQUFJLGtCQUFrQixHQUFHO2dCQUVyQixJQUFHLENBQUMsSUFBSSxDQUFDLFlBQVk7b0JBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO2dCQUM3QixPQUFPLEVBQUUsQ0FBQztZQUNkLENBQUMsQ0FBQTtZQUNELElBQUcsQ0FBQyxLQUFJLENBQUMsU0FBUyxFQUNsQjtnQkFDSSxxQkFBVyxDQUFDLGdCQUFnQixDQUFDLEtBQUksQ0FBQyxVQUFVLEVBQUMsa0JBQWtCLENBQUMsQ0FBQTthQUNuRTtpQkFBSTtnQkFDRCxLQUFJLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsQ0FBQTthQUNsRDtZQUNELEtBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBRTFCLGlCQUFpQjtZQUNqQixJQUFJLElBQUksR0FBRyxLQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSw2QkFBNkI7YUFDdkQ7WUFFRCxJQUFJLEtBQUksQ0FBQyxNQUFNLElBQUksS0FBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQ3RDO2dCQUNJLENBQUEsS0FBQSxLQUFJLENBQUMsTUFBTSxDQUFBLENBQUMsT0FBTyxXQUFJLE1BQU0sRUFBRTthQUNsQztZQUNELHFFQUFxRTtRQUN6RSxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUEzUEQ7UUFEQyxRQUFROzBDQUNnQjtJQUd6QjtRQURDLFFBQVE7MkNBQ2lCO0lBSzFCO1FBREMsUUFBUTt5Q0FDWTtJQUdyQjtRQURDLFFBQVE7bURBQ3lCO0lBT2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NENBQ1M7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs0Q0FDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7NkNBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDOzZDQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQzs4Q0FDTDtJQXRDVCxJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBc1F4QjtJQUFELFdBQUM7Q0F0UUQsQUFzUUMsQ0F0UWlDLHFCQUFXLEdBc1E1QztrQkF0UW9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlDb21wb25lbnQgZnJvbSBcIi4vVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuL1ZpZXdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdE1hbmFnZXJcIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vLi4vLi4vR2FtZS9TY3JpcHRzL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IGV4dGVuZHMgVUlDb21wb25lbnQge1xyXG4gICAgLy8gaXNUb3VjaEVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgZW1pdChldmVudCxtc2cpXHJcbiAgICB7XHJcbiAgICAgICAgZXZlbnQuZW1pdChtc2cpXHJcbiAgICAgIC8vIHRoaXMubm9kZS5lbWl0KG1zZyk7ICBcclxuICAgIH1cclxuXHJcbiAgICBuYW1lOnN0cmluZztcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgaXNEaWFsb2c6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgaGFzV2lkZ2V0OmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICB0YXJnZXQ6YW55O1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgb3BhY2l0eTpudW1iZXIgPSAxNjA7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBjaGlsZHJlbkFuaW1hdGlvbjpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIHRvdWNoQmxvY2tlcjpjYy5Ob2RlID0gbnVsbDtcclxuICAgIHRvdWNoQmxvY2tlckNvbXA6IGNjLkJsb2NrSW5wdXRFdmVudHMgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGd1aWRlTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBzdGFydExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ndWlkZUxhYmVsID09IG51bGwgfHwgdGhpcy5zdGFydExhYmVsID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwi6L+e5o6l55u45ZCM55qEMuS4quWKqOeJqVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi54K55Ye75Lu75oSP5aSE5YWz6ZetXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIk7hu5FpIGhhaSBjb24gduG6rXQgZ2nhu5FuZyBo4buHdCBuaGF1LlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjhuqVwIHbDoG8gYuG6pXQga+G7syDEkcOidSDEkeG7gyDEkcOzbmcuXCIsICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ29ubmVjdCB0d28gaWRlbnRpY2FsIGFuaW1hbHMuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDbGljayBhbnl3aGVyZSB0byBjbG9zZS5cIiwgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgZ3VpZGVMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHN0YXJ0TGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuZ3VpZGVMYWJlbC5zdHJpbmcgPSBndWlkZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuc3RhcnRMYWJlbC5zdHJpbmcgPSBzdGFydExhYmVsU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHNldF9sYWJlbF9Gb250U2l6ZShmb250U2l6ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5ndWlkZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5zdGFydExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHByb3BlcnR5XHJcbiAgICAvLyBzaG93QW5pbWF0aW9uTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG4gICAgLy8gQHByb3BlcnR5XHJcbiAgICAvLyBoaWRlQW5pbWF0aW9uTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXHJcbiAgICAvLyBvblNob3duRXZlbnRzOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXJbXSA9IFtdO1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXHJcbiAgICAvLyBvbkhpZGRlbkV2ZW50czpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyW10gPSBbXTtcclxuXHJcbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW107XHJcblxyXG4gICAgY2FsbChldmVudCxleHA6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGV2YWwoZXhwKTtcclxuICAgICAgICBnLmV4ZWNTY3JpcHQoZXhwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZWxlZ2F0ZSh0YXJnZXQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXIgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLm5hbWUgPSBcIlRvdWNoQmxvY2tlclwiXHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXIud2lkdGggPSAyMDAwO1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLmhlaWdodCA9IDIwMDA7XHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXJDb21wID0gdGhpcy50b3VjaEJsb2NrZXIuYWRkQ29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpXHJcbiAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHRoaXMudG91Y2hCbG9ja2VyLDEwMDApXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5jaGlsZHJlbkFuaW1hdGlvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFVJRnVuY3Rpb25zLmdldENoaWxkcmVuQW5pbWF0aW9ucyh0aGlzLm5vZGUpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciBhbmltID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXHJcbiAgICAgICAgICAgIGlmKGFuaW0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29tcG9uZW50cyA9IHRoaXMuZ2V0Q29tcG9uZW50cyhjYy5Db21wb25lbnQpO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgY29tcDphbnkgPSBjb21wb25lbnRzW2ldXHJcbiAgICAgICAgICAgIGlmKGNvbXAgIT0gdGhpcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcC5vblNob3dufHxjb21wLm9uSGlkZGVuKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gY29tcDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudG91Y2hFbmFibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KHZpZXduYW1lKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHZpZXduYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVBbmltYXRpb25DYWxsYmFjaygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRoaXMudmlzaWJsZTtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5jaGVja1ZpZXdTdGFja3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaXNIaWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy/lpoLmnpwg5a6e546w5LqGdmlld+eahGFuaW1hdGlvbumCo+S5iOmcgOimgSBhbmltYXRpb24g5Y675YGa6ZqQ6JePXHJcbiAgICAgKiDlkKbliJnkvJrkuI3kvJrmnIlhbmltdGlvbiDvvIzns7vnu58g5bCG55u05o6lIOiuvue9riBhY3RpdmUg5Li6ZmFsc2VcclxuICAgICAqL1xyXG4gICAgZG9IaWRlQW5pbWF0aW9uKClcclxuICAgIHtcclxuICAgICAgICAvLyBpZiAoIXRoaXMuaXNEaWFsb2cpXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vdG9kbyBpcyBpbiBoaWRlIGFuaW10aW9uIHJldHVybiA7XHJcbiAgICAgICAgLy8gaWYodGhpcy5pc0luSGlkZUFuaW1hdGlvbigpKXJldHVybjtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9pc0hpZGluZyA9IHRydWU7XHJcbiAgICAgICAgaWYoIVVJRnVuY3Rpb25zLmRvSGlkZUFuaW1hdGlvbnModGhpcy5hbmltYXRpb25zLHRoaXMuaGlkZUFuaW1hdGlvbkNhbGxiYWNrLHRoaXMpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0hpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltWaWV3XSBoaWRlOlwiLHRoaXMubmFtZSk7XHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZURpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkhpZGVBbmltYXRpb24oKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNIaWRpbmdcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25IaWRkZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5vbkhpZGRlbilcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQub25IaWRkZW4oKTtcclxuICAgICAgICAvLyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyLmVtaXRFdmVudHModGhpcy5vbkhpZGRlbkV2ZW50cyxbcGFyYW1zXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpe1xyXG4gICAgICAgIC8vIHN1cGVyLmhpZGUoKVxyXG4gICAgICAgIC8vVmlld01hbmFnZXIgcmVtb3ZlIGRkXHJcbiAgICAgICAgdGhpcy50b3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5oaWRlKHRoaXMubm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Zpc2libGVEaXJ0eTpib29sZWFuO1xyXG4gICAgXHJcbiAgICBnZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLl92aXNpYmxlRGlydHk7fVxyXG5cclxuXHJcbiAgICBzaG93QW5pbWF0aW9uTmV4dEZyYW1lKGNhbGxiYWNrKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKF89PntcclxuICAgICAgICAgICAgVUlGdW5jdGlvbnMuZG9TaG93QW5pbWF0aW9ucyh0aGlzLmFuaW1hdGlvbnMsY2FsbGJhY2spXHJcbiAgICAgICAgfSwwKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0b3VjaEVuYWJsZWQoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy50b3VjaEJsb2NrZXIuYWN0aXZlXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRvdWNoRW5hYmxlZChiKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLmFjdGl2ZSAgPSAhYlxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldFRvdWNoRW5hYmxlZChiRW5hYmxlZCl7XHJcbiAgICAvLyAgICAgdGhpcy50b3VjaEJsb2NrZXJDb21wLmVuYWJsZWQgPSBiRW5hYmxlZDtcclxuICAgIC8vICAgICAvLyBVSUZ1bmN0aW9ucy5zZXRUb3VjaEVuYWJsZWQodGhpcy5ub2RlLGJFbmFibGVkKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBzaG93KC4uLnBhcmFtcylcclxuICAgIHtcclxuICAgICAgICBzdXBlci5zaG93KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbVmlld10gc2hvdzpcIix0aGlzLm5hbWUgLCBwYXJhbXMpO1xyXG4gICAgICAgIFVJRnVuY3Rpb25zLnN0b3BBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyk7XHJcbiAgICAgICBcclxuICAgICAgICAvLyBjYWxsIG5leHQgZnJhbWVzIFxyXG4gICAgICAgIC8vIHRoaXMuc2hvd0FuaW1hdGlvbkRlbGF5KClcclxuICAgICAgICAvL+ehruS/neWcqHdpZGdldCDmm7TmlrDnu5PmnZ/lkI7lvIDlp4vliqjnlLsg77yMXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHNob3dGaW5pc2hDYWxsYmFjayA9IGZ1bmN0aW9uKCkgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKCFzZWxmLnRvdWNoRW5hYmxlZClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvdWNoRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzV2lkZ2V0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBVSUZ1bmN0aW9ucy5kb1Nob3dBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyxzaG93RmluaXNoQ2FsbGJhY2spXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QW5pbWF0aW9uTmV4dEZyYW1lKHNob3dGaW5pc2hDYWxsYmFjaylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoaXMgYmxvY2tcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KHRoaXMubm9kZS5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKGNvbXAgJiYgY29tcC5pbml0KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wLmluaXQocGFyYW1zWzBdKTsgIC8vIGNhbGwgaW5pdCB3aXRoIGZpcnN0IHBhcmFtXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5vblNob3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5vblNob3duKC4uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlci5lbWl0RXZlbnRzKHRoaXMub25TaG93bkV2ZW50cyxbcGFyYW1zXSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ViewManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0f79TopoBICobmtQjrjutG', 'ViewManager');
// framework/plugin_boosts/ui/ViewManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TAG = "[ViewManager]";
var ViewManager = /** @class */ (function (_super) {
    __extends(ViewManager, _super);
    function ViewManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        // baseDir:string = "assets/"
        _this._views = {};
        // 
        _this.modal = null;
        _this.modalOpacity = 160;
        return _this;
        // update (dt) {}
    }
    ViewManager_1 = ViewManager;
    ViewManager.prototype.onLoad = function () {
        ViewManager_1.instance = this;
        this.modal.active = false;
        this.modal.zIndex = 999;
        g.setGlobalInstance(this);
        // cc.game.addPersistRootNode(this.node);
        // this.node.getComponent(cc.Widget).target = cc.find("Canvas")
    };
    ViewManager.prototype.onEnable = function () {
    };
    ViewManager.prototype.onDestroy = function () {
        // cc.game.removePersistRootNode(this.node);
        for (var key in this._views) {
            delete this._views[key];
        }
    };
    ViewManager.prototype.start = function () {
        //load prefab
        // this.modal.active = false;
        // this.sprite = this.getComponent(cc.Sprite)
        // this.modal.zIndex = 999;
    };
    ViewManager.prototype.getVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return view;
                }
            }
        }
        return null;
    };
    ViewManager.prototype.hasVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return true;
                }
            }
        }
        return false;
    };
    ViewManager.prototype.isVisible = function (viewname) {
        var view = null;
        if (typeof (viewname) == "string")
            view = this._views[viewname];
        else
            view = viewname;
        //todo check type 
        if (view) {
            return view.node.active;
        }
        return false;
    };
    ViewManager.prototype.attachViewComp = function (existingView) {
        var viewComp = null;
        if (viewComp == null || viewComp == undefined) {
            viewComp = existingView.getComponent(View_1.default);
            if (viewComp == null) {
                viewComp = existingView.addComponent(View_1.default);
                viewComp.init(existingView.name);
            }
            this._views[existingView.name] = viewComp;
        }
        return viewComp;
    };
    ViewManager.prototype.showView = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        this.modal.active = view.isDialog;
        //check has popuped dialog and  all currentview is dialog show modal forcely.
        if (this.hasVisibleDialog() || view.isDialog) {
            this.modal.active = true;
        }
        if (view.isDialog) {
            this.modal.opacity = view.opacity;
        }
        // propagate params to dialog component
        var comp = view.node.getComponent(view.node.name);
        if (comp && comp.init) {
            comp.init(params[0]); // pass first param object
        }
        return view.show.apply(view, params);
    };
    ViewManager.prototype.showFromPrefab = function (prefab, prefabPath) {
        var params = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            params[_i - 2] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null) {
            var node = cc.instantiate(prefab);
            view = node.getComponent(View_1.default);
            if (view == null) {
                view = node.addComponent(View_1.default);
                view.isDialog = true;
                //default is dialog
            }
            var widget = view.getComponent(cc.Widget);
            if (widget)
                widget.target = cc.find("Canvas");
            view.init(prefabPath);
            this._views[prefabPath] = view;
            if (view.isDialog) {
                this.node.addChild(node, 1000);
            }
            else {
                this.node.addChild(node, 1000);
            }
            // g.foreachNode(view.node,this.updateWidgets,this)
        }
        // node = view.node;
        this.node.color.setA(255);
        console.log(TAG, "show view:" + prefabPath);
        return this.showView.apply(this, __spreadArrays([view], params));
    };
    ViewManager.prototype.showFromPrefabPath = function (prefabPath) {
        var _this = this;
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            console.log("start load prefab:" + prefabPath);
            var beforeTime_1 = new Date().getTime();
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "prefab loaded : " + prefabPath + " " + (new Date().getTime() - beforeTime_1) + "ms");
                _this.showFromPrefab.apply(_this, __spreadArrays([prefab, prefabPath], params));
            });
        }
        else {
            // this.sprite.enabled = false;
            this.modal.active = view.isDialog;
            if (this.hasVisibleDialog() || view.isDialog) {
                this.modal.active = true;
                this.modal.opacity = view.opacity;
            }
            console.log(TAG, "show view:" + prefabPath, params);
            // let viewnode = view.node;
            // view.node.x = 0;
            // view.node.y = 0;
            return view.show.apply(view, params);
        }
    };
    ViewManager.prototype.preload = function (prefabPath) {
        var _this = this;
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "preload view" + prefabPath);
                var node = cc.instantiate(prefab);
                view = node.getComponent(View_1.default);
                var widget = view.getComponent(cc.Widget);
                if (widget)
                    widget.target = cc.find("Canvas");
                view.init(prefabPath);
                _this._views[prefabPath] = view;
                // this.scheduleOnce(_=>node.active = false,0);
                if (view.isDialog) {
                    _this.node.addChild(node, 1000);
                }
                else {
                    _this.node.addChild(node, 1000);
                }
                view.hide();
            });
        }
        else {
        }
    };
    // will enableTouch next show up
    ViewManager.prototype.disableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = false;
        }
    };
    ViewManager.prototype.enableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = true;
        }
    };
    ViewManager.prototype.show = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        // disable current view 's touch  
        if (typeof (view) == "string") {
            return this.showFromPrefabPath.apply(this, __spreadArrays([view], params));
        }
        else {
            if (view == null || view == undefined)
                return;
            if (view.node)
                view = view.node;
            var v = this.attachViewComp(view);
            return this.showView.apply(this, __spreadArrays([v], params));
        }
    };
    ViewManager.prototype.hide = function (viewname, playHideAnim) {
        if (playHideAnim === void 0) { playHideAnim = true; }
        if (typeof (viewname) != "string") {
            // get view name 
            if (viewname == null || viewname == undefined)
                return;
            this.attachViewComp(viewname);
            viewname = viewname.name;
        }
        var view = this._views[viewname];
        if (view != null && view != undefined) {
            view.node.active = false;
            if (view.isDialog) {
                //todo: should support dialog hide animtion  later 
                this.modal.active = false;
            }
            if (this.hasVisibleDialog()) {
                this.modal.active = true;
            }
            // if(view.isInHideAnimation())
            //     return;
            // view.hide();
            if (playHideAnim)
                view.doHideAnimation();
            view.onHidden();
        }
    };
    ViewManager.prototype.checkViewStacks = function () {
        var dialog = this.getVisibleDialog();
        if (dialog) {
            this.modal.active = true;
            this.modal.opacity = dialog.opacity;
        }
    };
    ViewManager.prototype.hideAll = function () {
        for (var viewname in this._views) {
            // let view = this._views[viewname]
            this.hide(viewname);
        }
    };
    var ViewManager_1;
    __decorate([
        property(cc.Node)
    ], ViewManager.prototype, "modal", void 0);
    __decorate([
        property
    ], ViewManager.prototype, "modalOpacity", void 0);
    ViewManager = ViewManager_1 = __decorate([
        ccclass
    ], ViewManager);
    return ViewManager;
}(cc.Component));
exports.default = ViewManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlld01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUdwQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFJLEdBQUcsR0FBVSxlQUFlLENBQUE7QUFFaEM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUErU0M7UUEzU0csZUFBZTtRQUVmLDZCQUE2QjtRQUU3QixZQUFNLEdBQXlCLEVBQUUsQ0FBQTtRQUVyQyxHQUFHO1FBRUMsV0FBSyxHQUFXLElBQUksQ0FBQztRQUdyQixrQkFBWSxHQUFVLEdBQUcsQ0FBQzs7UUErUjFCLGlCQUFpQjtJQUNyQixDQUFDO29CQS9Tb0IsV0FBVztJQWtCNUIsNEJBQU0sR0FBTjtRQUVJLGFBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDeEIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLHlDQUF5QztRQUN6QywrREFBK0Q7SUFDbkUsQ0FBQztJQUVELDhCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsK0JBQVMsR0FBVDtRQUVJLDRDQUE0QztRQUM1QyxLQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDdkIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxhQUFhO1FBRWIsNkJBQTZCO1FBQzdCLDZDQUE2QztRQUM3QywyQkFBMkI7SUFDL0IsQ0FBQztJQUNPLHNDQUFnQixHQUF4QjtR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ZUFBZSxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ25CO0lBQ0wsQ0FBQztJQUVELHFDQUFlLEdBQWY7UUFFSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUNwQyxJQUFHLE1BQU0sRUFDVDtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQ3ZDO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFFSSxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDN0IsbUNBQW1DO1lBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDOztJQWhTRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNHO0lBR3JCO1FBREMsUUFBUTtxREFDaUI7SUFmVCxXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBK1MvQjtJQUFELGtCQUFDO0NBL1NELEFBK1NDLENBL1N3QyxFQUFFLENBQUMsU0FBUyxHQStTcEQ7a0JBL1NvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdE1hbmFnZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbnZhciBUQUc6c3RyaW5nID0gXCJbVmlld01hbmFnZXJdXCJcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3TWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcbiAgICBzdGF0aWMgaW5zdGFuY2U6Vmlld01hbmFnZXI7XG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICAvLyBiYXNlRGlyOnN0cmluZyA9IFwiYXNzZXRzL1wiXG5cbiAgICBfdmlld3M6e1tpbmRleDpzdHJpbmddOlZpZXd9ID0ge31cblxuLy8gXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgbW9kYWw6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHlcbiAgICBtb2RhbE9wYWNpdHk6bnVtYmVyID0gMTYwO1xuXG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGFsLnpJbmRleCA9IDk5OTtcbiAgICAgICAgZy5zZXRHbG9iYWxJbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgLy8gY2MuZ2FtZS5hZGRQZXJzaXN0Um9vdE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgLy8gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpLnRhcmdldCA9IGNjLmZpbmQoXCJDYW52YXNcIilcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpXG4gICAge1xuICAgICAgICBcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgLy8gY2MuZ2FtZS5yZW1vdmVQZXJzaXN0Um9vdE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5fdmlld3Mpe1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIC8vbG9hZCBwcmVmYWJcbiAgICAgICAgXG4gICAgICAgIC8vIHRoaXMubW9kYWwuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIC8vIHRoaXMuc3ByaXRlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKVxuICAgICAgICAvLyB0aGlzLm1vZGFsLnpJbmRleCA9IDk5OTtcbiAgICB9XG4gICAgcHJpdmF0ZSBnZXRWaXNpYmxlRGlhbG9nKClcbiAgICB7XG4gICAgICAgIGZvcih2YXIgbmFtZSBpbiB0aGlzLl92aWV3cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1tuYW1lXVxuICAgICAgICAgICAgaWYodmlldy5pc0RpYWxvZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUobmFtZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFzVmlzaWJsZURpYWxvZygpXG4gICAge1xuICAgICAgICBmb3IodmFyIG5hbWUgaW4gdGhpcy5fdmlld3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbbmFtZV1cbiAgICAgICAgICAgIGlmKHZpZXcuaXNEaWFsb2cpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKG5hbWUpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNWaXNpYmxlKHZpZXduYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IHZpZXcgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mKHZpZXduYW1lKSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdmlldyA9IHRoaXMuX3ZpZXdzW3ZpZXduYW1lXVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2aWV3ID0gdmlld25hbWU7XG4gICAgICAgIC8vdG9kbyBjaGVjayB0eXBlIFxuICAgICAgICBpZiAodmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcubm9kZS5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhdHRhY2hWaWV3Q29tcChleGlzdGluZ1ZpZXc6Y2MuTm9kZSk6Vmlld1xuICAgIHtcbiAgICAgICAgbGV0IHZpZXdDb21wID0gbnVsbDtcbiAgICAgICAgaWYodmlld0NvbXAgPT0gbnVsbHx8IHZpZXdDb21wID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmlld0NvbXAgPSBleGlzdGluZ1ZpZXcuZ2V0Q29tcG9uZW50KFZpZXcpO1xuICAgICAgICAgICAgaWYodmlld0NvbXAgPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2aWV3Q29tcCA9IGV4aXN0aW5nVmlldy5hZGRDb21wb25lbnQoVmlldyk7XG4gICAgICAgICAgICAgICAgdmlld0NvbXAuaW5pdChleGlzdGluZ1ZpZXcubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92aWV3c1tleGlzdGluZ1ZpZXcubmFtZV0gPSB2aWV3Q29tcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld0NvbXA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93Vmlldyh2aWV3LC4uLnBhcmFtcylcbiAgICB7XG4gICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdmlldy5pc0RpYWxvZztcbiAgICAgICAgLy9jaGVjayBoYXMgcG9wdXBlZCBkaWFsb2cgYW5kICBhbGwgY3VycmVudHZpZXcgaXMgZGlhbG9nIHNob3cgbW9kYWwgZm9yY2VseS5cbiAgICAgICAgaWYgKHRoaXMuaGFzVmlzaWJsZURpYWxvZygpIHx8IHZpZXcuaXNEaWFsb2cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gIHRydWU7ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZXcuaXNEaWFsb2cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwub3BhY2l0eSA9IHZpZXcub3BhY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb3BhZ2F0ZSBwYXJhbXMgdG8gZGlhbG9nIGNvbXBvbmVudFxuICAgICAgICBsZXQgY29tcCA9IHZpZXcubm9kZS5nZXRDb21wb25lbnQodmlldy5ub2RlLm5hbWUpO1xuICAgICAgICBpZiAoY29tcCAmJiBjb21wLmluaXQpIHtcbiAgICAgICAgICAgIGNvbXAuaW5pdChwYXJhbXNbMF0pOyAvLyBwYXNzIGZpcnN0IHBhcmFtIG9iamVjdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3LnNob3coLi4ucGFyYW1zKTtcbiAgICB9XG5cbiAgICBzaG93RnJvbVByZWZhYihwcmVmYWI6Y2MuUHJlZmFiLHByZWZhYlBhdGg6c3RyaW5nICwuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdO1xuICAgICAgICBpZih2aWV3ID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxuICAgICAgICAgICAgdmlldyA9IG5vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgICAgICBpZih2aWV3ID09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5vZGUuYWRkQ29tcG9uZW50KFZpZXcpO1xuICAgICAgICAgICAgICAgIHZpZXcuaXNEaWFsb2cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vZGVmYXVsdCBpcyBkaWFsb2dcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB3aWRnZXQgPSB2aWV3LmdldENvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICAgICAgaWYod2lkZ2V0KVxuICAgICAgICAgICAgICAgIHdpZGdldC50YXJnZXQgPSBjYy5maW5kKFwiQ2FudmFzXCIpXG4gICAgICAgICAgICB2aWV3LmluaXQocHJlZmFiUGF0aCk7XG4gICAgICAgICAgICB0aGlzLl92aWV3c1twcmVmYWJQYXRoXSA9IHZpZXc7XG4gICAgICAgICAgICBpZih2aWV3LmlzRGlhbG9nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKG5vZGUsMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnLmZvcmVhY2hOb2RlKHZpZXcubm9kZSx0aGlzLnVwZGF0ZVdpZGdldHMsdGhpcylcbiAgICAgICAgfVxuICAgICAgICAvLyBub2RlID0gdmlldy5ub2RlO1xuICAgICAgICB0aGlzLm5vZGUuY29sb3Iuc2V0QSgyNTUpO1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJzaG93IHZpZXc6XCIgKyBwcmVmYWJQYXRoIClcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1ZpZXcodmlldywuLi5wYXJhbXMpO1xuICAgIH1cblxuICAgIHNob3dGcm9tUHJlZmFiUGF0aChwcmVmYWJQYXRoOnN0cmluZywuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0IGxvYWQgcHJlZmFiOlwiICtwcmVmYWJQYXRoKVxuICAgICAgICAgICAgbGV0IGJlZm9yZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsY2MuUHJlZmFiLChlLHByZWZhYjpjYy5QcmVmYWIpID0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRyxcInByZWZhYiBsb2FkZWQgOiBcIisgcHJlZmFiUGF0aCArXCIgXCIrICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBiZWZvcmVUaW1lKSArXCJtc1wiKVxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zyb21QcmVmYWIocHJlZmFiLHByZWZhYlBhdGgsLi4ucGFyYW1zKTtcbiAgICAgICAgICAgIH0pIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vIHRoaXMuc3ByaXRlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdmlldy5pc0RpYWxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1Zpc2libGVEaWFsb2coKSB8fCB2aWV3LmlzRGlhbG9nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gIHRydWU7ICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLm9wYWNpdHkgPSB2aWV3Lm9wYWNpdHk7ICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLFwic2hvdyB2aWV3OlwiICsgcHJlZmFiUGF0aCAscGFyYW1zKVxuICAgICAgICAgICAgLy8gbGV0IHZpZXdub2RlID0gdmlldy5ub2RlO1xuICAgICAgICAgICAgLy8gdmlldy5ub2RlLnggPSAwO1xuICAgICAgICAgICAgLy8gdmlldy5ub2RlLnkgPSAwO1xuICAgICAgICAgICAgcmV0dXJuICB2aWV3LnNob3coLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZWxvYWQocHJlZmFiUGF0aDpzdHJpbmcpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhwcmVmYWJQYXRoLGNjLlByZWZhYiwoZSxwcmVmYWI6Y2MuUHJlZmFiKSA9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJwcmVsb2FkIHZpZXdcIisgcHJlZmFiUGF0aClcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYilcbiAgICAgICAgICAgICAgICB2aWV3ID0gbm9kZS5nZXRDb21wb25lbnQoVmlldyk7XG4gICAgICAgICAgICAgICAgbGV0IHdpZGdldCA9IHZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgICAgICAgICAgaWYod2lkZ2V0KVxuICAgICAgICAgICAgICAgICAgICB3aWRnZXQudGFyZ2V0ID0gY2MuZmluZChcIkNhbnZhc1wiKVxuICAgICAgICAgICAgICAgIHZpZXcuaW5pdChwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3c1twcmVmYWJQYXRoXSA9IHZpZXc7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoXz0+bm9kZS5hY3RpdmUgPSBmYWxzZSwwKTtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0RpYWxvZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQobm9kZSwxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldy5oaWRlKCk7XG4gICAgICAgICAgICB9KSBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB3aWxsIGVuYWJsZVRvdWNoIG5leHQgc2hvdyB1cFxuICAgIGRpc2FibGVUb3VjaCh2aWV3Tm9kZSlcbiAgICB7XG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgIGlmKHZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVUb3VjaCh2aWV3Tm9kZSlcbiAgICB7XG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgIGlmKHZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2hvdyh2aWV3LCAuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICAvLyBkaXNhYmxlIGN1cnJlbnQgdmlldyAncyB0b3VjaCAgXG4gICAgICAgIGlmICh0eXBlb2YodmlldykgPT0gXCJzdHJpbmdcIilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0Zyb21QcmVmYWJQYXRoKHZpZXcsLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgaWYgKHZpZXcgPT0gbnVsbHx8IHZpZXcgPT0gdW5kZWZpbmVkKSAgcmV0dXJuO1xuICAgICAgICAgICAgaWYodmlldy5ub2RlKSB2aWV3ID0gdmlldy5ub2RlO1xuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93Vmlldyh2LC4uLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGhpZGUodmlld25hbWUscGxheUhpZGVBbmltID0gdHJ1ZSlcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZih2aWV3bmFtZSkgIT0gXCJzdHJpbmdcIilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHZpZXcgbmFtZSBcbiAgICAgICAgICAgIGlmICh2aWV3bmFtZSA9PSBudWxsfHwgdmlld25hbWUgPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXduYW1lKVxuICAgICAgICAgICAgdmlld25hbWUgPSB2aWV3bmFtZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXG4gICAgICAgIGlmKHZpZXcgIT0gbnVsbCAmJiB2aWV3ICE9IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHZpZXcuaXNEaWFsb2cgKXtcbiAgICAgICAgICAgICAgICAvL3RvZG86IHNob3VsZCBzdXBwb3J0IGRpYWxvZyBoaWRlIGFuaW10aW9uICBsYXRlciBcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5oYXNWaXNpYmxlRGlhbG9nKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYodmlldy5pc0luSGlkZUFuaW1hdGlvbigpKVxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIHZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgaWYocGxheUhpZGVBbmltIClcbiAgICAgICAgICAgICAgICB2aWV3LmRvSGlkZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdmlldy5vbkhpZGRlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tWaWV3U3RhY2tzKClcbiAgICB7XG4gICAgICAgIGxldCBkaWFsb2cgPSB0aGlzLmdldFZpc2libGVEaWFsb2coKVxuICAgICAgICBpZihkaWFsb2cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwub3BhY2l0eSA9IGRpYWxvZy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUFsbCgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciB2aWV3bmFtZSBpbiB0aGlzLl92aWV3cyl7XG4gICAgICAgICAgICAvLyBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ZpZXduYW1lXVxuICAgICAgICAgICAgdGhpcy5oaWRlKHZpZXduYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCPandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7213alSGlhOObvGLLyQvhtZ', 'DCPandoraPoint');
// framework/plugin_boosts/ui/DCPandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var PandoraPoint_1 = require("./PandoraPoint");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCPandoraPoint = /** @class */ (function (_super) {
    __extends(DCPandoraPoint, _super);
    function DCPandoraPoint() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCPandoraPoint.prototype.onLoad = function () {
        this.point = this.getComponent(PandoraPoint_1.default);
    };
    DCPandoraPoint.prototype.onValueChanged = function (v) {
        this.point.setNumber(v);
    };
    DCPandoraPoint = __decorate([
        ccclass
    ], DCPandoraPoint);
    return DCPandoraPoint;
}(DCUI_1.default));
exports.default = DCPandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENQYW5kb3JhUG9pbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQUk7SUFBaEQ7O0lBZUEsQ0FBQztJQVpHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCx1Q0FBYyxHQUFkLFVBQWUsQ0FBQztRQUVaLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFYZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQWVsQztJQUFELHFCQUFDO0NBZkQsQUFlQyxDQWYyQyxjQUFJLEdBZS9DO2tCQWZvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xuaW1wb3J0IFBhbmRvcmFQb2ludCBmcm9tIFwiLi9QYW5kb3JhUG9pbnRcIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1BhbmRvcmFQb2ludCBleHRlbmRzIERDVUkge1xuXG4gICAgcG9pbnQ6UGFuZG9yYVBvaW50O1xuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICB0aGlzLnBvaW50ID0gdGhpcy5nZXRDb21wb25lbnQoUGFuZG9yYVBvaW50KTtcbiAgICB9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgdGhpcy5wb2ludC5zZXROdW1iZXIodik7XG4gICAgfVxuICAgXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Intersection.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f4dfDdP95AjIAwGFL34sfm', 'Intersection');
// framework/plugin_boosts/utils/Intersection.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Intersection = /** @class */ (function () {
    function Intersection() {
    }
    // contains and intesect
    Intersection.circleIntersectRect = function (circle_pt, radius, rect) {
        var cx = 0;
        var cy = 0;
        //Find the point on the collision box closest to the center of the circle
        if (circle_pt.x < rect.x)
            cx = rect.x;
        else if (circle_pt.x > rect.x + rect.width)
            cx = rect.x + rect.width;
        else
            cx = circle_pt.x;
        if (circle_pt.y < rect.y)
            cy = rect.y;
        else if (circle_pt.y > rect.y + rect.height)
            cy = rect.y + rect.height;
        else
            cy = circle_pt.y;
        var v2 = cc.v2(cx, cy);
        v2.subSelf(circle_pt);
        if (v2.magSqr() < radius * radius)
            return true;
        return false;
    };
    return Intersection;
}());
exports.default = Intersection;
/***
// 矩形和圆形碰撞检测
bool IsCirlceCollisionRect(float circleXPos, float circleYPos, float radius, float rectX, float rectY, float rectW, float rectH)
{
    float arcR  = radius;
    float arcOx = circleXPos;
    float arcOy = circleYPos;

    //分别判断矩形4个顶点与圆心的距离是否<=圆半径；如果<=，说明碰撞成功
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;

    //判断当圆心的Y坐标进入矩形内时X的位置，如果X在(rectX-arcR)到(rectX+rectW+arcR)这个范围内，则碰撞成功
    float minDisX = 0;
    if(arcOy >= rectY && arcOy <= rectY + rectH)
    {
        if(arcOx < rectX)
            minDisX = rectX - arcOx;
        else if(arcOx > rectX + rectW)
            minDisX = arcOx - rectX - rectW;
        else
            return true;
        if(minDisX <= arcR)
            return true;
    }

    //判断当圆心的X坐标进入矩形内时Y的位置，如果X在(rectY-arcR)到(rectY+rectH+arcR)这个范围内，则碰撞成功
    float minDisY = 0;
    if(arcOx >= rectX && arcOx <= rectX + rectW)
    {
        if(arcOy < rectY)
            minDisY = rectY - arcOy;
        else if(arcOy > rectY + rectH)
            minDisY = arcOy - rectY - rectH;
        else
            return true;
        if(minDisY <= arcR)
            return true;
    }

    return false;
}

// 线段和线段碰撞检测
bool IsLineCollisionLine(cocos2d::CCPoint p1, cocos2d::CCPoint p2, cocos2d::CCPoint p3, cocos2d::CCPoint p4)
{
    float x1 = p1.x, x2 = p2.x, x3 = p3.x, x4 = p4.x;
    float y1 = p1.y, y2 = p2.y, y3 = p3.y, y4 = p4.y;

    float d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);
    // If d is zero, there is no intersection
    if (d == 0)
        return false;

    // Get the x and y
    float pre = (x1*y2 - y1*x2), post = (x3*y4 - y3*x4);
    float x = ( pre * (x3 - x4) - (x1 - x2) * post ) / d;
    float y = ( pre * (y3 - y4) - (y1 - y2) * post ) / d;

    // Check if the x and y coordinates are within both lines
    if ( x < MIN(x1, x2) || x > MAX(x1, x2) ||
        x < MIN(x3, x4) || x > MAX(x3, x4) )
        return false;

    if ( y < MIN(y1, y2) || y > MAX(y1, y2) ||
        y < MIN(y3, y4) || y > MAX(y3, y4) )
        return false;

    return true;
}

static float mult(cocos2d::CCPoint a, cocos2d::CCPoint b, cocos2d::CCPoint c)
{
    return (a.x-c.x)*(b.y-c.y)-(b.x-c.x)*(a.y-c.y);
}

bool IsLineCollisionLine2(cocos2d::CCPoint aa, cocos2d::CCPoint bb, cocos2d::CCPoint cc, cocos2d::CCPoint dd)
{
    if ( MAX(aa.x, bb.x)<MIN(cc.x, dd.x) )
        return false;

    if ( MAX(aa.y, bb.y)<MIN(cc.y, dd.y) )
        return false;

    if ( MAX(cc.x, dd.x)<MIN(aa.x, bb.x) )
        return false;

    if ( MAX(cc.y, dd.y)<MIN(aa.y, bb.y) )
        return false;

    if (mult(cc, bb, aa)*mult(bb, dd, aa)<0.0001f)
        return false;

    if (mult(aa, dd, cc)*mult(dd, bb, cc)<0.0001f)
        return false;

    return true;
}

// 线段和矩形碰撞检测
bool IsLineCollisionRect(cocos2d::CCPoint lineStartPoint, cocos2d::CCPoint lineEndPoint, cocos2d::CCPoint rectleftBottomPoint, float width, float height)
{
    // 因为这个方法专门进行射线光束的碰撞检测，所以暂不进行线段在矩形内的碰撞检测
    cocos2d::CCPoint leftLineStartPoint = rectleftBottomPoint;
    cocos2d::CCPoint leftLineEndPoint   = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);

    cocos2d::CCPoint rightLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    cocos2d::CCPoint rightLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint topLineStartPoint  = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);
    cocos2d::CCPoint topLineEndPoint    = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint bottomLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y);
    cocos2d::CCPoint bottomLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    
    cocos2d::CCPoint leftBottomLineStartPoint= rectleftBottomPoint;
    cocos2d::CCPoint rightTopLineEndPoint    = rightLineEndPoint;

    cocos2d::CCPoint leftTopLineStartPoint   = leftLineEndPoint;
    cocos2d::CCPoint rightBottomLineEndPoint = rightLineStartPoint;


    do
    {
        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftLineStartPoint, leftLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, rightLineStartPoint, rightLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, topLineStartPoint, topLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, bottomLineStartPoint, bottomLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftBottomLineStartPoint, rightTopLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftTopLineStartPoint, rightBottomLineEndPoint))
            break;

        return false;
    }
    while (false);

    return true;
}

static  bool  IsRectCollisionRect2(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    cocos2d::CCPoint leftTopPoint     = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint leftBottomPoint  = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);
    cocos2d::CCPoint rightTopPoint    = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint rightBottomPoint = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);

    if ( (leftTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (leftBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    return false;
}

// 矩形和矩形碰撞检测
bool  IsRectCollisionRect(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    if (IsRectCollisionRect2(rect1CenterPoint, rect1W, rect1H, rect2CenterPoint, rect2W, rect2H))
        return true;
    
    if (IsRectCollisionRect2(rect2CenterPoint, rect2W, rect2H, rect1CenterPoint, rect1W, rect1H))
        return true;

    return false;
}

**/ 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcSW50ZXJzZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBeUJBLENBQUM7SUF2Qkcsd0JBQXdCO0lBQ2pCLGdDQUFtQixHQUExQixVQUEyQixTQUFpQixFQUFFLE1BQU0sRUFBRSxJQUFJO1FBQ3RELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLHlFQUF5RTtRQUN6RSxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSztZQUN0QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBOztZQUV4QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUN2QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBOztZQUV6QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLEVBQUUsR0FBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQTtRQUNwQixFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ3JCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sR0FBRyxNQUFNO1lBQzdCLE9BQU8sSUFBSSxDQUFBO1FBQ2YsT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0F6QkEsQUF5QkMsSUFBQTs7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlNRyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyc2VjdGlvblxue1xuICAgIC8vIGNvbnRhaW5zIGFuZCBpbnRlc2VjdFxuICAgIHN0YXRpYyBjaXJjbGVJbnRlcnNlY3RSZWN0KGNpcmNsZV9wdDpjYy5WZWMyLMKgcmFkaXVzLMKgcmVjdCl7XG4gICAgwqDCoMKgwqBsZXTCoGN4wqA9IDBcbiAgICDCoMKgwqDCoGxldMKgY3nCoD0gMFxuICAgIMKgwqDCoMKgLy9GaW5kwqB0aGXCoHBvaW50wqBvbsKgdGhlwqBjb2xsaXNpb27CoGJveMKgY2xvc2VzdMKgdG/CoHRoZcKgY2VudGVywqBvZsKgdGhlwqBjaXJjbGVcbiAgICDCoMKgwqDCoGlmwqAoY2lyY2xlX3B0LnjCoDzCoHJlY3QueClcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoHJlY3QueFxuICAgIMKgwqDCoMKgZWxzZSBpZsKgKGNpcmNsZV9wdC54wqA+wqByZWN0LnjCoCvCoHJlY3Qud2lkdGgpXG4gICAgwqDCoMKgwqDCoMKgwqDCoGN4wqA9wqByZWN0LnjCoCvCoHJlY3Qud2lkdGhcbiAgICDCoMKgwqDCoGVsc2VcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoGNpcmNsZV9wdC54XG4gICAgwqDCoMKgwqBpZsKgKGNpcmNsZV9wdC55wqA8wqByZWN0LnnCoClcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3nCoD3CoHJlY3QueVxuICAgIMKgwqDCoMKgZWxzZSBpZijCoGNpcmNsZV9wdC55wqA+wqByZWN0LnnCoCvCoHJlY3QuaGVpZ2h0KVxuICAgIMKgwqDCoMKgwqDCoMKgwqBjecKgPcKgcmVjdC55wqArwqByZWN0LmhlaWdodFxuICAgIMKgwqDCoMKgZWxzZVxuICAgIMKgwqDCoMKgwqDCoMKgwqBjecKgPcKgY2lyY2xlX3B0LnlcbiAgICAgICAgbGV0IHYyID1jYy52MihjeCxjeSkgXG4gICAgICAgIHYyLnN1YlNlbGYoY2lyY2xlX3B0KSAgICBcbiAgICDCoMKgwqDCoGlmwqAodjIubWFnU3FyKCnCoDzCoHJhZGl1cyAqIHJhZGl1cylcbiAgICDCoMKgwqDCoMKgwqDCoMKgcmV0dXJuwqB0cnVlXG4gICAgwqDCoMKgwqByZXR1cm7CoGZhbHNlXG4gICAgfVxufVxuLyoqKlxuLy8g55+p5b2i5ZKM5ZyG5b2i56Kw5pKe5qOA5rWLXG5ib29sIElzQ2lybGNlQ29sbGlzaW9uUmVjdChmbG9hdCBjaXJjbGVYUG9zLCBmbG9hdCBjaXJjbGVZUG9zLCBmbG9hdCByYWRpdXMsIGZsb2F0IHJlY3RYLCBmbG9hdCByZWN0WSwgZmxvYXQgcmVjdFcsIGZsb2F0IHJlY3RIKVxue1xuICAgIGZsb2F0IGFyY1IgID0gcmFkaXVzO1xuICAgIGZsb2F0IGFyY094ID0gY2lyY2xlWFBvcztcbiAgICBmbG9hdCBhcmNPeSA9IGNpcmNsZVlQb3M7XG5cbiAgICAvL+WIhuWIq+WIpOaWreefqeW9ojTkuKrpobbngrnkuI7lnIblv4PnmoTot53nprvmmK/lkKY8PeWchuWNiuW+hO+8m+WmguaenDw977yM6K+05piO56Kw5pKe5oiQ5YqfICAgXG4gICAgaWYoKChyZWN0WC1hcmNPeCkgKiAocmVjdFgtYXJjT3gpICsgKHJlY3RZLWFyY095KSAqIChyZWN0WS1hcmNPeSkpIDw9IGFyY1IgKiBhcmNSKSAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTsgICBcbiAgICBpZigoKHJlY3RYK3JlY3RXLWFyY094KSAqIChyZWN0WCtyZWN0Vy1hcmNPeCkgKyAocmVjdFktYXJjT3kpICogKHJlY3RZLWFyY095KSkgPD0gYXJjUiAqIGFyY1IpICAgXG4gICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgIGlmKCgocmVjdFgtYXJjT3gpICogKHJlY3RYLWFyY094KSArIChyZWN0WStyZWN0SC1hcmNPeSkgKiAocmVjdFkrcmVjdEgtYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcbiAgICAgICAgcmV0dXJuIHRydWU7ICAgXG4gICAgaWYoKChyZWN0WCtyZWN0Vy1hcmNPeCkgKiAocmVjdFgrcmVjdFctYXJjT3gpICsgKHJlY3RZK3JlY3RILWFyY095KSAqIChyZWN0WStyZWN0SC1hcmNPeSkpIDw9IGFyY1IgKiBhcmNSKSAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIC8v5Yik5pat5b2T5ZyG5b+D55qEWeWdkOagh+i/m+WFpeefqeW9ouWGheaXtljnmoTkvY3nva7vvIzlpoLmnpxY5ZyoKHJlY3RYLWFyY1Ip5YiwKHJlY3RYK3JlY3RXK2FyY1Ip6L+Z5Liq6IyD5Zu05YaF77yM5YiZ56Kw5pKe5oiQ5YqfICAgXG4gICAgZmxvYXQgbWluRGlzWCA9IDA7ICAgXG4gICAgaWYoYXJjT3kgPj0gcmVjdFkgJiYgYXJjT3kgPD0gcmVjdFkgKyByZWN0SClcbiAgICB7ICAgXG4gICAgICAgIGlmKGFyY094IDwgcmVjdFgpICAgXG4gICAgICAgICAgICBtaW5EaXNYID0gcmVjdFggLSBhcmNPeDsgICBcbiAgICAgICAgZWxzZSBpZihhcmNPeCA+IHJlY3RYICsgcmVjdFcpICAgXG4gICAgICAgICAgICBtaW5EaXNYID0gYXJjT3ggLSByZWN0WCAtIHJlY3RXOyAgIFxuICAgICAgICBlbHNlICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7ICAgXG4gICAgICAgIGlmKG1pbkRpc1ggPD0gYXJjUikgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgIH1cblxuICAgIC8v5Yik5pat5b2T5ZyG5b+D55qEWOWdkOagh+i/m+WFpeefqeW9ouWGheaXtlnnmoTkvY3nva7vvIzlpoLmnpxY5ZyoKHJlY3RZLWFyY1Ip5YiwKHJlY3RZK3JlY3RIK2FyY1Ip6L+Z5Liq6IyD5Zu05YaF77yM5YiZ56Kw5pKe5oiQ5YqfXG4gICAgZmxvYXQgbWluRGlzWSA9IDA7ICAgXG4gICAgaWYoYXJjT3ggPj0gcmVjdFggJiYgYXJjT3ggPD0gcmVjdFggKyByZWN0VylcbiAgICB7ICAgXG4gICAgICAgIGlmKGFyY095IDwgcmVjdFkpICAgXG4gICAgICAgICAgICBtaW5EaXNZID0gcmVjdFkgLSBhcmNPeTsgICBcbiAgICAgICAgZWxzZSBpZihhcmNPeSA+IHJlY3RZICsgcmVjdEgpICAgXG4gICAgICAgICAgICBtaW5EaXNZID0gYXJjT3kgLSByZWN0WSAtIHJlY3RIOyAgIFxuICAgICAgICBlbHNlICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgICAgICBpZihtaW5EaXNZIDw9IGFyY1IpICAgXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICBcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7IFxufVxuXG4vLyDnur/mrrXlkoznur/mrrXnorDmkp7mo4DmtYtcbmJvb2wgSXNMaW5lQ29sbGlzaW9uTGluZShjb2NvczJkOjpDQ1BvaW50IHAxLCBjb2NvczJkOjpDQ1BvaW50IHAyLCBjb2NvczJkOjpDQ1BvaW50IHAzLCBjb2NvczJkOjpDQ1BvaW50IHA0KVxue1xuICAgIGZsb2F0IHgxID0gcDEueCwgeDIgPSBwMi54LCB4MyA9IHAzLngsIHg0ID0gcDQueDtcbiAgICBmbG9hdCB5MSA9IHAxLnksIHkyID0gcDIueSwgeTMgPSBwMy55LCB5NCA9IHA0Lnk7XG5cbiAgICBmbG9hdCBkID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuICAgIC8vIElmIGQgaXMgemVybywgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uXG4gICAgaWYgKGQgPT0gMCkgXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIC8vIEdldCB0aGUgeCBhbmQgeVxuICAgIGZsb2F0IHByZSA9ICh4MSp5MiAtIHkxKngyKSwgcG9zdCA9ICh4Myp5NCAtIHkzKng0KTtcbiAgICBmbG9hdCB4ID0gKCBwcmUgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiBwb3N0ICkgLyBkO1xuICAgIGZsb2F0IHkgPSAoIHByZSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqIHBvc3QgKSAvIGQ7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBhcmUgd2l0aGluIGJvdGggbGluZXNcbiAgICBpZiAoIHggPCBNSU4oeDEsIHgyKSB8fCB4ID4gTUFYKHgxLCB4MikgfHxcbiAgICAgICAgeCA8IE1JTih4MywgeDQpIHx8IHggPiBNQVgoeDMsIHg0KSApXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICggeSA8IE1JTih5MSwgeTIpIHx8IHkgPiBNQVgoeTEsIHkyKSB8fFxuICAgICAgICB5IDwgTUlOKHkzLCB5NCkgfHwgeSA+IE1BWCh5MywgeTQpICkgXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5zdGF0aWMgZmxvYXQgbXVsdChjb2NvczJkOjpDQ1BvaW50IGEsIGNvY29zMmQ6OkNDUG9pbnQgYiwgY29jb3MyZDo6Q0NQb2ludCBjKVxue1xuICAgIHJldHVybiAoYS54LWMueCkqKGIueS1jLnkpLShiLngtYy54KSooYS55LWMueSk7XG59XG5cbmJvb2wgSXNMaW5lQ29sbGlzaW9uTGluZTIoY29jb3MyZDo6Q0NQb2ludCBhYSwgY29jb3MyZDo6Q0NQb2ludCBiYiwgY29jb3MyZDo6Q0NQb2ludCBjYywgY29jb3MyZDo6Q0NQb2ludCBkZClcbntcbiAgICBpZiAoIE1BWChhYS54LCBiYi54KTxNSU4oY2MueCwgZGQueCkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChhYS55LCBiYi55KTxNSU4oY2MueSwgZGQueSkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChjYy54LCBkZC54KTxNSU4oYWEueCwgYmIueCkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChjYy55LCBkZC55KTxNSU4oYWEueSwgYmIueSkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAobXVsdChjYywgYmIsIGFhKSptdWx0KGJiLCBkZCwgYWEpPDAuMDAwMWYpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChtdWx0KGFhLCBkZCwgY2MpKm11bHQoZGQsIGJiLCBjYyk8MC4wMDAxZilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIOe6v+auteWSjOefqeW9oueisOaSnuajgOa1i1xuYm9vbCBJc0xpbmVDb2xsaXNpb25SZWN0KGNvY29zMmQ6OkNDUG9pbnQgbGluZVN0YXJ0UG9pbnQsIGNvY29zMmQ6OkNDUG9pbnQgbGluZUVuZFBvaW50LCBjb2NvczJkOjpDQ1BvaW50IHJlY3RsZWZ0Qm90dG9tUG9pbnQsIGZsb2F0IHdpZHRoLCBmbG9hdCBoZWlnaHQpXG57XG4gICAgLy8g5Zug5Li66L+Z5Liq5pa55rOV5LiT6Zeo6L+b6KGM5bCE57q/5YWJ5p2f55qE56Kw5pKe5qOA5rWL77yM5omA5Lul5pqC5LiN6L+b6KGM57q/5q615Zyo55+p5b2i5YaF55qE56Kw5pKe5qOA5rWLXG4gICAgY29jb3MyZDo6Q0NQb2ludCBsZWZ0TGluZVN0YXJ0UG9pbnQgPSByZWN0bGVmdEJvdHRvbVBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdExpbmVFbmRQb2ludCAgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRMaW5lU3RhcnRQb2ludD0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRMaW5lRW5kUG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgdG9wTGluZVN0YXJ0UG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcbiAgICBjb2NvczJkOjpDQ1BvaW50IHRvcExpbmVFbmRQb2ludCAgICA9IGNvY29zMmQ6OkNDUG9pbnQobGVmdExpbmVTdGFydFBvaW50Lngrd2lkdGgsIGxlZnRMaW5lU3RhcnRQb2ludC55K2hlaWdodCk7XG5cbiAgICBjb2NvczJkOjpDQ1BvaW50IGJvdHRvbUxpbmVTdGFydFBvaW50PSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54LCBsZWZ0TGluZVN0YXJ0UG9pbnQueSk7XG4gICAgY29jb3MyZDo6Q0NQb2ludCBib3R0b21MaW5lRW5kUG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkpO1xuICAgIFxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdEJvdHRvbUxpbmVTdGFydFBvaW50PSByZWN0bGVmdEJvdHRvbVBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRUb3BMaW5lRW5kUG9pbnQgICAgPSByaWdodExpbmVFbmRQb2ludDtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcExpbmVTdGFydFBvaW50ICAgPSBsZWZ0TGluZUVuZFBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRCb3R0b21MaW5lRW5kUG9pbnQgPSByaWdodExpbmVTdGFydFBvaW50O1xuXG5cbiAgICBkbyBcbiAgICB7XG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0TGluZVN0YXJ0UG9pbnQsIGxlZnRMaW5lRW5kUG9pbnQpKVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgaWYgKElzTGluZUNvbGxpc2lvbkxpbmUyKGxpbmVTdGFydFBvaW50LCBsaW5lRW5kUG9pbnQsIHJpZ2h0TGluZVN0YXJ0UG9pbnQsIHJpZ2h0TGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCB0b3BMaW5lU3RhcnRQb2ludCwgdG9wTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBib3R0b21MaW5lU3RhcnRQb2ludCwgYm90dG9tTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0Qm90dG9tTGluZVN0YXJ0UG9pbnQsIHJpZ2h0VG9wTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0VG9wTGluZVN0YXJ0UG9pbnQsIHJpZ2h0Qm90dG9tTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IFxuICAgIHdoaWxlIChmYWxzZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuc3RhdGljICBib29sICBJc1JlY3RDb2xsaXNpb25SZWN0Mihjb2NvczJkOjpDQ1BvaW50IHJlY3QxQ2VudGVyUG9pbnQsIGZsb2F0IHJlY3QxVywgZmxvYXQgcmVjdDFILCBjb2NvczJkOjpDQ1BvaW50IHJlY3QyQ2VudGVyUG9pbnQsIGZsb2F0IHJlY3QyVywgZmxvYXQgcmVjdDJIKVxue1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcFBvaW50ICAgICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54LXJlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnkrcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdEJvdHRvbVBvaW50ICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54LXJlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnktcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRUb3BQb2ludCAgICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54K3JlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnkrcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRCb3R0b21Qb2ludCA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54K3JlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnktcmVjdDJILzIuMGYpO1xuXG4gICAgaWYgKCAobGVmdFRvcFBvaW50Lng+KHJlY3QxQ2VudGVyUG9pbnQueC1yZWN0MVcvMi4wZikpICYmIChsZWZ0VG9wUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChsZWZ0VG9wUG9pbnQueT4ocmVjdDFDZW50ZXJQb2ludC55LXJlY3QxSC8yLjBmKSkgJiYgKGxlZnRUb3BQb2ludC55PChyZWN0MUNlbnRlclBvaW50LnkrcmVjdDFILzIuMGYpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBpZiAoIChsZWZ0Qm90dG9tUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKGxlZnRCb3R0b21Qb2ludC54PChyZWN0MUNlbnRlclBvaW50LngrcmVjdDFXLzIuMGYpKSBcbiAgICAgICAgJiYgKGxlZnRCb3R0b21Qb2ludC55PihyZWN0MUNlbnRlclBvaW50LnktcmVjdDFILzIuMGYpKSAmJiAobGVmdEJvdHRvbVBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGlmICggKHJpZ2h0VG9wUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKHJpZ2h0VG9wUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChyaWdodFRvcFBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChyaWdodFRvcFBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGlmICggKHJpZ2h0Qm90dG9tUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKHJpZ2h0Qm90dG9tUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChyaWdodEJvdHRvbVBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChyaWdodEJvdHRvbVBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8g55+p5b2i5ZKM55+p5b2i56Kw5pKe5qOA5rWLXG5ib29sICBJc1JlY3RDb2xsaXNpb25SZWN0KGNvY29zMmQ6OkNDUG9pbnQgcmVjdDFDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDFXLCBmbG9hdCByZWN0MUgsIGNvY29zMmQ6OkNDUG9pbnQgcmVjdDJDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDJXLCBmbG9hdCByZWN0MkgpXG57XG4gICAgaWYgKElzUmVjdENvbGxpc2lvblJlY3QyKHJlY3QxQ2VudGVyUG9pbnQsIHJlY3QxVywgcmVjdDFILCByZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIFxuICAgIGlmIChJc1JlY3RDb2xsaXNpb25SZWN0MihyZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCwgcmVjdDFDZW50ZXJQb2ludCwgcmVjdDFXLCByZWN0MUgpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuKiovIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Common.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6d4aCOiTtJz6R1xuSQrtdC', 'Common');
// framework/plugin_boosts/utils/Common.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var Common = /** @class */ (function () {
    function Common() {
    }
    Common.loadJson = function (path) {
        return new Promise(function (resolve, reject) {
            cc.loader.loadRes(path, cc.JsonAsset, function (errorcode, data) {
                resolve(data.json);
            });
        });
    };
    Common.sleep = function (timeout) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                resolve();
            }, timeout * 1000);
        });
    };
    Common.isGreaterDays = function (before, num) {
        if (num === void 0) { num = 7; }
        var now = new Date();
        var diff = now.getTime() - before;
        if (diff > 86400000 * num) // 24*60*60*1000
         {
            return true;
        }
    };
    Common.setDisplay = function (sp, url) {
        SpriteFrameCache_1.default.instance.getSpriteFrame(url).then(function (sf) { sp.spriteFrame = sf; });
    };
    Common.generate_action = function (params) {
        var scale_action = cc.scaleTo(params.time, params.scale_x, params.scale_y);
        return scale_action;
    };
    //弹性效果 果冻效果 
    Common.jellyJump = function (node) {
        var spawn_action1 = this.generate_action({ time: 0.06, scale_x: 0.7, scale_y: 0.7, scale_z: 1 });
        // let  spawn_action2 = this.generate_action({time : 0.12, scale_x : 1.3, scale_y  :1.3, scale_z :1})
        var spawn_action3 = this.generate_action({ time: 0.07, scale_x: 1, scale_y: 1.4, scale_z: 1 });
        // let  spawn_action4 = this.generate_action({time : 0.07, scale_x : 1.3, scale_y  :1.3, scale_z: 1})
        // let  spawn_action5 = this.generate_action({time : 0.07, scale_x : 1.2, scale_y : 1.2, scale_z : 1})
        var spawn_action5 = cc.scaleTo(0.8, 1.3).easing(cc.easeElasticOut(0.3));
        var seq_actions = cc.sequence(spawn_action1, 
        //  spawn_action2,
        spawn_action3, 
        // spawn_action4,
        spawn_action5);
        node.runAction(seq_actions);
    };
    Common.jellyJump2 = function (node, from, scale) {
        node.scale = from;
        var act = cc.scaleTo(0.8, scale, scale).easing(cc.easeElasticOut(0.3));
        node.runAction(act);
    };
    Common.moveBezier = function (prefab, from, to, callback, dur, delay) {
        if (callback === void 0) { callback = null; }
        if (dur === void 0) { dur = 1; }
        if (delay === void 0) { delay = 0; }
        var sprite = cc.instantiate(prefab);
        sprite.opacity = 255;
        sprite.setPosition(from);
        var bezier = [];
        var x = from.x, y = from.y;
        var ex = to.x, ey = to.y;
        bezier[0] = cc.v2(x, y);
        bezier[1] = cc.v2(x + Math.abs(ex - x + 100) * 0.5, y + Math.abs(ey - y + 100) * 0.5);
        bezier[2] = cc.v2(ex, ey);
        sprite.runAction(cc.sequence(cc.delayTime(delay), cc.bezierTo(dur, bezier), cc.fadeOut(0.3), cc.callFunc(callback)));
        return sprite;
    };
    return Common;
}());
exports.default = Common;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcQ29tbW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2REFBd0Q7QUFFeEQ7SUFBQTtJQWtGQSxDQUFDO0lBaEZVLGVBQVEsR0FBZixVQUFnQixJQUFJO1FBRWhCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxVQUFDLFNBQVMsRUFBQyxJQUFJO2dCQUNoRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3RCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sWUFBSyxHQUFaLFVBQWEsT0FBTztRQUVoQixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFDLE1BQU07WUFDOUIsVUFBVSxDQUFDO2dCQUNQLE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxFQUFFLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQTtRQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFFTSxvQkFBYSxHQUFwQixVQUFxQixNQUFNLEVBQUUsR0FBTztRQUFQLG9CQUFBLEVBQUEsT0FBTztRQUVoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUE7UUFDakMsSUFBRyxJQUFJLEdBQUcsUUFBUSxHQUFHLEdBQUcsRUFBRSxnQkFBZ0I7U0FDMUM7WUFDSSxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUVNLGlCQUFVLEdBQWpCLFVBQWtCLEVBQUUsRUFBQyxHQUFHO1FBRXBCLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRSxJQUFHLEVBQUUsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFBLENBQUEsQ0FBQyxDQUFDLENBQUE7SUFDakYsQ0FBQztJQUdNLHNCQUFlLEdBQXRCLFVBQXVCLE1BQU07UUFDekIsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQzFFLE9BQU8sWUFBWSxDQUFBO0lBQ3ZCLENBQUM7SUFFRCxZQUFZO0lBQ0osZ0JBQVMsR0FBakIsVUFBa0IsSUFBSTtRQUVsQixJQUFLLGFBQWEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUMsSUFBSSxFQUFHLElBQUksRUFBRSxPQUFPLEVBQUcsR0FBRyxFQUFFLE9BQU8sRUFBRyxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDbEcscUdBQXFHO1FBQ3JHLElBQUssYUFBYSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBQyxJQUFJLEVBQUcsSUFBSSxFQUFFLE9BQU8sRUFBRyxDQUFDLEVBQUUsT0FBTyxFQUFHLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNoRyxxR0FBcUc7UUFDckcsc0dBQXNHO1FBQ3RHLElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEUsSUFBSyxXQUFXLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxhQUFhO1FBQ3hDLGtCQUFrQjtRQUNkLGFBQWE7UUFDYixpQkFBaUI7UUFDakIsYUFBYSxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0saUJBQVUsR0FBakIsVUFBa0IsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLO1FBRTdCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDdkIsQ0FBQztJQUVNLGlCQUFVLEdBQWpCLFVBQWtCLE1BQU0sRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLFFBQWUsRUFBQyxHQUFPLEVBQUMsS0FBUztRQUFqQyx5QkFBQSxFQUFBLGVBQWU7UUFBQyxvQkFBQSxFQUFBLE9BQU87UUFBQyxzQkFBQSxFQUFBLFNBQVM7UUFDOUQsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNuQyxNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUNyQixNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBRXhCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQTtRQUNmLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDMUIsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRSxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQTtRQUNsRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNuSCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUwsYUFBQztBQUFELENBbEZBLEFBa0ZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vblxue1xuICAgIHN0YXRpYyBsb2FkSnNvbihwYXRoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHBhdGggLGNjLkpzb25Bc3NldCwoZXJyb3Jjb2RlLGRhdGEpPT57XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhLmpzb24pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzbGVlcCh0aW1lb3V0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSwgdGltZW91dCAqIDEwMDApXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH1cblxuICAgIHN0YXRpYyBpc0dyZWF0ZXJEYXlzKGJlZm9yZSwgbnVtID0gNylcbiAgICB7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBiZWZvcmVcbiAgICAgICAgaWYoZGlmZiA+IDg2NDAwMDAwICogbnVtKSAvLyAyNCo2MCo2MCoxMDAwXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldERpc3BsYXkoc3AsdXJsKVxuICAgIHtcbiAgICAgICAgU3ByaXRlRnJhbWVDYWNoZS5pbnN0YW5jZS5nZXRTcHJpdGVGcmFtZSh1cmwpLnRoZW4oc2Y9PntzcC5zcHJpdGVGcmFtZSA9IHNmfSlcbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZW5lcmF0ZV9hY3Rpb24ocGFyYW1zKXtcbiAgICAgICAgbGV0IHNjYWxlX2FjdGlvbiA9IGNjLnNjYWxlVG8ocGFyYW1zLnRpbWUsIHBhcmFtcy5zY2FsZV94LCBwYXJhbXMuc2NhbGVfeSlcbiAgICAgICAgcmV0dXJuIHNjYWxlX2FjdGlvblxuICAgIH1cblxuICAgIC8v5by55oCn5pWI5p6cIOaenOWGu+aViOaenCBcbiAgICBzdGF0aWMgIGplbGx5SnVtcChub2RlKVxuICAgIHtcbiAgICAgICAgbGV0ICBzcGF3bl9hY3Rpb24xID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjA2LCBzY2FsZV94IDogMC43LCBzY2FsZV95IDogMC43LCBzY2FsZV96OiAxfSlcbiAgICAgICAgLy8gbGV0ICBzcGF3bl9hY3Rpb24yID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjEyLCBzY2FsZV94IDogMS4zLCBzY2FsZV95ICA6MS4zLCBzY2FsZV96IDoxfSlcbiAgICAgICAgbGV0ICBzcGF3bl9hY3Rpb24zID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjA3LCBzY2FsZV94IDogMSwgc2NhbGVfeSAgOjEuNCwgc2NhbGVfeiA6MX0pXG4gICAgICAgIC8vIGxldCAgc3Bhd25fYWN0aW9uNCA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNywgc2NhbGVfeCA6IDEuMywgc2NhbGVfeSAgOjEuMywgc2NhbGVfejogMX0pXG4gICAgICAgIC8vIGxldCAgc3Bhd25fYWN0aW9uNSA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNywgc2NhbGVfeCA6IDEuMiwgc2NhbGVfeSA6IDEuMiwgc2NhbGVfeiA6IDF9KVxuICAgICAgICBsZXQgc3Bhd25fYWN0aW9uNSA9IGNjLnNjYWxlVG8oMC44LCAxLjMpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjMpKTtcbiAgICAgICAgbGV0ICBzZXFfYWN0aW9ucyA9IGNjLnNlcXVlbmNlKHNwYXduX2FjdGlvbjEsXG4gICAgICAgICAgICAvLyAgc3Bhd25fYWN0aW9uMixcbiAgICAgICAgICAgICAgICBzcGF3bl9hY3Rpb24zLFxuICAgICAgICAgICAgICAgIC8vIHNwYXduX2FjdGlvbjQsXG4gICAgICAgICAgICAgICAgc3Bhd25fYWN0aW9uNSlcbiAgICAgICAgbm9kZS5ydW5BY3Rpb24oc2VxX2FjdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBqZWxseUp1bXAyKG5vZGUsZnJvbSxzY2FsZSlcbiAgICB7XG4gICAgICAgIG5vZGUuc2NhbGUgPSBmcm9tO1xuICAgICAgICBsZXQgYWN0ID0gY2Muc2NhbGVUbygwLjgsIHNjYWxlLHNjYWxlKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC4zKSk7XG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGFjdClcbiAgICB9XG5cbiAgICBzdGF0aWMgbW92ZUJlemllcihwcmVmYWIsZnJvbSx0byxjYWxsYmFjayA9IG51bGwsZHVyID0gMSxkZWxheSA9IDApe1xuICAgICAgICBsZXQgc3ByaXRlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxuICAgICAgICBzcHJpdGUub3BhY2l0eSA9IDI1NTtcbiAgICAgICAgc3ByaXRlLnNldFBvc2l0aW9uKGZyb20pXG5cbiAgICAgICAgbGV0IGJlemllciA9IFtdXG4gICAgICAgIGxldCB4ID0gZnJvbS54LCB5ID0gZnJvbS55XG4gICAgICAgIGxldCBleCA9IHRvLngsIGV5ID0gdG8ueTtcbiAgICAgICAgYmV6aWVyWzBdID0gY2MudjIoeCwgeSlcbiAgICAgICAgYmV6aWVyWzFdID0gY2MudjIoeCArIE1hdGguYWJzKGV4IC0geCsgMTAwKSAqIDAuNSwgeSArIE1hdGguYWJzKGV5IC0geSsxMDApICogMC41KVxuICAgICAgICBiZXppZXJbMl0gPSBjYy52MihleCwgZXkpXG5cbiAgICAgICAgc3ByaXRlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZGVsYXkpLGNjLmJlemllclRvKGR1ciwgYmV6aWVyKSAsIGNjLmZhZGVPdXQoMC4zKSxjYy5jYWxsRnVuYyhjYWxsYmFjaykpKVxuICAgICAgICByZXR1cm4gc3ByaXRlO1xuICAgIH1cblxufSJdfQ==
//------QC-SOURCE-SPLIT------
