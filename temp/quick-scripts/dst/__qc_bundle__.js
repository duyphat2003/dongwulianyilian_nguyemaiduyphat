
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/Game/Scripts/Info');
require('./assets/Game/Scripts/LanguageManager');
require('./assets/Game/Scripts/Main');
require('./assets/Game/Scripts/hex-lines-game/Animal');
require('./assets/Game/Scripts/hex-lines-game/Consts');
require('./assets/Game/Scripts/hex-lines-game/Game');
require('./assets/Game/Scripts/hex-lines-game/GridManager');
require('./assets/Game/Scripts/hex-lines-game/HexonTile');
require('./assets/Game/Scripts/hex-lines-game/Res');
require('./assets/Game/Scripts/hex-lines-game/base/com');
require('./assets/Game/Scripts/hex-lines-game/ds/IntMap');
require('./assets/Game/Scripts/ui/DCBackground');
require('./assets/Game/Scripts/ui/DCParticleSystem');
require('./assets/Game/Scripts/ui/DailyGetDialog');
require('./assets/Game/Scripts/ui/GetDialog');
require('./assets/Game/Scripts/ui/HbDialog');
require('./assets/Game/Scripts/ui/LevelDialog');
require('./assets/Game/Scripts/ui/LevelupDialog');
require('./assets/Game/Scripts/ui/LoseDialog');
require('./assets/Game/Scripts/ui/LuckyDialog');
require('./assets/Game/Scripts/ui/PauseDialog');
require('./assets/Game/Scripts/ui/RankItem');
require('./assets/Game/Scripts/ui/RankingList');
require('./assets/Game/Scripts/ui/ShopDialog');
require('./assets/Game/Scripts/ui/ShopItemTemplate');
require('./assets/Game/Scripts/ui/WinDialog');
require('./assets/framework/Platform');
require('./assets/framework/network/ConnectManager');
require('./assets/framework/network/Message');
require('./assets/framework/network/MessageBase');
require('./assets/framework/network/MessageDispatch');
require('./assets/framework/network/MessageHandler');
require('./assets/framework/network/MessageType');
require('./assets/framework/network/Socket');
require('./assets/framework/plugin_boosts/gamesys/Device');
require('./assets/framework/plugin_boosts/gamesys/FSM');
require('./assets/framework/plugin_boosts/gamesys/InfiniteBackground');
require('./assets/framework/plugin_boosts/gamesys/LocalLifeSystem');
require('./assets/framework/plugin_boosts/gamesys/LocalTimeSystem');
require('./assets/framework/plugin_boosts/gamesys/PoolManager');
require('./assets/framework/plugin_boosts/gamesys/PsFx');
require('./assets/framework/plugin_boosts/gamesys/PsFxPlayer');
require('./assets/framework/plugin_boosts/gamesys/PsSpawner');
require('./assets/framework/plugin_boosts/libs/easing');
require('./assets/framework/plugin_boosts/misc/BoostsAction');
require('./assets/framework/plugin_boosts/misc/ClickAudio');
require('./assets/framework/plugin_boosts/misc/ClickAudioManager');
require('./assets/framework/plugin_boosts/misc/DataCenter');
require('./assets/framework/plugin_boosts/misc/FrameSwitch');
require('./assets/framework/plugin_boosts/misc/InputSystem');
require('./assets/framework/plugin_boosts/misc/JoyStick');
require('./assets/framework/plugin_boosts/misc/Net');
require('./assets/framework/plugin_boosts/misc/Signal');
require('./assets/framework/plugin_boosts/misc/SpriteFrameCache');
require('./assets/framework/plugin_boosts/ui/DCLabel');
require('./assets/framework/plugin_boosts/ui/DCPandoraPoint');
require('./assets/framework/plugin_boosts/ui/DCSprite');
require('./assets/framework/plugin_boosts/ui/DCToggle');
require('./assets/framework/plugin_boosts/ui/DCUI');
require('./assets/framework/plugin_boosts/ui/LoadingManager');
require('./assets/framework/plugin_boosts/ui/MessageBoxComponent');
require('./assets/framework/plugin_boosts/ui/MessageBoxManager');
require('./assets/framework/plugin_boosts/ui/PandoraPoint');
require('./assets/framework/plugin_boosts/ui/ToastComponent');
require('./assets/framework/plugin_boosts/ui/ToastManager');
require('./assets/framework/plugin_boosts/ui/UIComponent');
require('./assets/framework/plugin_boosts/ui/UIFunctions');
require('./assets/framework/plugin_boosts/ui/View');
require('./assets/framework/plugin_boosts/ui/ViewManager');
require('./assets/framework/plugin_boosts/ui/game/LevelSelector');
require('./assets/framework/plugin_boosts/utils/Common');
require('./assets/framework/plugin_boosts/utils/EventManager');
require('./assets/framework/plugin_boosts/utils/Intersection');
require('./assets/framework/qqsdk/BKTool');
require('./assets/framework/qqsdk/SoundHelper');
require('./assets/framework/wxsdk/AddToMyFav');
require('./assets/framework/wxsdk/GameConfigs');
require('./assets/framework/wxsdk/MoreGameComponent');
require('./assets/framework/wxsdk/MoreGameDialog');
require('./assets/framework/wxsdk/MoreGameItem');
require('./assets/framework/wxsdk/MoreGameManager');
require('./assets/framework/wxsdk/MoreGameStyle');
require('./assets/framework/wxsdk/WxRankDialog');
require('./assets/framework/wxsdk/sdk');
require('./assets/migration/use_v2.0.x_cc.Toggle_event');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.0.x_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50795zUaKtEKpR26yc6eNG8', 'use_v2.0.x_cc.Toggle_event');
// migration/use_v2.0.x_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only compatible with projects prior to v2.1.0.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 之前版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */

if (cc.Toggle) {
  // Whether the 'toggle' and 'checkEvents' events are fired when 'toggle.check() / toggle.uncheck()' is called in the code
  // 在代码中调用 'toggle.check() / toggle.uncheck()' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_check = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbWlncmF0aW9uXFx1c2VfdjIuMC54X2NjLlRvZ2dsZV9ldmVudC5qcyJdLCJuYW1lcyI6WyJjYyIsIlRvZ2dsZSIsIl90cmlnZ2VyRXZlbnRJblNjcmlwdF9jaGVjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUlBLEVBQUUsQ0FBQ0MsTUFBTSxFQUFFO0VBQ1g7RUFDQTtFQUNBRCxFQUFFLENBQUNDLE1BQU0sQ0FBQ0MsMkJBQTJCLEdBQUcsSUFBSTtBQUNoRCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVGhpcyBzY3JpcHQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgQ29jb3MgQ3JlYXRvciBhbmQgaXMgb25seSBjb21wYXRpYmxlIHdpdGggcHJvamVjdHMgcHJpb3IgdG8gdjIuMS4wLlxyXG4gKiBZb3UgZG8gbm90IG5lZWQgdG8gbWFudWFsbHkgYWRkIHRoaXMgc2NyaXB0IGluIGFueSBvdGhlciBwcm9qZWN0LlxyXG4gKiBJZiB5b3UgZG9uJ3QgdXNlIGNjLlRvZ2dsZSBpbiB5b3VyIHByb2plY3QsIHlvdSBjYW4gZGVsZXRlIHRoaXMgc2NyaXB0IGRpcmVjdGx5LlxyXG4gKiBJZiB5b3VyIHByb2plY3QgaXMgaG9zdGVkIGluIFZDUyBzdWNoIGFzIGdpdCwgc3VibWl0IHRoaXMgc2NyaXB0IHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiDmraTohJrmnKznlLEgQ29jb3MgQ3JlYXRvciDoh6rliqjnlJ/miJDvvIzku4XnlKjkuo7lhbzlrrkgdjIuMS4wIOS5i+WJjeeJiOacrOeahOW3peeoi++8jFxyXG4gKiDkvaDml6DpnIDlnKjku7vkvZXlhbblroPpobnnm67kuK3miYvliqjmt7vliqDmraTohJrmnKzjgIJcclxuICog5aaC5p6c5L2g55qE6aG555uu5Lit5rKh55So5YiwIFRvZ2dsZe+8jOWPr+ebtOaOpeWIoOmZpOivpeiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67mnInmiZjnrqHkuo4gZ2l0IOetieeJiOacrOW6k++8jOivt+WwhuatpOiEmuacrOS4gOW5tuS4iuS8oOOAglxyXG4gKi9cclxuXHJcbmlmIChjYy5Ub2dnbGUpIHtcclxuICAgIC8vIFdoZXRoZXIgdGhlICd0b2dnbGUnIGFuZCAnY2hlY2tFdmVudHMnIGV2ZW50cyBhcmUgZmlyZWQgd2hlbiAndG9nZ2xlLmNoZWNrKCkgLyB0b2dnbGUudW5jaGVjaygpJyBpcyBjYWxsZWQgaW4gdGhlIGNvZGVcclxuICAgIC8vIOWcqOS7o+eggeS4reiwg+eUqCAndG9nZ2xlLmNoZWNrKCkgLyB0b2dnbGUudW5jaGVjaygpJyDml7bmmK/lkKbop6blj5EgJ3RvZ2dsZScg5LiOICdjaGVja0V2ZW50cycg5LqL5Lu2XHJcbiAgICBjYy5Ub2dnbGUuX3RyaWdnZXJFdmVudEluU2NyaXB0X2NoZWNrID0gdHJ1ZTtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4d867LSTWNEB7LUL3KAjVve', 'DCBackground');
// Game/Scripts/ui/DCBackground.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var SpriteFrameCache_1 = require("../../../framework/plugin_boosts/misc/SpriteFrameCache");
var Info_1 = require("../Info");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCBackground = /** @class */ (function (_super) {
    __extends(DCBackground, _super);
    function DCBackground() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCBackground.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCBackground.prototype.start = function () { };
    DCBackground.prototype.onValueChanged = function (v) {
        var _this = this;
        var data = Info_1.UserInfo.getSkinById(v);
        console.log(data);
        SpriteFrameCache_1.default.instance.getSpriteFrame("Game/Textures/Bgs/" + data.img + ".png").then(function (sf) { return _this.sprite.spriteFrame = sf; });
    };
    DCBackground = __decorate([
        ccclass
    ], DCBackground);
    return DCBackground;
}(DCUI_1.default));
exports.default = DCBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDQmFja2dyb3VuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUVBQTREO0FBQzVELDJGQUFzRjtBQUN0RixnQ0FBbUM7QUFFN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMEMsZ0NBQUk7SUFBOUM7O0lBZ0JBLENBQUM7SUFiRyw2QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsNEJBQUssR0FBTCxjQUFVLENBQUM7SUFFWCxxQ0FBYyxHQUFkLFVBQWUsQ0FBQztRQUFoQixpQkFLQztRQUhHLElBQUksSUFBSSxHQUFHLGVBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQiwwQkFBZ0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixHQUFDLElBQUksQ0FBQyxHQUFHLEdBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRSxJQUFFLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsRUFBRSxFQUE1QixDQUE0QixDQUFDLENBQUM7SUFDMUgsQ0FBQztJQWZnQixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBZ0JoQztJQUFELG1CQUFDO0NBaEJELEFBZ0JDLENBaEJ5QyxjQUFJLEdBZ0I3QztrQkFoQm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRENVSSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvRENVSVwiO1xyXG5pbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENCYWNrZ3JvdW5kIGV4dGVuZHMgRENVSSB7XHJcblxyXG4gICAgc3ByaXRlOmNjLlNwcml0ZTtcclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHt9XHJcblxyXG4gICAgb25WYWx1ZUNoYW5nZWQodilcclxuICAgIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFVzZXJJbmZvLmdldFNraW5CeUlkKHYpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUoXCJHYW1lL1RleHR1cmVzL0Jncy9cIitkYXRhLmltZytcIi5wbmdcIikudGhlbihzZj0+dGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSBzZik7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/LanguageManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0105dG48yBJwLawk1oXeFXf', 'LanguageManager');
// Game/Scripts/LanguageManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LanguageMode = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LanguageMode;
(function (LanguageMode) {
    LanguageMode["EN"] = "en";
    LanguageMode["VI"] = "vi";
    LanguageMode["CN"] = "zh";
})(LanguageMode = exports.LanguageMode || (exports.LanguageMode = {}));
var LanguageManager = /** @class */ (function () {
    function LanguageManager() {
        this._currentLanguage = LanguageMode.CN;
        this.isLanguageFileExist = function () {
            if (cc.sys.isNative) {
                // Native: dùng jsb.fileUtils
                var path = jsb.fileUtils.getWritablePath() + "language.json";
                return jsb.fileUtils.isFileExist(path);
            }
            else {
                // Web/HTML5: kiểm tra localStorage
                return cc.sys.localStorage.getItem("language.json") != null;
            }
        };
    }
    LanguageManager_1 = LanguageManager;
    Object.defineProperty(LanguageManager.prototype, "currentLanguage", {
        get: function () {
            return this._currentLanguage;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LanguageManager, "instance", {
        get: function () {
            if (!this._instance) {
                this._instance = new LanguageManager_1();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    //Save JSON
    LanguageManager.prototype.saveLanguage = function (lang) {
        this._currentLanguage = lang;
        var data = { currentLanguage: lang };
        if (cc.sys.isNative) {
            // Android/iOS/PC
            var path = jsb.fileUtils.getWritablePath() + "language.json";
            jsb.fileUtils.writeStringToFile(JSON.stringify(data), path);
            cc.log("Saved language.json to:", path);
        }
        else {
            // Web/Mobile HTML5
            cc.sys.localStorage.setItem("language.json", JSON.stringify(data));
        }
    };
    //Load JSON
    LanguageManager.prototype.loadLanguage = function () {
        if (cc.sys.isNative) {
            var path = jsb.fileUtils.getWritablePath() + "language.json";
            if (jsb.fileUtils.isFileExist(path)) {
                var content = jsb.fileUtils.getStringFromFile(path);
                var data = JSON.parse(content);
                this._currentLanguage = data.currentLanguage;
            }
        }
        else {
            var saved = cc.sys.localStorage.getItem("language.json");
            if (saved) {
                var data = JSON.parse(saved);
                this._currentLanguage = data.currentLanguage;
            }
        }
        cc.log("Loaded language:", this._currentLanguage);
    };
    var LanguageManager_1;
    LanguageManager._instance = null;
    LanguageManager = LanguageManager_1 = __decorate([
        ccclass
    ], LanguageManager);
    return LanguageManager;
}());
exports.default = LanguageManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcTGFuZ3VhZ2VNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFN0MsSUFBWSxZQUlYO0FBSkQsV0FBWSxZQUFZO0lBQ3BCLHlCQUFTLENBQUE7SUFDVCx5QkFBUyxDQUFBO0lBQ1QseUJBQVMsQ0FBQTtBQUNiLENBQUMsRUFKVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQUl2QjtBQUdEO0lBQUE7UUFHWSxxQkFBZ0IsR0FBaUIsWUFBWSxDQUFDLEVBQUUsQ0FBQztRQVlsRCx3QkFBbUIsR0FBRztZQUN6QixJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFO2dCQUNqQiw2QkFBNkI7Z0JBQzdCLElBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLEdBQUcsZUFBZSxDQUFDO2dCQUMvRCxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzFDO2lCQUFNO2dCQUNILG1DQUFtQztnQkFDbkMsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksSUFBSSxDQUFDO2FBQy9EO1FBQ0wsQ0FBQyxDQUFBO0lBcUNMLENBQUM7d0JBN0RvQixlQUFlO0lBS2hDLHNCQUFXLDRDQUFlO2FBQTFCO1lBQ0ksT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBa0IsMkJBQVE7YUFBMUI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGlCQUFlLEVBQUUsQ0FBQzthQUMxQztZQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQWFELFdBQVc7SUFDSixzQ0FBWSxHQUFuQixVQUFvQixJQUFrQjtRQUNsQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQU0sSUFBSSxHQUFHLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxDQUFDO1FBRXZDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDakIsaUJBQWlCO1lBQ2pCLElBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLEdBQUcsZUFBZSxDQUFDO1lBQy9ELEdBQUcsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1RCxFQUFFLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNDO2FBQU07WUFDSCxtQkFBbUI7WUFDbkIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDdEU7SUFDTCxDQUFDO0lBRUQsV0FBVztJQUNKLHNDQUFZLEdBQW5CO1FBQ0ksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFNLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxHQUFHLGVBQWUsQ0FBQztZQUMvRCxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNqQyxJQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0RCxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGVBQStCLENBQUM7YUFDaEU7U0FDSjthQUFNO1lBQ0gsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzNELElBQUksS0FBSyxFQUFFO2dCQUNQLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZUFBK0IsQ0FBQzthQUNoRTtTQUNKO1FBQ0QsRUFBRSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN0RCxDQUFDOztJQTFEYyx5QkFBUyxHQUFvQixJQUFJLENBQUM7SUFGaEMsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQTZEbkM7SUFBRCxzQkFBQztDQTdERCxBQTZEQyxJQUFBO2tCQTdEb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIu+7v2NvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgZW51bSBMYW5ndWFnZU1vZGUge1xyXG4gICAgRU4gPSBcImVuXCIsXHJcbiAgICBWSSA9IFwidmlcIixcclxuICAgIENOID0gXCJ6aFwiXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhbmd1YWdlTWFuYWdlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBMYW5ndWFnZU1hbmFnZXIgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfY3VycmVudExhbmd1YWdlOiBMYW5ndWFnZU1vZGUgPSBMYW5ndWFnZU1vZGUuQ047XHJcblxyXG4gICAgcHVibGljIGdldCBjdXJyZW50TGFuZ3VhZ2UoKTogTGFuZ3VhZ2VNb2RlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudExhbmd1YWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IExhbmd1YWdlTWFuYWdlciB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBMYW5ndWFnZU1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzTGFuZ3VhZ2VGaWxlRXhpc3QgPSAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBOYXRpdmU6IGTDuW5nIGpzYi5maWxlVXRpbHNcclxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGpzYi5maWxlVXRpbHMuZ2V0V3JpdGFibGVQYXRoKCkgKyBcImxhbmd1YWdlLmpzb25cIjtcclxuICAgICAgICAgICAgcmV0dXJuIGpzYi5maWxlVXRpbHMuaXNGaWxlRXhpc3QocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2ViL0hUTUw1OiBraeG7g20gdHJhIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgICAgICByZXR1cm4gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuZ3VhZ2UuanNvblwiKSAhPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9TYXZlIEpTT05cclxuICAgIHB1YmxpYyBzYXZlTGFuZ3VhZ2UobGFuZzogTGFuZ3VhZ2VNb2RlKSB7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudExhbmd1YWdlID0gbGFuZztcclxuICAgICAgICBjb25zdCBkYXRhID0geyBjdXJyZW50TGFuZ3VhZ2U6IGxhbmcgfTtcclxuXHJcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBBbmRyb2lkL2lPUy9QQ1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0ganNiLmZpbGVVdGlscy5nZXRXcml0YWJsZVBhdGgoKSArIFwibGFuZ3VhZ2UuanNvblwiO1xyXG4gICAgICAgICAgICBqc2IuZmlsZVV0aWxzLndyaXRlU3RyaW5nVG9GaWxlKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBwYXRoKTtcclxuICAgICAgICAgICAgY2MubG9nKFwiU2F2ZWQgbGFuZ3VhZ2UuanNvbiB0bzpcIiwgcGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2ViL01vYmlsZSBIVE1MNVxyXG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsYW5ndWFnZS5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Mb2FkIEpTT05cclxuICAgIHB1YmxpYyBsb2FkTGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0ganNiLmZpbGVVdGlscy5nZXRXcml0YWJsZVBhdGgoKSArIFwibGFuZ3VhZ2UuanNvblwiO1xyXG4gICAgICAgICAgICBpZiAoanNiLmZpbGVVdGlscy5pc0ZpbGVFeGlzdChwYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGpzYi5maWxlVXRpbHMuZ2V0U3RyaW5nRnJvbUZpbGUocGF0aCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMYW5ndWFnZSA9IGRhdGEuY3VycmVudExhbmd1YWdlIGFzIExhbmd1YWdlTW9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuZ3VhZ2UuanNvblwiKTtcclxuICAgICAgICAgICAgaWYgKHNhdmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzYXZlZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50TGFuZ3VhZ2UgPSBkYXRhLmN1cnJlbnRMYW5ndWFnZSBhcyBMYW5ndWFnZU1vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2MubG9nKFwiTG9hZGVkIGxhbmd1YWdlOlwiLCB0aGlzLl9jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/Platform.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8fc52zVaq1FVrE4//XvMzeK', 'Platform');
// framework/Platform.ts

Object.defineProperty(exports, "__esModule", { value: true });
var sdk_1 = require("./wxsdk/sdk");
var ToastManager_1 = require("./plugin_boosts/ui/ToastManager");
var BKTool_1 = require("./qqsdk/BKTool");
var SpriteFrameCache_1 = require("./plugin_boosts/misc/SpriteFrameCache");
var Signal_1 = require("./plugin_boosts/misc/Signal");
var EventManager_1 = require("./plugin_boosts/utils/EventManager");
var WxCommands;
(function (WxCommands) {
    WxCommands[WxCommands["Hide"] = 99] = "Hide";
    WxCommands[WxCommands["Next"] = 100] = "Next";
    WxCommands[WxCommands["RankSmall"] = 101] = "RankSmall";
    WxCommands[WxCommands["Rank"] = 102] = "Rank";
})(WxCommands || (WxCommands = {}));
var Platform = /** @class */ (function () {
    function Platform() {
    }
    Platform.getOpenID = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // wechat 
            var userInfo = sdk_1.wxsdk.userInfo;
            if (userInfo && userInfo.openID) {
                return userInfo.openID;
            }
            else {
                return "";
            }
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return GameStatusInfo.openId;
        }
        else {
            return "123";
        }
    };
    Platform.getNick = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return BKTool_1.default.getNick();
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            return (sdk_1.wxsdk.userInfo && sdk_1.wxsdk.userInfo.nickName) || "自已";
        }
        else {
            return "玩家自已";
        }
    };
    Platform.getHead = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            return BKTool_1.default.getHead();
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // avatarUrl:"https://wx.qlogo.cn/mmopen/vi_32/QlHaicGZOD7do9LuX5W4APHYSrUBqVaGULuwISLUf35IyOOYZ3IXl7nF5mW36JiaQ9snziawrAvkknX41SmeYa9AQ/132"city:""country:""gender:1language:"zh_CN"nickName:"Damon Ren⁶⁶⁶"province:""
            var userInfo = sdk_1.wxsdk.userInfo;
            if (userInfo && userInfo.avatarUrl) {
                return userInfo.avatarUrl;
            }
            else {
                return "https://tank.wdfunny.com/speed_logo/2.jpg";
            }
        }
        return "https://tank.wdfunny.com/speed_logo/1.jpg";
    };
    Platform.loadHeadQQ = function (sp) {
        var self = this;
        var absolutePath = "GameSandBox://_head/" + GameStatusInfo.openId + ".jpg";
        var isExit = BK.FileUtil.isFileExist(absolutePath);
        cc.log(absolutePath + " is exit :" + isExit);
        //如果指定目录中存在此图像就直接显示否则从网络获取
        if (isExit) {
            cc.loader.load(absolutePath, function (err, texture) {
                if (err == null) {
                    sp.spriteFrame = new cc.SpriteFrame(texture);
                }
            });
        }
        else {
            BK.MQQ.Account.getHeadEx(GameStatusInfo.openId, function (oId, imgPath) {
                cc.log("openId:" + oId + " imgPath:" + imgPath);
                var image = new Image();
                image.onload = function () {
                    var tex = new cc.Texture2D();
                    tex.initWithElement(image);
                    tex.handleLoadedTexture();
                    sp.spriteFrame = new cc.SpriteFrame(tex);
                };
                image.src = imgPath;
            });
        }
    };
    Platform.loadSelfHead = function (sprite) {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            this.loadHeadQQ(sprite);
        }
        else {
            SpriteFrameCache_1.default.instance.getSpriteFrame(Platform.getHead()).then(function (sf) { return sprite.spriteFrame = sf; });
        }
    };
    Platform.exit = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.offShow(Platform.onEnterForeground);
            wx.offHide(Platform.onEnterBackground);
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
        }
    };
    Platform.login = function () {
        var _this = this;
        this.isAndroid = cc.sys.os == "Android";
        console.log("================= os", cc.sys.os);
        this.isIOS = cc.sys.os == "iOS";
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.login();
            sdk_1.wxsdk.requestConfig(function (data) {
                _this.configGetSignal.fire(data);
            });
            // get conf 
            wx.onShow(Platform.onEnterForeground);
            wx.onHide(Platform.onEnterBackground);
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.login();
            BK.onEnterForeground(Platform.onEnterForeground);
            BK.onEnterBackground(Platform.onEnterBackground);
        }
    };
    Platform.requestServerConfigs = function (name, callback, target) {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.requestDB(name, callback, target);
        }
    };
    Platform.getGameID = function () {
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            GameStatusInfo.gameId;
        }
        return "speed_wanyiwan";
    };
    Platform.getLaunchOptions = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            return wx.getLaunchOptionsSync();
        }
        return {};
    };
    Platform.getCity = function () {
        return "";
    };
    Platform.share = function (callback, target) {
        console.log("######开始分享");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.openShare();
            var t_1 = new Date().getTime();
            Platform.onEnterForegroundSignal.on(function () {
                Platform.onEnterForegroundSignal.clear();
                var d = new Date().getTime() - t_1;
                if (d > 2333) {
                    setTimeout(function (_) {
                        if (callback)
                            callback.call(target);
                    }, 500);
                }
                else {
                    //用户及时返回分享失败 
                    ToastManager_1.Toast.make("分享失败,请尝试换其它群分享");
                }
            });
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.share(function (v) {
                if (v == "success") {
                    callback && callback.call(target);
                }
                else {
                    // Toast.make("分享失败")
                }
            });
        }
        else {
            callback && callback.call(target);
        }
    };
    Platform.watch_video = function (callback, target) {
        console.log("######开始看视频");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.loadVideoAd(function (code, isEnded) {
                if (code == "load") {
                    cc.audioEngine.pauseMusic();
                    Platform.bannnerRefreshEnabled = false;
                }
                else if (code == "close") {
                    Platform.bannnerRefreshEnabled = true;
                    if (!isEnded)
                        ToastManager_1.Toast.make("必须看完视频,才能获取奖励");
                    else
                        callback && callback.call(target);
                }
            });
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            //关闭背景
            cc.audioEngine.pauseMusic();
            var isFinish_1 = false;
            BKTool_1.default.loadVideoAd(function (v, video) {
                if (v == "load") {
                    video.show();
                }
                else if (v == "finish") {
                    isFinish_1 = true;
                }
                else if (v == "close") {
                    if (!isFinish_1)
                        ToastManager_1.Toast.make("必须看完视频,才能获取奖励");
                    else
                        callback && callback.call(target);
                }
            });
        }
        else {
            callback && callback.call(target);
        }
    };
    Platform.showBannerAd = function () {
        console.log("######显示Banner广告");
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            sdk_1.wxsdk.showBannerAd();
        }
        else if (cc.sys.QQ_PLAY == cc.sys.platform) {
            BKTool_1.default.showBannerAd();
        }
        else {
        }
    };
    Platform.initBannerAd = function (b) {
        if (b === void 0) { b = 1; }
        if (b == 0)
            return;
        if (cc.sys.QQ_PLAY == cc.sys.platform) {
            setInterval(function (_) {
                console.log("######加载Banner广告");
                BKTool_1.default.hideBannerAd();
                BKTool_1.default.loadBannerAd(function (v) {
                    v == "load" && BKTool_1.default.showBannerAd();
                });
            }, 30000);
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            setInterval(function (_) {
                if (Platform.bannnerRefreshEnabled) {
                    console.log("######加载Banner广告");
                    sdk_1.wxsdk.hideBannerAd();
                    sdk_1.wxsdk.loadBannerAd(function (v) {
                        v == "load" && sdk_1.wxsdk.showBannerAd();
                    });
                }
            }, 40000);
        }
    };
    Platform.jumpTo = function () {
        // var desGameId = 1234; //跳转的gameid，必须为数字
        // var extendInfo = ""; //额外参数，必须为字符串
        // BK.QQ.skipGame(desGameId, extendInfo);
    };
    Platform.showRankDialog = function () {
        console.log("[Platform]#showRankDialog");
        ToastManager_1.Toast.make("#[Platform]#showRankDialog");
        // ViewManager.instance.show("Game/RankDialog")
    };
    // Andriod 发送游戏快捷方式到桌面
    Platform.onEnterForeground = function () {
        console.log("=====================onEnterForeground=====================");
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            //onEnterForeground
            // Device.resumeMusic()
            cc.audioEngine.resumeMusic();
        }
        else {
            cc.audioEngine.resumeMusic();
        }
        Platform.onEnterForegroundSignal.fire();
        EventManager_1.event.emit("onEnterForeground");
    };
    Platform.onEnterBackground = function () {
        // BK.onEnterBackground(enterBackgroundListener);
        EventManager_1.event.emit("onEnterBackground");
    };
    Platform.onGameExit = function () {
        // BK.onGameClose(gameCloseListener);
    };
    Platform.showSmallRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.RankSmall);
    };
    Platform.showRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.Rank);
    };
    Platform.hideRank = function () {
        sdk_1.wxsdk.postMessage(WxCommands.RankSmall);
    };
    Platform.getRankList = function (callback, target) {
        console.log("[Platform]#获取排行榜数据");
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            return BKTool_1.default.getRankList(function (errorCode, list) {
                callback && callback.call(target, errorCode, list);
            });
        }
        else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
        }
    };
    Platform.uploadScore = function (score) {
        console.log("[Platform]#上传分数");
        if (!score) {
            console.log("score 上传失败：null");
            return;
        }
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            BKTool_1.default.uploadScore(score);
        }
        else if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            // wxsdk.postMessage(WxCommands., score);
            sdk_1.wxsdk.uploadScore(score);
        }
        else {
            // Toast.make("#[Platform]#uploadScore")
        }
    };
    Platform.bannnerRefreshEnabled = true;
    Platform.onEnterForegroundSignal = new Signal_1.default();
    Platform.isAndroid = false;
    Platform.isIOS = false;
    Platform.configGetSignal = new Signal_1.default();
    return Platform;
}());
exports.default = Platform;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxQbGF0Zm9ybS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQW9DO0FBQ3BDLGdFQUF3RDtBQUN4RCx5Q0FBb0M7QUFFcEMsMEVBQXFFO0FBQ3JFLHNEQUFpRDtBQUNqRCxtRUFBMkQ7QUFFM0QsSUFBSyxVQU1KO0FBTkQsV0FBSyxVQUFVO0lBRVgsNENBQVMsQ0FBQTtJQUNULDZDQUFJLENBQUE7SUFDSix1REFBUyxDQUFBO0lBQ1QsNkNBQUksQ0FBQTtBQUNSLENBQUMsRUFOSSxVQUFVLEtBQVYsVUFBVSxRQU1kO0FBRUQ7SUFBQTtJQTJYQSxDQUFDO0lBblhVLGtCQUFTLEdBQWhCO1FBRUksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDeEM7WUFDSSxVQUFVO1lBQ1YsSUFBSSxRQUFRLEdBQUcsV0FBSyxDQUFDLFFBQVEsQ0FBQTtZQUM3QixJQUFHLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUM5QjtnQkFDSSxPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUE7YUFDekI7aUJBQUk7Z0JBQ0QsT0FBTyxFQUFFLENBQUE7YUFDWjtTQUNKO2FBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDM0M7WUFDSSxPQUFPLGNBQWMsQ0FBQyxNQUFNLENBQUM7U0FDaEM7YUFBSTtZQUNELE9BQU8sS0FBSyxDQUFBO1NBQ2Y7SUFDTCxDQUFDO0lBRU0sZ0JBQU8sR0FBZDtRQUVJLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQ3JDO1lBQ0ksT0FBTyxnQkFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQzNCO2FBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxFQUFF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LEdBQUcsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQ3BDO1lBQ0ksZ0JBQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDN0I7YUFBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQzdDLHlDQUF5QztZQUN6QyxXQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzNCO2FBQUk7WUFDRCx3Q0FBd0M7U0FDM0M7SUFDTCxDQUFDO0lBdlhNLDhCQUFxQixHQUFHLElBQUksQ0FBQztJQUM3QixnQ0FBdUIsR0FBRyxJQUFJLGdCQUFNLEVBQUUsQ0FBQztJQUV2QyxrQkFBUyxHQUFHLEtBQUssQ0FBQTtJQUNqQixjQUFLLEdBQUcsS0FBSyxDQUFDO0lBd0dkLHdCQUFlLEdBQVUsSUFBSSxnQkFBTSxFQUFFLENBQUM7SUE2UWpELGVBQUM7Q0EzWEQsQUEyWEMsSUFBQTtrQkEzWG9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3eHNkayB9IGZyb20gXCIuL3d4c2RrL3Nka1wiO1xyXG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBCS1Rvb2wgZnJvbSBcIi4vcXFzZGsvQktUb29sXCI7XHJcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4vcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi9wbHVnaW5fYm9vc3RzL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xyXG5pbXBvcnQgU2lnbmFsIGZyb20gXCIuL3BsdWdpbl9ib29zdHMvbWlzYy9TaWduYWxcIjtcclxuaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi9wbHVnaW5fYm9vc3RzL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xyXG5cclxuZW51bSBXeENvbW1hbmRzXHJcbntcclxuICAgIEhpZGUgPSA5OSxcclxuICAgIE5leHQsXHJcbiAgICBSYW5rU21hbGwsXHJcbiAgICBSYW5rLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF0Zm9ybVxyXG57XHJcbiAgICBzdGF0aWMgYmFubm5lclJlZnJlc2hFbmFibGVkID0gdHJ1ZTtcclxuICAgIHN0YXRpYyBvbkVudGVyRm9yZWdyb3VuZFNpZ25hbCA9IG5ldyBTaWduYWwoKTtcclxuXHJcbiAgICBzdGF0aWMgaXNBbmRyb2lkID0gZmFsc2VcclxuICAgIHN0YXRpYyBpc0lPUyA9IGZhbHNlO1xyXG5cclxuICAgIHN0YXRpYyBnZXRPcGVuSUQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyB3ZWNoYXQgXHJcbiAgICAgICAgICAgIGxldCB1c2VySW5mbyA9IHd4c2RrLnVzZXJJbmZvXHJcbiAgICAgICAgICAgIGlmKHVzZXJJbmZvICYmIHVzZXJJbmZvLm9wZW5JRCApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VySW5mby5vcGVuSURcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBHYW1lU3RhdHVzSW5mby5vcGVuSWQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjEyM1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXROaWNrKClcclxuICAgIHtcclxuICAgICAgICBpZiAoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJLVG9vbC5nZXROaWNrKCk7XHJcbiAgICAgICAgfWVsc2UgaWYgKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gICh3eHNkay51c2VySW5mbyAmJiB3eHNkay51c2VySW5mby5uaWNrTmFtZSkgIHx8IFwi6Ieq5beyXCJcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwi546p5a626Ieq5beyXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEhlYWQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChjYy5zeXMuUVFfUExBWSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gQktUb29sLmdldEhlYWQoKTtcclxuICAgICAgICB9ZWxzZSBpZiAoY2Muc3lzLldFQ0hBVF9HQU1FID09IGNjLnN5cy5wbGF0Zm9ybSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIGF2YXRhclVybDpcImh0dHBzOi8vd3gucWxvZ28uY24vbW1vcGVuL3ZpXzMyL1FsSGFpY0daT0Q3ZG85THVYNVc0QVBIWVNyVUJxVmFHVUx1d0lTTFVmMzVJeU9PWVozSVhsN25GNW1XMzZKaWFROXNuemlhd3JBdmtrblg0MVNtZVlhOUFRLzEzMlwiY2l0eTpcIlwiY291bnRyeTpcIlwiZ2VuZGVyOjFsYW5ndWFnZTpcInpoX0NOXCJuaWNrTmFtZTpcIkRhbW9uIFJlbuKBtuKBtuKBtlwicHJvdmluY2U6XCJcIlxyXG4gICAgICAgICAgICBsZXQgdXNlckluZm8gPSB3eHNkay51c2VySW5mb1xyXG4gICAgICAgICAgICBpZih1c2VySW5mbyAmJiB1c2VySW5mby5hdmF0YXJVcmwgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckluZm8uYXZhdGFyVXJsXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly90YW5rLndkZnVubnkuY29tL3NwZWVkX2xvZ28vMi5qcGdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcImh0dHBzOi8vdGFuay53ZGZ1bm55LmNvbS9zcGVlZF9sb2dvLzEuanBnXCJcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBsb2FkSGVhZFFRKHNwKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBsZXQgYWJzb2x1dGVQYXRoID0gXCJHYW1lU2FuZEJveDovL19oZWFkL1wiICsgR2FtZVN0YXR1c0luZm8ub3BlbklkICsgXCIuanBnXCI7XHJcbiAgICAgICAgbGV0IGlzRXhpdCA9IEJLLkZpbGVVdGlsLmlzRmlsZUV4aXN0KGFic29sdXRlUGF0aCk7XHJcbiAgICAgICAgY2MubG9nKGFic29sdXRlUGF0aCArIFwiIGlzIGV4aXQgOlwiICsgaXNFeGl0KTtcclxuICAgICAgICAvL+WmguaenOaMh+WumuebruW9leS4reWtmOWcqOatpOWbvuWDj+WwseebtOaOpeaYvuekuuWQpuWImeS7jue9kee7nOiOt+WPllxyXG4gICAgICAgIGlmIChpc0V4aXQpIHtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoYWJzb2x1dGVQYXRoLCBmdW5jdGlvbiAoZXJyLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcC5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQksuTVFRLkFjY291bnQuZ2V0SGVhZEV4KEdhbWVTdGF0dXNJbmZvLm9wZW5JZCwgZnVuY3Rpb24gKG9JZCwgaW1nUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwib3BlbklkOlwiICsgb0lkICsgXCIgaW1nUGF0aDpcIiArIGltZ1BhdGgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleCA9IG5ldyBjYy5UZXh0dXJlMkQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXguaW5pdFdpdGhFbGVtZW50KGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXguaGFuZGxlTG9hZGVkVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwLnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWdQYXRoO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvYWRTZWxmSGVhZChzcHJpdGUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZEhlYWRRUShzcHJpdGUpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKFBsYXRmb3JtLmdldEhlYWQoKSkudGhlbihzZj0+c3ByaXRlLnNwcml0ZUZyYW1lID0gc2YpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBleGl0KClcclxuICAgIHtcclxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd3gub2ZmU2hvdyhQbGF0Zm9ybS5vbkVudGVyRm9yZWdyb3VuZClcclxuICAgICAgICAgICAgd3gub2ZmSGlkZShQbGF0Zm9ybS5vbkVudGVyQmFja2dyb3VuZClcclxuICAgICAgICB9ZWxzZSBpZiAoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb25maWdHZXRTaWduYWw6U2lnbmFsID0gbmV3IFNpZ25hbCgpO1xyXG5cclxuICAgIHN0YXRpYyBsb2dpbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pc0FuZHJvaWQgPSBjYy5zeXMub3MgPT0gXCJBbmRyb2lkXCJcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09IG9zXCIgLCBjYy5zeXMub3MpO1xyXG4gICAgICAgIHRoaXMuaXNJT1MgPSBjYy5zeXMub3MgPT0gXCJpT1NcIlxyXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3eHNkay5sb2dpbigpXHJcbiAgICAgICAgICAgIHd4c2RrLnJlcXVlc3RDb25maWcoZGF0YT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdHZXRTaWduYWwuZmlyZShkYXRhKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBnZXQgY29uZiBcclxuICAgICAgICAgICAgd3gub25TaG93KFBsYXRmb3JtLm9uRW50ZXJGb3JlZ3JvdW5kKVxyXG4gICAgICAgICAgICB3eC5vbkhpZGUoUGxhdGZvcm0ub25FbnRlckJhY2tncm91bmQpXHJcbiAgICAgICAgfWVsc2UgaWYgKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEJLVG9vbC5sb2dpbigpO1xyXG4gICAgICAgICAgICBCSy5vbkVudGVyRm9yZWdyb3VuZChQbGF0Zm9ybS5vbkVudGVyRm9yZWdyb3VuZCk7XHJcbiAgICAgICAgICAgIEJLLm9uRW50ZXJCYWNrZ3JvdW5kKFBsYXRmb3JtLm9uRW50ZXJCYWNrZ3JvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlcXVlc3RTZXJ2ZXJDb25maWdzKG5hbWUsY2FsbGJhY2ssdGFyZ2V0KVxyXG4gICAge1xyXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3eHNkay5yZXF1ZXN0REIobmFtZSxjYWxsYmFjayx0YXJnZXQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRHYW1lSUQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChjYy5zeXMuUVFfUExBWSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBHYW1lU3RhdHVzSW5mby5nYW1lSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcInNwZWVkX3dhbnlpd2FuXCI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBnZXRMYXVuY2hPcHRpb25zKClcclxuICAgIHtcclxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHd4LmdldExhdW5jaE9wdGlvbnNTeW5jKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG5cclxuICAgIHN0YXRpYyBnZXRDaXR5KClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaGFyZShjYWxsYmFjaz8sdGFyZ2V0PylcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIiMjIyMjI+W8gOWni+WIhuS6q1wiKVxyXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3eHNkay5vcGVuU2hhcmUoKTtcclxuICAgICAgICAgICAgbGV0IHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgICAgICBQbGF0Zm9ybS5vbkVudGVyRm9yZWdyb3VuZFNpZ25hbC5vbigoKT0+e1xyXG4gICAgICAgICAgICAgICAgUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmRTaWduYWwuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0O1xyXG4gICAgICAgICAgICAgICAgaWYoZCA+IDIzMzMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChfPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSw1MDApXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL+eUqOaIt+WPiuaXtui/lOWbnuWIhuS6q+Wksei0pSBcclxuICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwi5YiG5Lqr5aSx6LSlLOivt+WwneivleaNouWFtuWug+e+pOWIhuS6q1wiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5RUV9QTEFZID09IGNjLnN5cy5wbGF0Zm9ybSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEJLVG9vbC5zaGFyZSh2PT57XHJcbiAgICAgICAgICAgICAgICBpZih2PT1cInN1Y2Nlc3NcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiAgY2FsbGJhY2suY2FsbCh0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdC5tYWtlKFwi5YiG5Lqr5aSx6LSlXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrICYmICBjYWxsYmFjay5jYWxsKHRhcmdldClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHdhdGNoX3ZpZGVvKGNhbGxiYWNrLHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIjIyMjIyPlvIDlp4vnnIvop4bpopFcIilcclxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd3hzZGsubG9hZFZpZGVvQWQoKGNvZGUsaXNFbmRlZCk9PntcclxuICAgICAgICAgICAgICAgIGlmKGNvZGUgPT0gXCJsb2FkXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VNdXNpYygpO1xyXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLmJhbm5uZXJSZWZyZXNoRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZihjb2RlID09IFwiY2xvc2VcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5iYW5ubmVyUmVmcmVzaEVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFpc0VuZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwi5b+F6aG755yL5a6M6KeG6aKRLOaJjeiDveiOt+WPluWlluWKsVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbCh0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy/lhbPpl63og4zmma9cclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VNdXNpYygpO1xyXG4gICAgICAgICAgICBsZXQgaXNGaW5pc2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgQktUb29sLmxvYWRWaWRlb0FkKCh2LHZpZGVvKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYodiA9PSBcImxvYWRcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlby5zaG93KClcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmICh2ID09IFwiZmluaXNoXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKHY9PVwiY2xvc2VcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighaXNGaW5pc2gpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLlv4XpobvnnIvlrozop4bpopEs5omN6IO96I635Y+W5aWW5YqxXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKHRhcmdldClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrICYmICBjYWxsYmFjay5jYWxsKHRhcmdldClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dCYW5uZXJBZCgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIjIyMjIyPmmL7npLpCYW5uZXLlub/lkYpcIilcclxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd3hzZGsuc2hvd0Jhbm5lckFkKCk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLlFRX1BMQVkgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQktUb29sLnNob3dCYW5uZXJBZCgpO1xyXG4gICAgICAgIH1lbHNle1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXRCYW5uZXJBZChiID0gMSlcclxuICAgIHtcclxuICAgICAgICBpZihiID09IDApIHJldHVybjtcclxuICAgICAgICBpZihjYy5zeXMuUVFfUExBWSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChfPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiMjIyMjI+WKoOi9vUJhbm5lcuW5v+WRilwiKVxyXG4gICAgICAgICAgICAgICAgQktUb29sLmhpZGVCYW5uZXJBZCgpXHJcbiAgICAgICAgICAgICAgICBCS1Rvb2wubG9hZEJhbm5lckFkKHY9PntcclxuICAgICAgICAgICAgICAgICAgICB2ID09IFwibG9hZFwiICYmIEJLVG9vbC5zaG93QmFubmVyQWQoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gLCAzMDAwMCApXHJcbiAgICAgICAgfWVsc2UgaWYgKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChfPT57XHJcbiAgICAgICAgICAgICAgICBpZihQbGF0Zm9ybS5iYW5ubmVyUmVmcmVzaEVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIjIyMjIyPliqDovb1CYW5uZXLlub/lkYpcIilcclxuICAgICAgICAgICAgICAgICAgICB3eHNkay5oaWRlQmFubmVyQWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIHd4c2RrLmxvYWRCYW5uZXJBZCh2PT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPT0gXCJsb2FkXCIgJiYgd3hzZGsuc2hvd0Jhbm5lckFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSAsIDQwMDAwIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGp1bXBUbygpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdmFyIGRlc0dhbWVJZCA9IDEyMzQ7IC8v6Lez6L2s55qEZ2FtZWlk77yM5b+F6aG75Li65pWw5a2XXHJcbiAgICAgICAgLy8gdmFyIGV4dGVuZEluZm8gPSBcIlwiOyAvL+mineWkluWPguaVsO+8jOW/hemhu+S4uuWtl+espuS4slxyXG4gICAgICAgIC8vIEJLLlFRLnNraXBHYW1lKGRlc0dhbWVJZCwgZXh0ZW5kSW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dSYW5rRGlhbG9nKClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltQbGF0Zm9ybV0jc2hvd1JhbmtEaWFsb2dcIik7XHJcbiAgICAgICAgVG9hc3QubWFrZShcIiNbUGxhdGZvcm1dI3Nob3dSYW5rRGlhbG9nXCIpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvUmFua0RpYWxvZ1wiKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFuZHJpb2Qg5Y+R6YCB5ri45oiP5b+r5o235pa55byP5Yiw5qGM6Z2iXHJcblxyXG4gICAgc3RhdGljIG9uRW50ZXJGb3JlZ3JvdW5kKClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PW9uRW50ZXJGb3JlZ3JvdW5kPT09PT09PT09PT09PT09PT09PT09XCIpXHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5RUV9QTEFZKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9vbkVudGVyRm9yZWdyb3VuZFxyXG4gICAgICAgICAgICAvLyBEZXZpY2UucmVzdW1lTXVzaWMoKVxyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVNdXNpYygpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZU11c2ljKClcclxuICAgICAgICB9XHJcbiAgICAgICAgUGxhdGZvcm0ub25FbnRlckZvcmVncm91bmRTaWduYWwuZmlyZSgpO1xyXG4gICAgICAgIGV2ZW50LmVtaXQoXCJvbkVudGVyRm9yZWdyb3VuZFwiKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvbkVudGVyQmFja2dyb3VuZCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gQksub25FbnRlckJhY2tncm91bmQoZW50ZXJCYWNrZ3JvdW5kTGlzdGVuZXIpO1xyXG4gICAgICAgIGV2ZW50LmVtaXQoXCJvbkVudGVyQmFja2dyb3VuZFwiKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyAgb25HYW1lRXhpdCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gQksub25HYW1lQ2xvc2UoZ2FtZUNsb3NlTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93U21hbGxSYW5rKClcclxuICAgIHtcclxuICAgICAgICB3eHNkay5wb3N0TWVzc2FnZShXeENvbW1hbmRzLlJhbmtTbWFsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dSYW5rKClcclxuICAgIHtcclxuICAgICAgICB3eHNkay5wb3N0TWVzc2FnZShXeENvbW1hbmRzLlJhbmspO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoaWRlUmFuaygpXHJcbiAgICB7XHJcbiAgICAgICAgd3hzZGsucG9zdE1lc3NhZ2UoV3hDb21tYW5kcy5SYW5rU21hbGwpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFJhbmtMaXN0KGNhbGxiYWNrLHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbUGxhdGZvcm1dI+iOt+WPluaOkuihjOamnOaVsOaNrlwiKTtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gQktUb29sLmdldFJhbmtMaXN0KChlcnJvckNvZGUsbGlzdCk9PntcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwodGFyZ2V0LGVycm9yQ29kZSxsaXN0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cGxvYWRTY29yZShzY29yZSlcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltQbGF0Zm9ybV0j5LiK5Lyg5YiG5pWwXCIpO1xyXG4gICAgICAgIGlmKCFzY29yZSkgeyBjb25zb2xlLmxvZyhcInNjb3JlIOS4iuS8oOWksei0pe+8mm51bGxcIik7IHJldHVybn1cclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBCS1Rvb2wudXBsb2FkU2NvcmUoc2NvcmUpO1xyXG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKSB7XHJcbiAgICAgICAgICAgIC8vIHd4c2RrLnBvc3RNZXNzYWdlKFd4Q29tbWFuZHMuLCBzY29yZSk7XHJcbiAgICAgICAgICAgIHd4c2RrLnVwbG9hZFNjb3JlKHNjb3JlKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyBUb2FzdC5tYWtlKFwiI1tQbGF0Zm9ybV0jdXBsb2FkU2NvcmVcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/game/LevelSelector.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7942O9SJ1JFpcT0/D7YiFO', 'LevelSelector');
// framework/plugin_boosts/ui/game/LevelSelector.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, help = _a.help;
var LevelSelector = /** @class */ (function (_super) {
    __extends(LevelSelector, _super);
    function LevelSelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pageview = null;
        _this.template = null;
        _this.onSelectLevel = new cc.Component.EventHandler();
        _this.onRefreshItem = new cc.Component.EventHandler();
        _this.index = 0;
        _this.max = 9;
        _this.itemCountPerPage = 0;
        _this.pages = [];
        _this.currentLevel = 1;
        _this.autoScrollToCurrentLevel = true;
        return _this;
        // update (dt) {}
    }
    LevelSelector.prototype.selectLevel = function (event, msg) {
        if (this.onSelectLevel)
            this.onSelectLevel.emit([event.target, Number(event.target.name)]);
        else
            console.warn("LevelSelector: onSelectLevel callback is nil");
    };
    LevelSelector.prototype.onLoad = function () {
        this.pages.splice(0, this.pages.length);
        this.itemCountPerPage = this.template.childrenCount;
        var pageCount = Math.floor(this.max / this.itemCountPerPage);
        var mod = this.max % this.itemCountPerPage;
        if (mod > 0) {
            pageCount = pageCount + 1;
        }
        for (var i = 0; i < pageCount - 1; i++) {
            var page = cc.instantiate(this.template);
            this.pageview.addPage(page);
            this.pages.push(page);
        }
        this.pages.push(this.template);
        for (var pageIdx = 0; pageIdx < pageCount; pageIdx++) {
            var page = this.pages[pageIdx];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var label = item.getChildByName("label");
                var level = pageIdx * this.itemCountPerPage + Number(itemIdx) + 1;
                if (level > this.max) {
                    item.active = false;
                }
                item.name = level + "";
                label.getComponent(cc.Label).string = item.name;
            }
        }
    };
    LevelSelector.prototype.refreshItem = function (item, level) {
        var lv = this.currentLevel;
        if (level > lv) {
            item.opacity = 100;
            item.getComponent(cc.Button).enabled = false;
        }
        else {
            item.opacity = 255;
            item.getComponent(cc.Button).enabled = true;
        }
    };
    LevelSelector.prototype.refresh = function () {
        console.log("LevelSelctor: refresh");
        for (var i = 0; i < this.pages.length; i++) {
            var page = this.pages[i];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var level = i * this.itemCountPerPage + Number(itemIdx) + 1;
                this.refreshItem(item, level);
                this.onRefreshItem.emit([item, level]);
            }
        }
        if (this.autoScrollToCurrentLevel)
            this.scrollToCurrentLevel();
    };
    LevelSelector.prototype.start = function () {
    };
    LevelSelector.prototype.scrollToCurrentLevel = function () {
        var lv = this.currentLevel;
        var curPage = Math.floor(lv / this.itemCountPerPage);
        var mod = lv % this.itemCountPerPage;
        if (mod == 0) {
            curPage = curPage - 1;
        }
        this.pageview.scrollToPage(curPage, 0.3);
    };
    LevelSelector.prototype.nextPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() + 1, 0.3);
    };
    LevelSelector.prototype.prevPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() - 1, 0.3);
    };
    __decorate([
        property(cc.PageView)
    ], LevelSelector.prototype, "pageview", void 0);
    __decorate([
        property(cc.Node)
    ], LevelSelector.prototype, "template", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onSelectLevel", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onRefreshItem", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "index", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "max", void 0);
    LevelSelector = __decorate([
        ccclass
    ], LevelSelector);
    return LevelSelector;
}(cc.Component));
exports.default = LevelSelector;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcZ2FtZVxcTGV2ZWxTZWxlY3Rvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUEyQixFQUFFLENBQUMsVUFBVSxFQUF2QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxJQUFJLFVBQWlCLENBQUM7QUFHL0M7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFxSUM7UUFsSUcsY0FBUSxHQUFnQixJQUFJLENBQUE7UUFHNUIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixtQkFBYSxHQUE2QixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7UUFHMUUsbUJBQWEsR0FBNkIsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRzFFLFdBQUssR0FBVyxDQUFDLENBQUM7UUFHbEIsU0FBRyxHQUFXLENBQUMsQ0FBQztRQUVoQixzQkFBZ0IsR0FBVyxDQUFDLENBQUM7UUFFN0IsV0FBSyxHQUFhLEVBQUUsQ0FBQztRQUVyQixrQkFBWSxHQUFVLENBQUMsQ0FBQztRQVV4Qiw4QkFBd0IsR0FBVyxJQUFJLENBQUM7O1FBa0d4QyxpQkFBaUI7SUFDckIsQ0FBQztJQTNHRyxtQ0FBVyxHQUFYLFVBQVksS0FBSyxFQUFDLEdBQUc7UUFFakIsSUFBRyxJQUFJLENBQUMsYUFBYTtZQUNqQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBOztZQUVqRSxPQUFPLENBQUMsSUFBSSxDQUFDLDhDQUE4QyxDQUFDLENBQUE7SUFDcEUsQ0FBQztJQUlELDhCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsSUFB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LEdBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3pFLENBQUM7SUFFRCxnQ0FBUSxHQUFSO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQTtJQUN6RSxDQUFDO0lBN0hEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7bURBQ007SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQzt3REFDc0M7SUFHMUU7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7d0RBQ3NDO0lBRzFFO1FBREMsUUFBUTtnREFDUztJQUdsQjtRQURDLFFBQVE7OENBQ087SUFsQkMsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXFJakM7SUFBRCxvQkFBQztDQXJJRCxBQXFJQyxDQXJJMEMsRUFBRSxDQUFDLFNBQVMsR0FxSXREO2tCQXJJb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksaGVscH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWxTZWxlY3RvciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlBhZ2VWaWV3KVxyXG4gICAgcGFnZXZpZXcgOmNjLlBhZ2VWaWV3ID0gbnVsbFxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdGVtcGxhdGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIpXHJcbiAgICBvblNlbGVjdExldmVsOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIgPSBuZXcgY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcigpO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKVxyXG4gICAgb25SZWZyZXNoSXRlbTpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGluZGV4IDpudW1iZXIgPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgbWF4OiBudW1iZXIgPSA5O1xyXG5cclxuICAgIGl0ZW1Db3VudFBlclBhZ2U6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcGFnZXM6Y2MuTm9kZVtdID0gW107XHJcblxyXG4gICAgY3VycmVudExldmVsOm51bWJlciA9IDE7XHJcblxyXG4gICAgc2VsZWN0TGV2ZWwoZXZlbnQsbXNnKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMub25TZWxlY3RMZXZlbClcclxuICAgICAgICAgICAgdGhpcy5vblNlbGVjdExldmVsLmVtaXQoW2V2ZW50LnRhcmdldCxOdW1iZXIoZXZlbnQudGFyZ2V0Lm5hbWUpXSlcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkxldmVsU2VsZWN0b3I6IG9uU2VsZWN0TGV2ZWwgY2FsbGJhY2sgaXMgbmlsXCIpXHJcbiAgICB9XHJcblxyXG4gICAgYXV0b1Njcm9sbFRvQ3VycmVudExldmVsOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wYWdlcy5zcGxpY2UoMCx0aGlzLnBhZ2VzLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5pdGVtQ291bnRQZXJQYWdlID0gdGhpcy50ZW1wbGF0ZS5jaGlsZHJlbkNvdW50O1xyXG4gICAgICAgIGxldCBwYWdlQ291bnQgPSBNYXRoLmZsb29yKHRoaXMubWF4L3RoaXMuaXRlbUNvdW50UGVyUGFnZSk7XHJcbiAgICAgICAgbGV0IG1vZCA9IHRoaXMubWF4JXRoaXMuaXRlbUNvdW50UGVyUGFnZSBcclxuICAgICAgICBpZiAobW9kID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhZ2VDb3VudCA9IHBhZ2VDb3VudCArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDtpIDwgcGFnZUNvdW50IC0xIDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgcGFnZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMudGVtcGxhdGUpXHJcbiAgICAgICAgICAgIHRoaXMucGFnZXZpZXcuYWRkUGFnZShwYWdlKTsgXHJcbiAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYWdlcy5wdXNoKHRoaXMudGVtcGxhdGUpO1xyXG4gICAgICAgIGZvciAodmFyIHBhZ2VJZHggPSAwIDtwYWdlSWR4IDwgcGFnZUNvdW50OyBwYWdlSWR4KysgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHBhZ2UgPSB0aGlzLnBhZ2VzW3BhZ2VJZHhdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtSWR4ID0gMDsgaXRlbUlkeCA8IHBhZ2UuY2hpbGRyZW5Db3VudDtpdGVtSWR4ICsrIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBwYWdlLmNoaWxkcmVuW2l0ZW1JZHhdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxldmVsID0gcGFnZUlkeCAqIHRoaXMuaXRlbUNvdW50UGVyUGFnZSArIE51bWJlcihpdGVtSWR4KSArIDEgO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiB0aGlzLm1heClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gbGV2ZWwgK1wiXCI7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSByZWZyZXNoSXRlbShpdGVtLGxldmVsKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBsdiA9IHRoaXMuY3VycmVudExldmVsO1xyXG4gICAgICAgIGlmIChsZXZlbCA+IGx2KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaXRlbS5vcGFjaXR5ID0gMTAwO1xyXG4gICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaXRlbS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkxldmVsU2VsY3RvcjogcmVmcmVzaFwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCB0aGlzLnBhZ2VzLmxlbmd0aDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgcGFnZSA9IHRoaXMucGFnZXNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1JZHggPSAwOyBpdGVtSWR4IDwgcGFnZS5jaGlsZHJlbkNvdW50O2l0ZW1JZHggKysgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHBhZ2UuY2hpbGRyZW5baXRlbUlkeF07XHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWwgPSBpICogdGhpcy5pdGVtQ291bnRQZXJQYWdlICsgTnVtYmVyKGl0ZW1JZHgpICsgMSA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hJdGVtKGl0ZW0sbGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlZnJlc2hJdGVtLmVtaXQoW2l0ZW0sbGV2ZWxdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuYXV0b1Njcm9sbFRvQ3VycmVudExldmVsKVxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudExldmVsKClcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2Nyb2xsVG9DdXJyZW50TGV2ZWwoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBsdiA9IHRoaXMuY3VycmVudExldmVsO1xyXG4gICAgICAgIGxldCBjdXJQYWdlID0gTWF0aC5mbG9vcihsdi90aGlzLml0ZW1Db3VudFBlclBhZ2UpO1xyXG4gICAgICAgIGxldCBtb2QgPSBsdiV0aGlzLml0ZW1Db3VudFBlclBhZ2UgXHJcbiAgICAgICAgaWYgKG1vZCA9PSAgMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGN1clBhZ2UgPSBjdXJQYWdlIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYWdldmlldy5zY3JvbGxUb1BhZ2UoY3VyUGFnZSwwLjMpO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRQYWdlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBhZ2V2aWV3LnNjcm9sbFRvUGFnZSh0aGlzLnBhZ2V2aWV3LmdldEN1cnJlbnRQYWdlSW5kZXgoKSsxLDAuMylcclxuICAgIH1cclxuXHJcbiAgICBwcmV2UGFnZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wYWdldmlldy5zY3JvbGxUb1BhZ2UodGhpcy5wYWdldmlldy5nZXRDdXJyZW50UGFnZUluZGV4KCktMSwwLjMpXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/base/com.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e25bakBQd9I5LmDR7yLx+Jf', 'com');
// Game/Scripts/hex-lines-game/base/com.js

"use strict";

var com = function com() {};
com.dateStr = function (t) {
  var e = t.getMonth() + 1,
    n = t.getDate(),
    i = t.getHours(),
    s = t.getMinutes(),
    a = t.getSeconds();
  return t.getFullYear() + "-" + (10 > e ? "0" + e : "" + e) + "-" + (10 > n ? "0" + n : "" + n) + " " + (10 > i ? "0" + i : "" + i) + ":" + (10 > s ? "0" + s : "" + s) + ":" + (10 > a ? "0" + a : "" + a);
}, com.strDate = function (t) {
  switch (t.length) {
    case 8:
      var t = t.split(":"),
        e = new Date();
      return e.setTime(0), e.setUTCHours(t[0]), e.setUTCMinutes(t[1]), e.setUTCSeconds(t[2]), e;
    case 10:
      return t = t.split("-"), new Date(t[0], t[1] - 1, t[2], 0, 0, 0);
    case 19:
      return e = t.split(" "), t = e[0].split("-"), e = e[1].split(":"), new Date(t[0], t[1] - 1, t[2], e[0], e[1], e[2]);
    default:
      throw "Invalid date format : " + t;
  }
};
com.cca = function (t, e) {
  var n = t.charCodeAt(e);
  return n != n ? void 0 : n;
};
com.substr = function (t, e, n) {
  return null != e && 0 != e && null != n && 0 > n ? "" : (null == n && (n = t.length), 0 > e ? (e = t.length + e, 0 > e && (e = 0)) : 0 > n && (n = t.length + n - e), t.substr(e, n));
};
com.remove = function (t, e) {
  var n = t.indexOf(e);
  return -1 == n ? !1 : (t.splice(n, 1), !0);
};
com.iter = function (t) {
  return {
    cur: 0,
    arr: t,
    hasNext: function hasNext() {
      return this.cur < this.arr.length;
    },
    next: function next() {
      return this.arr[this.cur++];
    }
  };
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGJhc2VcXGNvbS5qcyJdLCJuYW1lcyI6WyJjb20iLCJkYXRlU3RyIiwidCIsImUiLCJnZXRNb250aCIsIm4iLCJnZXREYXRlIiwiaSIsImdldEhvdXJzIiwicyIsImdldE1pbnV0ZXMiLCJhIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwic3RyRGF0ZSIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsInNldFRpbWUiLCJzZXRVVENIb3VycyIsInNldFVUQ01pbnV0ZXMiLCJzZXRVVENTZWNvbmRzIiwiY2NhIiwiY2hhckNvZGVBdCIsInN1YnN0ciIsInJlbW92ZSIsImluZGV4T2YiLCJzcGxpY2UiLCJpdGVyIiwiY3VyIiwiYXJyIiwiaGFzTmV4dCIsIm5leHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsR0FBRyxHQUFHLFNBQU5BLEdBQUdBLENBQUEsRUFBYSxDQUFDLENBQUM7QUFFdEJBLEdBQUcsQ0FBQ0MsT0FBTyxHQUFHLFVBQVNDLENBQUMsRUFBRTtFQUN0QixJQUFJQyxDQUFDLEdBQUdELENBQUMsQ0FBQ0UsUUFBUSxFQUFFLEdBQUcsQ0FBQztJQUN4QkMsQ0FBQyxHQUFHSCxDQUFDLENBQUNJLE9BQU8sRUFBRTtJQUNmQyxDQUFDLEdBQUdMLENBQUMsQ0FBQ00sUUFBUSxFQUFFO0lBQ2hCQyxDQUFDLEdBQUdQLENBQUMsQ0FBQ1EsVUFBVSxFQUFFO0lBQ2xCQyxDQUFDLEdBQUdULENBQUMsQ0FBQ1UsVUFBVSxFQUFFO0VBQ2xCLE9BQU9WLENBQUMsQ0FBQ1csV0FBVyxFQUFFLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBR1YsQ0FBQyxHQUFHLEdBQUcsR0FBR0EsQ0FBQyxHQUFFLEVBQUUsR0FBR0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBR0UsQ0FBQyxHQUFHLEdBQUcsR0FBR0EsQ0FBQyxHQUFFLEVBQUUsR0FBR0EsQ0FB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LElBQUksQ0FBQyxHQUFHRSxDQUFDLEtBQUtBLENBQUMsR0FBR0gsQ0FBQyxDQUFDYSxNQUFNLEdBQUdWLENBQUMsR0FBR0YsQ0FBQyxDQUFDLEVBQUVELENBQUMsQ0FBQ3NCLE1BQU0sQ0FBQ3JCLENBQUMsRUFBRUUsQ0FBQyxDQUFDLENBQUM7QUFDeEwsQ0FBQztBQUNETCxHQUFHLENBQUN5QixNQUFNLEdBQUcsVUFBU3ZCLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0VBQ3hCLElBQUlFLENBQUMsR0FBR0gsQ0FBQyxDQUFDd0IsT0FBTyxDQUFDdkIsQ0FBQyxDQUFDO0VBQ3BCLE9BQU8sQ0FBRSxDQUFDLElBQUlFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSUgsQ0FBQyxDQUFDeUIsTUFBTSxDQUFDdEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFDREwsR0FBRyxDQUFDNEIsSUFBSSxHQUFHLFVBQVMxQixDQUFDLEVBQUU7RUFDbkIsT0FBTztJQUNIMkIsR0FBRyxFQUFFLENBQUM7SUFDTkMsR0FBRyxFQUFFNUIsQ0FBQztJQUNONkIsT0FBTyxFQUFFLFNBQUFBLFFBQUEsRUFBVztNQUNoQixPQUFPLElBQUksQ0FBQ0YsR0FBRyxHQUFHLElBQUksQ0FBQ0MsR0FBRyxDQUFDZixNQUFNO0lBQ3JDLENBQUM7SUFDRGlCLElBQUksRUFBRSxTQUFBQSxLQUFBLEVBQVc7TUFDYixPQUFPLElBQUksQ0FBQ0YsR0FBRyxDQUFDLElBQUksQ0FBQ0QsR0FBRyxFQUFFLENBQUM7SUFDL0I7RUFDSixDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbSA9IGZ1bmN0aW9uKCl7fVxyXG5cclxuY29tLmRhdGVTdHIgPSBmdW5jdGlvbih0KSB7XHJcbiAgICB2YXIgZSA9IHQuZ2V0TW9udGgoKSArIDEsXHJcbiAgICBuID0gdC5nZXREYXRlKCksXHJcbiAgICBpID0gdC5nZXRIb3VycygpLFxyXG4gICAgcyA9IHQuZ2V0TWludXRlcygpLFxyXG4gICAgYSA9IHQuZ2V0U2Vjb25kcygpO1xyXG4gICAgcmV0dXJuIHQuZ2V0RnVsbFllYXIoKSArIFwiLVwiICsgKDEwID4gZSA/IFwiMFwiICsgZTogXCJcIiArIGUpICsgXCItXCIgKyAoMTAgPiBuID8gXCIwXCIgKyBuOiBcIlwiICsgbikgKyBcIiBcIiArICgxMCA+IGkgPyBcIjBcIiArIGk6IFwiXCIgKyBpKSArIFwiOlwiICsgKDEwID4gcyA/IFwiMFwiICsgczogXCJcIiArIHMpICsgXCI6XCIgKyAoMTAgPiBhID8gXCIwXCIgKyBhOiBcIlwiICsgYSlcclxufSxcclxuXHJcbmNvbS5zdHJEYXRlID0gZnVuY3Rpb24odCkge1xyXG4gICAgc3dpdGNoICh0Lmxlbmd0aCkge1xyXG4gICAgY2FzZSA4OlxyXG4gICAgICAgIHZhciB0ID0gdC5zcGxpdChcIjpcIiksXHJcbiAgICAgICAgZSA9IG5ldyBEYXRlO1xyXG4gICAgICAgIHJldHVybiBlLnNldFRpbWUoMCksXHJcbiAgICAgICAgZS5zZXRVVENIb3Vycyh0WzBdKSxcclxuICAgICAgICBlLnNldFVUQ01pbnV0ZXModFsxXSksXHJcbiAgICAgICAgZS5zZXRVVENTZWNvbmRzKHRbMl0pLFxyXG4gICAgICAgIGU7XHJcbiAgICBjYXNlIDEwOlxyXG4gICAgICAgIHJldHVybiB0ID0gdC5zcGxpdChcIi1cIiksXHJcbiAgICAgICAgbmV3IERhdGUodFswXSwgdFsxXSAtIDEsIHRbMl0sIDAsIDAsIDApO1xyXG4gICAgY2FzZSAxOTpcclxuICAgICAgICByZXR1cm4gZSA9IHQuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgIHQgPSBlWzBdLnNwbGl0KFwiLVwiKSxcclxuICAgICAgICBlID0gZVsxXS5zcGxpdChcIjpcIiksXHJcbiAgICAgICAgbmV3IERhdGUodFswXSwgdFsxXSAtIDEsIHRbMl0sIGVbMF0sIGVbMV0sIGVbMl0pO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgICB0aHJvdyBcIkludmFsaWQgZGF0ZSBmb3JtYXQgOiBcIiArIHRcclxuICAgIH1cclxufVxyXG5jb20uY2NhID0gZnVuY3Rpb24odCwgZSkge1xyXG4gICAgdmFyIG4gPSB0LmNoYXJDb2RlQXQoZSk7XHJcbiAgICByZXR1cm4gbiAhPSBuID8gdm9pZCAwIDogblxyXG59XHJcbmNvbS5zdWJzdHIgPSBmdW5jdGlvbih0LCBlLCBuKSB7XHJcbiAgICByZXR1cm4gbnVsbCAhPSBlICYmIDAgIT0gZSAmJiBudWxsICE9IG4gJiYgMCA+IG4gPyBcIlwiOiAobnVsbCA9PSBuICYmIChuID0gdC5sZW5ndGgpLCAwID4gZSA/IChlID0gdC5sZW5ndGggKyBlLCAwID4gZSAmJiAoZSA9IDApKSA6IDAgPiBuICYmIChuID0gdC5sZW5ndGggKyBuIC0gZSksIHQuc3Vic3RyKGUsIG4pKVxyXG59XHJcbmNvbS5yZW1vdmUgPSBmdW5jdGlvbih0LCBlKSB7XHJcbiAgICB2YXIgbiA9IHQuaW5kZXhPZihlKTtcclxuICAgIHJldHVybiAtIDEgPT0gbiA/ICExIDogKHQuc3BsaWNlKG4sIDEpLCAhMClcclxufVxyXG5jb20uaXRlciA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3VyOiAwLFxyXG4gICAgICAgIGFycjogdCxcclxuICAgICAgICBoYXNOZXh0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VyIDwgdGhpcy5hcnIubGVuZ3RoXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJyW3RoaXMuY3VyKytdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59OyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/InfiniteBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ea63dhsLFFNTK51F3JClP8v', 'InfiniteBackground');
// framework/plugin_boosts/gamesys/InfiniteBackground.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var InfiniteBackground = /** @class */ (function (_super) {
    __extends(InfiniteBackground, _super);
    function InfiniteBackground() {
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgNode = null;
        _this.camera = null;
        _this.currentNode = null;
        _this.repeatCount = 0;
        return _this;
    }
    InfiniteBackground.prototype.onLoad = function () {
        this.currentNode = this.bgNode;
        this.size = this.currentNode.getContentSize();
        this.nodepool = new cc.NodePool();
    };
    InfiniteBackground.prototype.start = function () {
        if (this.prev == null) {
            this.prev = cc.instantiate(this.bgNode);
            this.node.addChild(this.prev);
            this.prev.y = -this.size.height;
        }
    };
    InfiniteBackground.prototype.reset = function () {
        this.repeatCount = 0;
        //todo :remove all 
        //todo:init all
    };
    InfiniteBackground.prototype.update = function (dt) {
        if (this.currentNode == null)
            return;
        var pos = cc.Vec2.ZERO;
        this.camera.getWorldToCameraPoint(this.currentNode.position, pos);
        var prev = this.prev;
        if (pos.y < 10) {
            // check has next 
            if (this.next == null) {
                this.pre_prev = this.prev;
                this.prev = this.currentNode;
                var road = this.nodepool.get();
                if (road == null)
                    road = cc.instantiate(this.currentNode);
                road.setPosition(0, this.size.height * ++this.repeatCount);
                this.node.addChild(road);
                this.currentNode = road;
                this.camera.getWorldToCameraPoint(road.position, pos);
                this.next = null;
                // console.log("create new road")
            }
        }
        if (pos.y > this.size.height - 10) {
            //remove previous
            if (this.pre_prev) {
                this.nodepool.put(this.pre_prev);
                // console.log("InfiniteBackground : recycle background:" ,this.nodepool.size())
            }
        }
        //todo remove 
    };
    __decorate([
        property(cc.Node)
    ], InfiniteBackground.prototype, "bgNode", void 0);
    __decorate([
        property(cc.Camera)
    ], InfiniteBackground.prototype, "camera", void 0);
    InfiniteBackground = __decorate([
        ccclass
    ], InfiniteBackground);
    return InfiniteBackground;
}(cc.Component));
exports.default = InfiniteBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxJbmZpbml0ZUJhY2tncm91bmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWdELHNDQUFZO0lBQTVEO1FBRUksd0JBQXdCO1FBQ3hCLGVBQWU7UUFIbkIscUVBOEVDO1FBeEVHLFlBQU0sR0FBVyxJQUFJLENBQUM7UUFHdEIsWUFBTSxHQUFZLElBQUksQ0FBQztRQUt2QixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUMzQixpQkFBVyxHQUFHLENBQUMsQ0FBQzs7SUErRHBCLENBQUM7SUExREcsbUNBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsa0NBQUssR0FBTDtRQUNJLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO1lBQ0ksSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUksQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFRCxrQ0FBSyxHQUFMO1FBRUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsbUJBQW1CO1FBQ25CLGVBQWU7SUFDbkIsQ0FBQztJQUVELG1DQUFNLEdBQU4sVUFBUSxFQUFFO1FBRU4sSUFBRyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUk7WUFBQyxPQUFNO1FBQ2xDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDaEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUNkO1lBQ0ksa0JBQWtCO1lBQ2xCLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFBO2dCQUM5QixJQUFHLElBQUksSUFBSSxJQUFJO29CQUNYLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO2dCQUNwRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDakIsaUNBQWlDO2FBQ3BDO1NBQ0o7UUFDRCxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUNoQztZQUNJLGlCQUFpQjtZQUNqQixJQUFHLElBQUksQ0FBQyxRQUFRLEVBQ2hCO2dCQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDakMsZ0ZBQWdGO2FBQ25GO1NBQ0o7UUFDRCxjQUFjO0lBQ2xCLENBQUM7SUF2RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzREFDSTtJQUd0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3NEQUNHO0lBVE4sa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0E4RXRDO0lBQUQseUJBQUM7Q0E5RUQsQUE4RUMsQ0E5RStDLEVBQUUsQ0FBQyxTQUFTLEdBOEUzRDtrQkE5RW9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZpbml0ZUJhY2tncm91bmQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBiZ05vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkNhbWVyYSlcclxuICAgIGNhbWVyYTpjYy5DYW1lcmE9IG51bGw7XHJcblxyXG4gICAgbmV4dDpjYy5Ob2RlO1xyXG4gICAgcHJldjpjYy5Ob2RlO1xyXG4gICAgcHJlX3ByZXYgOmNjLk5vZGU7XHJcbiAgICBjdXJyZW50Tm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuICAgIHJlcGVhdENvdW50ID0gMDtcclxuXHJcbiAgICBzaXplIDogY2MuU2l6ZTtcclxuXHJcbiAgICBub2RlcG9vbDpjYy5Ob2RlUG9vbDtcclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuYmdOb2RlO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuY3VycmVudE5vZGUuZ2V0Q29udGVudFNpemUoKTtcclxuICAgICAgICB0aGlzLm5vZGVwb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIGlmKHRoaXMucHJldiA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wcmV2ID0gY2MuaW5zdGFudGlhdGUodGhpcy5iZ05vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQodGhpcy5wcmV2KTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2LnkgPSAgLSB0aGlzLnNpemUuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZXBlYXRDb3VudCA9IDA7XHJcbiAgICAgICAgLy90b2RvIDpyZW1vdmUgYWxsIFxyXG4gICAgICAgIC8vdG9kbzppbml0IGFsbFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB1cGRhdGUgKGR0KSB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY3VycmVudE5vZGUgPT0gbnVsbClyZXR1cm5cclxuICAgICAgICBsZXQgcG9zID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludCh0aGlzLmN1cnJlbnROb2RlLnBvc2l0aW9uLHBvcylcclxuICAgICAgICBsZXQgcHJldiA9IHRoaXMucHJldjtcclxuICAgICAgICBpZiAocG9zLnkgPCAxMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGhhcyBuZXh0IFxyXG4gICAgICAgICAgICBpZih0aGlzLm5leHQgPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVfcHJldiA9IHRoaXMucHJldjtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9hZCA9IHRoaXMubm9kZXBvb2wuZ2V0KClcclxuICAgICAgICAgICAgICAgIGlmKHJvYWQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICByb2FkID0gY2MuaW5zdGFudGlhdGUodGhpcy5jdXJyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICByb2FkLnNldFBvc2l0aW9uKDAsdGhpcy5zaXplLmhlaWdodCAqICsrdGhpcy5yZXBlYXRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQocm9hZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gcm9hZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludChyb2FkLnBvc2l0aW9uLHBvcylcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNyZWF0ZSBuZXcgcm9hZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBvcy55ID4gdGhpcy5zaXplLmhlaWdodCAtIDEwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9yZW1vdmUgcHJldmlvdXNcclxuICAgICAgICAgICAgaWYodGhpcy5wcmVfcHJldilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlcG9vbC5wdXQodGhpcy5wcmVfcHJldik7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkluZmluaXRlQmFja2dyb3VuZCA6IHJlY3ljbGUgYmFja2dyb3VuZDpcIiAsdGhpcy5ub2RlcG9vbC5zaXplKCkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy90b2RvIHJlbW92ZSBcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Message.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fb4e0zpbzJB4YN77Kns7y3M', 'Message');
// framework/network/Message.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Message = void 0;
var Message = /** @class */ (function () {
    function Message(cmd) {
        this._cmd = cmd;
        this._data = null;
    }
    Message.prototype.addBuilder = function (data) {
        this._data = data.asUint8Array();
    };
    Message.prototype.addString = function (data) {
        this._data = data;
    };
    Message.prototype.pack = function () {
        var build = this.toString();
        var buf = build.asUint8Array();
        var newBuf = new Uint8Array(buf);
        console.log("send message: " + newBuf);
        return newBuf.buffer;
    };
    Message.prototype.toString = function () {
        var build = new flatbuffers.Builder();
        var data = null;
        if (this._data != null)
            data = build.createString(this._data);
        game.Package.startPackage(build);
        game.Package.addCmd(build, this._cmd);
        if (this._data != null)
            game.Package.addData(build, data);
        var pack = game.Package.endPackage(build);
        build.finish(pack);
        return build;
    };
    return Message;
}());
exports.Message = Message;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFLQyxpQkFBbUIsR0FBUTtRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0lBRU0sNEJBQVUsR0FBakIsVUFBa0IsSUFBeUI7UUFDMUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVNLDJCQUFTLEdBQWhCLFVBQWlCLElBQVk7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVNLHNCQUFJLEdBQVg7UUFDQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQy9CLElBQUksTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDdkMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTywwQkFBUSxHQUFoQjtRQUNDLElBQUksS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFDRixjQUFDO0FBQUQsQ0F2Q0EsQUF1Q0MsSUFBQTtBQXZDWSwwQkFBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgY2xhc3MgTWVzc2FnZSB7XHJcblxyXG5cdHByaXZhdGUgX2NtZDogYW55O1xyXG5cdHByaXZhdGUgX2RhdGE6IGFueTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNtZDogYW55KSB7XHJcblx0XHR0aGlzLl9jbWQgPSBjbWQ7XHJcblx0XHR0aGlzLl9kYXRhID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhZGRCdWlsZGVyKGRhdGE6IGZsYXRidWZmZXJzLkJ1aWxkZXIpIHtcclxuXHRcdHRoaXMuX2RhdGEgPSBkYXRhLmFzVWludDhBcnJheSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFkZFN0cmluZyhkYXRhOiBTdHJpbmcpIHtcclxuXHRcdHRoaXMuX2RhdGEgPSBkYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHBhY2soKTogQXJyYXlCdWZmZXIge1xyXG5cdFx0bGV0IGJ1aWxkID0gdGhpcy50b1N0cmluZygpO1xyXG5cdFx0bGV0IGJ1ZiA9IGJ1aWxkLmFzVWludDhBcnJheSgpO1xyXG5cdFx0bGV0IG5ld0J1ZiA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XHJcblx0XHRjb25zb2xlLmxvZyhcInNlbmQgbWVzc2FnZTogXCIgKyBuZXdCdWYpO1xyXG5cdFx0cmV0dXJuIG5ld0J1Zi5idWZmZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHRvU3RyaW5nKCk6IGZsYXRidWZmZXJzLkJ1aWxkZXIge1xyXG5cdFx0bGV0IGJ1aWxkID0gbmV3IGZsYXRidWZmZXJzLkJ1aWxkZXIoKTtcclxuXHRcdGxldCBkYXRhID0gbnVsbDtcclxuXHRcdGlmKHRoaXMuX2RhdGEgIT0gbnVsbCkgXHJcblx0XHRcdGRhdGEgPSBidWlsZC5jcmVhdGVTdHJpbmcodGhpcy5fZGF0YSk7XHJcblx0XHRnYW1lLlBhY2thZ2Uuc3RhcnRQYWNrYWdlKGJ1aWxkKTtcclxuXHRcdGdhbWUuUGFja2FnZS5hZGRDbWQoYnVpbGQsIHRoaXMuX2NtZCk7XHJcblx0XHRpZih0aGlzLl9kYXRhICE9IG51bGwpXHJcblx0XHRcdGdhbWUuUGFja2FnZS5hZGREYXRhKGJ1aWxkLCBkYXRhKTtcclxuXHRcdGxldCBwYWNrID0gZ2FtZS5QYWNrYWdlLmVuZFBhY2thZ2UoYnVpbGQpO1xyXG5cdFx0YnVpbGQuZmluaXNoKHBhY2spO1xyXG5cdFx0cmV0dXJuIGJ1aWxkO1xyXG5cdH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/qqsdk/SoundHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '09a8fa41vxIUZkdgCG77DBM', 'SoundHelper');
// framework/qqsdk/SoundHelper.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundHelper = /** @class */ (function () {
    function SoundHelper() {
    }
    // LIFE-CYCLE CALLBACKS:
    SoundHelper.int = function () {
        for (var i = 0; i < this.music.length; i++) {
            this.music[i].id = -1;
        }
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic = [
                new BK.Audio(0, 'GameRes://' + this.music[0].nativeUrl, -1),
                new BK.Audio(0, 'GameRes://' + this.music[1].nativeUrl, -1),
                new BK.Audio(0, 'GameRes://' + this.music[2].nativeUrl, -1),
            ];
        }
    };
    ;
    //播放背景音
    SoundHelper.playMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            if (this.music[num].id === -1) {
                this.QQMusic[num].startMusic();
                this.music[num].id = 1;
            }
            else {
                this.QQMusic[num].resumeMusic();
            }
            if (num !== 0)
                this.qqFlag = false;
            return;
        }
        if (this.music[num].id === -1) {
            this.music[num].id = cc.audioEngine.play(this.music[num], true, this.musicVolume);
        }
        else {
            cc.audioEngine.resume(this.music[num].id);
        }
    };
    ;
    SoundHelper.getSoundContext = function () {
        var sc = this._soundContext[this._soundContext.length];
        if (!sc) {
            sc = BK.createAudioContext();
        }
        else {
            this._soundContext.pop();
        }
        return sc;
    };
    SoundHelper.playSound2 = function (sound) {
        var audio = new BK.Audio(1, 'GameRes://' + sound.toString(), 1);
        audio.startMusic(sound);
    };
    //播放音效
    SoundHelper.playSound = function (sound) {
        if (this.QQSoundContext == null)
            this.QQSoundContext = BK.createAudioContext({ "type": "effect" });
        // let soundContext = this.getSoundContext();
        this.QQSoundContext.src = "GameRes://" + sound.toString();
        this.QQSoundContext.play();
        // soundContext.play({complete:function(result){
        //     SoundHelper._soundContext.push(soundContext)
        // }});
        // soundContext.play();
        // soundContext.on("ended",function(){
        // SoundHelper._soundContext.push(soundContext)
        // })
    };
    ;
    //停止背景音
    SoundHelper.stopMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (this.music[num].id === -1)
            return;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic[num].stopMusic();
            this.music[num].id = -1;
            this.QQMusic[num] = new BK.Audio(0, 'GameRes://' + this.music[num].nativeUrl, -1);
            return;
        }
        cc.audioEngine.stop(this.music[num].id);
        this.music[num].id = -1;
    };
    ;
    //暂停背景音
    SoundHelper.pauseMusic = function (num) {
        num = num === undefined ? 0 : num;
        if (cc.sys.platform === cc.sys.QQ_PLAY) {
            this.QQMusic[num].pauseMusic();
            return;
        }
        if (this.music[num].id === -1 || cc.audioEngine.AudioState.PLAYING !== cc.audioEngine.getState(this.music[num].id))
            return;
        cc.audioEngine.pause(this.music[num].id);
    };
    ;
    //设置背景音开关
    SoundHelper.setMusicOff = function (bool) {
        if (bool) {
            this.playMusic();
        }
        else {
            for (var i = 0; i < this.music.length; i++) {
                this.pauseMusic(i);
            }
        }
    };
    ;
    //设置音效开关
    SoundHelper.setSoundOff = function (bool) {
    };
    ;
    //设置背景音里
    SoundHelper.setMusicVolume = function (value) {
        this.musicVolume = value;
        for (var i = 0; i < this.music.length; i++) {
            if (this.music[i].id !== -1 && cc.audioEngine.AudioState.PLAYING === cc.audioEngine.getState(this.music[i].id)) {
                cc.audioEngine.setVolume(this.music[i].id, this.musicVolume);
            }
        }
    };
    ;
    //设置音效音量
    SoundHelper.setSoundVolume = function (value) {
        // this.soundVolume = value;
    };
    ;
    SoundHelper.qqMusicResume = function () {
        if (cc.sys.platform !== cc.sys.QQ_PLAY)
            return;
        if (this.music[1].id !== -1 || this.music[2].id !== -1 || this.qqFlag)
            return;
        this.playMusic(0);
    };
    ;
    SoundHelper.musicVolume = 1;
    SoundHelper.music = [];
    SoundHelper.QQSoundContext = null;
    SoundHelper.qqFlag = true;
    SoundHelper._soundContext = [];
    return SoundHelper;
}());
exports.default = SoundHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxxcXNka1xcU291bmRIZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2SUEsQ0FBQztJQXRJRyx3QkFBd0I7SUFFakIsZUFBRyxHQUFWO1FBQ0ksS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFDO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQztZQUNuQyxJQUFJLENBQUMsT0FBTyxHQUFFO2dCQUNWLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsWUFBWSxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2RCxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLFlBQVksR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkQsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxZQUFZLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUQsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUFBLENBQUM7SUFHRixPQUFPO0lBQ0EscUJBQVMsR0FBaEIsVUFBaUIsR0FBSTtRQUNqQixHQUFHLEdBQUcsR0FBRyxLQUFJLFNBQVMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUM7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QUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQy9EO1NBQ0o7SUFDTCxDQUFDO0lBQUEsQ0FBQztJQUNGLFFBQVE7SUFDRCwwQkFBYyxHQUFyQixVQUFzQixLQUFLO1FBQ3ZCLDRCQUE0QjtJQUNoQyxDQUFDO0lBQUEsQ0FBQztJQUdLLHlCQUFhLEdBQXBCO1FBQ0ksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU87WUFBRSxPQUFPO1FBQy9DLElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU07WUFBRSxPQUFPO1FBQzVFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUFBLENBQUM7SUExSUssdUJBQVcsR0FBQyxDQUFDLENBQUM7SUFDZCxpQkFBSyxHQUFHLEVBQUUsQ0FBQztJQUNYLDBCQUFjLEdBQU8sSUFBSSxDQUFDO0lBRTFCLGtCQUFNLEdBQUMsSUFBSSxDQUFDO0lBdUNaLHlCQUFhLEdBQXFCLEVBQUUsQ0FBQTtJQWlHL0Msa0JBQUM7Q0E3SUQsQUE2SUMsSUFBQTtrQkE3SW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VuZEhlbHBlcntcclxuICAgIHN0YXRpYyBtdXNpY1ZvbHVtZT0xO1xyXG4gICAgc3RhdGljIG11c2ljID0gW107XHJcbiAgICBzdGF0aWMgUVFTb3VuZENvbnRleHQ6YW55ID0gbnVsbDtcclxuICAgIHN0YXRpYyBRUU11c2ljOmFueTtcclxuICAgIHN0YXRpYyBxcUZsYWc9dHJ1ZTtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBzdGF0aWMgaW50KCkge1xyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5tdXNpYy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5tdXNpY1tpXS5pZCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuUVFfUExBWSl7XHJcbiAgICAgICAgICAgIHRoaXMuUVFNdXNpYyA9W1xyXG4gICAgICAgICAgICAgICAgbmV3IEJLLkF1ZGlvKDAsJ0dhbWVSZXM6Ly8nK3RoaXMubXVzaWNbMF0ubmF0aXZlVXJsLC0xKSxcclxuICAgICAgICAgICAgICAgIG5ldyBCSy5BdWRpbygwLCdHYW1lUmVzOi8vJyt0aGlzLm11c2ljWzFdLm5hdGl2ZVVybCwtMSksXHJcbiAgICAgICAgICAgICAgICBuZXcgQksuQXVkaW8oMCwnR2FtZVJlczovLycrdGhpcy5tdXNpY1syXS5uYXRpdmVVcmwsLTEpLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8v5pKt5pS+6IOM5pmv6Z+zXHJcbiAgICBzdGF0aWMgcGxheU11c2ljKG51bT8pe1xyXG4gICAgICAgIG51bSA9IG51bSA9PT11bmRlZmluZWQ/MDpudW07XHJcbiAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLlFRX1BMQVkpe1xyXG4gICAgICAgICAgICBpZih0aGlzLm11c2ljW251bV0uaWQgPT09IC0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUVFNdXNpY1tudW1dLnN0YXJ0TXVzaWMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNbbnVtXS5pZCA9IDE7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5RUU11c2ljW251bV0ucmVzdW1lTXVzaWMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihudW0hPT0wKSB0aGlzLnFxRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLm11c2ljW251bV0uaWQgPT09IC0xKXtcclxuICAgICAgICAgICAgdGhpcy5tdXNpY1tudW1dLmlkID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLm11c2ljW251bV0sIHRydWUsIHRoaXMubXVzaWNWb2x1bWUpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWUodGhpcy5tdXNpY1tudW1dLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBfc291bmRDb250ZXh0OkJLLkF1ZGlvRWxlbWVudFtdID0gW11cclxuXHJcbiAgICBzdGF0aWMgZ2V0U291bmRDb250ZXh0KCk6QksuQXVkaW9FbGVtZW50XHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHNjOkJLLkF1ZGlvRWxlbWVudCA9IHRoaXMuX3NvdW5kQ29udGV4dFt0aGlzLl9zb3VuZENvbnRleHQubGVuZ3RoXTtcclxuICAgICAgICBpZighc2MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzYyA9IEJLLmNyZWF0ZUF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5fc291bmRDb250ZXh0LnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2M7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBsYXlTb3VuZDIoc291bmQpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGF1ZGlvID0gbmV3IEJLLkF1ZGlvKDEsJ0dhbWVSZXM6Ly8nK3NvdW5kLnRvU3RyaW5nKCksMSk7XHJcbiAgICAgICAgYXVkaW8uc3RhcnRNdXNpYyhzb3VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/mkq3mlL7pn7PmlYhcclxuICAgIHN0YXRpYyBwbGF5U291bmQoc291bmQpe1xyXG4gICAgICAgIGlmKHRoaXMuUVFTb3VuZENvbnRleHQgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5RUVNvdW5kQ29udGV4dCA9IEJLLmNyZWF0ZUF1ZGlvQ29udGV4dCh7XCJ0eXBlXCI6XCJlZmZlY3RcIn0pO1xyXG4gICAgICAgIC8vIGxldCBzb3VuZENvbnRleHQgPSB0aGlzLmdldFNvdW5kQ29udGV4dCgpO1xyXG4gICAgICAgIHRoaXMuUVFTb3VuZENvbnRleHQuc3JjID0gXCJHYW1lUmVzOi8vXCIrc291bmQudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLlFRU291bmRDb250ZXh0LnBsYXkoKTtcclxuICAgICAgICAvLyBzb3VuZENvbnRleHQucGxheSh7Y29tcGxldGU6ZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAvLyAgICAgU291bmRIZWxwZXIuX3NvdW5kQ29udGV4dC5wdXNoKHNvdW5kQ29udGV4dClcclxuICAgICAgICAvLyB9fSk7XHJcbiAgICAgICAgLy8gc291bmRDb250ZXh0LnBsYXkoKTtcclxuICAgICAgICAvLyBzb3VuZENvbnRleHQub24oXCJlbmRlZFwiLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vIFNvdW5kSGVscGVyLl9zb3VuZENvbnRleHQucHVzaChzb3VuZENvbnRleHQpXHJcbiAgICAgICAgLy8gfSlcclxuICAgIH07XHJcblxyXG4gICAgLy/lgZzmraLog4zmma/pn7NcclxuICAgIHN0YXRpYyBzdG9wTXVzaWMobnVtKXtcclxuICAgICAgICBudW0gPSBudW0gPT09dW5kZWZpbmVkPzA6bnVtO1xyXG4gICAgICAgIGlmKHRoaXMubXVzaWNbbnVtXS5pZCA9PT0tMSApcmV0dXJuO1xyXG4gICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5RUV9QTEFZKXtcclxuICAgICAgICAgICAgdGhpcy5RUU11c2ljW251bV0uc3RvcE11c2ljKCk7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNbbnVtXS5pZCA9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLlFRTXVzaWNbbnVtXSA9ICBuZXcgQksuQXVkaW8oMCwnR2FtZVJlczovLycrdGhpcy5tdXNpY1tudW1dLm5hdGl2ZVVybCwtMSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wKHRoaXMubXVzaWNbbnVtXS5pZCk7XHJcbiAgICAgICAgdGhpcy5tdXNpY1tudW1dLmlkID0gLTE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v5pqC5YGc6IOM5pmv6Z+zXHJcbiAgICBzdGF0aWMgcGF1c2VNdXNpYyhudW0pe1xyXG4gICAgICAgIG51bSA9IG51bSA9PT11bmRlZmluZWQ/MDpudW07XHJcbiAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLlFRX1BMQVkpe1xyXG4gICAgICAgICAgICB0aGlzLlFRTXVzaWNbbnVtXS5wYXVzZU11c2ljKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5tdXNpY1tudW1dLmlkID09PS0xIHx8IGNjLmF1ZGlvRW5naW5lLkF1ZGlvU3RhdGUuUExBWUlORyAhPT0gY2MuYXVkaW9FbmdpbmUuZ2V0U3RhdGUodGhpcy5tdXNpY1tudW1dLmlkKSApcmV0dXJuO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlKHRoaXMubXVzaWNbbnVtXS5pZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v6K6+572u6IOM5pmv6Z+z5byA5YWzXHJcbiAgICBzdGF0aWMgc2V0TXVzaWNPZmYoYm9vbCl7XHJcbiAgICAgICAgaWYoYm9vbCl7XHJcbiAgICAgICAgICAgIHRoaXMucGxheU11c2ljKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5tdXNpYy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VNdXNpYyhpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvL+iuvue9rumfs+aViOW8gOWFs1xyXG4gICAgc3RhdGljIHNldFNvdW5kT2ZmKGJvb2wpe1xyXG4gICAgfTtcclxuXHJcbiAgICAvL+iuvue9ruiDjOaZr+mfs+mHjFxyXG4gICAgc3RhdGljIHNldE11c2ljVm9sdW1lKHZhbHVlKXtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lID0gdmFsdWU7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLm11c2ljLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZih0aGlzLm11c2ljW2ldLmlkICE9PSAtMSAmJiBjYy5hdWRpb0VuZ2luZS5BdWRpb1N0YXRlLlBMQVlJTkcgPT09IGNjLmF1ZGlvRW5naW5lLmdldFN0YXRlKHRoaXMubXVzaWNbaV0uaWQpKXtcclxuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldFZvbHVtZSh0aGlzLm11c2ljW2ldLmlkLHRoaXMubXVzaWNWb2x1bWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8v6K6+572u6Z+z5pWI6Z+z6YePXHJcbiAgICBzdGF0aWMgc2V0U291bmRWb2x1bWUodmFsdWUpe1xyXG4gICAgICAgIC8vIHRoaXMuc291bmRWb2x1bWUgPSB2YWx1ZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHN0YXRpYyBxcU11c2ljUmVzdW1lKCl7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSAhPT0gY2Muc3lzLlFRX1BMQVkpIHJldHVybjtcclxuICAgICAgICBpZih0aGlzLm11c2ljWzFdLmlkICE9PSAtMSB8fCB0aGlzLm11c2ljWzJdLmlkIT09IC0xIHx8IHRoaXMucXFGbGFnKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5wbGF5TXVzaWMoMCk7XHJcbiAgICB9O1xyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'da60azHmcJF6oz1R2L0H11s', 'MoreGameDialog');
// framework/wxsdk/MoreGameDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameManager_1 = require("./MoreGameManager");
var MoreGameItem_1 = require("./MoreGameItem");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameDialog = /** @class */ (function (_super) {
    __extends(MoreGameDialog, _super);
    function MoreGameDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.root = null;
        _this.banner = null;
        _this.title = null;
        _this.template = null;
        _this.scrollView = null;
        _this.items = [];
        return _this;
        // update (dt) {}
    }
    MoreGameDialog.prototype.onLoad = function () {
        // this.template
    };
    MoreGameDialog.prototype.start = function () {
    };
    MoreGameDialog.prototype.updateChildWidget = function (node) {
        var widget = node.getComponent(cc.Widget);
        if (widget) {
            widget.updateAlignment();
        }
    };
    MoreGameDialog.prototype.updateView = function () {
        var rect = this.banner.spriteFrame.getRect();
        var size = this.root.getContentSize();
        var ratio = size.width / rect.width;
        var calcHeight = ratio * rect.height;
        this.banner.sizeMode = cc.Sprite.SizeMode.RAW;
        this.banner.node.height = calcHeight;
        var bannerWidget = this.banner.getComponent(cc.Widget);
        bannerWidget.updateAlignment();
        var scrollviewWidget = this.scrollView.getComponent(cc.Widget);
        scrollviewWidget.top = calcHeight;
        scrollviewWidget.updateAlignment();
        g.foreachNode(this.scrollView.node, this.updateChildWidget, this);
        // console.log(size ,rect,calcHeight);
    };
    MoreGameDialog.prototype.onEnable = function () {
        this.scheduleOnce(this.updateView);
    };
    MoreGameDialog.prototype.showBanner = function () {
        return __awaiter(this, void 0, void 0, function () {
            var rect;
            return __generator(this, function (_a) {
                rect = this.banner.spriteFrame.getRect();
                this.updateView();
                return [2 /*return*/];
            });
        });
    };
    MoreGameDialog.prototype.toUserfriendlyNum = function (num) {
        if (num > 10000) {
            return (num / 10000).toFixed(1) + "万";
        }
        return num + "";
    };
    MoreGameDialog.prototype.onShown = function () {
        this.showBanner();
        var list = MoreGameManager_1.default.instance.gameList;
        this.scrollView.content.removeAllChildren();
        this.items.splice(0, this.items.length);
        for (var i = 0; i < list.length; i++) {
            var cfg = list[i];
            var node = cc.instantiate(this.template);
            var item = node.getComponent(MoreGameItem_1.default);
            item.title.string = cfg.title;
            item.content.string = cfg.content;
            item.player_num.string = this.toUserfriendlyNum(cfg.players || 100000);
            item.setStar(cfg.star || 4);
            this.items.push(item);
            this.scrollView.content.addChild(node);
            if (item.btn.clickEvents.length > 0)
                item.btn.clickEvents[0].customEventData = i + "";
            if (item.btnSelf.clickEvents.length > 0)
                item.btnSelf.clickEvents[0].customEventData = i + "";
        }
        this.showIcons();
    };
    MoreGameDialog.prototype.showIcons = function () {
        return __awaiter(this, void 0, void 0, function () {
            var list, i, cfg, item, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        list = MoreGameManager_1.default.instance.gameList;
                        i = 0;
                        _b.label = 1;
                    case 1:
                        if (!(i < list.length)) return [3 /*break*/, 4];
                        cfg = list[i];
                        item = this.items[i];
                        _a = item.icon;
                        return [4 /*yield*/, MoreGameManager_1.default.instance.getSpriteFrame(cfg.icon)];
                    case 2:
                        _a.spriteFrame = _b.sent();
                        _b.label = 3;
                    case 3:
                        i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    MoreGameDialog.prototype.on_click_enter = function (sender, i) {
        var list = MoreGameManager_1.default.instance.gameList;
        var cfg = list[Number(i)];
        console.log(cfg);
        MoreGameManager_1.default.instance.clickGame(cfg);
    };
    __decorate([
        property(cc.Node)
    ], MoreGameDialog.prototype, "root", void 0);
    __decorate([
        property(cc.Sprite)
    ], MoreGameDialog.prototype, "banner", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameDialog.prototype, "title", void 0);
    __decorate([
        property(cc.Node)
    ], MoreGameDialog.prototype, "template", void 0);
    __decorate([
        property(cc.ScrollView)
    ], MoreGameDialog.prototype, "scrollView", void 0);
    MoreGameDialog = __decorate([
        ccclass
    ], MoreGameDialog);
    return MoreGameDialog;
}(cc.Component));
exports.default = MoreGameDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFnRDtBQUNoRCwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUE4SEM7UUEzSEcsVUFBSSxHQUFXLElBQUksQ0FBQztRQUdwQixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFHdEIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixnQkFBVSxHQUFpQixJQUFJLENBQUM7UUFHaEMsV0FBSyxHQUFvQixFQUFFLENBQUE7O1FBMkczQixpQkFBaUI7SUFDckIsQ0FBQztJQTFHRywrQkFBTSxHQUFOO1FBRUksZ0JBQWdCO0lBRXBCLENBQUM7SUFFRCw4QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDBDQUFpQixHQUFqQixVQUFrQixJQUFJO1FBRWxCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLElBQUcsTUFBTSxFQUNUO1lBQ0ksTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUVELG1DQUFVLEdBQVY7UUFFSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFB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QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hCLHlCQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMzQyxDQUFDO0lBeEhEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0RBQ0U7SUFHcEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztrREFDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2lEQUNHO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ007SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQztzREFDUTtJQWZmLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0E4SGxDO0lBQUQscUJBQUM7Q0E5SEQsQUE4SEMsQ0E5SDJDLEVBQUUsQ0FBQyxTQUFTLEdBOEh2RDtrQkE5SG9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVNYW5hZ2VyIGZyb20gXCIuL01vcmVHYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgTW9yZUdhbWVJdGVtIGZyb20gXCIuL01vcmVHYW1lSXRlbVwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vcmVHYW1lRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHJvb3Q6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGJhbm5lcjpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRlbXBsYXRlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsVmlldzpjYy5TY3JvbGxWaWV3ID0gbnVsbDtcclxuXHJcblxyXG4gICAgaXRlbXMgOiBNb3JlR2FtZUl0ZW1bXSA9IFtdXHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICAvLyB0aGlzLnRlbXBsYXRlXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNoaWxkV2lkZ2V0KG5vZGUpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHdpZGdldCA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XHJcbiAgICAgICAgaWYod2lkZ2V0KSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdpZGdldC51cGRhdGVBbGlnbm1lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmlldygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmJhbm5lci5zcHJpdGVGcmFtZS5nZXRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnJvb3QuZ2V0Q29udGVudFNpemUoKTtcclxuICAgICAgICBsZXQgcmF0aW8gPSBzaXplLndpZHRoIC8gcmVjdC53aWR0aDtcclxuICAgICAgICBsZXQgY2FsY0hlaWdodCA9IHJhdGlvICogcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5iYW5uZXIuc2l6ZU1vZGUgPSBjYy5TcHJpdGUuU2l6ZU1vZGUuUkFXO1xyXG4gICAgICAgIHRoaXMuYmFubmVyLm5vZGUuaGVpZ2h0ID0gY2FsY0hlaWdodDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmFubmVyV2lkZ2V0ID0gdGhpcy5iYW5uZXIuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XHJcbiAgICAgICAgYmFubmVyV2lkZ2V0LnVwZGF0ZUFsaWdubWVudCgpO1xyXG5cclxuICAgICAgICBsZXQgc2Nyb2xsdmlld1dpZGdldCA9IHRoaXMuc2Nyb2xsVmlldy5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KVxyXG4gICAgICAgIHNjcm9sbHZpZXdXaWRnZXQudG9wID0gY2FsY0hlaWdodDtcclxuICAgICAgICBzY3JvbGx2aWV3V2lkZ2V0LnVwZGF0ZUFsaWdubWVudCgpO1xyXG4gICAgICAgIGcuZm9yZWFjaE5vZGUodGhpcy5zY3JvbGxWaWV3Lm5vZGUsdGhpcy51cGRhdGVDaGlsZFdpZGdldCx0aGlzKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNpemUgLHJlY3QsY2FsY0hlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMudXBkYXRlVmlldylcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzaG93QmFubmVyKClcclxuICAgIHtcclxuICAgICAgICAvLyB0aGlzLmJhbm5lci5zcHJpdGVGcmFtZSA9IGF3YWl0IE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRTcHJpdGVGcmFtZSh1cmwpO1xyXG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5iYW5uZXIuc3ByaXRlRnJhbWUuZ2V0UmVjdCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvVXNlcmZyaWVuZGx5TnVtKG51bTpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYobnVtID4gMTAwMDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKG51bS8xMDAwMCkudG9GaXhlZCgxKSArIFwi5LiHXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bSArXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvblNob3duKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNob3dCYW5uZXIoKVxyXG4gICAgICAgIGxldCBsaXN0ID0gTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVMaXN0XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZSgwLHRoaXMuaXRlbXMubGVuZ3RoKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDtpIDwgbGlzdC5sZW5ndGg7IGkgKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgY2ZnID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRlbXBsYXRlKVxyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IG5vZGUuZ2V0Q29tcG9uZW50KE1vcmVHYW1lSXRlbSlcclxuICAgICAgICAgICAgaXRlbS50aXRsZS5zdHJpbmcgPSBjZmcudGl0bGU7XHJcbiAgICAgICAgICAgIGl0ZW0uY29udGVudC5zdHJpbmcgPSBjZmcuY29udGVudFxyXG4gICAgICAgICAgICBpdGVtLnBsYXllcl9udW0uc3RyaW5nID0gdGhpcy50b1VzZXJmcmllbmRseU51bShjZmcucGxheWVyc3x8MTAwMDAwKVxyXG4gICAgICAgICAgICBpdGVtLnNldFN0YXIoY2ZnLnN0YXJ8fCA0KTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5hZGRDaGlsZChub2RlKVxyXG4gICAgICAgICAgICBpZihpdGVtLmJ0bi5jbGlja0V2ZW50cy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgaXRlbS5idG4uY2xpY2tFdmVudHNbMF0uY3VzdG9tRXZlbnREYXRhID0gaSArXCJcIjtcclxuICAgICAgICAgICAgaWYoaXRlbS5idG5TZWxmLmNsaWNrRXZlbnRzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICBpdGVtLmJ0blNlbGYuY2xpY2tFdmVudHNbMF0uY3VzdG9tRXZlbnREYXRhID0gaSArXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaG93SWNvbnMoKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBzaG93SWNvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBsaXN0ID0gTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVMaXN0XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBsaXN0Lmxlbmd0aDsgaSArKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBjZmcgPSBsaXN0W2ldO1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaV1cclxuICAgICAgICAgICAgaXRlbS5pY29uLnNwcml0ZUZyYW1lID0gYXdhaXQgTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKGNmZy5pY29uKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbl9jbGlja19lbnRlcihzZW5kZXIsaSlcclxuICAgIHtcclxuICAgICAgICBsZXQgbGlzdCA9IE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lTGlzdFxyXG4gICAgICAgIHZhciBjZmcgPSBsaXN0W051bWJlcihpKV07IFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNmZylcclxuICAgICAgICBNb3JlR2FtZU1hbmFnZXIuaW5zdGFuY2UuY2xpY2tHYW1lKGNmZylcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/ds/IntMap.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11eeadKZERHbLgjtZ/2KsFr', 'IntMap');
// Game/Scripts/hex-lines-game/ds/IntMap.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap = /** @class */ (function () {
    function IntMap() {
        this.h = {};
    }
    IntMap.prototype.set = function (t, e) {
        this.h[t] = e;
    };
    IntMap.prototype.get = function (t) {
        return this.h[t];
    };
    IntMap.prototype.exists = function (t) {
        return this.h.hasOwnProperty(t);
    };
    IntMap.prototype.remove = function (t) {
        return this.h.hasOwnProperty(t) ? (delete this.h[t], !0) : !1;
    };
    IntMap.prototype.keys = function () {
        var t, e = [];
        for (t in this.h)
            this.h.hasOwnProperty(t) && e.push(0 | t);
        return com.iter(e);
    };
    return IntMap;
}());
exports.default = IntMap;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGRzXFxJbnRNYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7UUFFSSxNQUFDLEdBQUcsRUFBRSxDQUFBO0lBa0JWLENBQUM7SUFqQkcsb0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBRSxDQUFDO1FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDakIsQ0FBQztJQUNELG9CQUFHLEdBQUgsVUFBSSxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3BCLENBQUM7SUFDRCx1QkFBTSxHQUFOLFVBQU8sQ0FBQztRQUNKLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUNELHVCQUFNLEdBQU4sVUFBTyxDQUFDO1FBQ0osT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNELHFCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2QsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7WUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1RCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDdEIsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQXBCQSxBQW9CQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50TWFwXHJcbntcclxuICAgIGggPSB7fVxyXG4gICAgc2V0KHQsIGUpIHtcclxuICAgICAgICB0aGlzLmhbdF0gPSBlXHJcbiAgICB9XHJcbiAgICBnZXQodCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhbdF1cclxuICAgIH1cclxuICAgIGV4aXN0cyh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaC5oYXNPd25Qcm9wZXJ0eSh0KVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlKHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oLmhhc093blByb3BlcnR5KHQpID8gKGRlbGV0ZSB0aGlzLmhbdF0sICEwKSA6ICExXHJcbiAgICB9XHJcbiAgICBrZXlzKCkge1xyXG4gICAgICAgIHZhciB0LCBlID0gW107XHJcbiAgICAgICAgZm9yICh0IGluIHRoaXMuaCkgdGhpcy5oLmhhc093blByb3BlcnR5KHQpICYmIGUucHVzaCgwIHwgdCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbS5pdGVyKGUpXHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudio.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ee8a8X6jFF5qtYOWlGoNww', 'ClickAudio');
// framework/plugin_boosts/misc/ClickAudio.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("../gamesys/Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudio = /** @class */ (function (_super) {
    __extends(ClickAudio, _super);
    function ClickAudio() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        _this._oldScale = 1;
        return _this;
        // update (dt) {}
    }
    ClickAudio.prototype.anim2 = function () {
        var act = cc.scaleBy(0.6, 0.9, 0.9).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.anim2back = function () {
        var act = cc.scaleTo(0.6, this._oldScale, this._oldScale).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.onLoad = function () {
        var _this = this;
        if (this.elastic) {
            var btn = this.getComponent(cc.Button);
            btn.transition = cc.Button.Transition.COLOR;
            btn.normalColor = cc.Color.WHITE;
            btn.pressedColor = new cc.Color(200, 200, 200);
            this._oldScale = this.node.scale;
        }
        this.node.on('touchstart', function (_) {
            //cc.EaseElasticOut:create(
            // this.node.stopAllActions();
            _this.elastic && _this.anim2();
        }, this.node);
        this.node.on("touchend", function (_) {
            Device_1.default.playEffect(_this.audio, false);
            _this.elastic && _this.anim2back();
        });
        this.node.on("touchcancel", function (_) {
            _this.elastic && _this.anim2back();
        });
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudio.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudio.prototype, "elastic", void 0);
    ClickAudio = __decorate([
        ccclass
    ], ClickAudio);
    return ClickAudio;
}(cc.Component));
exports.default = ClickAudio;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0Q0FBdUM7QUFFakMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFnREM7UUE3Q0csV0FBSyxHQUFpQixJQUFJLENBQUM7UUFHM0IsYUFBTyxHQUFXLEtBQUssQ0FBQztRQUV4QixlQUFTLEdBQVUsQ0FBQyxDQUFDOztRQXVDckIsaUJBQWlCO0lBQ3JCLENBQUM7SUF0Q0csMEJBQUssR0FBTDtRQUVJLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCw4QkFBUyxHQUFUO1FBRUksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsMkJBQU0sR0FBTjtRQUFBLGlCQXVCQztRQXRCRyxJQUFHLElBQUksQ0FBQyxPQUFPLEVBQ2Y7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN0QyxHQUFHLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUM1QyxHQUFHLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ2pDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNwQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxVQUFBLENBQUM7WUFDeEIsMkJBQTJCO1lBQzNCLDhCQUE4QjtZQUM5QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFDLFVBQUEsQ0FBQztZQUNyQixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFJLENBQUMsS0FBSyxFQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ25DLEtBQUksQ0FBQyxPQUFPLElBQUksS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFDLFVBQUEsQ0FBQztZQUN4QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUExQ0Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNKO0lBRzNCO1FBREMsUUFBUTsrQ0FDZTtJQU5QLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FnRDlCO0lBQUQsaUJBQUM7Q0FoREQsQUFnREMsQ0FoRHVDLEVBQUUsQ0FBQyxTQUFTLEdBZ0RuRDtrQkFoRG9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuLi9nYW1lc3lzL0RldmljZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlja0F1ZGlvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpbyA6Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGVsYXN0aWM6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIF9vbGRTY2FsZTpudW1iZXIgPSAxO1xyXG5cclxuICAgIGFuaW0yKClcclxuICAgIHtcclxuICAgICAgICBsZXQgYWN0ID0gY2Muc2NhbGVCeSgwLjYsIDAuOSwwLjkpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjMpKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFuaW0yYmFjaygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGFjdCA9IGNjLnNjYWxlVG8oMC42LCB0aGlzLl9vbGRTY2FsZSx0aGlzLl9vbGRTY2FsZSkuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuMykpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIGlmKHRoaXMuZWxhc3RpYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBidG4gPSB0aGlzLmdldENvbXBvbmVudChjYy5CdXR0b24pXHJcbiAgICAgICAgICAgIGJ0bi50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uQ09MT1I7XHJcbiAgICAgICAgICAgIGJ0bi5ub3JtYWxDb2xvciA9IGNjLkNvbG9yLldISVRFO1xyXG4gICAgICAgICAgICBidG4ucHJlc3NlZENvbG9yID0gbmV3IGNjLkNvbG9yKDIwMCwyMDAsMjAwKTtcclxuICAgICAgICAgICAgdGhpcy5fb2xkU2NhbGUgPSB0aGlzLm5vZGUuc2NhbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubm9kZS5vbigndG91Y2hzdGFydCcsIF89PntcclxuICAgICAgICAgICAgLy9jYy5FYXNlRWxhc3RpY091dDpjcmVhdGUoXHJcbiAgICAgICAgICAgIC8vIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMigpO1xyXG4gICAgICAgIH0sIHRoaXMubm9kZSk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5vbihcInRvdWNoZW5kXCIsXz0+e1xyXG4gICAgICAgICAgICBEZXZpY2UucGxheUVmZmVjdCh0aGlzLmF1ZGlvLGZhbHNlKVxyXG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMubm9kZS5vbihcInRvdWNoY2FuY2VsXCIsXz0+e1xyXG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/libs/easing.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e6742QWT6FGKZZTNPiWFV4s', 'easing');
// framework/plugin_boosts/libs/easing.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.easeInOutBounce = exports.easeOutBounce = exports.easeInBounce = exports.easeInOutBack = exports.easeOutBack = exports.easeInBack = exports.easeInOutElastic = exports.easeOutElastic = exports.easeInElastic = exports.easeInOutCirc = exports.easeOutCirc = exports.easeInCirc = exports.easeInOutExpo = exports.easeOutExpo = exports.easeInExpo = exports.easeInOutSine = exports.easeOutSine = exports.easeInSine = exports.easeInOutQuint = exports.easeOutQuint = exports.easeInQuint = exports.easeInOutQuart = exports.easeOutQuart = exports.easeInQuart = exports.easeInOutCubic = exports.easeOutCubic = exports.easeInCubic = exports.easeInOutQuad = exports.easeOutQuad = exports.easeInQuad = exports.linear = void 0;
function linear(t, b, c, d) {
    return c * t / d + b;
}
exports.linear = linear;
function easeInQuad(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed + initialValue;
}
exports.easeInQuad = easeInQuad;
function easeOutQuad(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (elapsed /= duration) * (elapsed - 2) + initialValue;
}
exports.easeOutQuad = easeOutQuad;
function easeInOutQuad(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * (--elapsed * (elapsed - 2) - 1) + initialValue;
}
exports.easeInOutQuad = easeInOutQuad;
function easeInCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed + initialValue;
}
exports.easeInCubic = easeInCubic;
function easeOutCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutCubic = easeOutCubic;
function easeInOutCubic(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutCubic = easeInOutCubic;
function easeInQuart(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuart = easeInQuart;
function easeOutQuart(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed - 1) + initialValue;
}
exports.easeOutQuart = easeOutQuart;
function easeInOutQuart(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed - 2) + initialValue;
}
exports.easeInOutQuart = easeInOutQuart;
function easeInQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuint = easeInQuint;
function easeOutQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutQuint = easeOutQuint;
function easeInOutQuint(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutQuint = easeInOutQuint;
function easeInSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * Math.cos(elapsed / duration * (Math.PI / 2)) + amountOfChange + initialValue;
}
exports.easeInSine = easeInSine;
function easeOutSine(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sin(elapsed / duration * (Math.PI / 2)) + initialValue;
}
exports.easeOutSine = easeOutSine;
function easeInOutSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange / 2 * (Math.cos(Math.PI * elapsed / duration) - 1) + initialValue;
}
exports.easeInOutSine = easeInOutSine;
function easeInExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === 0 ? initialValue : amountOfChange * Math.pow(2, 10 * (elapsed / duration - 1)) + initialValue;
}
exports.easeInExpo = easeInExpo;
function easeOutExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === duration
        ? initialValue + amountOfChange
        : amountOfChange * (-Math.pow(2, -10 * elapsed / duration) + 1) + initialValue;
}
exports.easeOutExpo = easeOutExpo;
function easeInOutExpo(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed === 0) {
        return initialValue;
    }
    if (elapsed === duration) {
        return initialValue + amountOfChange;
    }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * Math.pow(2, 10 * (elapsed - 1)) + initialValue;
    }
    return amountOfChange / 2 * (-Math.pow(2, -10 * --elapsed) + 2) + initialValue;
}
exports.easeInOutExpo = easeInOutExpo;
function easeInCirc(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (Math.sqrt(1 - (elapsed /= duration) * elapsed) - 1) + initialValue;
}
exports.easeInCirc = easeInCirc;
function easeOutCirc(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sqrt(1 - (elapsed = elapsed / duration - 1) * elapsed) + initialValue;
}
exports.easeOutCirc = easeOutCirc;
function easeInOutCirc(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return -amountOfChange / 2 * (Math.sqrt(1 - elapsed * elapsed) - 1) + initialValue;
    }
    return amountOfChange / 2 * (Math.sqrt(1 - (elapsed -= 2) * elapsed) + 1) + initialValue;
}
exports.easeInOutCirc = easeInOutCirc;
function easeInElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return -(a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
}
exports.easeInElastic = easeInElastic;
function easeOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return a * Math.pow(2, -10 * elapsed) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) + amountOfChange + initialValue;
}
exports.easeOutElastic = easeOutElastic;
function easeInOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration / 2) === 2) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * (0.3 * 1.5);
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    if (elapsed < 1) {
        return -0.5 * (a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
    }
    return (a * Math.pow(2, -10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) * 0.5 + amountOfChange + initialValue);
}
exports.easeInOutElastic = easeInOutElastic;
function easeInBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * (elapsed /= duration) * elapsed * ((s + 1) * elapsed - s) + initialValue;
}
exports.easeInBack = easeInBack;
function easeOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * ((s + 1) * elapsed + s) + 1) + initialValue;
}
exports.easeOutBack = easeOutBack;
function easeInOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * (elapsed * elapsed * (((s *= 1.525) + 1) * elapsed - s)) + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * (((s *= 1.525) + 1) * elapsed + s) + 2) + initialValue;
}
exports.easeInOutBack = easeInOutBack;
function easeInBounce(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange - easeOutBounce(duration - elapsed, 0, amountOfChange, duration) + initialValue;
}
exports.easeInBounce = easeInBounce;
function easeOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration) < 1 / 2.75) {
        return amountOfChange * (7.5625 * elapsed * elapsed) + initialValue;
    }
    else if (elapsed < 2 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 1.5 / 2.75) * elapsed + 0.75) + initialValue;
    }
    else if (elapsed < 2.5 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 2.25 / 2.75) * elapsed + 0.9375) + initialValue;
    }
    else {
        return amountOfChange * (7.5625 * (elapsed -= 2.625 / 2.75) * elapsed + 0.984375) + initialValue;
    }
}
exports.easeOutBounce = easeOutBounce;
function easeInOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed < duration / 2) {
        return easeInBounce(elapsed * 2, 0, amountOfChange, duration) * 0.5 + initialValue;
    }
    return easeOutBounce(elapsed * 2 - duration, 0, amountOfChange, duration) * 0.5 + amountOfChange * 0.5 + initialValue;
}
exports.easeInOutBounce = easeInOutBounce;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxsaWJzXFxlYXNpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxTQUFnQixNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUU3QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNyQixDQUFDO0FBSEQsd0JBR0M7QUFFRCxTQUFnQixVQUFVLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUN6RyxPQUFPLGNBQWMsR0FBRyxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsWUFBWSxDQUFDO0FBQ3hFLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQy9FLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7S0FDN0Q7SUFDRCxPQUFPLENBQUMsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUM3RSxDQUFDO0FBTEQsc0NBS0M7QUFFRCxT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QUFDO0tBQ3BFO1NBQU0sSUFBSSxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRTtRQUM5QixPQUFPLGNBQWMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLE9BQU8sSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLFlBQVksQ0FBQztLQUMzRjtTQUFNLElBQUksT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUU7UUFDaEMsT0FBTyxjQUFjLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxZQUFZLENBQUM7S0FDOUY7U0FBTTtRQUNOLE9BQU8sY0FBYyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsT0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQ2pHO0FBQ0YsQ0FBQztBQVZELHNDQVVDO0FBRUQsU0FBZ0IsZUFBZSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDOUcsSUFBSSxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsRUFBRTtRQUMzQixPQUFPLFlBQVksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLFlBQVksQ0FBQztLQUNuRjtJQUNELE9BQU8sYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDO0FBQ3ZILENBQUM7QUFMRCwwQ0FLQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQsYixjLGQpOm51bWJlclxyXG57XHJcblx0cmV0dXJuIGMgKiB0IC8gZCArIGIgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFkKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIChlbGFwc2VkIC89IGR1cmF0aW9uKSAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVhZChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogKGVsYXBzZWQgLSAyKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1YWQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XHJcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XHJcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XHJcblx0fVxyXG5cdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKC0tZWxhcHNlZCAqIChlbGFwc2VkIC0gMikgLSAxKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkN1YmljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIChlbGFwc2VkIC89IGR1cmF0aW9uKSAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEN1YmljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqIGVsYXBzZWQgKyAxKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xyXG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcclxuXHR9XHJcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICsgMikgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFydChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVhcnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XHJcblx0cmV0dXJuIC1hbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkIC0gMSkgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRRdWFydChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcclxuXHRcdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAtIDIpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluUXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XHJcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRRdWludChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoKGVsYXBzZWQgPSBlbGFwc2VkIC8gZHVyYXRpb24gLSAxKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyAxKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1aW50KGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xyXG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKChlbGFwc2VkIC09IDIpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIDIpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluU2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogTWF0aC5jb3MoZWxhcHNlZCAvIGR1cmF0aW9uICogKE1hdGguUEkgLyAyKSkgKyBhbW91bnRPZkNoYW5nZSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRTaW5lKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIE1hdGguc2luKGVsYXBzZWQgLyBkdXJhdGlvbiAqIChNYXRoLlBJIC8gMikpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0U2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogZWxhcHNlZCAvIGR1cmF0aW9uKSAtIDEpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluRXhwbyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gZWxhcHNlZCA9PT0gMCA/IGluaXRpYWxWYWx1ZSA6IGFtb3VudE9mQ2hhbmdlICogTWF0aC5wb3coMiwgMTAgKiAoZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEV4cG8oZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XHJcblx0cmV0dXJuIGVsYXBzZWQgPT09IGR1cmF0aW9uXHJcblx0XHQ/IGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlXHJcblx0XHQ6IGFtb3VudE9mQ2hhbmdlICogKC1NYXRoLnBvdygyLCAtMTAgKiBlbGFwc2VkIC8gZHVyYXRpb24pICsgMSkgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGlmIChlbGFwc2VkID09PSAwKSB7XHJcblx0XHRyZXR1cm4gaW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHRpZiAoZWxhcHNlZCA9PT0gZHVyYXRpb24pIHtcclxuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcclxuXHR9XHJcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XHJcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogTWF0aC5wb3coMiwgMTAgKiAoZWxhcHNlZCAtIDEpKSArIGluaXRpYWxWYWx1ZTtcclxuXHR9XHJcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS1lbGFwc2VkKSArIDIpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluQ2lyYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKE1hdGguc3FydCgxIC0gKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCkgLSAxKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRDaXJjKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIE1hdGguc3FydCgxIC0gKGVsYXBzZWQgPSBlbGFwc2VkIC8gZHVyYXRpb24gLSAxKSAqIGVsYXBzZWQpICsgaW5pdGlhbFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0Q2lyYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcclxuXHRcdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKE1hdGguc3FydCgxIC0gZWxhcHNlZCAqIGVsYXBzZWQpIC0gMSkgKyBpbml0aWFsVmFsdWU7XHJcblx0fVxyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQpICsgMSkgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5FbGFzdGljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGxldCBzID0gMS43MDE1ODtcclxuXHRsZXQgcCA9IDA7XHJcblx0bGV0IGEgPSBhbW91bnRPZkNoYW5nZTtcclxuXHRpZiAoZWxhcHNlZCA9PT0gMCkge1xyXG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcclxuXHR9XHJcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA9PT0gMSkge1xyXG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlO1xyXG5cdH1cclxuXHRpZiAoIXApIHtcclxuXHRcdHAgPSBkdXJhdGlvbiAqIDAuMztcclxuXHR9XHJcblx0aWYgKGEgPCBNYXRoLmFicyhhbW91bnRPZkNoYW5nZSkpIHtcclxuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcclxuXHRcdHMgPSBwIC8gNDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XHJcblx0fVxyXG5cdHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqIChlbGFwc2VkIC09IDEpKSAqIE1hdGguc2luKChlbGFwc2VkICogZHVyYXRpb24gLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRsZXQgcyA9IDEuNzAxNTg7XHJcblx0bGV0IHAgPSAwO1xyXG5cdGxldCBhID0gYW1vdW50T2ZDaGFuZ2U7XHJcblx0aWYgKGVsYXBzZWQgPT09IDApIHtcclxuXHRcdHJldHVybiBpbml0aWFsVmFsdWU7XHJcblx0fVxyXG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbikgPT09IDEpIHtcclxuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcclxuXHR9XHJcblx0aWYgKCFwKSB7XHJcblx0XHRwID0gZHVyYXRpb24gKiAwLjM7XHJcblx0fVxyXG5cdGlmIChhIDwgTWF0aC5hYnMoYW1vdW50T2ZDaGFuZ2UpKSB7XHJcblx0XHRhID0gYW1vdW50T2ZDaGFuZ2U7XHJcblx0XHRzID0gcCAvIDQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihhbW91bnRPZkNoYW5nZSAvIGEpO1xyXG5cdH1cclxuXHRyZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIGVsYXBzZWQpICogTWF0aC5zaW4oKGVsYXBzZWQgKiBkdXJhdGlvbiAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYW1vdW50T2ZDaGFuZ2UgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRFbGFzdGljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGxldCBzID0gMS43MDE1ODtcclxuXHRsZXQgcCA9IDA7XHJcblx0bGV0IGEgPSBhbW91bnRPZkNoYW5nZTtcclxuXHRpZiAoZWxhcHNlZCA9PT0gMCkge1xyXG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcclxuXHR9XHJcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uIC8gMikgPT09IDIpIHtcclxuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcclxuXHR9XHJcblx0aWYgKCFwKSB7XHJcblx0XHRwID0gZHVyYXRpb24gKiAoMC4zICogMS41KTtcclxuXHR9XHJcblx0aWYgKGEgPCBNYXRoLmFicyhhbW91bnRPZkNoYW5nZSkpIHtcclxuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcclxuXHRcdHMgPSBwIC8gNDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XHJcblx0fVxyXG5cdGlmIChlbGFwc2VkIDwgMSkge1xyXG5cdFx0cmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKGVsYXBzZWQgLT0gMSkpICogTWF0aC5zaW4oKGVsYXBzZWQgKiBkdXJhdGlvbiAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGluaXRpYWxWYWx1ZTtcclxuXHR9XHJcblx0cmV0dXJuIChcclxuXHRcdGEgKiBNYXRoLnBvdygyLCAtMTAgKiAoZWxhcHNlZCAtPSAxKSkgKiBNYXRoLnNpbigoZWxhcHNlZCAqIGR1cmF0aW9uIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBhbW91bnRPZkNoYW5nZSArIGluaXRpYWxWYWx1ZVxyXG5cdCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5CYWNrKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIHM6IG51bWJlciA9IDEuNzAxNTgpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIChlbGFwc2VkIC89IGR1cmF0aW9uKSAqIGVsYXBzZWQgKiAoKHMgKyAxKSAqIGVsYXBzZWQgLSBzKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRCYWNrKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIHM6IG51bWJlciA9IDEuNzAxNTgpOiBudW1iZXIge1xyXG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqICgocyArIDEpICogZWxhcHNlZCArIHMpICsgMSkgKyBpbml0aWFsVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRCYWNrKFxyXG5cdGVsYXBzZWQ6IG51bWJlcixcclxuXHRpbml0aWFsVmFsdWU6IG51bWJlcixcclxuXHRhbW91bnRPZkNoYW5nZTogbnVtYmVyLFxyXG5cdGR1cmF0aW9uOiBudW1iZXIsXHJcblx0czogbnVtYmVyID0gMS43MDE1OFxyXG4pOiBudW1iZXIge1xyXG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xyXG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIChlbGFwc2VkICogZWxhcHNlZCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiBlbGFwc2VkIC0gcykpICsgaW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKChlbGFwc2VkIC09IDIpICogZWxhcHNlZCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiBlbGFwc2VkICsgcykgKyAyKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkJvdW5jZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLSBlYXNlT3V0Qm91bmNlKGR1cmF0aW9uIC0gZWxhcHNlZCwgMCwgYW1vdW50T2ZDaGFuZ2UsIGR1cmF0aW9uKSArIGluaXRpYWxWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2UoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XHJcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA8IDEgLyAyLjc1KSB7XHJcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogZWxhcHNlZCAqIGVsYXBzZWQpICsgaW5pdGlhbFZhbHVlO1xyXG5cdH0gZWxzZSBpZiAoZWxhcHNlZCA8IDIgLyAyLjc1KSB7XHJcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMS41IC8gMi43NSkgKiBlbGFwc2VkICsgMC43NSkgKyBpbml0aWFsVmFsdWU7XHJcblx0fSBlbHNlIGlmIChlbGFwc2VkIDwgMi41IC8gMi43NSkge1xyXG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKDcuNTYyNSAqIChlbGFwc2VkIC09IDIuMjUgLyAyLjc1KSAqIGVsYXBzZWQgKyAwLjkzNzUpICsgaW5pdGlhbFZhbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMi42MjUgLyAyLjc1KSAqIGVsYXBzZWQgKyAwLjk4NDM3NSkgKyBpbml0aWFsVmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0Qm91bmNlKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG5cdGlmIChlbGFwc2VkIDwgZHVyYXRpb24gLyAyKSB7XHJcblx0XHRyZXR1cm4gZWFzZUluQm91bmNlKGVsYXBzZWQgKiAyLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICogMC41ICsgaW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHRyZXR1cm4gZWFzZU91dEJvdW5jZShlbGFwc2VkICogMiAtIGR1cmF0aW9uLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICogMC41ICsgYW1vdW50T2ZDaGFuZ2UgKiAwLjUgKyBpbml0aWFsVmFsdWU7XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/EventManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '334c9avVx5ILbx/6NU/H45V', 'EventManager');
// framework/plugin_boosts/utils/EventManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.event = void 0;
/**
* name
*/
var EventManager = /** @class */ (function () {
    function EventManager() {
        this._eventList = {};
    }
    EventManager.prototype.on = function (key, listen, target) {
        if (this._eventList[key] != null) {
            var array = this._eventList[key];
            array.push({ listen: listen, target: target });
        }
        else {
            var array = new Array();
            array.push({ listen: listen, target: target });
            this._eventList[key] = array;
        }
    };
    EventManager.prototype.off = function (key, listener, target) {
        if (listener != null && !(listener instanceof Function)) {
            target = listener;
            listener = null;
        }
        if (this._eventList[key] != null) {
            if (listener == null && target == null) {
                delete this._eventList[key];
            }
            else {
                var array = this._eventList[key];
                for (var i = array.length - 1; i >= 0; i--) {
                    if (listener != null && target != null) {
                        if (array[i].listen == listener && array[i].target == target) {
                            array.splice(i, 1);
                        }
                    }
                    else if (listener != null && array[i].listen == listener) {
                        array.splice(i, 1);
                    }
                    else if (target != null && array[i].target == target) {
                        array.splice(i, 1);
                    }
                }
            }
        }
    };
    EventManager.prototype.emit = function (tag) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var sendOk = false;
        if (this._eventList[tag] != null) {
            var array = this._eventList[tag];
            console.log("emit message: ", tag, array.length);
            for (var i = 0; i < array.length; i++) {
                var obj = array[i];
                if (obj.target != null) {
                    if (obj.listen.apply(obj.target, params))
                        sendOk = true;
                }
                else {
                    if (obj.listen.apply(this, params))
                        sendOk = true;
                }
            }
        }
        return sendOk;
    };
    return EventManager;
}());
exports.event = new EventManager();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcRXZlbnRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0VBRUU7QUFDRDtJQUlDO1FBQ0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVNLHlCQUFFLEdBQVQsVUFBVSxHQUFVLEVBQUUsTUFBZ0IsRUFBRSxNQUFXO1FBQ2xELElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUM1QzthQUFJO1lBQ0osSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQU8sQ0FBQztZQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM3QjtJQUNGLENBQUM7SUFFTSwwQkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLFFBQWEsRUFBRSxNQUFXO1FBQ2pELElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsUUFBUSxZQUFZLFFBQVEsQ0FBQyxFQUFDO1lBQzFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFDbEIsUUFBUSxHQUFHLElBQUksQ0FBQztTQUNuQjtRQUNWLElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUM7Z0JBQ3JDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM1QjtpQkFBSTtnQkFDSixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQyxLQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7b0JBQ3pDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxFQUFDO3dCQUNyQyxJQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDOzRCQUMzRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt5QkFDbkI7cUJBQ0Q7eUJBQUssSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxFQUFDO3dCQUN4RCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7eUJBQUssSUFBRyxNQUFNLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDO3dCQUNwRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7aUJBQ0Q7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUVNLDJCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQUUsZ0JBQWdCO2FBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtZQUFoQiwrQkFBZ0I7O1FBQ3hDLElBQUksTUFBTSxHQUFXLEtBQUssQ0FBQztRQUMzQixJQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUNwQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUcsR0FBRyxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUM7b0JBQ3JCLElBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7d0JBQ3RDLE1BQU0sR0FBRyxJQUFJLENBQUE7aUJBQ2Q7cUJBQ0c7b0JBQ0gsSUFBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDO3dCQUNoQyxNQUFNLEdBQUcsSUFBSSxDQUFBO2lCQUNkO2FBQ0Q7U0FDRDtRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2QsQ0FBQztJQUVGLG1CQUFDO0FBQUQsQ0FoRUEsQUFnRUMsSUFBQTtBQUVVLFFBQUEsS0FBSyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBuYW1lIFxyXG4qL1xyXG5cdGNsYXNzIEV2ZW50TWFuYWdlciB7XHJcblxyXG5cdFx0cHJpdmF0ZSBfZXZlbnRMaXN0OiB7W2tleTpzdHJpbmddOkFycmF5PHtsaXN0ZW46RnVuY3Rpb24sIHRhcmdldDogYW55fT59O1xyXG5cclxuXHRcdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdFx0dGhpcy5fZXZlbnRMaXN0ID0ge307XHJcblx0XHR9XHJcblxyXG5cdFx0cHVibGljIG9uKGtleTpzdHJpbmcsIGxpc3RlbjogRnVuY3Rpb24sIHRhcmdldD86YW55KXtcclxuXHRcdFx0aWYodGhpcy5fZXZlbnRMaXN0W2tleV0gIT0gbnVsbCl7XHJcblx0XHRcdFx0bGV0IGFycmF5ID0gdGhpcy5fZXZlbnRMaXN0W2tleV07XHJcblx0XHRcdFx0YXJyYXkucHVzaCh7bGlzdGVuOiBsaXN0ZW4sIHRhcmdldDp0YXJnZXR9KTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bGV0IGFycmF5ID0gbmV3IEFycmF5PGFueT4oKTtcclxuXHRcdFx0XHRhcnJheS5wdXNoKHtsaXN0ZW46bGlzdGVuLCB0YXJnZXQ6dGFyZ2V0fSk7XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRMaXN0W2tleV0gPSBhcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHB1YmxpYyBvZmYoa2V5OiBzdHJpbmcsIGxpc3RlbmVyPzphbnksIHRhcmdldD86YW55KXtcclxuXHRcdFx0aWYobGlzdGVuZXIgIT0gbnVsbCAmJiAhKGxpc3RlbmVyIGluc3RhbmNlb2YgRnVuY3Rpb24pKXtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGxpc3RlbmVyO1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblx0XHRcdGlmKHRoaXMuX2V2ZW50TGlzdFtrZXldICE9IG51bGwpe1xyXG5cdFx0XHRcdGlmKGxpc3RlbmVyID09IG51bGwgJiYgdGFyZ2V0ID09IG51bGwpe1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX2V2ZW50TGlzdFtrZXldO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0bGV0IGFycmF5ID0gdGhpcy5fZXZlbnRMaXN0W2tleV07XHJcblx0XHRcdFx0XHRmb3IobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XHJcblx0XHRcdFx0XHRcdGlmKGxpc3RlbmVyICE9IG51bGwgJiYgdGFyZ2V0ICE9IG51bGwpe1xyXG5cdFx0XHRcdFx0XHRcdGlmKGFycmF5W2ldLmxpc3RlbiA9PSBsaXN0ZW5lciAmJiBhcnJheVtpXS50YXJnZXQgPT0gdGFyZ2V0KXtcclxuXHRcdFx0XHRcdFx0XHRcdGFycmF5LnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKGxpc3RlbmVyICE9IG51bGwgJiYgYXJyYXlbaV0ubGlzdGVuID09IGxpc3RlbmVyKXtcclxuXHRcdFx0XHRcdFx0XHRhcnJheS5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKHRhcmdldCAhPSBudWxsICYmIGFycmF5W2ldLnRhcmdldCA9PSB0YXJnZXQpe1xyXG5cdFx0XHRcdFx0XHRcdGFycmF5LnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHB1YmxpYyBlbWl0KHRhZzogc3RyaW5nLCAuLi5wYXJhbXM6IGFueVtdKXtcclxuXHRcdFx0bGV0IHNlbmRPazpib29sZWFuID0gZmFsc2U7XHJcblx0XHRcdGlmKHRoaXMuX2V2ZW50TGlzdFt0YWddICE9IG51bGwpe1xyXG5cdFx0XHRcdGxldCBhcnJheSA9IHRoaXMuX2V2ZW50TGlzdFt0YWddO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZW1pdCBtZXNzYWdlOiBcIiAsdGFnLCBhcnJheS5sZW5ndGgpO1xyXG5cdFx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdFx0XHRsZXQgb2JqID0gYXJyYXlbaV07XHJcblx0XHRcdFx0XHRpZihvYmoudGFyZ2V0ICE9IG51bGwpe1xyXG5cdFx0XHRcdFx0XHRpZihvYmoubGlzdGVuLmFwcGx5KG9iai50YXJnZXQsIHBhcmFtcykpXHJcblx0XHRcdFx0XHRcdFx0c2VuZE9rID0gdHJ1ZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdFx0aWYob2JqLmxpc3Rlbi5hcHBseSh0aGlzLCBwYXJhbXMpKVxyXG5cdFx0XHRcdFx0XHRcdHNlbmRPayA9IHRydWVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHNlbmRPayBcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRleHBvcnQgdmFyIGV2ZW50ID0gbmV3IEV2ZW50TWFuYWdlcigpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Socket.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8cfb4mvQk5BQqbWZvml7K36', 'Socket');
// framework/network/Socket.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Socket = void 0;
var MessageHandler_1 = require("./MessageHandler");
var MessageType_1 = require("./MessageType");
/**
* name
*/
var Socket = /** @class */ (function () {
    function Socket(conf) {
        this._config = null;
        this._reconnetTimes = 200;
        this._defaultTimeout = 10000;
        this.retryTimer = 0;
        this.initSocket(conf);
    }
    Socket.prototype.initSocket = function (conf) {
        this._config = conf;
        if (!this._config.timeout)
            this._config.timeout = this._defaultTimeout;
        if (this._config.retime)
            this._reconnetTimes = this._config.retime;
        this.connect();
    };
    Socket.prototype.connect = function () {
        var _this = this;
        var addr = this._config.host;
        if (this._config.port) {
            addr = this._config.host + ":" + this._config.port;
        }
        console.log("start connect server>>>>", addr);
        this._webSocket = new WebSocket(addr);
        this._messageHandler = new MessageHandler_1.MessageHandler(this._webSocket);
        // this._webSocket.endian = Laya.Byte.BIG_ENDIAN;
        // if(this._config.timeout)this._webSocket.timeout=this._config.timeout;
        this._webSocket.onopen = function (event) { return _this.onSocketOpen(); };
        this._webSocket.onmessage = function (event) { return _this.onReceiveMessage(event); };
        this._webSocket.onclose = function (event) { return _this.onSocketClose(); };
        this._webSocket.onerror = function (event) { return _this.onSocketError(); };
    };
    Socket.prototype.close = function () {
        if (this._webSocket) {
            // this._webSocket.offAll(null);
            this._webSocket.close();
        }
    };
    Socket.prototype.flush = function () {
        // if(this._webSocket.connected){
        // this._webSocket.flush();
        // }
    };
    Socket.prototype.enableHeartbeat = function (enable) {
        this._messageHandler.enableHeartbeat = enable;
    };
    Socket.prototype.onSocketOpen = function () {
        console.log("connect " + this._config.host + " success");
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_OPEN, "");
    };
    Socket.prototype.onReceiveMessage = function (event) {
        var _this = this;
        if (event === void 0) { event = null; }
        console.log("websocket receive message:" + event.data);
        if (typeof (wx) == "undefined") {
            this.toArrayBuffer(event.data).then(function (arrbuf) {
                _this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, arrbuf);
            });
        }
        else {
            this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, event.data);
        }
    };
    Socket.prototype.toArrayBuffer = function (blob) {
        //将Blob 对象转换成 ArrayBuffer
        var arrayBuffer;
        var reader = new FileReader();
        reader.readAsArrayBuffer(blob);
        return new Promise(function (resolve, reject) {
            reader.onload = function (e) {
                arrayBuffer = reader.result;
                resolve(arrayBuffer);
            };
        });
    };
    Socket.prototype.sendMessage = function (msg) {
        if (this._webSocket.readyState == WebSocket.OPEN) {
            this._messageHandler.sendMessage(msg);
            return true;
        }
        return false;
    };
    Socket.prototype.sendCustomMessage = function (msg) {
        this._messageHandler.dispatchMessage(msg);
    };
    Socket.prototype.reconnect = function () {
        var _this = this;
        // cc.director.getScheduler().unscheduleAllForTarget(this);
        if (Socket.count >= 2 || this._webSocket.readyState == WebSocket.OPEN) {
            clearTimeout(this.retryTimer);
        }
        else {
            if (this._webSocket.readyState == WebSocket.CLOSED) {
                this.connect();
            }
            this.retryTimer = setTimeout(function () {
                _this.reconnect();
            }, this._reconnetTimes);
        }
    };
    Socket.prototype.onSocketClose = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_CLOSE, "");
        console.log("websocket connect close.", this._webSocket.readyState);
        this.close();
        this.reconnect();
    };
    Socket.prototype.onSocketError = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_ERROR, "");
        console.log("websocket io error.");
        // this.reconnect(true);
    };
    Socket.count = 0;
    return Socket;
}());
exports.Socket = Socket;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxTb2NrZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBa0Q7QUFDbEQsNkNBQXVDO0FBRXZDOztFQUVFO0FBRUY7SUFPQyxnQkFBbUIsSUFBSTtRQU5mLFlBQU8sR0FBUSxJQUFJLENBQUM7UUFHcEIsbUJBQWMsR0FBVSxHQUFHLENBQUM7UUFDNUIsb0JBQWUsR0FBVyxLQUFLLENBQUM7UUFDeEMsZUFBVSxHQUFVLENBQUMsQ0FBQztRQUVyQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFHTywyQkFBVSxHQUFsQixVQUFtQixJQUFRO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU87WUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQ3RFLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNsRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDZixDQUFDO0lBRU8sd0JBQU8sR0FBZjtRQUFBLGlCQWlCQztRQWhCQSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUNwQjtZQUNDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRSxHQUFHLEdBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUE7U0FDaEQ7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFHLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxVQUFVLEdB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QUNsQixDQUFDO0lBRU0sOEJBQWEsR0FBcEIsVUFBcUIsQ0FBYTtRQUFiLGtCQUFBLEVBQUEsUUFBYTtRQUNqQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyx1QkFBUyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMzRCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDbkMsd0JBQXdCO0lBQ3pCLENBQUM7SUE3Qk0sWUFBSyxHQUFHLENBQUMsQ0FBQztJQThCbEIsYUFBQztDQWpJRCxBQWlJQyxJQUFBO0FBaklZLHdCQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZUhhbmRsZXIgfSBmcm9tIFwiLi9NZXNzYWdlSGFuZGxlclwiO1xyXG5pbXBvcnQge1NvY2tldFRhZ30gZnJvbSBcIi4vTWVzc2FnZVR5cGVcIlxyXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSBcIi4vTWVzc2FnZVwiO1xyXG4vKipcclxuKiBuYW1lIFxyXG4qL1xyXG5cclxuZXhwb3J0IGNsYXNzIFNvY2tldHtcclxuXHRwcml2YXRlIF9jb25maWc6IGFueSA9IG51bGw7XHJcblx0cHJpdmF0ZSBfd2ViU29ja2V0OiBXZWJTb2NrZXQ7XHJcblx0cHJpdmF0ZSBfbWVzc2FnZUhhbmRsZXI6IE1lc3NhZ2VIYW5kbGVyO1xyXG5cdHByaXZhdGUgX3JlY29ubmV0VGltZXM6bnVtYmVyID0gMjAwO1xyXG5cdHByaXZhdGUgX2RlZmF1bHRUaW1lb3V0OiBudW1iZXIgPSAxMDAwMDtcclxuXHRyZXRyeVRpbWVyOm51bWJlciA9IDA7XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNvbmYpIHtcclxuXHRcdHRoaXMuaW5pdFNvY2tldChjb25mKTtcclxuXHR9XHJcblxyXG5cclxuXHRwcml2YXRlIGluaXRTb2NrZXQoY29uZjphbnkpe1xyXG5cdFx0dGhpcy5fY29uZmlnID0gY29uZjtcclxuXHRcdGlmKCF0aGlzLl9jb25maWcudGltZW91dCkgdGhpcy5fY29uZmlnLnRpbWVvdXQgPSB0aGlzLl9kZWZhdWx0VGltZW91dDtcclxuXHRcdGlmKHRoaXMuX2NvbmZpZy5yZXRpbWUpIHRoaXMuX3JlY29ubmV0VGltZXMgPSB0aGlzLl9jb25maWcucmV0aW1lO1xyXG5cdFx0dGhpcy5jb25uZWN0KClcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY29ubmVjdCgpe1xyXG5cdFx0bGV0IGFkZHIgPSB0aGlzLl9jb25maWcuaG9zdDtcclxuXHRcdGlmKHRoaXMuX2NvbmZpZy5wb3J0KVxyXG5cdFx0e1xyXG5cdFx0XHRhZGRyID0gdGhpcy5fY29uZmlnLmhvc3QgK1wiOlwiICt0aGlzLl9jb25maWcucG9ydFxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2coXCJzdGFydCBjb25uZWN0IHNlcnZlcj4+Pj5cIiAsIGFkZHIpO1xyXG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gbmV3IFdlYlNvY2tldChhZGRyKTtcclxuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyID0gbmV3IE1lc3NhZ2VIYW5kbGVyKHRoaXMuX3dlYlNvY2tldCk7XHJcblx0XHQvLyB0aGlzLl93ZWJTb2NrZXQuZW5kaWFuID0gTGF5YS5CeXRlLkJJR19FTkRJQU47XHJcblx0XHQvLyBpZih0aGlzLl9jb25maWcudGltZW91dCl0aGlzLl93ZWJTb2NrZXQudGltZW91dD10aGlzLl9jb25maWcudGltZW91dDtcclxuXHRcdFxyXG5cdFx0dGhpcy5fd2ViU29ja2V0Lm9ub3BlbiA9IChldmVudCk9PnRoaXMub25Tb2NrZXRPcGVuKCk7XHJcblx0XHR0aGlzLl93ZWJTb2NrZXQub25tZXNzYWdlID0gKGV2ZW50KT0+dGhpcy5vblJlY2VpdmVNZXNzYWdlKGV2ZW50KTtcclxuXHRcdHRoaXMuX3dlYlNvY2tldC5vbmNsb3NlID0gKGV2ZW50KT0+dGhpcy5vblNvY2tldENsb3NlKCk7XHJcblx0XHR0aGlzLl93ZWJTb2NrZXQub25lcnJvciA9IChldmVudCk9PnRoaXMub25Tb2NrZXRFcnJvcigpO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjbG9zZSgpe1xyXG5cdFx0aWYodGhpcy5fd2ViU29ja2V0KXtcclxuXHRcdFx0Ly8gdGhpcy5fd2ViU29ja2V0Lm9mZkFsbChudWxsKTtcclxuXHRcdFx0dGhpcy5fd2ViU29ja2V0LmNsb3NlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZmx1c2goKXtcclxuXHRcdC8vIGlmKHRoaXMuX3dlYlNvY2tldC5jb25uZWN0ZWQpe1xyXG5cdFx0XHQvLyB0aGlzLl93ZWJTb2NrZXQuZmx1c2goKTtcclxuXHRcdC8vIH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBlbmFibGVIZWFydGJlYXQoZW5hYmxlKSB7XHJcblx0XHR0aGlzLl9tZXNzYWdlSGFuZGxlci5lbmFibGVIZWFydGJlYXQgPSBlbmFibGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9uU29ja2V0T3BlbigpOiB2b2lke1xyXG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0IFwiICsgdGhpcy5fY29uZmlnLmhvc3QgK1wiIHN1Y2Nlc3NcIik7XHJcblx0XHR0aGlzLl9tZXNzYWdlSGFuZGxlci5kaXNwYXRjaChTb2NrZXRUYWcuS1NPQ0tFVF9PUEVOLCBcIlwiKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25SZWNlaXZlTWVzc2FnZShldmVudDogYW55ID0gbnVsbCk6IHZvaWR7XHJcblx0XHRjb25zb2xlLmxvZyhcIndlYnNvY2tldCByZWNlaXZlIG1lc3NhZ2U6XCIgKyBldmVudC5kYXRhKTtcclxuXHRcdGlmICh0eXBlb2Yod3gpID09IFwidW5kZWZpbmVkXCIpXHJcblx0XHR7XHJcblx0XHRcdHRoaXMudG9BcnJheUJ1ZmZlcihldmVudC5kYXRhKS50aGVuKGFycmJ1Zj0+e1xyXG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0UsIGFycmJ1Zik7XHJcblx0XHRcdH0pXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfTUVTU0FHRSwgZXZlbnQuZGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHRvQXJyYXlCdWZmZXIoYmxvYik6UHJvbWlzZTxBcnJheUJ1ZmZlcj5cclxuXHR7XHJcblx0XHQvL+WwhkJsb2Ig5a+56LGh6L2s5o2i5oiQIEFycmF5QnVmZmVyXHJcblx0XHR2YXIgYXJyYXlCdWZmZXI7XHJcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHRcdHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XHJcblx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGFycmF5QnVmZmVyID0gcmVhZGVyLnJlc3VsdDtcclxuXHRcdFx0XHRyZXNvbHZlKGFycmF5QnVmZmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdFxyXG5cdHB1YmxpYyBzZW5kTWVzc2FnZShtc2c6IE1lc3NhZ2UpOiBib29sZWFue1xyXG5cdFx0aWYoIHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlID09IFdlYlNvY2tldC5PUEVOICl7XHJcblx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLnNlbmRNZXNzYWdlKG1zZyk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNlbmRDdXN0b21NZXNzYWdlKG1zZzogTWVzc2FnZSkge1xyXG5cdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2hNZXNzYWdlKG1zZyk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgY291bnQgPSAwO1xyXG5cclxuXHRwcml2YXRlIHJlY29ubmVjdCgpe1xyXG5cdFx0Ly8gY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkudW5zY2hlZHVsZUFsbEZvclRhcmdldCh0aGlzKTtcclxuXHRcdGlmKFNvY2tldC5jb3VudCA+PSAyfHx0aGlzLl93ZWJTb2NrZXQucmVhZHlTdGF0ZSA9PSBXZWJTb2NrZXQuT1BFTilcclxuXHRcdHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMucmV0cnlUaW1lcik7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYodGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0LkNMT1NFRClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRoaXMuY29ubmVjdCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMucmV0cnlUaW1lciA9IHNldFRpbWVvdXQoKCk9PntcclxuXHRcdFx0XHR0aGlzLnJlY29ubmVjdCgpO1xyXG5cdFx0XHR9LHRoaXMuX3JlY29ubmV0VGltZXMpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25Tb2NrZXRDbG9zZShlOiBhbnkgPSBudWxsKXtcclxuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX0NMT1NFLCBcIlwiKTtcclxuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IGNvbm5lY3QgY2xvc2UuXCIgLHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlKTtcclxuXHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdHRoaXMucmVjb25uZWN0KCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25Tb2NrZXRFcnJvcihlOiBhbnkgPSBudWxsKXtcclxuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX0VSUk9SLCBcIlwiKTtcclxuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IGlvIGVycm9yLlwiKTtcclxuXHRcdC8vIHRoaXMucmVjb25uZWN0KHRydWUpO1xyXG5cdH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dde8btrP25FeqHeKW+G4Pfb', 'MessageBase');
// framework/network/MessageBase.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBase = void 0;
var MessageType_1 = require("./MessageType");
var Message_1 = require("./Message");
var ConnectManager_1 = require("./ConnectManager");
var MessageBase = /** @class */ (function () {
    function MessageBase() {
        this.Cmd = {};
        this.Error = {};
        this._allFuncs = {};
        for (var i in game.Command) {
            var v = game.Command[i];
            this.Cmd[v] = i;
        }
        for (var i in game.ErrorCode) {
            var v = game.ErrorCode[i];
            this.Error[v] = i;
        }
    }
    MessageBase.prototype.useSocketKey = function (key) {
        this._socketKey = key;
    };
    MessageBase.prototype.addListener = function (cmd, func) {
        this._allFuncs[cmd] = func;
    };
    MessageBase.prototype.removeListener = function (cmd) {
        if (this._allFuncs[cmd] != null) {
            this._allFuncs[cmd] = null;
        }
    };
    MessageBase.prototype.onMessage = function (obj) {
        if (obj.type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var int8a = new Uint8Array(obj.msg);
            var buffer = new flatbuffers.ByteBuffer(int8a);
            var msg = game.Package.getRootAsPackage(buffer);
            if (this._allFuncs[msg.cmd()] != null) {
                return this._allFuncs[msg.cmd()].call(this, msg);
            }
            else
                return this.onHandler(msg);
        }
        else {
            this.onSocket(obj.type);
            return true;
        }
    };
    /**
     * 处理socket消息
     * @param type
     */
    MessageBase.prototype.onSocket = function (type) {
    };
    /**
     * 重写消息处理函数
     * return 消息处理结果，处理完成返回真，否则返回假(消息会入消息队列，等待下次处理)
     */
    MessageBase.prototype.onHandler = function (msg) {
        return false;
    };
    MessageBase.prototype.sendMessage = function (msg) {
        ConnectManager_1.connManager.sendMessage(msg, this._socketKey);
    };
    MessageBase.prototype.onDestory = function () {
        this._allFuncs = null;
    };
    MessageBase.prototype.send = function (cmd, cmdstr, procedure, build) {
        if (cmdstr === void 0) { cmdstr = ""; }
        if (procedure === void 0) { procedure = null; }
        if (build === void 0) { build = null; }
        console.log("Send Message : [" + this.Cmd[cmd] + "]");
        var socket = ConnectManager_1.connManager.getDefault();
        var msg = new Message_1.Message(cmd);
        var ds = game[cmdstr];
        if (ds != null) {
            if (build == null) {
                build = this.createBuilder();
            }
            var startFunc = ds["start" + cmdstr];
            var endFunc = ds["end" + cmdstr];
            startFunc.call(ds, build);
            if (procedure) {
                procedure(build);
                //game[cmd].addTaskId(build,task_id);
            }
            build.finish(endFunc.call(ds, build));
            msg.addBuilder(build);
        }
        else {
            msg.addString(cmdstr);
        }
        socket.sendMessage(msg);
    };
    MessageBase.prototype.createBuilder = function () {
        return new flatbuffers.Builder();
    };
    return MessageBase;
}());
exports.MessageBase = MessageBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlQmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF1QztBQUN2QyxxQ0FBaUM7QUFDakMsbURBQStDO0FBQy9DO0lBT0M7UUFGQSxRQUFHLEdBQUksRUFBRSxDQUFBO1FBQ1QsVUFBSyxHQUFHLEVBQUUsQ0FBQTtRQUVULElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBRXBCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFDcEI7WUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUN0QjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0I7SUFFRixDQUFDO0lBRU0sa0NBQVksR0FBbkIsVUFBb0IsR0FBVztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztJQUN2QixDQUFDO0lBRU0saUNBQVcsR0FBbEIsVUFBbUIsR0FBUSxFQUFFLElBQWM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLG9DQUFjLEdBQXJCLFVBQXNCLEdBQVE7UUFDN0IsSUFBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBQztZQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztTQUMzQjtJQUNGLENBQUM7SUFF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YSxHQUFiO1FBRUksT0FBTyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQTdHQSxBQTZHQyxJQUFBO0FBN0dZLGtDQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcclxuaW1wb3J0IHtNZXNzYWdlfSBmcm9tIFwiLi9NZXNzYWdlXCJcclxuaW1wb3J0IHsgY29ubk1hbmFnZXIgfSBmcm9tIFwiLi9Db25uZWN0TWFuYWdlclwiO1xyXG5leHBvcnQgY2xhc3MgTWVzc2FnZUJhc2Uge1xyXG5cclxuXHRwcml2YXRlIF9zb2NrZXRLZXk6IHN0cmluZztcclxuXHRwcml2YXRlIF9hbGxGdW5jczoge1tjbWQ6IG51bWJlcl06IEZ1bmN0aW9ufTtcclxuXHJcblx0Q21kICA9IHt9XHJcblx0RXJyb3IgPSB7fVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuX2FsbEZ1bmNzID0ge307XHJcblxyXG5cdFx0Zm9yICh2YXIgaSBpbiBnYW1lLkNvbW1hbmQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdiA9IGdhbWUuQ29tbWFuZFtpXVxyXG4gICAgICAgICAgICB0aGlzLkNtZFt2XSA9IGk7XHJcblx0XHR9XHJcblx0XHRmb3IgKHZhciBpIGluIGdhbWUuRXJyb3JDb2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHYgPSBnYW1lLkVycm9yQ29kZVtpXVxyXG4gICAgICAgICAgICB0aGlzLkVycm9yW3ZdID0gaTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0cHVibGljIHVzZVNvY2tldEtleShrZXk6IHN0cmluZyl7XHJcblx0XHR0aGlzLl9zb2NrZXRLZXkgPSBrZXk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYWRkTGlzdGVuZXIoY21kOiBhbnksIGZ1bmM6IEZ1bmN0aW9uKXtcclxuXHRcdHRoaXMuX2FsbEZ1bmNzW2NtZF0gPSBmdW5jO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHJlbW92ZUxpc3RlbmVyKGNtZDogYW55KXtcclxuXHRcdGlmKHRoaXMuX2FsbEZ1bmNzW2NtZF0gIT0gbnVsbCl7XHJcblx0XHRcdHRoaXMuX2FsbEZ1bmNzW2NtZF0gPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIG9uTWVzc2FnZShvYmo6IGFueSl7XHJcblx0XHRpZihvYmoudHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9NRVNTQUdFKXtcclxuXHRcdFx0bGV0IGludDhhID0gbmV3IFVpbnQ4QXJyYXkob2JqLm1zZyk7XHJcblx0XHRcdGxldCBidWZmZXIgPSBuZXcgZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcihpbnQ4YSk7XHJcblx0XHRcdGxldCBtc2c6YW55ID0gZ2FtZS5QYWNrYWdlLmdldFJvb3RBc1BhY2thZ2UoYnVmZmVyKTtcclxuXHRcdFx0aWYodGhpcy5fYWxsRnVuY3NbbXNnLmNtZCgpXSAhPSBudWxsKXtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fYWxsRnVuY3NbbXNnLmNtZCgpXS5jYWxsKHRoaXMsIG1zZyk7XHJcblx0XHRcdH1lbHNlIHJldHVybiB0aGlzLm9uSGFuZGxlcihtc2cpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5vblNvY2tldChvYmoudHlwZSk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5aSE55CGc29ja2V05raI5oGvXHJcblx0ICogQHBhcmFtIHR5cGUgXHJcblx0ICovXHJcblx0cHVibGljIG9uU29ja2V0KHR5cGU6IFNvY2tldFRhZyl7XHJcblxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiDph43lhpnmtojmga/lpITnkIblh73mlbBcclxuXHQgKiByZXR1cm4g5raI5oGv5aSE55CG57uT5p6c77yM5aSE55CG5a6M5oiQ6L+U5Zue55yf77yM5ZCm5YiZ6L+U5Zue5YGHKOa2iOaBr+S8muWFpea2iOaBr+mYn+WIl++8jOetieW+heS4i+asoeWkhOeQhilcclxuXHQgKi9cclxuXHRwdWJsaWMgb25IYW5kbGVyKG1zZzogZ2FtZS5QYWNrYWdlKXtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNlbmRNZXNzYWdlKG1zZzogTWVzc2FnZSl7XHJcblx0XHRjb25uTWFuYWdlci5zZW5kTWVzc2FnZShtc2csIHRoaXMuX3NvY2tldEtleSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25EZXN0b3J5KCl7XHJcblx0XHR0aGlzLl9hbGxGdW5jcyA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRzZW5kKGNtZCxjbWRzdHI9XCJcIixwcm9jZWR1cmU9bnVsbCxidWlsZCA9IG51bGwpXHJcblx0e1xyXG5cdFx0Y29uc29sZS5sb2coXCJTZW5kIE1lc3NhZ2UgOiBbXCIgKyB0aGlzLkNtZFtjbWRdICtcIl1cIilcclxuICAgICAgICBsZXQgc29ja2V0ID0gY29ubk1hbmFnZXIuZ2V0RGVmYXVsdCgpO1xyXG5cdFx0bGV0IG1zZyA9IG5ldyBNZXNzYWdlKGNtZCk7XHJcblx0XHRsZXQgZHMgPSBnYW1lW2NtZHN0cl0gXHJcbiAgICAgICAgaWYoZHMgIT0gbnVsbClcclxuICAgICAgICB7XHJcblx0XHRcdGlmKGJ1aWxkID09IG51bGwpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRidWlsZCA9IHRoaXMuY3JlYXRlQnVpbGRlcigpO1xyXG5cdFx0XHR9XHJcbiAgICAgICAgICAgIGxldCBzdGFydEZ1bmMgPSBkc1tcInN0YXJ0XCIgKyBjbWRzdHJdIFxyXG5cdFx0XHRsZXQgZW5kRnVuYyA9IGRzW1wiZW5kXCIgKyBjbWRzdHJdIFxyXG5cdFx0XHRzdGFydEZ1bmMuY2FsbChkcywgYnVpbGQpO1xyXG4gICAgICAgICAgICBpZihwcm9jZWR1cmUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHByb2NlZHVyZShidWlsZClcclxuICAgICAgICAgICAgICAgIC8vZ2FtZVtjbWRdLmFkZFRhc2tJZChidWlsZCx0YXNrX2lkKTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0XHRidWlsZC5maW5pc2goZW5kRnVuYy5jYWxsKGRzLGJ1aWxkKSlcclxuXHRcdFx0bXNnLmFkZEJ1aWxkZXIoYnVpbGQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1zZy5hZGRTdHJpbmcoY21kc3RyKTtcclxuXHRcdH1cclxuICAgICAgICBzb2NrZXQuc2VuZE1lc3NhZ2UobXNnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCdWlsZGVyKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IGZsYXRidWZmZXJzLkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHRcclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/ConnectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ac5faec2blDKJorwXTfZFZx', 'ConnectManager');
// framework/network/ConnectManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.connManager = void 0;
var Socket_1 = require("./Socket");
var ConnectManager = /** @class */ (function () {
    function ConnectManager() {
        this._allConns = null;
        this._allConns = {};
    }
    ConnectManager.getInstance = function () {
        if (this._instance == null) {
            this._instance = new ConnectManager();
        }
        return this._instance;
    };
    ConnectManager.prototype.create = function (name, conf) {
        if (this._allConns[name] == null) {
            var socket = new Socket_1.Socket(conf);
            this._allConns[name] = socket;
            if (this._defaultKey == null)
                this._defaultKey = name;
        }
    };
    ConnectManager.prototype.setDefaultKey = function (key) {
        if (key != null && this._allConns[key]) {
            this._defaultKey = key;
        }
    };
    ConnectManager.prototype.getDefault = function () {
        return this.getConn(this._defaultKey);
    };
    ConnectManager.prototype.getConn = function (name) {
        if (name == null)
            return null;
        if (this._allConns[name] != null) {
            return this._allConns[name];
        }
        return null;
    };
    ConnectManager.prototype.sendMessage = function (msg, name) {
        if (name == null)
            name = this._defaultKey;
        var conn = this.getConn(name);
        if (conn != null) {
            conn.sendMessage(msg);
        }
    };
    ConnectManager.prototype.enableHeartbeat = function (name) {
        var conn = this.getConn(name);
        conn.enableHeartbeat(true);
    };
    ConnectManager.prototype.sendCustomMessage = function (msg) {
        var conn = this.getConn(this._defaultKey);
        if (conn != null)
            conn.sendCustomMessage(msg);
    };
    ConnectManager.prototype.remove = function (name) {
        var conn = this.getConn(name);
        if (conn != null) {
            delete this._allConns[name];
            conn.close();
        }
    };
    ConnectManager._instance = null;
    return ConnectManager;
}());
exports.connManager = ConnectManager.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxDb25uZWN0TWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFrQztBQUlsQztJQWFDO1FBRlEsY0FBUyxHQUE2QixJQUFJLENBQUM7UUFHbEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQVphLDBCQUFXLEdBQXpCO1FBQ0MsSUFBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFBQztZQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7U0FDdEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdkIsQ0FBQztJQVNNLCtCQUFNLEdBQWIsVUFBYyxJQUFZLEVBQUUsSUFBUztRQUNwQyxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksTUFBTSxHQUFHLElBQUksZUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQzlCLElBQUcsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJO2dCQUMxQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUN6QjtJQUNGLENBQUM7SUFFTSxzQ0FBYSxHQUFwQixVQUFxQixHQUFXO1FBQy9CLElBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1NBQ3ZCO0lBQ0YsQ0FBQztJQUVNLG1DQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRU0sZ0NBQU8sR0FBZCxVQUFlLElBQVk7UUFDMUIsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzdCLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWSxFQUFFLElBQWE7UUFDN0MsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBRyxJQUFJLElBQUksSUFBSSxFQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN0QjtJQUNGLENBQUM7SUFFTSx3Q0FBZSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sMENBQWlCLEdBQXhCLFVBQXlCLEdBQVk7UUFDcEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLElBQVk7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixJQUFHLElBQUksSUFBSSxJQUFJLEVBQUM7WUFDZixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2I7SUFDRixDQUFDO0lBbEVjLHdCQUFTLEdBQW1CLElBQUksQ0FBQztJQW9FakQscUJBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQUVVLFFBQUEsV0FBVyxHQUFtQixjQUFjLENBQUMsV0FBVyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9Tb2NrZXRcIjtcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuL01lc3NhZ2VcIjtcclxuXHJcblxyXG5jbGFzcyBDb25uZWN0TWFuYWdlciB7XHJcblx0XHJcblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBDb25uZWN0TWFuYWdlciA9IG51bGw7XHJcblx0cHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDb25uZWN0TWFuYWdlcntcclxuXHRcdGlmKHRoaXMuX2luc3RhbmNlID09IG51bGwpe1xyXG5cdFx0XHR0aGlzLl9pbnN0YW5jZSA9IG5ldyBDb25uZWN0TWFuYWdlcigpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIF9kZWZhdWx0S2V5OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBfYWxsQ29ubnM6IHsgW25hbWU6c3RyaW5nXTogU29ja2V0fSA9IG51bGw7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0dGhpcy5fYWxsQ29ubnMgPSB7fTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjcmVhdGUobmFtZTogc3RyaW5nLCBjb25mOiBhbnkpe1xyXG5cdFx0aWYodGhpcy5fYWxsQ29ubnNbbmFtZV0gPT0gbnVsbCl7XHJcblx0XHRcdGxldCBzb2NrZXQgPSBuZXcgU29ja2V0KGNvbmYpO1xyXG5cdFx0XHR0aGlzLl9hbGxDb25uc1tuYW1lXSA9IHNvY2tldDtcclxuXHRcdFx0aWYodGhpcy5fZGVmYXVsdEtleSA9PSBudWxsKVxyXG5cdFx0XHRcdHRoaXMuX2RlZmF1bHRLZXkgPSBuYW1lO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHNldERlZmF1bHRLZXkoa2V5OiBzdHJpbmcpe1xyXG5cdFx0aWYoa2V5ICE9IG51bGwgJiYgdGhpcy5fYWxsQ29ubnNba2V5XSkge1xyXG5cdFx0XHR0aGlzLl9kZWZhdWx0S2V5ID0ga2V5O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldERlZmF1bHQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDb25uKHRoaXMuX2RlZmF1bHRLZXkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbm4obmFtZTogc3RyaW5nKXtcclxuXHRcdGlmKG5hbWUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblx0XHRpZih0aGlzLl9hbGxDb25uc1tuYW1lXSAhPSBudWxsKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX2FsbENvbm5zW25hbWVdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlLCBuYW1lPzogc3RyaW5nKXtcclxuXHRcdGlmKG5hbWUgPT0gbnVsbCkgbmFtZSA9IHRoaXMuX2RlZmF1bHRLZXk7XHJcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcclxuXHRcdGlmKGNvbm4gIT0gbnVsbCl7XHJcblx0XHRcdGNvbm4uc2VuZE1lc3NhZ2UobXNnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBlbmFibGVIZWFydGJlYXQobmFtZTogc3RyaW5nKSB7XHJcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcclxuXHRcdGNvbm4uZW5hYmxlSGVhcnRiZWF0KHRydWUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNlbmRDdXN0b21NZXNzYWdlKG1zZzogTWVzc2FnZSl7XHJcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubih0aGlzLl9kZWZhdWx0S2V5KTtcclxuXHRcdGlmIChjb25uICE9IG51bGwpIGNvbm4uc2VuZEN1c3RvbU1lc3NhZ2UobXNnKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByZW1vdmUobmFtZTogc3RyaW5nKXtcclxuXHRcdGxldCBjb25uID0gdGhpcy5nZXRDb25uKG5hbWUpO1xyXG5cdFx0aWYoY29ubiAhPSBudWxsKXtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2FsbENvbm5zW25hbWVdO1xyXG5cdFx0XHRjb25uLmNsb3NlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG59XHJcblxyXG5leHBvcnQgdmFyIGNvbm5NYW5hZ2VyOiBDb25uZWN0TWFuYWdlciA9IENvbm5lY3RNYW5hZ2VyLmdldEluc3RhbmNlKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b9f111MRGFKg7CINn50/KaQ', 'MoreGameItem');
// framework/wxsdk/MoreGameItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameItem = /** @class */ (function (_super) {
    __extends(MoreGameItem, _super);
    function MoreGameItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.title = null;
        _this.content = null;
        _this.icon = null;
        _this.btn = null;
        _this.btnSelf = null;
        _this.star_progress = null;
        _this.player_num = null;
        return _this;
    }
    MoreGameItem.prototype.setStar = function (c) {
        this.star_progress.width = 125 / 5 * c;
    };
    MoreGameItem.prototype.onLoad = function () {
        this.btnSelf = this.getComponent(cc.Button);
    };
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "title", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "content", void 0);
    __decorate([
        property(cc.Sprite)
    ], MoreGameItem.prototype, "icon", void 0);
    __decorate([
        property(cc.Button)
    ], MoreGameItem.prototype, "btn", void 0);
    __decorate([
        property(cc.Node)
    ], MoreGameItem.prototype, "star_progress", void 0);
    __decorate([
        property(cc.Label)
    ], MoreGameItem.prototype, "player_num", void 0);
    MoreGameItem = __decorate([
        ccclass
    ], MoreGameItem);
    return MoreGameItem;
}(cc.Component));
exports.default = MoreGameItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQWlDQztRQTlCRyxXQUFLLEdBQVksSUFBSSxDQUFDO1FBR3RCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFHeEIsVUFBSSxHQUFhLElBQUksQ0FBQztRQUd0QixTQUFHLEdBQWEsSUFBSSxDQUFDO1FBRXJCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFJekIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFHOUIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7O0lBWS9CLENBQUM7SUFWRyw4QkFBTyxHQUFQLFVBQVEsQ0FBQztRQUVMLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFHRCw2QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBN0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ0c7SUFHdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSztJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzhDQUNFO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQ0M7SUFNckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDWTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO29EQUNRO0lBckJWLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FpQ2hDO0lBQUQsbUJBQUM7Q0FqQ0QsQUFpQ0MsQ0FqQ3lDLEVBQUUsQ0FBQyxTQUFTLEdBaUNyRDtrQkFqQ29CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vcmVHYW1lSXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGl0bGU6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGNvbnRlbnQ6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGJ0bjpjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIGJ0blNlbGY6Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzdGFyX3Byb2dyZXNzOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwbGF5ZXJfbnVtOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBzZXRTdGFyKGMpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdGFyX3Byb2dyZXNzLndpZHRoID0gMTI1LzUgKiBjO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJ0blNlbGYgPSB0aGlzLmdldENvbXBvbmVudChjYy5CdXR0b24pO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageDispatch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27032HakQBLd5OVLXAxtzCc', 'MessageDispatch');
// framework/network/MessageDispatch.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageDispatch = void 0;
var MessageDispatch = /** @class */ (function () {
    function MessageDispatch() {
        this._handler = null;
        this._allMessageBases = {};
    }
    MessageDispatch.getInstance = function () {
        if (this._instace == null) {
            this._instace = new MessageDispatch();
        }
        return this._instace;
    };
    MessageDispatch.prototype.register = function (key, msgPro) {
        if (key == null)
            return null;
        if (msgPro == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            this._allMessageBases[key] = [];
        this._allMessageBases[key].push(msgPro);
        return msgPro;
    };
    MessageDispatch.prototype.isNull = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return true;
        return false;
    };
    MessageDispatch.prototype.registerUnique = function (key, msgPro) {
        if (key == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return this._allMessageBases[key][0];
        else
            return this.register(key, msgPro);
    };
    MessageDispatch.prototype.getBean = function (key) {
        if (key == null)
            return null;
        var allBeans = this._allMessageBases[key];
        if (allBeans != null && allBeans.length > 0) {
            return allBeans[0];
        }
        return null;
    };
    MessageDispatch.prototype.unRegister = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            return;
        for (var i = 0; i < allBases.length; i++)
            allBases[i].onDestory();
        this._allMessageBases[key] = null;
        delete this._allMessageBases[key];
    };
    MessageDispatch.prototype.onMessage = function (msg) {
        for (var key in this._allMessageBases) {
            if (this._allMessageBases[key] == null)
                continue;
            var allBases = this._allMessageBases[key];
            for (var i = 0; i < allBases.length; i++)
                if (allBases[i].onMessage(msg))
                    return true;
        }
        return false;
    };
    MessageDispatch._instace = null;
    return MessageDispatch;
}());
exports.MessageDispatch = MessageDispatch;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlRGlzcGF0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQWNDO1FBQ0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBYmEsMkJBQVcsR0FBekI7UUFDQyxJQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztTQUN0QztRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN0QixDQUFDO0lBVU0sa0NBQVEsR0FBZixVQUFnQixHQUFXLEVBQUUsTUFBbUI7UUFDL0MsSUFBRyxHQUFHLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzVCLElBQUcsTUFBTSxJQUFJLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUMvQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFTSxnQ0FBTSxHQUFiLFVBQWMsR0FBVztRQUN4QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztZQUN6QyxPQUFPLElBQUksQ0FBQztRQUNiLE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQUVNLHdDQUFjLEdBQXJCLFVBQXNCLEdBQVcsRUFBRSxNQUFvQjtRQUN0RCxJQUFHLEdBQUcsSUFBSSxJQUFJO1lBQUcsT0FBTyxJQUFJLENBQUM7UUFDN0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUM7WUFDekMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ2pDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVNLGlDQUFPLEdBQWQsVUFBZSxHQUFXO1FBQ3pCLElBQUksR0FBRyxJQUFJLElBQUk7WUFBRyxPQUFPLElBQUksQ0FBQztRQUM5QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1lBQzFDLE9BQVksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVUsR0FBakIsVUFBa0IsR0FBVztRQUM1QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFFLE9BQU87UUFDNUIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO1lBQ3RDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFTSxtQ0FBUyxHQUFoQixVQUFpQixHQUFRO1FBQ3hCLEtBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFDO1lBQ3BDLElBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFFLElBQUk7Z0JBQUMsU0FBUztZQUM3QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUN0QyxJQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUFFLE9BQU8sSUFBSSxDQUFDO1NBQzVDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBbkVjLHdCQUFRLEdBQW9CLElBQUksQ0FBQztJQW9FakQsc0JBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQXRFWSwwQ0FBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWVzc2FnZUJhc2V9IGZyb20gXCIuL01lc3NhZ2VCYXNlXCJcclxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VEaXNwYXRjaHtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhY2U6IE1lc3NhZ2VEaXNwYXRjaCA9IG51bGw7XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKXtcclxuXHRcdGlmKHRoaXMuX2luc3RhY2UgPT0gbnVsbCl7XHJcblx0XHRcdHRoaXMuX2luc3RhY2UgPSBuZXcgTWVzc2FnZURpc3BhdGNoKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5faW5zdGFjZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2hhbmRsZXI6IGFueTtcclxuXHRwcml2YXRlIF9hbGxNZXNzYWdlQmFzZXM6IHtba2V5OiBzdHJpbmddOiBNZXNzYWdlQmFzZVtdfTtcclxuXHJcblx0Y29uc3RydWN0b3IoKXtcclxuXHRcdHRoaXMuX2hhbmRsZXIgPSBudWxsO1xyXG5cdFx0dGhpcy5fYWxsTWVzc2FnZUJhc2VzID0ge307XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgcmVnaXN0ZXIoa2V5OiBzdHJpbmcsIG1zZ1BybzogTWVzc2FnZUJhc2Upe1xyXG5cdFx0aWYoa2V5ID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cdFx0aWYobXNnUHJvID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cdFx0bGV0IGFsbEJhc2VzID0gdGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV07XHJcblx0XHRpZihhbGxCYXNlcyA9PSBudWxsKXRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldID0gW107XHJcblx0XHR0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XS5wdXNoKG1zZ1Bybyk7XHJcblx0XHRyZXR1cm4gbXNnUHJvO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzTnVsbChrZXk6IHN0cmluZyl7XHJcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcclxuXHRcdGlmKGFsbEJhc2VzICE9IG51bGwgJiYgYWxsQmFzZXMubGVuZ3RoID4gMClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgcmVnaXN0ZXJVbmlxdWUoa2V5OiBzdHJpbmcsIG1zZ1Bybz86IE1lc3NhZ2VCYXNlKXtcclxuXHRcdGlmKGtleSA9PSBudWxsICkgcmV0dXJuIG51bGw7XHJcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcclxuXHRcdGlmKGFsbEJhc2VzICE9IG51bGwgJiYgYWxsQmFzZXMubGVuZ3RoID4gMClcclxuXHRcdFx0cmV0dXJuIHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldWzBdO1xyXG5cdFx0ZWxzZSByZXR1cm4gdGhpcy5yZWdpc3RlcihrZXksIG1zZ1Bybyk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QmVhbihrZXk6IHN0cmluZykge1xyXG5cdFx0aWYoIGtleSA9PSBudWxsICkgcmV0dXJuIG51bGw7XHJcblx0XHRsZXQgYWxsQmVhbnMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcclxuXHRcdGlmKGFsbEJlYW5zICE9IG51bGwgJiYgYWxsQmVhbnMubGVuZ3RoID4gMCl7XHJcblx0XHRcdHJldHVybiA8YW55PmFsbEJlYW5zWzBdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdW5SZWdpc3RlcihrZXk6IHN0cmluZyl7XHJcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcclxuXHRcdGlmKGFsbEJhc2VzID09IG51bGwpIHJldHVybjtcclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCBhbGxCYXNlcy5sZW5ndGg7IGkrKylcclxuXHRcdFx0YWxsQmFzZXNbaV0ub25EZXN0b3J5KCk7XHJcblx0XHR0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XSA9IG51bGw7XHJcblx0XHRkZWxldGUgdGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25NZXNzYWdlKG1zZzogYW55KXtcclxuXHRcdGZvcihsZXQga2V5IGluIHRoaXMuX2FsbE1lc3NhZ2VCYXNlcyl7XHJcblx0XHRcdGlmKHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldPT1udWxsKWNvbnRpbnVlO1xyXG5cdFx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcclxuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFsbEJhc2VzLmxlbmd0aDsgaSsrKVxyXG5cdFx0XHRcdGlmKGFsbEJhc2VzW2ldLm9uTWVzc2FnZShtc2cpKSByZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1f843kK46NKi6g8v7uZN6EC', 'MoreGameManager');
// framework/wxsdk/MoreGameManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Task = void 0;
var MoreGameComponent_1 = require("./MoreGameComponent");
var GameConfigs_1 = require("./GameConfigs");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Task = /** @class */ (function () {
    function Task(id) {
        this.isRunning = false;
        this.cd = 0;
        this.max_cd = 0;
        this.id = id;
    }
    Task.prototype.start = function () {
        this.isRunning = true;
    };
    Task.prototype.finish = function () {
        this.isRunning = false;
        this.cd = this.max_cd;
    };
    return Task;
}());
exports.Task = Task;
var MoreGameManager = /** @class */ (function (_super) {
    __extends(MoreGameManager, _super);
    function MoreGameManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.recommendComps = [];
        _this.gameList = [];
        _this.tasks = [];
        _this.frames = {};
        return _this;
    }
    MoreGameManager_1 = MoreGameManager;
    Object.defineProperty(MoreGameManager, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = cc.find("Canvas").addComponent(MoreGameManager_1);
            }
            return this._instance;
        },
        set: function (k) {
            this._instance = k;
        },
        enumerable: false,
        configurable: true
    });
    /**
        content:"射了个球"
        extra:""
        icon:"https://111.231.94.213/game/gameres/recommend/game_01/icon.jpg"
        id:1
        image:"https://111.231.94.213/game/gameres/recommend/game_01/qr.png"
        title:"射了个球"
        wx_appid:"wxcd56cd0a66199638"
        launch:""
    */
    MoreGameManager.prototype.getSpriteFrame = function (url) {
        return __awaiter(this, void 0, Promise, function () {
            var frame;
            var _this = this;
            return __generator(this, function (_a) {
                frame = this.frames[url];
                if (frame == null) {
                    return [2 /*return*/, new Promise(function (resolve, reject) {
                            // url = "https://cs-op.douyucdn.cn/douyu/2018/02/09/8a0dd8f98a3fa07c9543800173408477.png"
                            console.log("[MoreGameManager] request image:" + url);
                            cc.loader.load({ url: url, type: 'png' }, function (err, texture) {
                                if (texture) {
                                    frame = new cc.SpriteFrame(texture);
                                    _this.addSpriteFrame(url, frame);
                                    // this.node.getComponent(cc.Sprite).spriteFrame=frame;
                                    resolve(frame);
                                }
                                else {
                                    reject();
                                }
                            });
                        })];
                }
                return [2 /*return*/, new Promise(function (resolve, reject) { return resolve(frame); })];
            });
        });
    };
    MoreGameManager.prototype.addSpriteFrame = function (url, frame) {
        this.frames[url] = frame;
        return frame;
    };
    MoreGameManager.prototype.onLoad = function () {
        MoreGameManager_1.instance = this;
    };
    //tasks
    MoreGameManager.prototype.getTasks = function (priority_min, count) {
        var todo = [];
        for (var i = 0; i < this.tasks.length; i++) {
            var task = this.tasks[i];
            if (task.gameConfig.priority && task.gameConfig.priority > priority_min) {
                if (task.cd == 0) {
                    todo.push(task);
                    this.tasks.splice(i, 1);
                    i--;
                }
            }
            if (todo.length >= count)
                break;
        }
        if (todo.length < count) {
            // 任务不足，直接用cd中的任务补充
            //request from cd tasks 
            for (var i = 0; i < this.tasks.length; i++) {
                var task = this.tasks[i];
                if (todo.indexOf(task) == -1) {
                    todo.push(task);
                    this.tasks.splice(i, 1);
                    i--;
                }
            }
        }
        g.extendArray(this.tasks, todo);
        return todo;
    };
    MoreGameManager.prototype.finishTasks = function (list) {
        for (var i = 0; i < list.length; i++) {
            var task = list[i];
            if (task) {
                task.finish();
            }
        }
    };
    MoreGameManager.prototype.startTasks = function (list) {
        for (var i = 0; i < list.length; i++) {
            var task = list[i];
            if (task) {
                task.start();
            }
        }
    };
    MoreGameManager.prototype.createTasks = function () {
        for (var i = 0; i < this.gameList.length; i++) {
            var task = new Task(i);
            task.gameConfig = this.gameList[i];
            task.gameConfig.priority = task.gameConfig.priority || 100;
            // 10 最小cd 时长 
            task.max_cd = 100 / task.gameConfig.priority * 10;
            this.tasks.push(task);
        }
    };
    MoreGameManager.prototype.addList = function (list) {
        if (list == null)
            return;
        if (Array.isArray(list)) {
            this.gameList.splice(0, this.gameList.length);
            g.extendArray(this.gameList, list);
        }
        else {
            this.gameList.push(list);
        }
        //sort by priority 
        this.gameList.sort(function (a, b) {
            if (!a.priority)
                return 1;
            if (!b.priority)
                return 0;
            return b.priority - a.priority;
        });
        //create tasks
        this.createTasks();
        for (var i = 0; i < this.recommendComps.length; i++) {
            var element = this.recommendComps[i];
            element.requestTask();
        }
    };
    MoreGameManager.prototype.updateFinishedTask = function () {
        for (var i = 0; i < this.tasks.length; i++) {
            var task = this.tasks[i];
            //cd 中的任务
            if (task.cd > 0) {
                task.cd = Math.max(0, task.cd - 1);
            }
        }
    };
    /**
     * appId	string		是	要打开的小程序 appId
        path	string		否	打开的页面路径，如果为空则打开首页
        extraData	object		否	需要传递给目标小程序的数据，目标小程序可在 App.onLaunch，App.onShow 中获取到这份数据。
        envVersion	string	release	否	要打开的小程序版本。仅在当前小程序为开发版或体验版时此参数有效。如果当前小程序是正式版，则打开的小程序必定是正式版。
        success	function		否	接口调用成功的回调函数
        fail	function		否	接口调用失败的回调函数
        complete	function		否	接口调用结束的回调函数（调用成功、失败都会执行）
        object.envVersion 的合法值

        envVersion >>--------------------
        develop	开发版
        trial	体验版
        release	正式版
     */
    MoreGameManager.prototype.clickGame = function (gamecfg) {
        console.log("打开小程序...");
        wx.navigateToMiniProgram({
            appId: gamecfg.wx_appid,
            extraData: {
                wx_appid: GameConfigs_1.GameConfig.wx_appid,
            },
            envVersion: "release",
            success: function (res) {
                console.log("打开小程序成功 :" + gamecfg.wx_appid);
                // 跳转通知服务器
            },
            fail: function (res) {
                //打开失败
                console.log("打开小程序失败 :" + gamecfg.wx_appid);
            }
        });
        // 打开详情 或者直接打开
        //cfg.image  
    };
    MoreGameManager.prototype.onEnable = function () {
        this.schedule(this.updateFinishedTask, 1, cc.macro.REPEAT_FOREVER);
    };
    MoreGameManager.prototype.onDisable = function () {
        this.unschedule(this.updateFinishedTask);
    };
    MoreGameManager.prototype.start = function () {
        // let gameList  = [
        //     {
        //         content:"射了个球",
        //         extra:"",
        //         icon:"https://111.231.94.213/game/gameres/recommend/game_01/icon.jpg",
        //         id:1,
        //         image:"https://111.231.94.213/game/gameres/recommend/game_01/qr.png",
        //         title:"射了个球",
        //         wx_appid:"wxcd56cd0a66199638",
        //         priority: 99,
        //     }
        // ]
        // let test = JSON.parse('{"priority":100,"title":"水果泡泡龙","extra":"empty","icon":"https://7265-release-2c87c4-1258399463.tcb.qcloud.la/pplicon.png?sign=43116a5ecfead6e614c52b9818cb15ec\u0026t=1547972497","image":"https://7265-release-2c87c4-1258399463.tcb.qcloud.la/qrcode (2).jpg?sign=43edc51f924e8a4e969e71c5e0753adf\u0026t=1547972423","wx_appid":"wxdbacbba2d0277152"}')
        // gameList.push(test);
        // this.addList(gameList)
    };
    var MoreGameManager_1;
    __decorate([
        property([MoreGameComponent_1.default])
    ], MoreGameManager.prototype, "recommendComps", void 0);
    MoreGameManager = MoreGameManager_1 = __decorate([
        ccclass
    ], MoreGameManager);
    return MoreGameManager;
}(cc.Component));
exports.default = MoreGameManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQW9EO0FBQ3BELDZDQUEyQztBQUVyQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQU9JLGNBQVksRUFBRTtRQUhkLGNBQVMsR0FBWSxLQUFLLENBQUM7UUFDM0IsT0FBRSxHQUFZLENBQUMsQ0FBQztRQUNoQixXQUFNLEdBQVcsQ0FBQyxDQUFDO1FBR2YsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELG9CQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztJQUMxQixDQUFDO0lBRUQscUJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBQ0wsV0FBQztBQUFELENBdEJBLEFBc0JDLElBQUE7QUF0Qlksb0JBQUk7QUF5QmpCO0lBQTZDLG1DQUFZO0lBQXpEO1FBQUEscUVBMlBDO1FBeFBHLG9CQUFjLEdBQXdCLEVBQUUsQ0FBQztRQWlCekMsY0FBUSxHQUFTLEVBQUUsQ0FBQTtRQUVuQixXQUFLLEdBQVUsRUFBRSxDQUFBO1FBRWpCLFlBQU0sR0FBbUMsRUFBRSxDQUFDOztJQW1PaEQsQ0FBQzt3QkEzUG9CLGVBQWU7SUFNaEMsc0JBQVcsMkJBQVE7YUFBbkI7WUFFSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUMxQjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLGlCQUFlLENBQUMsQ0FBQzthQUNwRTtZQUNELE9B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UUFBUSxDQUFDLENBQUE7WUFDOUMsQ0FBQztTQUNKLENBQUMsQ0FBQTtRQUVGLGNBQWM7UUFDZCxhQUFhO0lBQ2pCLENBQUM7SUFFRCxrQ0FBUSxHQUFSO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELG1DQUFTLEdBQVQ7UUFFSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCwrQkFBSyxHQUFMO1FBRUksb0JBQW9CO1FBQ3BCLFFBQVE7UUFDUiwwQkFBMEI7UUFDMUIsb0JBQW9CO1FBQ3BCLGlGQUFpRjtRQUNqRixnQkFBZ0I7UUFDaEIsZ0ZBQWdGO1FBQ2hGLHdCQUF3QjtRQUN4Qix5Q0FBeUM7UUFDekMsd0JBQXdCO1FBQ3hCLFFBQVE7UUFDUixJQUFJO1FBQ0osb1hBQW9YO1FBQ3BYLHVCQUF1QjtRQUN2Qix5QkFBeUI7SUFDN0IsQ0FBQzs7SUF2UEQ7UUFEQyxRQUFRLENBQUMsQ0FBQywyQkFBaUIsQ0FBQyxDQUFDOzJEQUNXO0lBSHhCLGVBQWU7UUFEbkMsT0FBTztPQUNhLGVBQWUsQ0EyUG5DO0lBQUQsc0JBQUM7Q0EzUEQsQUEyUEMsQ0EzUDRDLEVBQUUsQ0FBQyxTQUFTLEdBMlB4RDtrQkEzUG9CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVDb21wb25lbnQgZnJvbSBcIi4vTW9yZUdhbWVDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgR2FtZUNvbmZpZyB9IGZyb20gXCIuL0dhbWVDb25maWdzXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYXNrXHJcbntcclxuICAgIGlkOm51bWJlcjtcclxuICAgIGdhbWVDb25maWc6IGFueTtcclxuICAgIGlzUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgY2QgOiBudW1iZXIgPSAwO1xyXG4gICAgbWF4X2NkIDpudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IoaWQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZmluaXNoKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2QgPSB0aGlzLm1heF9jZDtcclxuICAgIH1cclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9yZUdhbWVNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoW01vcmVHYW1lQ29tcG9uZW50XSlcclxuICAgIHJlY29tbWVuZENvbXBzIDpNb3JlR2FtZUNvbXBvbmVudFtdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOk1vcmVHYW1lTWFuYWdlclxyXG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpOk1vcmVHYW1lTWFuYWdlciBcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gY2MuZmluZChcIkNhbnZhc1wiKS5hZGRDb21wb25lbnQoTW9yZUdhbWVNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXQgaW5zdGFuY2UoaylcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGs7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZUxpc3Q6YW55W10gPSBbXVxyXG5cclxuICAgIHRhc2tzOlRhc2tbXSA9IFtdXHJcblxyXG4gICAgZnJhbWVzOntbaW5kZXg6c3RyaW5nXTpjYy5TcHJpdGVGcmFtZX0gPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAgICBjb250ZW50Olwi5bCE5LqG5Liq55CDXCJcclxuICAgICAgICBleHRyYTpcIlwiXHJcbiAgICAgICAgaWNvbjpcImh0dHBzOi8vMTExLjIzMS45NC4yMTMvZ2FtZS9nYW1lcmVzL3JlY29tbWVuZC9nYW1lXzAxL2ljb24uanBnXCJcclxuICAgICAgICBpZDoxXHJcbiAgICAgICAgaW1hZ2U6XCJodHRwczovLzExMS4yMzEuOTQuMjEzL2dhbWUvZ2FtZXJlcy9yZWNvbW1lbmQvZ2FtZV8wMS9xci5wbmdcIlxyXG4gICAgICAgIHRpdGxlOlwi5bCE5LqG5Liq55CDXCJcclxuICAgICAgICB3eF9hcHBpZDpcInd4Y2Q1NmNkMGE2NjE5OTYzOFwiXHJcbiAgICAgICAgbGF1bmNoOlwiXCJcclxuICAgICovXHJcbiAgICBhc3luYyBnZXRTcHJpdGVGcmFtZSh1cmw6c3RyaW5nKTpQcm9taXNlPGNjLlNwcml0ZUZyYW1lPlxyXG4gICAge1xyXG4gICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWVzW3VybF1cclxuICAgICAgICBpZihmcmFtZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGNjLlNwcml0ZUZyYW1lPigocmVzb2x2ZSxyZWplY3QpPT57XHJcbiAgICAgICAgICAgICAgICAvLyB1cmwgPSBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZG91eXUvMjAxOC8wMi8wOS84YTBkZDhmOThhM2ZhMDdjOTU0MzgwMDE3MzQwODQ3Ny5wbmdcIlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbTW9yZUdhbWVNYW5hZ2VyXSByZXF1ZXN0IGltYWdlOlwiICsgdXJsKVxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoe3VybDogdXJsLCB0eXBlOiAncG5nJ30sIChlcnIsIHRleHR1cmUpID0+e1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRleHR1cmUpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTcHJpdGVGcmFtZSh1cmwgLGZyYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWU9ZnJhbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZnJhbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4oKHJlc29sdmUscmVqZWN0KT0+cmVzb2x2ZShmcmFtZSkpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFNwcml0ZUZyYW1lKHVybDogc3RyaW5nLCBmcmFtZTogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLmZyYW1lc1t1cmxdID0gZnJhbWU7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgTW9yZUdhbWVNYW5hZ2VyLmluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvL3Rhc2tzXHJcbiAgICBnZXRUYXNrcyhwcmlvcml0eV9taW46IG51bWJlcixjb3VudDpudW1iZXIpOiBhbnkge1xyXG4gICAgICAgIGxldCB0b2RvID0gW11cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8dGhpcy50YXNrcy5sZW5ndGg7IGkgKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGFzayA9IHRoaXMudGFza3NbaV1cclxuICAgICAgICAgICAgaWYodGFzay5nYW1lQ29uZmlnLnByaW9yaXR5ICYmIHRhc2suZ2FtZUNvbmZpZy5wcmlvcml0eSA+IHByaW9yaXR5X21pbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYodGFzay5jZCA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZG8ucHVzaCh0YXNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFza3Muc3BsaWNlKGksMSlcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvZG8ubGVuZ3RoID49IGNvdW50KSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodG9kby5sZW5ndGggPCBjb3VudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIOS7u+WKoeS4jei2s++8jOebtOaOpeeUqGNk5Lit55qE5Lu75Yqh6KGl5YWFXHJcbiAgICAgICAgICAgIC8vcmVxdWVzdCBmcm9tIGNkIHRhc2tzIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8dGhpcy50YXNrcy5sZW5ndGg7IGkgKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXNrID0gdGhpcy50YXNrc1tpXVxyXG4gICAgICAgICAgICAgICAgaWYodG9kby5pbmRleE9mKHRhc2spID09IC0xKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZG8ucHVzaCh0YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhc2tzLnNwbGljZShpLDEpXHJcbiAgICAgICAgICAgICAgICAgICAgaSAtLSA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZy5leHRlbmRBcnJheSh0aGlzLnRhc2tzLHRvZG8pO1xyXG4gICAgICAgIHJldHVybiB0b2RvO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmlzaFRhc2tzKGxpc3Q6IFRhc2tbXSk6IGFueSB7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7aSA8IGxpc3QubGVuZ3RoOyBpICsrIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0YXNrID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgaWYgKHRhc2spXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhc2suZmluaXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRUYXNrcyhsaXN0OlRhc2tbXSk6YW55e1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwIDtpIDwgbGlzdC5sZW5ndGg7IGkgKysgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRhc2sgPSBsaXN0W2ldOyBcclxuICAgICAgICAgICAgaWYgKHRhc2spXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhc2suc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlVGFza3MoKVxyXG4gICAge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgIGkgPCB0aGlzLmdhbWVMaXN0Lmxlbmd0aDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGFzayA9IG5ldyBUYXNrKGkpXHJcbiAgICAgICAgICAgIHRhc2suZ2FtZUNvbmZpZyA9IHRoaXMuZ2FtZUxpc3RbaV1cclxuICAgICAgICAgICAgdGFzay5nYW1lQ29uZmlnLnByaW9yaXR5ID0gdGFzay5nYW1lQ29uZmlnLnByaW9yaXR5IHx8MTAwO1xyXG4gICAgICAgICAgICAvLyAxMCDmnIDlsI9jZCDml7bplb8gXHJcbiAgICAgICAgICAgIHRhc2subWF4X2NkID0gIDEwMCAvdGFzay5nYW1lQ29uZmlnLnByaW9yaXR5ICogMTA7XHJcbiAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRMaXN0KGxpc3Q6YW55KVxyXG4gICAge1xyXG4gICAgICAgIGlmKGxpc3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxpc3QpIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUxpc3Quc3BsaWNlKDAsdGhpcy5nYW1lTGlzdC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBnLmV4dGVuZEFycmF5KHRoaXMuZ2FtZUxpc3QsbGlzdCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUxpc3QucHVzaChsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9zb3J0IGJ5IHByaW9yaXR5IFxyXG4gICAgICAgIHRoaXMuZ2FtZUxpc3Quc29ydCgoYSxiKT0+e1xyXG4gICAgICAgICAgICBpZighYS5wcmlvcml0eSApIHJldHVybiAxO1xyXG4gICAgICAgICAgICBpZighYi5wcmlvcml0eSkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIHJldHVybiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY3JlYXRlIHRhc2tzXHJcbiAgICAgICAgdGhpcy5jcmVhdGVUYXNrcygpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb21tZW5kQ29tcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMucmVjb21tZW5kQ29tcHNbaV07XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVxdWVzdFRhc2soKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRmluaXNoZWRUYXNrKClcclxuICAgIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFza3MubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGFzayA9IHRoaXMudGFza3NbaV1cclxuICAgICAgICAgICAgLy9jZCDkuK3nmoTku7vliqFcclxuICAgICAgICAgICAgaWYodGFzay5jZCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhc2suY2QgPSBNYXRoLm1heCgwLHRhc2suY2QgLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYXBwSWRcdHN0cmluZ1x0XHTmmK9cdOimgeaJk+W8gOeahOWwj+eoi+W6jyBhcHBJZFx0XHJcbiAgICAgICAgcGF0aFx0c3RyaW5nXHRcdOWQplx05omT5byA55qE6aG16Z2i6Lev5b6E77yM5aaC5p6c5Li656m65YiZ5omT5byA6aaW6aG1XHRcclxuICAgICAgICBleHRyYURhdGFcdG9iamVjdFx0XHTlkKZcdOmcgOimgeS8oOmAkue7meebruagh+Wwj+eoi+W6j+eahOaVsOaNru+8jOebruagh+Wwj+eoi+W6j+WPr+WcqCBBcHAub25MYXVuY2jvvIxBcHAub25TaG93IOS4reiOt+WPluWIsOi/meS7veaVsOaNruOAglx0XHJcbiAgICAgICAgZW52VmVyc2lvblx0c3RyaW5nXHRyZWxlYXNlXHTlkKZcdOimgeaJk+W8gOeahOWwj+eoi+W6j+eJiOacrOOAguS7heWcqOW9k+WJjeWwj+eoi+W6j+S4uuW8gOWPkeeJiOaIluS9k+mqjOeJiOaXtuatpOWPguaVsOacieaViOOAguWmguaenOW9k+WJjeWwj+eoi+W6j+aYr+ato+W8j+eJiO+8jOWImeaJk+W8gOeahOWwj+eoi+W6j+W/heWumuaYr+ato+W8j+eJiOOAglx0XHJcbiAgICAgICAgc3VjY2Vzc1x0ZnVuY3Rpb25cdFx05ZCmXHTmjqXlj6PosIPnlKjmiJDlip/nmoTlm57osIPlh73mlbBcdFxyXG4gICAgICAgIGZhaWxcdGZ1bmN0aW9uXHRcdOWQplx05o6l5Y+j6LCD55So5aSx6LSl55qE5Zue6LCD5Ye95pWwXHRcclxuICAgICAgICBjb21wbGV0ZVx0ZnVuY3Rpb25cdFx05ZCmXHTmjqXlj6PosIPnlKjnu5PmnZ/nmoTlm57osIPlh73mlbDvvIjosIPnlKjmiJDlip/jgIHlpLHotKXpg73kvJrmiafooYzvvIlcclxuICAgICAgICBvYmplY3QuZW52VmVyc2lvbiDnmoTlkIjms5XlgLxcclxuXHJcbiAgICAgICAgZW52VmVyc2lvbiA+Pi0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgZGV2ZWxvcFx05byA5Y+R54mIXHJcbiAgICAgICAgdHJpYWxcdOS9k+mqjOeJiFxyXG4gICAgICAgIHJlbGVhc2VcdOato+W8j+eJiFxyXG4gICAgICovXHJcbiAgICBjbGlja0dhbWUoZ2FtZWNmZylcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuaJk+W8gOWwj+eoi+W6jy4uLlwiKVxyXG4gICAgICAgIHd4Lm5hdmlnYXRlVG9NaW5pUHJvZ3JhbSh7XHJcbiAgICAgICAgICAgIGFwcElkOmdhbWVjZmcud3hfYXBwaWQsXHJcbiAgICAgICAgICAgIGV4dHJhRGF0YTp7XHJcbiAgICAgICAgICAgICAgICB3eF9hcHBpZDpHYW1lQ29uZmlnLnd4X2FwcGlkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnZWZXJzaW9uOlwicmVsZWFzZVwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOihyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaJk+W8gOWwj+eoi+W6j+aIkOWKnyA6XCIgKyBnYW1lY2ZnLnd4X2FwcGlkKVxyXG4gICAgICAgICAgICAgICAgLy8g6Lez6L2s6YCa55+l5pyN5Yqh5ZmoXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmYWlsOihyZXMpPT57XHJcbiAgICAgICAgICAgICAgICAvL+aJk+W8gOWksei0pVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmiZPlvIDlsI/nqIvluo/lpLHotKUgOlwiICtnYW1lY2ZnLnd4X2FwcGlkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICAvLyDmiZPlvIDor6bmg4Ug5oiW6ICF55u05o6l5omT5byAXHJcbiAgICAgICAgLy9jZmcuaW1hZ2UgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMudXBkYXRlRmluaXNoZWRUYXNrLDEsY2MubWFjcm8uUkVQRUFUX0ZPUkVWRVIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMudXBkYXRlRmluaXNoZWRUYXNrKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gbGV0IGdhbWVMaXN0ICA9IFtcclxuICAgICAgICAvLyAgICAge1xyXG4gICAgICAgIC8vICAgICAgICAgY29udGVudDpcIuWwhOS6huS4queQg1wiLFxyXG4gICAgICAgIC8vICAgICAgICAgZXh0cmE6XCJcIixcclxuICAgICAgICAvLyAgICAgICAgIGljb246XCJodHRwczovLzExMS4yMzEuOTQuMjEzL2dhbWUvZ2FtZXJlcy9yZWNvbW1lbmQvZ2FtZV8wMS9pY29uLmpwZ1wiLFxyXG4gICAgICAgIC8vICAgICAgICAgaWQ6MSxcclxuICAgICAgICAvLyAgICAgICAgIGltYWdlOlwiaHR0cHM6Ly8xMTEuMjMxLjk0LjIxMy9nYW1lL2dhbWVyZXMvcmVjb21tZW5kL2dhbWVfMDEvcXIucG5nXCIsXHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTpcIuWwhOS6huS4queQg1wiLFxyXG4gICAgICAgIC8vICAgICAgICAgd3hfYXBwaWQ6XCJ3eGNkNTZjZDBhNjYxOTk2MzhcIixcclxuICAgICAgICAvLyAgICAgICAgIHByaW9yaXR5OiA5OSxcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIF1cclxuICAgICAgICAvLyBsZXQgdGVzdCA9IEpTT04ucGFyc2UoJ3tcInByaW9yaXR5XCI6MTAwLFwidGl0bGVcIjpcIuawtOaenOazoeazoem+mVwiLFwiZXh0cmFcIjpcImVtcHR5XCIsXCJpY29uXCI6XCJodHRwczovLzcyNjUtcmVsZWFzZS0yYzg3YzQtMTI1ODM5OTQ2My50Y2IucWNsb3VkLmxhL3BwbGljb24ucG5nP3NpZ249NDMxMTZhNWVjZmVhZDZlNjE0YzUyYjk4MThjYjE1ZWNcXHUwMDI2dD0xNTQ3OTcyNDk3XCIsXCJpbWFnZVwiOlwiaHR0cHM6Ly83MjY1LXJlbGVhc2UtMmM4N2M0LTEyNTgzOTk0NjMudGNiLnFjbG91ZC5sYS9xcmNvZGUgKDIpLmpwZz9zaWduPTQzZWRjNTFmOTI0ZThhNGU5NjllNzFjNWUwNzUzYWRmXFx1MDAyNnQ9MTU0Nzk3MjQyM1wiLFwid3hfYXBwaWRcIjpcInd4ZGJhY2JiYTJkMDI3NzE1MlwifScpXHJcbiAgICAgICAgLy8gZ2FtZUxpc3QucHVzaCh0ZXN0KTtcclxuICAgICAgICAvLyB0aGlzLmFkZExpc3QoZ2FtZUxpc3QpXHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '662f9RcpGtJGpMGll8qVj04', 'MoreGameComponent');
// framework/wxsdk/MoreGameComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameManager_1 = require("./MoreGameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameComponent = /** @class */ (function (_super) {
    __extends(MoreGameComponent, _super);
    function MoreGameComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isManaged = true;
        _this.refreshInterval = 60;
        _this.priority_min = 50;
        _this._list = [];
        return _this;
    }
    Object.defineProperty(MoreGameComponent.prototype, "count", {
        get: function () { return 0; },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MoreGameComponent.prototype, "manager", {
        get: function () {
            return MoreGameManager_1.default.instance;
        },
        enumerable: false,
        configurable: true
    });
    MoreGameComponent.prototype.requestTask = function () {
        var list = this.manager.getTasks(this.priority_min, this.count);
        this.manager.finishTasks(this._list);
        this.show(list);
        this.manager.startTasks(list);
    };
    MoreGameComponent.prototype.start = function () {
    };
    MoreGameComponent.prototype.onEnable = function () {
        this.schedule(this.requestTask, this.refreshInterval, cc.macro.REPEAT_FOREVER, 0);
    };
    MoreGameComponent.prototype.onDisable = function () {
        this.unschedule(this.requestTask);
    };
    MoreGameComponent.prototype.onShow = function () {
    };
    MoreGameComponent.prototype.show = function (list) {
        this._list = list;
        this.onShow();
    };
    Object.defineProperty(MoreGameComponent.prototype, "list", {
        get: function () {
            return this._list;
        },
        enumerable: false,
        configurable: true
    });
    __decorate([
        property
    ], MoreGameComponent.prototype, "refreshInterval", void 0);
    __decorate([
        property
    ], MoreGameComponent.prototype, "priority_min", void 0);
    MoreGameComponent = __decorate([
        ccclass
    ], MoreGameComponent);
    return MoreGameComponent;
}(cc.Component));
exports.default = MoreGameComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUErQyxxQ0FBWTtJQUEzRDtRQUFBLHFFQXlEQztRQXRERyxlQUFTLEdBQVcsSUFBSSxDQUFDO1FBR3pCLHFCQUFlLEdBQVcsRUFBRSxDQUFDO1FBRzdCLGtCQUFZLEdBQVcsRUFBRSxDQUFDO1FBRTFCLFdBQUssR0FBVSxFQUFFLENBQUE7O0lBOENyQixDQUFDO0lBNUNHLHNCQUFJLG9DQUFLO2FBQVQsY0FBWSxPQUFPLENBQUMsQ0FBQyxDQUFBLENBQUM7OztPQUFBO0lBRXRCLHNCQUFJLHNDQUFPO2FBQVg7WUFFSSxPQUFPLHlCQUFlLENBQUMsUUFBUSxDQUFDO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsdUNBQVcsR0FBWDtRQUVJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxpQ0FBSyxHQUFMO0lBR0EsQ0FBQztJQUVELG9DQUFRLEdBQVI7UUFFSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLGVBQWUsRUFBQyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNsRixDQUFDO0lBRUQscUNBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxrQ0FBTSxHQUFOO0lBR0EsQ0FBQztJQUVELGdDQUFJLEdBQUosVUFBSyxJQUFJO1FBRUwsSUFBSSxDQUFDLEtBQUssR0FBSSxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxzQkFBSSxtQ0FBSTthQUFSO1lBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFBO1FBQ3JCLENBQUM7OztPQUFBO0lBbEREO1FBREMsUUFBUTs4REFDb0I7SUFHN0I7UUFEQyxRQUFROzJEQUNpQjtJQVRULGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBeURyQztJQUFELHdCQUFDO0NBekRELEFBeURDLENBekQ4QyxFQUFFLENBQUMsU0FBUyxHQXlEMUQ7a0JBekRvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9yZUdhbWVNYW5hZ2VyLCB7IFRhc2sgfSBmcm9tIFwiLi9Nb3JlR2FtZU1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JlR2FtZUNvbXBvbmVudCBleHRlbmRzIGNjLkNvbXBvbmVudFxyXG57XHJcbiAgICBfbWFuYWdlcjpNb3JlR2FtZU1hbmFnZXI7XHJcbiAgICBpc01hbmFnZWQ6Ym9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICByZWZyZXNoSW50ZXJ2YWw6IG51bWJlciA9IDYwO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpb3JpdHlfbWluIDpudW1iZXIgPSA1MDtcclxuXHJcbiAgICBfbGlzdDpUYXNrW10gPSBbXVxyXG5cclxuICAgIGdldCBjb3VudCgpe3JldHVybiAwO31cclxuXHJcbiAgICBnZXQgbWFuYWdlcigpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vcmVHYW1lTWFuYWdlci5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICByZXF1ZXN0VGFzaygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLm1hbmFnZXIuZ2V0VGFza3ModGhpcy5wcmlvcml0eV9taW4sdGhpcy5jb3VudCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmZpbmlzaFRhc2tzKHRoaXMuX2xpc3QpXHJcbiAgICAgICAgdGhpcy5zaG93KGxpc3QpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlci5zdGFydFRhc2tzKGxpc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KClcclxuICAgIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLnJlcXVlc3RUYXNrLHRoaXMucmVmcmVzaEludGVydmFsLGNjLm1hY3JvLlJFUEVBVF9GT1JFVkVSLDApXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5yZXF1ZXN0VGFzayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93KClcclxuICAgIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzaG93KGxpc3QpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fbGlzdCA9ICBsaXN0O1xyXG4gICAgICAgIHRoaXMub25TaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxpc3QoKTogVGFza1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdFxyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9f654W7umlMeasjS7fKQj29', 'MessageType');
// framework/network/MessageType.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.SocketTag = void 0;
/**
* name
*/
var SocketTag;
(function (SocketTag) {
    SocketTag[SocketTag["KSOCKET_OPEN"] = 0] = "KSOCKET_OPEN";
    SocketTag[SocketTag["KSOCKET_CLOSE"] = 1] = "KSOCKET_CLOSE";
    SocketTag[SocketTag["KSOCKET_MESSAGE"] = 2] = "KSOCKET_MESSAGE";
    SocketTag[SocketTag["KSOCKET_ERROR"] = 3] = "KSOCKET_ERROR";
})(SocketTag = exports.SocketTag || (exports.SocketTag = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlVHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztFQUVFO0FBQ0QsSUFBWSxTQUtYO0FBTEQsV0FBWSxTQUFTO0lBQ3BCLHlEQUFZLENBQUE7SUFDWiwyREFBYSxDQUFBO0lBQ2IsK0RBQWUsQ0FBQTtJQUNmLDJEQUFhLENBQUE7QUFDZCxDQUFDLEVBTFcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFLcEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBuYW1lIFxyXG4qL1xyXG5cdGV4cG9ydCBlbnVtIFNvY2tldFRhZyB7XHJcblx0XHRLU09DS0VUX09QRU4sXHJcblx0XHRLU09DS0VUX0NMT1NFLFxyXG5cdFx0S1NPQ0tFVF9NRVNTQUdFLFxyXG5cdFx0S1NPQ0tFVF9FUlJPUixcclxuXHR9XHQiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageHandler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'af7b1a7LUJIBaVXazyQWhWN', 'MessageHandler');
// framework/network/MessageHandler.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageHandler = void 0;
var Message_1 = require("./Message");
var MessageType_1 = require("./MessageType");
var MessageDispatch_1 = require("./MessageDispatch");
var MessageHandler = /** @class */ (function () {
    function MessageHandler(webSocket) {
        this._writeMessage = null;
        this._messages = null;
        this._messages = [];
        this._heartbeatTime = 0;
        this._writeMessage = [];
        this._webSocket = webSocket;
        this.setHeartbeatInterval(30); //30秒
        this._isEnableHeartbeat = false;
    }
    Object.defineProperty(MessageHandler.prototype, "enableHeartbeat", {
        get: function () {
            return this._isEnableHeartbeat;
        },
        set: function (flag) {
            this._isEnableHeartbeat = flag;
        },
        enumerable: false,
        configurable: true
    });
    MessageHandler.prototype.setHeartbeatInterval = function (time) {
        if (time <= 0)
            time = 1;
        this._heartbeatInterval = time * 1000;
    };
    MessageHandler.prototype.onUpdate = function (timeStamp) {
        if (this._writeMessage.length > 0) {
            var msg = this._writeMessage[0];
            var message = msg.pack();
            if (this._webSocket.readyState == WebSocket.OPEN) {
                console.log("size: " + message.byteLength);
                this._webSocket.send(message);
                this._writeMessage.shift();
            }
        }
        if (this._messages.length > 0) {
            var msg = this._messages.shift();
            this.dispatchMessage(msg);
        }
        if (this._isEnableHeartbeat)
            this.checkHeartbeat();
        return false;
    };
    MessageHandler.prototype.checkHeartbeat = function () {
        var diff = new Date().getTime() - this._heartbeatTime;
        if (diff >= this._heartbeatInterval) {
            this.sendMessage(new Message_1.Message(game.Command.Heartbeat));
            this._heartbeatTime = new Date().getTime();
        }
    };
    MessageHandler.prototype.dispatchMessage = function (msg) {
        var dispatch = MessageDispatch_1.MessageDispatch.getInstance();
        if (!dispatch.onMessage(msg)) {
            this._messages.push(msg);
        }
    };
    MessageHandler.prototype.dispatchSocket = function (type) {
        var obj = { type: type };
        this.dispatchMessage(obj);
    };
    MessageHandler.prototype.dispatch = function (type, msg) {
        var _this = this;
        if (type == MessageType_1.SocketTag.KSOCKET_OPEN) {
            // cc.director.getScheduler().unschedule(this.onUpdate,this)
            // cc.director.getScheduler().schedule(this.onUpdate,this,0);
            clearInterval(this.updateTimer);
            this.updateTimer = setInterval(function (dt) { return _this.onUpdate(dt); }, 1000 / 60);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_CLOSE) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_ERROR) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var obj = { type: type, msg: msg };
            this.dispatchMessage(obj);
        }
    };
    MessageHandler.prototype.clearWriteMessage = function () {
        this._writeMessage = [];
    };
    MessageHandler.prototype.clearMessage = function () {
        this._messages = [];
    };
    MessageHandler.prototype.sendMessage = function (msg) {
        this._writeMessage.push(msg);
    };
    return MessageHandler;
}());
exports.MessageHandler = MessageHandler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlSGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFDQUFvQztBQUNwQyw2Q0FBdUM7QUFDdkMscURBQWlEO0FBQ2pEO0lBUUMsd0JBQW1CLFNBQWM7UUFOekIsa0JBQWEsR0FBYyxJQUFJLENBQUM7UUFDaEMsY0FBUyxHQUFVLElBQUksQ0FBQztRQU0vQixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQSxLQUFLO1FBQ25DLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7SUFDakMsQ0FBQztJQUVELHNCQUFXLDJDQUFlO2FBSTFCO1lBQ0MsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDaEMsQ0FBQzthQU5ELFVBQTJCLElBQWE7WUFDdkMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztRQUNoQyxDQUFDOzs7T0FBQTtJQU1NLDZDQUFvQixHQUEzQixVQUE0QixJQUFZO1FBQ3ZDLElBQUcsSUFBSSxJQUFJLENBQUM7WUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFTyxpQ0FBUSxHQUFoQixVQUFpQixTQUFpQjtRQUNqQyxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztZQUNoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksT0FB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QUFHLEVBQUUsR0FBRyxFQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMxQjtJQUNGLENBQUM7SUFFTSwwQ0FBaUIsR0FBeEI7UUFDQyxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0scUNBQVksR0FBbkI7UUFDQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWTtRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQ0YscUJBQUM7QUFBRCxDQW5HQSxBQW1HQyxJQUFBO0FBbkdZLHdDQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuL01lc3NhZ2VcIjtcclxuaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcclxuaW1wb3J0IHtNZXNzYWdlRGlzcGF0Y2h9IGZyb20gXCIuL01lc3NhZ2VEaXNwYXRjaFwiXHJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlSGFuZGxlciB7XHJcblx0cHJpdmF0ZSBfd2ViU29ja2V0OiBXZWJTb2NrZXQ7XHJcblx0cHJpdmF0ZSBfd3JpdGVNZXNzYWdlOiBNZXNzYWdlW10gPSBudWxsO1xyXG5cdHByaXZhdGUgX21lc3NhZ2VzOiBhbnlbXSA9IG51bGw7XHJcblx0cHJpdmF0ZSBfaGVhcnRiZWF0SW50ZXJ2YWw6IG51bWJlcjtcclxuXHRwcml2YXRlIF9oZWFydGJlYXRUaW1lOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBfaXNFbmFibGVIZWFydGJlYXQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSB1cGRhdGVUaW1lcjpudW1iZXI7XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHdlYlNvY2tldDogYW55KXtcclxuXHRcdHRoaXMuX21lc3NhZ2VzID0gW107XHJcblx0XHR0aGlzLl9oZWFydGJlYXRUaW1lID0gMDtcclxuXHRcdHRoaXMuX3dyaXRlTWVzc2FnZSA9IFtdO1xyXG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gd2ViU29ja2V0O1xyXG5cdFx0dGhpcy5zZXRIZWFydGJlYXRJbnRlcnZhbCgzMCk7Ly8zMOenklxyXG5cdFx0dGhpcy5faXNFbmFibGVIZWFydGJlYXQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXQgZW5hYmxlSGVhcnRiZWF0KGZsYWc6IGJvb2xlYW4pe1xyXG5cdFx0dGhpcy5faXNFbmFibGVIZWFydGJlYXQgPSBmbGFnO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBlbmFibGVIZWFydGJlYXQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5faXNFbmFibGVIZWFydGJlYXQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0SGVhcnRiZWF0SW50ZXJ2YWwodGltZTogbnVtYmVyKXsvL+enklxyXG5cdFx0aWYodGltZSA8PSAwKSB0aW1lID0gMTtcclxuXHRcdHRoaXMuX2hlYXJ0YmVhdEludGVydmFsID0gdGltZSAqIDEwMDA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9uVXBkYXRlKHRpbWVTdGFtcDogbnVtYmVyKTogYm9vbGVhbntcclxuXHRcdGlmKHRoaXMuX3dyaXRlTWVzc2FnZS5sZW5ndGggPiAwKXtcclxuXHRcdFx0bGV0IG1zZyA9IHRoaXMuX3dyaXRlTWVzc2FnZVswXTtcclxuXHRcdFx0bGV0IG1lc3NhZ2UgPSBtc2cucGFjaygpO1xyXG5cdFx0XHRpZih0aGlzLl93ZWJTb2NrZXQucmVhZHlTdGF0ZSA9PSBXZWJTb2NrZXQuT1BFTil7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJzaXplOiBcIiArIG1lc3NhZ2UuYnl0ZUxlbmd0aCk7XHJcblx0XHRcdFx0dGhpcy5fd2ViU29ja2V0LnNlbmQobWVzc2FnZSk7XHJcblx0XHRcdFx0dGhpcy5fd3JpdGVNZXNzYWdlLnNoaWZ0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKHRoaXMuX21lc3NhZ2VzLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRsZXQgbXNnID0gdGhpcy5fbWVzc2FnZXMuc2hpZnQoKTtcclxuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2UobXNnKTtcclxuXHRcdH1cclxuXHRcdGlmKHRoaXMuX2lzRW5hYmxlSGVhcnRiZWF0KVxyXG5cdFx0XHR0aGlzLmNoZWNrSGVhcnRiZWF0KCk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNoZWNrSGVhcnRiZWF0KCl7XHJcblx0XHRsZXQgZGlmZiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5faGVhcnRiZWF0VGltZTtcclxuXHRcdGlmKCBkaWZmID49IHRoaXMuX2hlYXJ0YmVhdEludGVydmFsKXtcclxuXHRcdFx0dGhpcy5zZW5kTWVzc2FnZShuZXcgTWVzc2FnZShnYW1lLkNvbW1hbmQuSGVhcnRiZWF0KSk7XHJcblx0XHRcdHRoaXMuX2hlYXJ0YmVhdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBkaXNwYXRjaE1lc3NhZ2UobXNnOiBhbnkpe1xyXG5cdFx0bGV0IGRpc3BhdGNoID0gTWVzc2FnZURpc3BhdGNoLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZighZGlzcGF0Y2gub25NZXNzYWdlKG1zZykpIHtcclxuXHRcdFx0dGhpcy5fbWVzc2FnZXMucHVzaChtc2cpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkaXNwYXRjaFNvY2tldCh0eXBlOiBTb2NrZXRUYWcpe1xyXG5cdFx0bGV0IG9iaiA9IHt0eXBlOiB0eXBlfTtcclxuXHRcdHRoaXMuZGlzcGF0Y2hNZXNzYWdlKG9iaik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZGlzcGF0Y2godHlwZTogU29ja2V0VGFnLCBtc2c6IGFueSl7XHJcblx0XHRpZih0eXBlID09IFNvY2tldFRhZy5LU09DS0VUX09QRU4pe1xyXG5cdFx0XHQvLyBjYy5kaXJlY3Rvci5nZXRTY2hlZHVsZXIoKS51bnNjaGVkdWxlKHRoaXMub25VcGRhdGUsdGhpcylcclxuXHRcdFx0Ly8gY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUodGhpcy5vblVwZGF0ZSx0aGlzLDApO1xyXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMudXBkYXRlVGltZXIpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVRpbWVyID0gc2V0SW50ZXJ2YWwoZHQ9PnRoaXMub25VcGRhdGUoZHQpLCAxMDAwLzYwKTtcclxuXHRcdFx0dGhpcy5kaXNwYXRjaFNvY2tldCh0eXBlKTtcclxuXHRcdH1lbHNlIGlmKHR5cGUgPT0gU29ja2V0VGFnLktTT0NLRVRfQ0xPU0Upe1xyXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMudXBkYXRlVGltZXIpO1xyXG5cdFx0XHR0aGlzLmRpc3BhdGNoU29ja2V0KHR5cGUpO1xyXG5cdFx0fWVsc2UgaWYodHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9FUlJPUil7XHJcblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lcik7XHJcblx0XHRcdHRoaXMuZGlzcGF0Y2hTb2NrZXQodHlwZSk7XHJcblx0XHR9ZWxzZSBpZih0eXBlID09IFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0Upe1xyXG5cdFx0XHRsZXQgb2JqID0ge3R5cGU6IHR5cGUsIG1zZzogbXNnfTtcclxuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2Uob2JqKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjbGVhcldyaXRlTWVzc2FnZSgpe1xyXG5cdFx0dGhpcy5fd3JpdGVNZXNzYWdlID0gW107XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY2xlYXJNZXNzYWdlKCl7XHJcblx0XHR0aGlzLl9tZXNzYWdlcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNlbmRNZXNzYWdlKG1zZzogTWVzc2FnZSl7XHJcblx0XHR0aGlzLl93cml0ZU1lc3NhZ2UucHVzaChtc2cpO1xyXG5cdH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Info.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '894ddeHxZNOMqD6BW+YheZr', 'Info');
// Game/Scripts/Info.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.UserInfo = exports.ChoiceType = void 0;
var DataCenter_1 = require("../../framework/plugin_boosts/misc/DataCenter");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var Platform_1 = require("../../framework/Platform");
var MoreGameManager_1 = require("../../framework/wxsdk/MoreGameManager");
var ChoiceType;
(function (ChoiceType) {
    ChoiceType[ChoiceType["DailyGet"] = 0] = "DailyGet";
    ChoiceType[ChoiceType["Levelup"] = 1] = "Levelup";
    ChoiceType[ChoiceType["Get"] = 2] = "Get";
    ChoiceType[ChoiceType["Shop"] = 3] = "Shop";
    ChoiceType[ChoiceType["BannerAdRefresh"] = 4] = "BannerAdRefresh";
    ChoiceType[ChoiceType["HB"] = 5] = "HB";
})(ChoiceType = exports.ChoiceType || (exports.ChoiceType = {}));
var UserInfoClass = /** @class */ (function (_super) {
    __extends(UserInfoClass, _super);
    function UserInfoClass() {
        var _this = _super.call(this) || this;
        _this.choices = [];
        _this.version = "6";
        _this.level = 1;
        _this.selectedSkin = "2";
        _this.dailyGetTime = new Date(2018, 1, 1).getTime();
        _this.freedrawTime = _this.dailyGetTime;
        _this.luckyVideoWatchTime = _this.dailyGetTime;
        _this.shopFreeDiamondTime = _this.dailyGetTime;
        _this.diamond = 0;
        _this.sfx_enabled = true;
        _this.firstTimeReach = false;
        _this.luckyVideoWatchCount = 0;
        _this.timePassed = 0;
        _this.stepUsed = 0;
        _this.currentLevel = 1;
        _this.unlock(_this.selectedSkin);
        setTimeout(function () {
            _this.save();
        }, 60 * 1000);
        return _this;
        // onexit game =>save
    }
    // ret: 0:directly-get 1:share 2:video
    UserInfoClass.prototype.getChoice = function (slotId) {
        return this.choices[slotId] || 0;
    };
    UserInfoClass.prototype.init = function () {
        Platform_1.default.configGetSignal.on(this.onGetConfig, this);
        Platform_1.default.requestServerConfigs("t_games", this.onGetGames, this);
    };
    UserInfoClass.prototype.onGetGames = function (data) {
        MoreGameManager_1.default.instance.addList(data);
    };
    UserInfoClass.prototype.onGetConfig = function (data) {
        if (data) {
            var record = data[0];
            if (record) {
                this.choices = JSON.parse(record[this.version]);
            }
        }
        Platform_1.default.initBannerAd(this.getChoice(ChoiceType.BannerAdRefresh));
    };
    UserInfoClass.prototype.addDiamond = function (d, b) {
        if (b === void 0) { b = true; }
        if (typeof (d) == "number")
            this.diamond += d;
        else
            this.diamond += parseInt(d);
        if (b) {
            ToastManager_1.Toast.make("获得钻石 x" + d);
            Device_1.default.playEffect(Res_1.R.audio_get_diamond);
        }
        if (!this.firstTimeReach) {
            if (this.diamond >= 500) {
                ToastManager_1.Toast.make("哇可以买皮肤了，快去皮肤商店看看吧!", 2);
                this.firstTimeReach = true;
                exports.UserInfo.save();
            }
        }
    };
    UserInfoClass.prototype.isUnlock = function (skin_id) {
        var carUnlocked = localStorage.getItem("unlocked_" + skin_id);
        if (!carUnlocked) {
            return false;
        }
        else {
            return carUnlocked == "1";
        }
    };
    UserInfoClass.prototype.isAllUnlocked = function () {
        var c = 0;
        for (var i = 0; i < Res_1.R.skinConfig.json.length; i++) {
            var v = Res_1.R.skinConfig.json[i];
            if (exports.UserInfo.isUnlock(v.id)) {
                c++;
            }
        }
        return c == Res_1.R.skinConfig.json.length;
    };
    UserInfoClass.prototype.getSkinById = function (id) {
        var res = Res_1.R.skinConfig.json.filter(function (v) { return v.id == id; });
        return res[0];
    };
    UserInfoClass.prototype.unlock = function (skin_id) {
        localStorage.setItem("unlocked_" + skin_id, "1");
    };
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "level", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "selectedSkin", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "dailyGetTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "freedrawTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "shopFreeDiamondTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "diamond", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "sfx_enabled", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "firstTimeReach", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchCount", void 0);
    UserInfoClass = __decorate([
        DataCenter_1.dc("Info")
    ], UserInfoClass);
    return UserInfoClass;
}(DataCenter_1.default));
exports.default = UserInfoClass;
exports.UserInfo = DataCenter_1.default.register(UserInfoClass);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcSW5mby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDRFQUFzRjtBQUN0Riw0Q0FBeUM7QUFDekMsOEVBQXNFO0FBQ3RFLHVFQUFrRTtBQUNsRSxxREFBZ0Q7QUFDaEQseUVBQW9FO0FBR3BFLElBQVksVUFPWDtBQVBELFdBQVksVUFBVTtJQUNsQixtREFBUSxDQUFBO0lBQ1IsaURBQU8sQ0FBQTtJQUNQLHlDQUFHLENBQUE7SUFDSCwyQ0FBSSxDQUFBO0lBQ0osaUVBQWUsQ0FBQTtJQUNmLHVDQUFFLENBQUE7QUFDTixDQUFDLEVBUFcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFPckI7QUFHRDtJQUEyQyxpQ0FBVTtJQXdGakQ7UUFBQSxZQUVJLGlCQUFPLFNBTVY7UUE5RkQsYUFBTyxHQUFNLEVBQUUsQ0FBQTtRQUNmLGFBQU8sR0FBVSxHQUFHLENBQUM7UUFnQ3JCLFdBQUssR0FBVSxDQUFDLENBQUM7UUFHakIsa0JBQVksR0FBVSxHQUFHLENBQUM7UUFHMUIsa0JBQVksR0FBVyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR3BELGtCQUFZLEdBQVUsS0FBSSxDQUFDLFlBQVksQ0FBQztRQUd4Qyx5QkFBbUIsR0FBVSxLQUFJLENBQUMsWUFBWSxDQUFBO1FBRzlDLHlCQUFtQixHQUFVLEtBQUksQ0FBQyxZQUFZLENBQUM7UUFHL0MsYUFBTyxHQUFVLENBQUMsQ0FBQztRQUduQixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUczQixvQkFBYyxHQUFXLEtBQUssQ0FBQztRQUcvQiwwQkFBb0IsR0FBVSxDQUFDLENBQUM7UUFDaEMsZ0JBQVUsR0FBVyxDQUFDLENBQUM7UUFDdkIsY0FBUSxHQUFXLENBQUMsQ0FBQztRQXNCckIsa0JBQVksR0FBVSxDQUFDLENBQUM7UUFLcEIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDL0IsVUFBVSxDQUFDO1lBQ1AsS0FBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hCLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUE7O1FBQ2IscUJBQXFCO0lBQ3pCLENBQUM7SUE1RkQsc0NBQXNDO0lBQ3RDLGlDQUFTLEdBQVQsVUFBVSxNQUFNO1FBRVosT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsNEJBQUksR0FBSjtRQUVJLGtCQUFRLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25ELGtCQUFRLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUVELGtDQUFVLEdBQVYsVUFBVyxJQUFJO1FBRVgseUJBQWUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxtQ0FBVyxHQUFYLFVBQVksSUFBSTtRQUVaLElBQUcsSUFBSSxFQUNQO1lBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3BCLElBQUcsTUFBTSxFQUNUO2dCQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7YUFDbEQ7U0FDSjtRQUNELGtCQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUE7SUFDckUsQ0FBQztJQWtDRCxrQ0FBVSxHQUFWLFVBQVcsQ0FBQyxFQUFDLENBQVE7UUFBUixrQkFBQSxFQUFBLFFBQVE7UUFFakIsSUFBRyxPQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUTtZQUFFLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDOztZQUN2QyxJQUFJLENBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFHLENBQUMsRUFDSjtZQUNJLG9CQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQTtZQUN4QixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUMxQztRQUNELElBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUN2QjtZQUNJLElBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxHQUFHLEVBQ3RCO2dCQUNJLG9CQUFLLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFDLENBQUMsQ0FBQyxDQUFBO2dCQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQTtnQkFDMUIsZ0JBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQWNELGdDQUFRLEdBQVIsVUFBUyxPQUFPO1FBRVosSUFBSSxXQUFXLEdBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0QsSUFBRyxDQUFDLFdBQVcsRUFDZjtZQUNJLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7YUFDRDtZQUNJLE9BQU8sV0FBVyxJQUFJLEdBQUcsQ0FBQTtTQUM1QjtJQUNMLENBQUM7SUFFRCxxQ0FBYSxHQUFiO1FBRUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLE9BQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFDOUM7WUFDSSxJQUFJLENBQUMsR0FBRyxPQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUM1QixJQUFHLGdCQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFDMUI7Z0JBQ0ksQ0FBQyxFQUFHLENBQUE7YUFDUDtTQUNKO1FBQ0QsT0FBTyxDQUFDLElBQUksT0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFBO0lBQ3hDLENBQUM7SUFHRCxtQ0FBVyxHQUFYLFVBQVksRUFBTztRQUNmLElBQUksR0FBRyxHQUFHLE9BQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUMsSUFBRyxPQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFBLENBQUEsQ0FBQyxDQUFDLENBQUM7UUFDM0QsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDakIsQ0FBQztJQUdELDhCQUFNLEdBQU4sVUFBTyxPQUFPO1FBRVYsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUMsT0FBTyxFQUFHLEdBQUcsQ0FBQyxDQUFBO0lBQ25ELENBQUM7SUFuR0Q7UUFEQyxrQkFBSyxFQUFFO2dEQUNTO0lBR2pCO1FBREMsa0JBQUssRUFBRTt1REFDa0I7SUFHMUI7UUFEQyxrQkFBSyxFQUFFO3VEQUM0QztJQUdwRDtRQURDLGtCQUFLLEVBQUU7dURBQ2dDO0lBR3hDO1FBREMsa0JBQUssRUFBRTs4REFDc0M7SUFHOUM7UUFEQyxrQkFBSyxFQUFFOzhEQUN1QztJQUcvQztRQURDLGtCQUFLLEVBQUU7a0RBQ1c7SUFHbkI7UUFEQyxrQkFBSyxFQUFFO3NEQUNtQjtJQUczQjtRQURDLGtCQUFLLEVBQUU7eURBQ3VCO0lBRy9CO1FBREMsa0JBQUssRUFBRTsrREFDd0I7SUE5RGYsYUFBYTtRQURqQyxlQUFFLENBQUMsTUFBTSxDQUFDO09BQ1UsYUFBYSxDQXdJakM7SUFBRCxvQkFBQztDQXhJRCxBQXdJQyxDQXhJMEMsb0JBQVUsR0F3SXBEO2tCQXhJb0IsYUFBYTtBQXlJdkIsUUFBQSxRQUFRLEdBQWlCLG9CQUFVLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFDZW50ZXIsIHsgZGMsIGZpZWxkIH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvRGF0YUNlbnRlclwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XHJcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xyXG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgTW9yZUdhbWVNYW5hZ2VyIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvd3hzZGsvTW9yZUdhbWVNYW5hZ2VyXCI7XHJcblxyXG5cclxuZXhwb3J0IGVudW0gQ2hvaWNlVHlwZSAge1xyXG4gICAgRGFpbHlHZXQsXHJcbiAgICBMZXZlbHVwLFxyXG4gICAgR2V0LFxyXG4gICAgU2hvcCxcclxuICAgIEJhbm5lckFkUmVmcmVzaCxcclxuICAgIEhCLFxyXG59XHJcblxyXG5AZGMoXCJJbmZvXCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvQ2xhc3MgZXh0ZW5kcyBEYXRhQ2VudGVyXHJcbntcclxuICAgIGNob2ljZXM6W10gPSBbXVxyXG4gICAgdmVyc2lvbjpzdHJpbmcgPSBcIjZcIjtcclxuICAgIC8vIHJldDogMDpkaXJlY3RseS1nZXQgMTpzaGFyZSAyOnZpZGVvXHJcbiAgICBnZXRDaG9pY2Uoc2xvdElkKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNob2ljZXNbc2xvdElkXSB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKVxyXG4gICAge1xyXG4gICAgICAgIFBsYXRmb3JtLmNvbmZpZ0dldFNpZ25hbC5vbih0aGlzLm9uR2V0Q29uZmlnLHRoaXMpO1xyXG4gICAgICAgIFBsYXRmb3JtLnJlcXVlc3RTZXJ2ZXJDb25maWdzKFwidF9nYW1lc1wiLHRoaXMub25HZXRHYW1lcyx0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIG9uR2V0R2FtZXMoZGF0YSlcclxuICAgIHtcclxuICAgICAgICBNb3JlR2FtZU1hbmFnZXIuaW5zdGFuY2UuYWRkTGlzdChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkdldENvbmZpZyhkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gZGF0YVswXVxyXG4gICAgICAgICAgICBpZihyZWNvcmQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hvaWNlcyA9IEpTT04ucGFyc2UocmVjb3JkW3RoaXMudmVyc2lvbl0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFBsYXRmb3JtLmluaXRCYW5uZXJBZCh0aGlzLmdldENob2ljZShDaG9pY2VUeXBlLkJhbm5lckFkUmVmcmVzaCkpXHJcbiAgICB9XHJcblxyXG4gICAgQGZpZWxkKClcclxuICAgIGxldmVsOm51bWJlciA9IDE7XHJcblxyXG4gICAgQGZpZWxkKClcclxuICAgIHNlbGVjdGVkU2tpbjpzdHJpbmcgPSBcIjJcIjtcclxuXHJcbiAgICBAZmllbGQoKVxyXG4gICAgZGFpbHlHZXRUaW1lOm51bWJlciA9ICBuZXcgRGF0ZSgyMDE4LDEsMSkuZ2V0VGltZSgpO1xyXG5cclxuICAgIEBmaWVsZCgpXHJcbiAgICBmcmVlZHJhd1RpbWU6bnVtYmVyID0gdGhpcy5kYWlseUdldFRpbWU7XHJcblxyXG4gICAgQGZpZWxkKClcclxuICAgIGx1Y2t5VmlkZW9XYXRjaFRpbWU6bnVtYmVyID0gdGhpcy5kYWlseUdldFRpbWVcclxuXHJcbiAgICBAZmllbGQoKVxyXG4gICAgc2hvcEZyZWVEaWFtb25kVGltZTpudW1iZXIgPSB0aGlzLmRhaWx5R2V0VGltZTtcclxuXHJcbiAgICBAZmllbGQoKVxyXG4gICAgZGlhbW9uZDpudW1iZXIgPSAwO1xyXG5cclxuICAgIEBmaWVsZCgpXHJcbiAgICBzZnhfZW5hYmxlZDpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBAZmllbGQoKVxyXG4gICAgZmlyc3RUaW1lUmVhY2g6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIEBmaWVsZCgpXHJcbiAgICBsdWNreVZpZGVvV2F0Y2hDb3VudDpudW1iZXIgPSAwO1xyXG4gICAgdGltZVBhc3NlZDogbnVtYmVyID0gMDtcclxuICAgIHN0ZXBVc2VkOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGFkZERpYW1vbmQoZCxiID0gdHJ1ZSlcclxuICAgIHtcclxuICAgICAgICBpZih0eXBlb2YoZCkgPT0gXCJudW1iZXJcIikgdGhpcy5kaWFtb25kICs9IGQ7XHJcbiAgICAgICAgZWxzZSB0aGlzLmRpYW1vbmQgKz0gcGFyc2VJbnQoZCk7XHJcbiAgICAgICAgaWYoYilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLojrflvpfpkrvnn7MgeFwiICsgZClcclxuICAgICAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19nZXRfZGlhbW9uZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCF0aGlzLmZpcnN0VGltZVJlYWNoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5kaWFtb25kID49IDUwMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIuWTh+WPr+S7peS5sOearuiCpOS6hu+8jOW/q+WOu+earuiCpOWVhuW6l+eci+eci+WQpyFcIiwyKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFRpbWVSZWFjaCA9IHRydWVcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjdXJyZW50TGV2ZWw6bnVtYmVyID0gMTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnVubG9jayh0aGlzLnNlbGVjdGVkU2tpbik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnNhdmUoKTtcclxuICAgICAgICB9LCA2MCAqIDEwMDApXHJcbiAgICAgICAgLy8gb25leGl0IGdhbWUgPT5zYXZlXHJcbiAgICB9XHJcblxyXG4gICAgaXNVbmxvY2soc2tpbl9pZClcclxuICAgIHtcclxuICAgICAgICBsZXQgY2FyVW5sb2NrZWQgPSAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1bmxvY2tlZF9cIitza2luX2lkKTtcclxuICAgICAgICBpZighY2FyVW5sb2NrZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhclVubG9ja2VkID09IFwiMVwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzQWxsVW5sb2NrZWQoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBjID0gMDtcclxuICAgICAgICBmb3IodmFyIGkgPSAwIDtpIDxSLnNraW5Db25maWcuanNvbi5sZW5ndGg7aSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBSLnNraW5Db25maWcuanNvbltpXVxyXG4gICAgICAgICAgICBpZihVc2VySW5mby5pc1VubG9jayh2LmlkKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYyArK1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgIFxyXG4gICAgICAgIHJldHVybiBjID09IFIuc2tpbkNvbmZpZy5qc29uLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRTa2luQnlJZChpZDogYW55KTogYW55IHtcclxuICAgICAgICBsZXQgcmVzID0gUi5za2luQ29uZmlnLmpzb24uZmlsdGVyKHY9PntyZXR1cm4gdi5pZCA9PSBpZH0pO1xyXG4gICAgICAgIHJldHVybiByZXNbMF1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdW5sb2NrKHNraW5faWQpXHJcbiAgICB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1bmxvY2tlZF9cIitza2luX2lkICwgXCIxXCIpXHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydCB2YXIgVXNlckluZm86VXNlckluZm9DbGFzcyA9IERhdGFDZW50ZXIucmVnaXN0ZXIoVXNlckluZm9DbGFzcykiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/MoreGameStyle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '583d3QfyxhKU6/QqcEwAh29', 'MoreGameStyle');
// framework/wxsdk/MoreGameStyle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MoreGameComponent_1 = require("./MoreGameComponent");
//小游戏跳转
//https://developers.weixin.qq.com/miniprogram/dev/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html?search-key=navigateToMiniProgram
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MoreGameStyle = /** @class */ (function (_super) {
    __extends(MoreGameStyle, _super);
    function MoreGameStyle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icons = [];
        _this.buttons = [];
        _this.labels = [];
        _this.datas = [];
        return _this;
        // update (dt) {}
    }
    Object.defineProperty(MoreGameStyle.prototype, "count", {
        get: function () {
            return this.icons.length;
        },
        enumerable: false,
        configurable: true
    });
    MoreGameStyle.prototype.onLoad = function () {
        for (var i = 0; i < this.buttons.length; i++) {
            var btn = this.buttons[i];
            var eventHandler = new cc.Component.EventHandler();
            eventHandler.target = this.node;
            eventHandler.component = "MoreGameStyle";
            eventHandler.handler = "onClick";
            eventHandler.customEventData = i + "";
            btn.clickEvents.push(eventHandler);
            this.labels[i].node.active = false;
            this.icons[i].node.active = false;
            btn.interactable = false;
        }
    };
    MoreGameStyle.prototype.onClick = function (sender, data) {
        var i = Number(data);
        var list = this.list;
        var task = list[i];
        this.manager.clickGame(task.gameConfig);
    };
    MoreGameStyle.prototype.onShow = function () {
        var list = this.list;
        var _loop_1 = function () {
            var task = list[i];
            var icon = this_1.icons[i];
            if (task) {
                var label = this_1.labels[i];
                label.string = task.gameConfig.title;
                this_1.labels[i].node.active = true;
                icon.node.active = true;
                this_1.buttons[i].interactable = true;
                this_1.manager.getSpriteFrame(task.gameConfig.icon).then(function (sf) {
                    icon.spriteFrame = sf;
                });
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.icons.length; i++) {
            _loop_1();
        }
    };
    __decorate([
        property([cc.Sprite])
    ], MoreGameStyle.prototype, "icons", void 0);
    __decorate([
        property([cc.Button])
    ], MoreGameStyle.prototype, "buttons", void 0);
    __decorate([
        property([cc.Label])
    ], MoreGameStyle.prototype, "labels", void 0);
    MoreGameStyle = __decorate([
        ccclass
    ], MoreGameStyle);
    return MoreGameStyle;
}(MoreGameComponent_1.default));
exports.default = MoreGameStyle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcTW9yZUdhbWVTdHlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseURBQW9EO0FBRXBELE9BQU87QUFDUCx1SkFBdUo7QUFFakosSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQWlCO0lBQTVEO1FBQUEscUVBbUVDO1FBaEVHLFdBQUssR0FBZSxFQUFFLENBQUE7UUFHdEIsYUFBTyxHQUFlLEVBQUUsQ0FBQTtRQUd4QixZQUFNLEdBQWMsRUFBRSxDQUFBO1FBRXRCLFdBQUssR0FBVSxFQUFFLENBQUE7O1FBdURqQixpQkFBaUI7SUFDckIsQ0FBQztJQXRERyxzQkFBSSxnQ0FBSzthQUFUO1lBRUksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQUVELDhCQUFNLEdBQU47UUFFSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQzNDO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUN6QixJQUFJLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDbkQsWUFBWSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2hDLFlBQVksQ0FBQyxTQUFTLEdBQUcsZUFBZSxDQUFBO1lBQ3hDLFlBQVksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFBO1lBQ2hDLFlBQVksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxHQUFFLEVBQUUsQ0FBQztZQUNyQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDbEMsR0FBRyxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBR0QsK0JBQU8sR0FBUCxVQUFRLE1BQU0sRUFBQyxJQUFXO1FBRXRCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNwQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFBO1FBQ3BCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUdELDhCQUFNLEdBQU47UUFFSSxJQUFJLElBQUksR0FBVSxJQUFJLENBQUMsSUFBSSxDQUFDOztZQUd4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxJQUFJLEdBQUcsT0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDeEIsSUFBRyxJQUFJLEVBQ1A7Z0JBQ0ksSUFBSSxLQUFLLEdBQUcsT0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzFCLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUE7Z0JBQ3BDLE9BQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO2dCQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQ3hCLE9BQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUE7Z0JBQ25DLE9BQUssT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEVBQUU7b0JBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO2dCQUMxQixDQUFDLENBQUMsQ0FBQTthQUVMOzs7UUFmTCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFOztTQWdCeEM7SUFDTCxDQUFDO0lBOUREO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dEQUNBO0lBR3RCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2tEQUNFO0lBR3hCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lEQUNDO0lBVEwsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQW1FakM7SUFBRCxvQkFBQztDQW5FRCxBQW1FQyxDQW5FMEMsMkJBQWlCLEdBbUUzRDtrQkFuRW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYW1lQ29uZmlnIH0gZnJvbSBcIi4vR2FtZUNvbmZpZ3NcIjtcclxuaW1wb3J0IE1vcmVHYW1lQ29tcG9uZW50IGZyb20gXCIuL01vcmVHYW1lQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi9Nb3JlR2FtZU1hbmFnZXJcIjtcclxuLy/lsI/muLjmiI/ot7PovaxcclxuLy9odHRwczovL2RldmVsb3BlcnMud2VpeGluLnFxLmNvbS9taW5pcHJvZ3JhbS9kZXYvZGV2L2FwaS9vcGVuLWFwaS9taW5pcHJvZ3JhbS1uYXZpZ2F0ZS93eC5uYXZpZ2F0ZVRvTWluaVByb2dyYW0uaHRtbD9zZWFyY2gta2V5PW5hdmlnYXRlVG9NaW5pUHJvZ3JhbVxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JlR2FtZVN0eWxlIGV4dGVuZHMgTW9yZUdhbWVDb21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShbY2MuU3ByaXRlXSlcclxuICAgIGljb25zOmNjLlNwcml0ZVtdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLkJ1dHRvbl0pXHJcbiAgICBidXR0b25zOmNjLkJ1dHRvbltdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLkxhYmVsXSlcclxuICAgIGxhYmVsczpjYy5MYWJlbFtdID0gW11cclxuXHJcbiAgICBkYXRhczphbnlbXSAgPSBbXVxyXG5cclxuICAgIGdldCBjb3VudCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbnMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCB0aGlzLmJ1dHRvbnMubGVuZ3RoO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBidG4gPSB0aGlzLmJ1dHRvbnNbaV1cclxuICAgICAgICAgICAgbGV0IGV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci50YXJnZXQgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5jb21wb25lbnQgPSBcIk1vcmVHYW1lU3R5bGVcIlxyXG4gICAgICAgICAgICBldmVudEhhbmRsZXIuaGFuZGxlciA9IFwib25DbGlja1wiXHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5jdXN0b21FdmVudERhdGEgPSBpICtcIlwiO1xyXG4gICAgICAgICAgICBidG4uY2xpY2tFdmVudHMucHVzaChldmVudEhhbmRsZXIpXHJcbiAgICAgICAgICAgIHRoaXMubGFiZWxzW2ldLm5vZGUuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5pY29uc1tpXS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBidG4uaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25DbGljayhzZW5kZXIsZGF0YTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGkgPSBOdW1iZXIoZGF0YSlcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdFxyXG4gICAgICAgIGxldCB0YXNrID0gbGlzdFtpXVxyXG4gICAgICAgIHRoaXMubWFuYWdlci5jbGlja0dhbWUodGFzay5nYW1lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25TaG93KClcclxuICAgIHtcclxuICAgICAgICBsZXQgbGlzdDpUYXNrW10gPSB0aGlzLmxpc3Q7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCB0aGlzLmljb25zLmxlbmd0aDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdGFzayA9IGxpc3RbaV07XHJcbiAgICAgICAgICAgIGxldCBpY29uID0gdGhpcy5pY29uc1tpXVxyXG4gICAgICAgICAgICBpZih0YXNrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmxhYmVsc1tpXVxyXG4gICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gdGFzay5nYW1lQ29uZmlnLnRpdGxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsc1tpXS5ub2RlLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgIGljb24ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25zW2ldLmludGVyYWN0YWJsZSA9IHRydWVcclxuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5nZXRTcHJpdGVGcmFtZSh0YXNrLmdhbWVDb25maWcuaWNvbikudGhlbihzZj0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGljb24uc3ByaXRlRnJhbWUgPSBzZjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/GameConfigs.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ff8cbMXJFLVaQF1Sqnm6gc', 'GameConfigs');
// framework/wxsdk/GameConfigs.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.GameConfig = void 0;
exports.GameConfig = {
    game_id: "animalines",
    wx_appid: "wxbcc31e8a2b24cb41",
    default_share_title: "最萌动物连连看",
    deafult_share_imgUrl: "resources/wechat_share.jpg"
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcR2FtZUNvbmZpZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFVyxRQUFBLFVBQVUsR0FBRztJQUNwQixPQUFPLEVBQUMsWUFBWTtJQUNwQixRQUFRLEVBQUMsb0JBQW9CO0lBQzdCLG1CQUFtQixFQUFDLFNBQVM7SUFDN0Isb0JBQW9CLEVBQUMsNEJBQTRCO0NBRXBELENBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YUNlbnRlciwgeyBkYywgZmllbGQgfSBmcm9tIFwiLi4vcGx1Z2luX2Jvb3N0cy9taXNjL0RhdGFDZW50ZXJcIjtcclxuXHJcbmV4cG9ydCB2YXIgR2FtZUNvbmZpZyA9IHtcclxuICAgIGdhbWVfaWQ6XCJhbmltYWxpbmVzXCIsXHJcbiAgICB3eF9hcHBpZDpcInd4YmNjMzFlOGEyYjI0Y2I0MVwiLFxyXG4gICAgZGVmYXVsdF9zaGFyZV90aXRsZTpcIuacgOiQjOWKqOeJqei/nui/nueci1wiLFxyXG4gICAgZGVhZnVsdF9zaGFyZV9pbWdVcmw6XCJyZXNvdXJjZXMvd2VjaGF0X3NoYXJlLmpwZ1wiXHJcblxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/WxRankDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '80fd3Nn4dFF45QylMONs3ro', 'WxRankDialog');
// framework/wxsdk/WxRankDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../Platform");
var View_1 = require("../plugin_boosts/ui/View");
var ViewManager_1 = require("../plugin_boosts/ui/ViewManager");
var Signal_1 = require("../plugin_boosts/misc/Signal");
var LanguageManager_1 = require("../../Game/Scripts/LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WxRankDialog = /** @class */ (function (_super) {
    __extends(WxRankDialog, _super);
    function WxRankDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.closeLabel = null;
        _this.titleLabel = null;
        _this.first = true;
        _this.closeSignal = new Signal_1.default();
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 20;
        _this.eng_FontSize = 20;
        return _this;
    }
    WxRankDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Đóng cửa", "Hạng         Cấp         Tên");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Closure", "Rank         Level         Name");
                this.set_label_FontSize(this.eng_FontSize);
                break;
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("关闭", "秩         等级         姓名");
                this.set_label_FontSize(this.ch_FontSize);
                break;
        }
    };
    WxRankDialog.prototype.set_label_lang = function (closeLabelString, titleLabelString) {
        this.closeLabel.string = closeLabelString;
        this.titleLabel.string = titleLabelString;
    };
    WxRankDialog.prototype.set_label_FontSize = function (fontSize) {
        this.closeLabel.fontSize = fontSize;
    };
    WxRankDialog.prototype.onShown = function (callback, target) {
        this.closeSignal.on(callback, target);
        if (this.first) {
            this.scheduleOnce(this.reOpen, 0.1);
        }
        else {
            Platform_1.default.showRank();
        }
    };
    WxRankDialog.prototype.reOpen = function () {
        Platform_1.default.showRank();
        this.first = false;
        this.getComponent(View_1.default).hide();
        // setTimeout(() => {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
        // }, 100);
    };
    WxRankDialog.prototype.click_close = function () {
        Platform_1.default.hideRank();
        this.getComponent(View_1.default).hide();
        this.closeSignal.fire();
    };
    __decorate([
        property(cc.Label)
    ], WxRankDialog.prototype, "closeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WxRankDialog.prototype, "titleLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WxRankDialog.prototype, "eng_FontSize", void 0);
    WxRankDialog = __decorate([
        ccclass
    ], WxRankDialog);
    return WxRankDialog;
}(cc.Component));
exports.default = WxRankDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcV3hSYW5rRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQyx3Q0FBbUM7QUFDcEMsaURBQTRDO0FBQzVDLCtEQUEwRDtBQUUxRCx1REFBa0Q7QUFDbEQsc0VBQW1GO0FBRzdFLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTBDLGdDQUFZO0lBQXREO1FBQUEscUVBcUZDO1FBbEZHLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRTVCLFdBQUssR0FBVyxJQUFJLENBQUM7UUFFckIsaUJBQVcsR0FBRyxJQUFJLGdCQUFNLEVBQUUsQ0FBQztRQUczQixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQzs7SUFvRTlCLENBQUM7SUFsRUcsK0JBQVEsR0FBUjtRQUNJLFFBQVEseUJBQWUsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFO1lBQzlDLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUNmLFVBQVUsRUFDViw4QkFBOEIsQ0FDakMsQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUMxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQ2YsU0FBUyxFQUNULGlDQUFpQyxDQUNwQyxDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBRTNDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FDZixJQUFJLEVBQ0oseUJBQXlCLENBQzVCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVELHFDQUFjLEdBQWQsVUFDSSxnQkFBd0IsRUFDeEIsZ0JBQXdCO1FBRXhCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO0lBQzlDLENBQUM7SUFFRCx5Q0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3hDLENBQUM7SUFFRCw4QkFBTyxHQUFQLFVBQVEsUUFBUSxFQUFDLE1BQU07UUFDbkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3BDLElBQUcsSUFBSSxDQUFDLEtBQUssRUFDYjtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtTQUNyQzthQUFJO1lBQ0Qsa0JBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUN2QjtJQUVMLENBQUM7SUFFRCw2QkFBTSxHQUFOO1FBRUksa0JBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQy9CLHFCQUFxQjtRQUNqQixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQTtRQUNwRCxXQUFXO0lBQ2YsQ0FBQztJQUVELGtDQUFXLEdBQVg7UUFFSSxrQkFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBakZEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7b0RBQ1M7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDUztJQU81QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7cURBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO3FEQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztzREFDTDtJQWpCVCxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBcUZoQztJQUFELG1CQUFDO0NBckZELEFBcUZDLENBckZ5QyxFQUFFLENBQUMsU0FBUyxHQXFGckQ7a0JBckZvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsi77u/aW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XHJcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgQ29tbW9uIGZyb20gXCIuLi9wbHVnaW5fYm9vc3RzL3V0aWxzL0NvbW1vblwiO1xyXG5pbXBvcnQgU2lnbmFsIGZyb20gXCIuLi9wbHVnaW5fYm9vc3RzL21pc2MvU2lnbmFsXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uLy4uL0dhbWUvU2NyaXB0cy9MYW5ndWFnZU1hbmFnZXJcIjtcclxuXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFd4UmFua0RpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY2xvc2VMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBmaXJzdDpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBjbG9zZVNpZ25hbCA9IG5ldyBTaWduYWwoKTtcclxuXHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICBjaF9Gb250U2l6ZTogbnVtYmVyID0gMjU7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyID0gMjA7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICBlbmdfRm9udFNpemU6IG51bWJlciA9IDIwO1xyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCLEkMOzbmcgY+G7rWFcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkjhuqFuZyAgICAgICAgIEPhuqVwICAgICAgICAgVMOqblwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMudmlfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcclxuICAgICAgICAgICAgICAgICAgICBcIkNsb3N1cmVcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlJhbmsgICAgICAgICBMZXZlbCAgICAgICAgIE5hbWVcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcclxuICAgICAgICAgICAgICAgICAgICBcIuWFs+mXrVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi56epICAgICAgICAg562J57qnICAgICAgICAg5aeT5ZCNXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgY2xvc2VMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHRpdGxlTGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VMYWJlbC5zdHJpbmcgPSBjbG9zZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMudGl0bGVMYWJlbC5zdHJpbmcgPSB0aXRsZUxhYmVsU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHNldF9sYWJlbF9Gb250U2l6ZShmb250U2l6ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bihjYWxsYmFjayx0YXJnZXQpIHtcclxuICAgICAgICB0aGlzLmNsb3NlU2lnbmFsLm9uKGNhbGxiYWNrLHRhcmdldClcclxuICAgICAgICBpZih0aGlzLmZpcnN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5yZU9wZW4sMC4xKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS5zaG93UmFuaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICByZU9wZW4oKVxyXG4gICAge1xyXG4gICAgICAgIFBsYXRmb3JtLnNob3dSYW5rKCk7XHJcbiAgICAgICAgdGhpcy5maXJzdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIndlY2hhdC9XeFJhbmtEaWFsb2dcIilcclxuICAgICAgICAvLyB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2Nsb3NlKClcclxuICAgIHtcclxuICAgICAgICBQbGF0Zm9ybS5oaWRlUmFuaygpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcclxuICAgICAgICB0aGlzLmNsb3NlU2lnbmFsLmZpcmUoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/qqsdk/BKTool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '313f56eFUNNW6GE0RObNSkH', 'BKTool');
// framework/qqsdk/BKTool.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Global = /** @class */ (function () {
    function Global() {
    }
    Global.PUIN = "2896237320";
    Global.headUrl = "";
    Global.nickName = "";
    Global.videoAd = undefined;
    Global.bannerAd = undefined;
    Global.videoAdLoadCount = 0; //视频广告加载次数
    Global.viewAdLoadCount = 0;
    Global.bannerAdLoadCount = 0; //banner广告加载次数
    return Global;
}());
// GameStatusInfo.src 其他取值
// 场景值（src）	场景描述	期望体验
// 100	AIO面板点击开始游戏	进入游戏大厅
// 108	AIO面板点击大面板小房子按钮	进入游戏大厅
// 110	AIO消息流文字识别	进入游戏大厅
// 202	热聊folder中点击进入游戏按钮	进入游戏大厅
// 207	旧版玩一玩WEB页面启动游戏	进入游戏大厅
// 208	新版玩一玩WEB页面启动游戏	进入游戏大厅
// 209	厘米城WEB页面启动游戏	进入游戏大厅
// 220	扫描二维码打开游戏	进入游戏大厅
// 200	点击AIO游戏邀请消息	"判断roomid若可加入则直接加入游戏不可加入相应提示后打开大厅"
// 204	在微信点击游戏邀请后打开手Q后启动游戏	同200
// 203	同200	将在手Q7.6.0后废弃
// 201	点击AIO游戏分享消息	根据拓展数据做相应处理
var BKTool = /** @class */ (function () {
    function BKTool() {
    }
    // static BKGet(url, callback, custom) {
    //     let httpUtil = new BK.HttpUtil(url);
    //     httpUtil.setHttpMethod("get");
    //     httpUtil.custom = custom;
    //     //绑定回调对象
    //     httpUtil.requestAsync(callback.bind(httpUtil));
    // }
    /**
     * 跳转到其他游戏
     * @param {Number} gameId
     */
    BKTool.skipGame = function (gameId) {
        BK.QQ.skipGame(gameId, "IJPay");
    };
    /**
     * 判断手Q版本
     * @param {String} ver1 7.9.0.3820 当前版本
     * @param {String} ver2 7.8.5 指定版本
     */
    BKTool.versionCompare = function (ver1, ver2) {
        ver1 = parseInt(ver1.replace(/\./g, "").substring(0, 3));
        ver2 = parseInt(ver2.replace(/\./g, "").substring(0, 3));
        if (ver1 >= ver2) {
            return true;
        }
        else {
            return false;
        }
    };
    BKTool.shareToArk = function () {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            isToFriend: true,
            summary: '单渠道分享-By Javen',
            extendInfo: 'IJPay',
            success: function (succObj) {
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
            },
            complete: function () {
                console.log('分享完成，不论成功失败');
            }
        });
    };
    BKTool.share = function (callback) {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            socialPicPath: 'GameRes://qrcode.png',
            title: '测试轻游戏',
            summary: '多渠道分享-By Javen',
            extendInfo: 'IJPay',
            // isToFriend:"false",
            success: function (succObj) {
                //{"reqCode":1,"ret":0,"gameId":3603,"aioType":1,"shareTo":0,"isFirstTimeShare":0}
                //ret成功：0；失败：1；取消：2
                //shareTo 分享渠道：QQ：0；QZone：1；微信：2；朋友圈：3
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
                if (succObj.data.ret == 0) {
                    callback && callback("success", succObj.data);
                }
                else {
                    callback && callback("fail", succObj.data);
                }
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
                callback && callback("fail");
            },
            complete: function () {
                console.log('分享完成，不论成功失败');
            }
        });
    };
    BKTool.shareLink = function () {
        BK.Share.share({
            qqImgUrl: 'http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png',
            msgUrl: 'https://gitee.com/javen205/Brickengine_Guide?',
            title: '测试轻游戏',
            summary: 'H5链接分享-By Javen',
        });
    };
    BKTool.screenShotShare = function () {
        //实际像素
        var pixelSize = BK.Director.screenPixelSize;
        var pWidth = pixelSize.width;
        var pWheight = pixelSize.height;
        BK.Share.share({
            range: {
                x: pWidth / 2,
                y: pWheight / 2,
                width: pWidth,
                height: pWheight
            },
            qqImgUrl: "",
            title: '测试轻游戏',
            summary: "截图分享-By Javen",
            extendInfo: 'IJPay',
            success: function (succObj) {
                console.log('分享成功', succObj.code, JSON.stringify(succObj.data));
            },
            fail: function (failObj) {
                console.log('分享失败', failObj.code, JSON.stringify(failObj.msg));
            },
            complete: function () {
                console.log('分享完成,不论成功失败');
            }
        });
    };
    BKTool.follow = function () {
        console.log("Global.PUIN>" + Global.PUIN);
        BK.QQ.enterPubAccountCard(Global.PUIN);
    };
    BKTool.getNick = function () {
        return Global.nickName;
    };
    BKTool.createShortCut = function () {
        var extendInfo = ""; //扩展字段
        BK.QQ.createShortCut(extendInfo);
    };
    BKTool.getHead = function () {
        return Global.headUrl;
    };
    /**
        打开一个网页
    */
    BKTool.prototype.openUrl = function (url) {
        BK.MQQ.Webview.open(url);
    };
    /**
* 存储游戏个人私有数据
* @param data 要存储的数据.
*/
    BKTool.prototype.saveGameData = function (data) {
        // 存储游戏个人私有数据
        // var data = {
        //     maxScore: 100,              // 一个历史最高积分
        //     // 不同游戏模式下存的数据，列表来的，可以根据自身需求使用，这里面的数据，后台不做任何处理，怎么来怎么回
        //     modeDatas:[
        //         {       // 字段都是自己定义的，后台不做任何处理
        //             maxScore: 1,
        //             mode: 1,
        //         },
        //         {       // 字段都是自己定义的，后台不做任何处理
        //             maxScore: 2,
        //             mode: 2,
        //         },
        //     ],
        // }
        return new Promise(function (resolve) {
            // 保存个人数据
            BK.QQ.saveGameData(data, function (errCode, cmd, data) {
                BK.Console.log(1, 1, 'saveGameData : ' + errCode + ', ' + cmd + ', ' + data);
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    /**
    * 拉取游戏个人私有数据
    */
    BKTool.prototype.loadGameData = function () {
        return new Promise(function (resolve) {
            BK.QQ.loadGameData(function (errCode, cmd, data) {
                // 这里返回的 data，就是上面存储游戏个人私有数据时候传入的 data
                BK.Console.log(1, 1, 'loadGameData : ' + errCode + ', ' + cmd + ', ' + data);
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    /**
  * 派发红包
  * @param {string} extendInfo 扩展的信息..
  */
    BKTool.prototype.sendB2CRedPacket = function (extendInfo) {
        return new Promise(function (resolve) {
            // var extendInfo = "xxxxxxx";
            BK.QQ.sendB2CRedPacket(extendInfo, function (errCode, cmd, data) {
                BK.Script.log(1, 1, 'sendB2CRedPacket : ' + errCode + ', ' + cmd + ', ' + JSON.stringify(data));
                if (errCode == 0) {
                    //派发成功
                }
                else {
                    //派发失败
                }
                resolve({ errCode: errCode, cmd: cmd, data: data });
            });
        });
    };
    BKTool.login = function () {
        BK.MQQ.Account.getHead(GameStatusInfo.openId, function (openId, imgPath) {
            // resolve(imgPath)
            Global.headUrl = imgPath;
        });
        BK.MQQ.Account.getNick(GameStatusInfo.openId, function (openId, nickName) {
            Global.nickName = nickName;
        });
    };
    BKTool.test = function () {
        // BK.QQ.fetchOpenKey(function (errCode, cmd, data) {
        // 	console.log("[fetchOpenKey]",errCode, cmd, data)
        //     if (errCode == 0) {
        //          var openKey = data.openKey;
        //      }
        // });
        var openId = GameStatusInfo.openId;
        console.log("openId:", openId);
        var systemInfo = BK.getSystemInfoSync();
        BK.Console.log('游戏版本号:' + systemInfo.gameVersion);
        BK.Console.log('是否房主:' + systemInfo.isMaster); //使用厘米秀房间时才有效
        BK.Console.log('房间号:' + systemInfo.roomId); //使用厘米秀房间时才有效
        BK.Console.log('系统版本:' + systemInfo.osVersion);
        BK.Console.log('网络类型:' + systemInfo.networkType);
        BK.Console.log('平台:' + systemInfo.platform);
        BK.Console.log('当前用户的标识:' + systemInfo.openId);
        BK.Console.log('手机qq版本:' + systemInfo.QQVer);
        BK.Console.log('是否首次安装:' + systemInfo.isFirstInstall);
        BK.Console.log('当前聊天窗类型:' + systemInfo.aioType);
        BK.Console.log('游戏启动入口:' + systemInfo.src);
        BK.Console.log('是否为管理账号:' + systemInfo.isWhiteUser);
        BK.Console.log('游戏类型:' + systemInfo.gameType);
        BK.Console.log('具体机型:' + systemInfo.model);
        BK.Console.log('性别:' + systemInfo.sex);
    };
    /**
     * 成绩上报
     * @param {*} level
     * @param {*} callback
     */
    BKTool.uploadScore = function (score, callback) {
        var data = {
            userData: [{
                    openId: GameStatusInfo.openId,
                    startMs: (new Date().getTime() - 60 * 5 * 1000).toString(),
                    endMs: ((new Date()).getTime()).toString(),
                    scoreInfo: {
                        score: score,
                    },
                },],
            attr: {
                score: {
                    type: 'rank',
                    order: 1,
                }
            },
        };
        BK.QQ.uploadScoreWithoutRoom(1, data, function (errCode, cmd, data) {
            console.log("-------------uploadScoreWithoutRoom callback  cmd" + cmd + " errCode:" + errCode + "  data:" + JSON.stringify(data));
            if (callback) {
                callback(errCode, data);
            }
        });
    };
    /**
     * 拉取排行榜数据
     * @param {*} callback [code,list]
     */
    BKTool.getRankList = function (callback) {
        var attr = "score";
        var order = 1; //排序的方法：[ 1: 从大到小(单局)，2: 从小到大(单局)，3: 由大到小(累积)]
        var rankType = 0; //要查询的排行榜类型，0: 好友排行榜
        BK.QQ.getRankListWithoutRoom(attr, order, rankType, function (errCode, cmd, data) {
            console.log("--------------------getRankListWithoutRoom callback  cmd" + cmd + " errCode:" + errCode);
            if (errCode != 0) {
                callback && callback(errCode);
                return;
            }
            if (data) {
                var rankList = data.data.ranking_list;
                console.log("=====data not null " + rankList.length);
                //{"data":{"ranking_list":["nick":"Damon Ren","score":304,"selfFlag":1,"url":"","seqId":0]}}
                console.log(JSON.stringify(data));
                if (callback) {
                    callback(errCode, rankList);
                }
            }
        });
    };
    /**
     * //展示广告 Global.videoAd.show();
     * 预加载视频广告
     */
    BKTool.loadVideoAd = function (callback) {
        console.log("============BKTOOl.loadVideoAD", Global.videoAd);
        // if (!Global.videoAd ) { //如果没有广告资源就加载新的视频广告
        var videoAd = BK.Advertisement.createVideoAd();
        videoAd.onError(function (err) {
            //加载失败
            console.log(">>>>>>>>>BKTools onError code:" + err.code + " msg:" + err.msg);
            Global.viewAdLoadCount += 1;
            //尝试4次
            if (Global.viewAdLoadCount < 4) {
                BKTool.loadVideoAd(callback);
            }
            if (callback)
                callback("error");
        });
        videoAd.onPlayFinish(function () {
            //播放结束
            console.log("BKTools onPlayFinish...");
            Global.videoAd = undefined;
            if (callback)
                callback("finish");
        });
        videoAd.onClose(function () {
            //播放结束
            console.log("BKTools onClose...");
            if (callback)
                callback("close");
            Global.videoAd = undefined;
        });
        videoAd.onLoad(function () {
            //加载成功
            console.log("BKTools onLoad");
            Global.videoAd = videoAd;
            Global.videoAdLoadCount = 0;
            if (callback)
                callback("load", videoAd);
        });
    };
    //  else {
    //     console.log("BKTools 已存在广告资源 或者 非QQ玩一玩平台....");
    // }
    /**
     * //展示广告 Global.bannerAd.show();
     * 预加载banner广告
     * 1001静态banner，1002动态banner，1003 广点通banner(7.8.0)
     */
    BKTool.loadBannerAd = function (callback, viewId) {
        if (!viewId) {
            var qqVer = BK.getSystemInfoSync().QQVer;
            console.log("当前手Q版本:" + qqVer);
            var isBig = BKTool.versionCompare(qqVer, "7.8.5"); //如果大于7.8.5
            console.log("当前版本大于7.8.5:" + isBig);
            if (isBig) {
                viewId = 1003;
            }
            else {
                viewId = 1002;
            }
        }
        console.log("loadBannerAd viewId:" + viewId);
        var bannerAd = BK.Advertisement.createBannerAd({
            viewId: viewId,
        });
        bannerAd.onError(function (err) {
            //加载失败
            console.log("BKTools onError code:" + err.code + " msg:" + err.msg);
            Global.bannerAdLoadCount += 1;
            if (Global.bannerAdLoadCount < 4) {
                BKTool.loadBannerAd(callback, viewId);
            }
            if (callback)
                callback("error");
        });
        bannerAd.onLoad(function () {
            //加载成功
            console.log("BKTools onLoad");
            Global.bannerAd = bannerAd;
            Global.viewAdLoadCount = 0;
            if (callback)
                callback("load", bannerAd);
        });
    };
    BKTool.showBannerAd = function () {
        console.log("BKTools 显示banner广告");
        if (Global.bannerAd) {
            Global.bannerAd.show();
        }
        else {
            console.log("BKTools 不存在banner资源....");
            BKTool.loadBannerAd(function (v, ad) {
                if (v == "load") {
                    BKTool.showBannerAd();
                }
            });
        }
    };
    BKTool.hideBannerAd = function () {
        if (Global.bannerAd) {
            Global.bannerAd.hide();
            Global.bannerAd = undefined;
        }
        else {
            console.log("BKTools 不存在banner资源无法关闭....");
        }
    };
    BKTool.showToast = function (title, duration) {
        if (!duration) {
            duration = 3000;
        }
        if (cc.sys.platform == cc.sys.QQ_PLAY) {
            BK.UI.showToast({
                title: title,
                duration: duration,
                complete: function () {
                    console.log("BKTools showToast complete:" + title);
                }
            });
        }
    };
    /**
     * 开启屏幕常亮
     */
    BKTool.keepScreenOn = function () {
        BK.Device.keepScreenOn({
            isKeepOn: true
        });
    };
    /**
     * 取消屏幕常亮
     */
    BKTool.cancelKeepScreenOn = function () {
        BK.Device.keepScreenOn({
            isKeepOn: false
        });
    };
    return BKTool;
}());
exports.default = BKTool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxxcXNka1xcQktUb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBWUEsQ0FBQztJQVZVLFdBQUksR0FBRSxZQUFZLENBQUE7SUFFbEIsY0FBTyxHQUFHLEVBQUUsQ0FBQTtJQUNaLGVBQVEsR0FBRyxFQUFFLENBQUM7SUFDZCxjQUFPLEdBQUUsU0FBUyxDQUFBO0lBQ2xCLGVBQVEsR0FBRSxTQUFTLENBQUE7SUFFbkIsdUJBQWdCLEdBQUUsQ0FBQyxDQUFBLENBQUMsVUFBVTtJQUM5QixzQkFBZSxHQUFHLENBQUMsQ0FBQTtJQUNuQix3QkFBaUIsR0FBRSxDQUFDLENBQUEsQ0FBQyxjQUFjO0lBQzlDLGFBQUM7Q0FaRCxBQVlDLElBQUE7QUFDRCwwQkFBMEI7QUFDMUIscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qiw2QkFBNkI7QUFDN0Isd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQiw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQix1QkFBdUI7QUFDdkIscURBQXFEO0FBQ3JELCtCQUErQjtBQUMvQix3QkFBd0I7QUFDeEIsOEJBQThCO0FBRTlCO0lBQUE7SUFnY0EsQ0FBQztJQTdiRyx3Q0FBd0M7SUFDeEMsMkNBQTJDO0lBQzNDLHFDQUFxQztJQUNyQyxnQ0FBZ0M7SUFDaEMsZUFBZTtJQUNmLHNEQUFzRDtJQUN0RCxJQUFJO0lBRUo7OztPQUdHO0lBQ0ksZUFBUSxHQUFmLFVBQWdCLE1BQU07UUFDbEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDRDs7OztPQUlHO0lBQ0kscUJBQWMsR0FBckIsVUFBc0IsSUFBSSxFQUFFLElBQUk7UUFDNUIsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxT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QUFPLEdBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFL0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFM0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNwRCxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNsRCxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUduQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGtCQUFXLEdBQWxCLFVBQW1CLEtBQUssRUFBRSxRQUFTO1FBQy9CLElBQUksSUFBSSxHQUFHO1lB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QUFDLEdBQUcsQ0FBQyw2QkFBNkIsR0FBRyxLQUFLLENBQUMsQ0FBQztnQkFDdkQsQ0FBQzthQUNKLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUNEOztPQUVHO0lBQ0ksbUJBQVksR0FBbkI7UUFDSSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUNuQixRQUFRLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0Q7O09BRUc7SUFDSSx5QkFBa0IsR0FBekI7UUFDSSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUNuQixRQUFRLEVBQUUsS0FBSztTQUNsQixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUwsYUFBQztBQUFELENBaGNBLEFBZ2NDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBHbG9iYWxcclxue1xyXG4gICAgc3RhdGljIFBVSU49IFwiMjg5NjIzNzMyMFwiXHJcblxyXG4gICAgc3RhdGljIGhlYWRVcmwgPSBcIlwiXHJcbiAgICBzdGF0aWMgbmlja05hbWUgPSBcIlwiO1xyXG4gICAgc3RhdGljIHZpZGVvQWQ9IHVuZGVmaW5lZFxyXG4gICAgc3RhdGljIGJhbm5lckFkPSB1bmRlZmluZWRcclxuXHJcbiAgICBzdGF0aWMgdmlkZW9BZExvYWRDb3VudD0gMCAvL+inhumikeW5v+WRiuWKoOi9veasoeaVsFxyXG4gICAgc3RhdGljIHZpZXdBZExvYWRDb3VudCA9IDAgXHJcbiAgICBzdGF0aWMgYmFubmVyQWRMb2FkQ291bnQ9IDAgLy9iYW5uZXLlub/lkYrliqDovb3mrKHmlbBcclxufVxyXG4vLyBHYW1lU3RhdHVzSW5mby5zcmMg5YW25LuW5Y+W5YC8XHJcbi8vIOWcuuaZr+WAvO+8iHNyY++8iVx05Zy65pmv5o+P6L+wXHTmnJ/mnJvkvZPpqoxcclxuLy8gMTAwXHRBSU/pnaLmnb/ngrnlh7vlvIDlp4vmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxyXG4vLyAxMDhcdEFJT+mdouadv+eCueWHu+Wkp+mdouadv+Wwj+aIv+WtkOaMiemSrlx06L+b5YWl5ri45oiP5aSn5Y6FXHJcbi8vIDExMFx0QUlP5raI5oGv5rWB5paH5a2X6K+G5YirXHTov5vlhaXmuLjmiI/lpKfljoVcclxuLy8gMjAyXHTng63ogYpmb2xkZXLkuK3ngrnlh7vov5vlhaXmuLjmiI/mjInpkq5cdOi/m+WFpea4uOaIj+Wkp+WOhVxyXG4vLyAyMDdcdOaXp+eJiOeOqeS4gOeOqVdFQumhtemdouWQr+WKqOa4uOaIj1x06L+b5YWl5ri45oiP5aSn5Y6FXHJcbi8vIDIwOFx05paw54mI546p5LiA546pV0VC6aG16Z2i5ZCv5Yqo5ri45oiPXHTov5vlhaXmuLjmiI/lpKfljoVcclxuLy8gMjA5XHTljpjnsbPln45XRULpobXpnaLlkK/liqjmuLjmiI9cdOi/m+WFpea4uOaIj+Wkp+WOhVxyXG4vLyAyMjBcdOaJq+aPj+S6jOe7tOeggeaJk+W8gOa4uOaIj1x06L+b5YWl5ri45oiP5aSn5Y6FXHJcbi8vIDIwMFx054K55Ye7QUlP5ri45oiP6YKA6K+35raI5oGvXHRcIuWIpOaWrXJvb21pZOiLpeWPr+WKoOWFpeWImeebtOaOpeWKoOWFpea4uOaIj+S4jeWPr+WKoOWFpeebuOW6lOaPkOekuuWQjuaJk+W8gOWkp+WOhVwiXHJcbi8vIDIwNFx05Zyo5b6u5L+h54K55Ye75ri45oiP6YKA6K+35ZCO5omT5byA5omLUeWQjuWQr+WKqOa4uOaIj1x05ZCMMjAwXHJcbi8vIDIwM1x05ZCMMjAwXHTlsIblnKjmiYtRNy42LjDlkI7lup/lvINcclxuLy8gMjAxXHTngrnlh7tBSU/muLjmiI/liIbkuqvmtojmga9cdOagueaNruaLk+WxleaVsOaNruWBmuebuOW6lOWkhOeQhlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQktUb29sXHJcbntcclxuXHJcbiAgICAvLyBzdGF0aWMgQktHZXQodXJsLCBjYWxsYmFjaywgY3VzdG9tKSB7XHJcbiAgICAvLyAgICAgbGV0IGh0dHBVdGlsID0gbmV3IEJLLkh0dHBVdGlsKHVybCk7XHJcbiAgICAvLyAgICAgaHR0cFV0aWwuc2V0SHR0cE1ldGhvZChcImdldFwiKTtcclxuICAgIC8vICAgICBodHRwVXRpbC5jdXN0b20gPSBjdXN0b207XHJcbiAgICAvLyAgICAgLy/nu5Hlrprlm57osIPlr7nosaFcclxuICAgIC8vICAgICBodHRwVXRpbC5yZXF1ZXN0QXN5bmMoY2FsbGJhY2suYmluZChodHRwVXRpbCkpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Lez6L2s5Yiw5YW25LuW5ri45oiPXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZ2FtZUlkIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2tpcEdhbWUoZ2FtZUlkKSB7XHJcbiAgICAgICAgQksuUVEuc2tpcEdhbWUoZ2FtZUlkLCBcIklKUGF5XCIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3miYtR54mI5pysXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmVyMSA3LjkuMC4zODIwIOW9k+WJjeeJiOacrFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZlcjIgNy44LjUg5oyH5a6a54mI5pysXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB2ZXJzaW9uQ29tcGFyZSh2ZXIxLCB2ZXIyKSB7XHJcbiAgICAgICAgdmVyMSA9IHBhcnNlSW50KHZlcjEucmVwbGFjZSgvXFwuL2csIFwiXCIpLnN1YnN0cmluZygwLCAzKSk7XHJcbiAgICAgICAgdmVyMiA9IHBhcnNlSW50KHZlcjIucmVwbGFjZSgvXFwuL2csIFwiXCIpLnN1YnN0cmluZygwLCAzKSk7XHJcbiAgICAgICAgaWYgKHZlcjEgPj0gdmVyMikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaGFyZVRvQXJrKCkge1xyXG4gICAgICAgIEJLLlNoYXJlLnNoYXJlKHtcclxuICAgICAgICAgICAgcXFJbWdVcmw6ICdodHRwOi8vaHVkb25nLnFxLmNvbS9kb2NzL2VuZ2luZS9pbWcvODQ4Qjc2QjU1MzBBQTdFRTdCMzhFOUExMjY3RDcwODYucG5nJyxcclxuICAgICAgICAgICAgaXNUb0ZyaWVuZDogdHJ1ZSxcclxuICAgICAgICAgICAgc3VtbWFyeTogJ+WNlea4oOmBk+WIhuS6qy1CeSBKYXZlbicsXHJcbiAgICAgICAgICAgIGV4dGVuZEluZm86ICdJSlBheScsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdWNjT2JqKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5oiQ5YqfJywgc3VjY09iai5jb2RlLCBKU09OLnN0cmluZ2lmeShzdWNjT2JqLmRhdGEpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGZhaWxPYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvlpLHotKUnLCBmYWlsT2JqLmNvZGUsIEpTT04uc3RyaW5naWZ5KGZhaWxPYmoubXNnKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5a6M5oiQ77yMXGLkuI3orrrmiJDlip/lpLHotKUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaGFyZShjYWxsYmFjaykge1xyXG4gICAgICAgIEJLLlNoYXJlLnNoYXJlKHtcclxuICAgICAgICAgICAgcXFJbWdVcmw6ICdodHRwOi8vaHVkb25nLnFxLmNvbS9kb2NzL2VuZ2luZS9pbWcvODQ4Qjc2QjU1MzBBQTdFRTdCMzhFOUExMjY3RDcwODYucG5nJyxcclxuICAgICAgICAgICAgc29jaWFsUGljUGF0aDogJ0dhbWVSZXM6Ly9xcmNvZGUucG5nJyxcclxuICAgICAgICAgICAgdGl0bGU6ICfmtYvor5XovbvmuLjmiI8nLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiAn5aSa5rig6YGT5YiG5LqrLUJ5IEphdmVuJyxcclxuICAgICAgICAgICAgZXh0ZW5kSW5mbzogJ0lKUGF5JyxcclxuICAgICAgICAgICAgLy8gaXNUb0ZyaWVuZDpcImZhbHNlXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdWNjT2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvL3tcInJlcUNvZGVcIjoxLFwicmV0XCI6MCxcImdhbWVJZFwiOjM2MDMsXCJhaW9UeXBlXCI6MSxcInNoYXJlVG9cIjowLFwiaXNGaXJzdFRpbWVTaGFyZVwiOjB9XHJcbiAgICAgICAgICAgICAgICAvL3JldOaIkOWKn++8mjDvvJvlpLHotKXvvJox77yb5Y+W5raI77yaMlxyXG4gICAgICAgICAgICAgICAgLy9zaGFyZVRvIOWIhuS6q+a4oOmBk++8mlFR77yaMO+8m1Fab25l77yaMe+8m+W+ruS/oe+8mjLvvJvmnIvlj4vlnIjvvJozXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5oiQ5YqfJywgc3VjY09iai5jb2RlLCBKU09OLnN0cmluZ2lmeShzdWNjT2JqLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGlmKHN1Y2NPYmouZGF0YS5yZXQgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhcInN1Y2Nlc3NcIixzdWNjT2JqLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soXCJmYWlsXCIsc3VjY09iai5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGZhaWxPYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvlpLHotKUnLCBmYWlsT2JqLmNvZGUsIEpTT04uc3RyaW5naWZ5KGZhaWxPYmoubXNnKSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhcImZhaWxcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5a6M5oiQ77yMXGLkuI3orrrmiJDlip/lpLHotKUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaGFyZUxpbmsoKSB7XHJcbiAgICAgICAgQksuU2hhcmUuc2hhcmUoe1xyXG4gICAgICAgICAgICBxcUltZ1VybDogJ2h0dHA6Ly9odWRvbmcucXEuY29tL2RvY3MvZW5naW5lL2ltZy84NDhCNzZCNTUzMEFBN0VFN0IzOEU5QTEyNjdENzA4Ni5wbmcnLFxyXG4gICAgICAgICAgICBtc2dVcmw6ICdodHRwczovL2dpdGVlLmNvbS9qYXZlbjIwNS9Ccmlja2VuZ2luZV9HdWlkZT8nLCAvL+S4jeWKoOmXruWPt+WIhuS6q+eahOmTvuaOpeaXoOazleebtOaOpeiuv+mXrlxyXG4gICAgICAgICAgICB0aXRsZTogJ+a1i+ivlei9u+a4uOaIjycsXHJcbiAgICAgICAgICAgIHN1bW1hcnk6ICdINemTvuaOpeWIhuS6qy1CeSBKYXZlbicsXHJcbiAgICAgICAgICAgIC8v5YiG5Lqr5Ye65Y6755qE6ZO+5o6l5Li6XHJcbiAgICAgICAgICAgIC8vaHR0cHM6Ly9naXRlZS5jb20vamF2ZW4yMDUvQnJpY2tlbmdpbmVfR3VpZGU/JmdhbWVJZD3muLjmiI9JRCZyb29tSWQ95oi/6Ze0SUQmZ2FtZVZlcnNpb2495ri45oiP54mI5pys5Y+3JnVpbj1RUeWPt+eggVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzY3JlZW5TaG90U2hhcmUoKSB7XHJcbiAgICAgICAgLy/lrp7pmYXlg4/ntKBcclxuICAgICAgICB2YXIgcGl4ZWxTaXplID0gQksuRGlyZWN0b3Iuc2NyZWVuUGl4ZWxTaXplO1xyXG4gICAgICAgIHZhciBwV2lkdGggPSBwaXhlbFNpemUud2lkdGg7XHJcbiAgICAgICAgdmFyIHBXaGVpZ2h0ID0gcGl4ZWxTaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgQksuU2hhcmUuc2hhcmUoe1xyXG4gICAgICAgICAgICByYW5nZToge1xyXG4gICAgICAgICAgICAgICAgeDogcFdpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIHk6IHBXaGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBwV2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBXaGVpZ2h0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHFxSW1nVXJsOlwiXCIsLy8g5YiG5Lqr5YiwUVHnmoTlm77niYfnvZHnu5zpk77mjqXvvIzlv4XpgInvvIzku4XmlK/mjIHnvZHnu5zpk77mjqVcclxuICAgICAgICAgICAgdGl0bGU6ICfmtYvor5XovbvmuLjmiI8nLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiBcIuaIquWbvuWIhuS6qy1CeSBKYXZlblwiLFxyXG4gICAgICAgICAgICBleHRlbmRJbmZvOiAnSUpQYXknLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3VjY09iaikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+aIkOWKnycsIHN1Y2NPYmouY29kZSwgSlNPTi5zdHJpbmdpZnkoc3VjY09iai5kYXRhKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChmYWlsT2JqKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr5aSx6LSlJywgZmFpbE9iai5jb2RlLCBKU09OLnN0cmluZ2lmeShmYWlsT2JqLm1zZykpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+WujOaIkCzkuI3orrrmiJDlip/lpLHotKUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmb2xsb3coKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHbG9iYWwuUFVJTj5cIiArIEdsb2JhbC5QVUlOKTtcclxuICAgICAgICBCSy5RUS5lbnRlclB1YkFjY291bnRDYXJkKEdsb2JhbC5QVUlOKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0TmljaygpIHtcclxuICAgICAgICByZXR1cm4gR2xvYmFsLm5pY2tOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVTaG9ydEN1dCgpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGV4dGVuZEluZm8gPSBcIlwiOy8v5omp5bGV5a2X5q61XHJcbiAgICAgICAgQksuUVEuY3JlYXRlU2hvcnRDdXQoZXh0ZW5kSW5mbylcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGdldEhlYWQoKXtcclxuICAgIFx0cmV0dXJuIEdsb2JhbC5oZWFkVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgXHTmiZPlvIDkuIDkuKrnvZHpobVcclxuICAgICovXHJcbiAgICBvcGVuVXJsKHVybCl7XHJcbiAgICBcdEJLLk1RUS5XZWJ2aWV3Lm9wZW4odXJsKTtcclxuICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAqIOWtmOWCqOa4uOaIj+S4quS6uuengeacieaVsOaNrlxyXG4gICAgKiBAcGFyYW0gZGF0YSDopoHlrZjlgqjnmoTmlbDmja4uXHJcbiAgICAqL1xyXG4gICAgc2F2ZUdhbWVEYXRhKGRhdGEpe1xyXG4gICAgICAgIC8vIOWtmOWCqOa4uOaIj+S4quS6uuengeacieaVsOaNrlxyXG4gICAgICAgIC8vIHZhciBkYXRhID0ge1xyXG4gICAgICAgIC8vICAgICBtYXhTY29yZTogMTAwLCAgICAgICAgICAgICAgLy8g5LiA5Liq5Y6G5Y+y5pyA6auY56ev5YiGXHJcbiAgICAgICAgLy8gICAgIC8vIOS4jeWQjOa4uOaIj+aooeW8j+S4i+WtmOeahOaVsOaNru+8jOWIl+ihqOadpeeahO+8jOWPr+S7peagueaNruiHqui6q+mcgOaxguS9v+eUqO+8jOi/memHjOmdoueahOaVsOaNru+8jOWQjuWPsOS4jeWBmuS7u+S9leWkhOeQhu+8jOaAjuS5iOadpeaAjuS5iOWbnlxyXG4gICAgICAgIC8vICAgICBtb2RlRGF0YXM6W1xyXG4gICAgICAgIC8vICAgICAgICAgeyAgICAgICAvLyDlrZfmrrXpg73mmK/oh6rlt7HlrprkuYnnmoTvvIzlkI7lj7DkuI3lgZrku7vkvZXlpITnkIZcclxuICAgICAgICAvLyAgICAgICAgICAgICBtYXhTY29yZTogMSxcclxuICAgICAgICAvLyAgICAgICAgICAgICBtb2RlOiAxLFxyXG4gICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAvLyAgICAgICAgIHsgICAgICAgLy8g5a2X5q616YO95piv6Ieq5bex5a6a5LmJ55qE77yM5ZCO5Y+w5LiN5YGa5Lu75L2V5aSE55CGXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbWF4U2NvcmU6IDIsXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbW9kZTogMixcclxuICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcclxuICAgICAgICAgICAgLy8g5L+d5a2Y5Liq5Lq65pWw5o2uXHJcbiAgICAgICAgICAgIEJLLlFRLnNhdmVHYW1lRGF0YShkYXRhLCAoZXJyQ29kZSwgY21kLCBkYXRhKT0+e1xyXG4gICAgICAgICAgICAgICAgQksuQ29uc29sZS5sb2coMSwgMSwgJ3NhdmVHYW1lRGF0YSA6ICcgKyBlcnJDb2RlICsgJywgJyArIGNtZCArICcsICcgKyBkYXRhKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe2VyckNvZGU6ZXJyQ29kZSwgY21kOmNtZCwgZGF0YTpkYXRhfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5ouJ5Y+W5ri45oiP5Liq5Lq656eB5pyJ5pWw5o2uXHJcbiAgICAqL1xyXG4gICAgbG9hZEdhbWVEYXRhKCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKT0+e1xyXG4gICAgICAgICAgICBCSy5RUS5sb2FkR2FtZURhdGEoKGVyckNvZGUsIGNtZCwgZGF0YSk9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDov5nph4zov5Tlm57nmoQgZGF0Ye+8jOWwseaYr+S4iumdouWtmOWCqOa4uOaIj+S4quS6uuengeacieaVsOaNruaXtuWAmeS8oOWFpeeahCBkYXRhXHJcbiAgICAgICAgICAgICAgICBCSy5Db25zb2xlLmxvZygxLCAxLCAnbG9hZEdhbWVEYXRhIDogJyArIGVyckNvZGUgKyAnLCAnICsgY21kICsgJywgJyArIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7ZXJyQ29kZTplcnJDb2RlLCBjbWQ6Y21kLCBkYXRhOmRhdGF9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICog5rS+5Y+R57qi5YyFXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbmRJbmZvIOaJqeWxleeahOS/oeaBry4uXHJcbiAgICAqL1xyXG4gICAgc2VuZEIyQ1JlZFBhY2tldChleHRlbmRJbmZvKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57XHJcbiAgICAgICAgICAgIC8vIHZhciBleHRlbmRJbmZvID0gXCJ4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgIEJLLlFRLnNlbmRCMkNSZWRQYWNrZXQoZXh0ZW5kSW5mbyxmdW5jdGlvbihlcnJDb2RlLCBjbWQsIGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgQksuU2NyaXB0LmxvZygxLCAxLCAnc2VuZEIyQ1JlZFBhY2tldCA6ICcgKyBlcnJDb2RlICsgJywgJyArIGNtZCArICcsICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBpZihlcnJDb2RlID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5rS+5Y+R5oiQ5YqfXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL+a0vuWPkeWksei0pVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe2VyckNvZGU6ZXJyQ29kZSwgY21kOmNtZCwgZGF0YTpkYXRhfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2dpbigpXHJcbiAgICB7XHJcbiAgICAgICAgQksuTVFRLkFjY291bnQuZ2V0SGVhZChHYW1lU3RhdHVzSW5mby5vcGVuSWQsKG9wZW5JZCwgaW1nUGF0aCk9PiB7XHJcbiAgICAgICAgICAgIC8vIHJlc29sdmUoaW1nUGF0aClcclxuICAgICAgICAgICAgR2xvYmFsLmhlYWRVcmwgPSBpbWdQYXRoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEJLLk1RUS5BY2NvdW50LmdldE5pY2soR2FtZVN0YXR1c0luZm8ub3BlbklkLCAob3BlbklkLG5pY2tOYW1lKT0+e1xyXG4gICAgICAgICAgICBHbG9iYWwubmlja05hbWUgPSBuaWNrTmFtZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdGVzdCgpe1xyXG5cdFx0Ly8gQksuUVEuZmV0Y2hPcGVuS2V5KGZ1bmN0aW9uIChlcnJDb2RlLCBjbWQsIGRhdGEpIHtcclxuXHRcdC8vIFx0Y29uc29sZS5sb2coXCJbZmV0Y2hPcGVuS2V5XVwiLGVyckNvZGUsIGNtZCwgZGF0YSlcclxuXHRcdC8vICAgICBpZiAoZXJyQ29kZSA9PSAwKSB7XHJcblx0XHQvLyAgICAgICAgICB2YXIgb3BlbktleSA9IGRhdGEub3BlbktleTtcclxuXHRcdC8vICAgICAgfVxyXG5cdFx0Ly8gfSk7XHJcblx0XHR2YXIgb3BlbklkID0gR2FtZVN0YXR1c0luZm8ub3BlbklkO1xyXG5cdFx0Y29uc29sZS5sb2coXCJvcGVuSWQ6XCIsb3BlbklkKTtcclxuICAgIFx0dmFyIHN5c3RlbUluZm8gPSBCSy5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG5cclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmuLjmiI/niYjmnKzlj7c6JytzeXN0ZW1JbmZvLmdhbWVWZXJzaW9uKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmmK/lkKbmiL/kuLs6JytzeXN0ZW1JbmZvLmlzTWFzdGVyKTsgICAvL+S9v+eUqOWOmOexs+engOaIv+mXtOaXtuaJjeacieaViFxyXG5cdFx0QksuQ29uc29sZS5sb2coJ+aIv+mXtOWPtzonK3N5c3RlbUluZm8ucm9vbUlkKTsgLy/kvb/nlKjljpjnsbPnp4DmiL/pl7Tml7bmiY3mnInmlYhcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfns7vnu5/niYjmnKw6JytzeXN0ZW1JbmZvLm9zVmVyc2lvbik7XHJcblx0XHRCSy5Db25zb2xlLmxvZygn572R57uc57G75Z6LOicrc3lzdGVtSW5mby5uZXR3b3JrVHlwZSk7XHJcblxyXG5cdFx0QksuQ29uc29sZS5sb2coJ+W5s+WPsDonK3N5c3RlbUluZm8ucGxhdGZvcm0pO1xyXG5cdFx0QksuQ29uc29sZS5sb2coJ+W9k+WJjeeUqOaIt+eahOagh+ivhjonK3N5c3RlbUluZm8ub3BlbklkKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmiYvmnLpxceeJiOacrDonK3N5c3RlbUluZm8uUVFWZXIpO1xyXG5cclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmmK/lkKbpppbmrKHlronoo4U6JytzeXN0ZW1JbmZvLmlzRmlyc3RJbnN0YWxsKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCflvZPliY3ogYrlpKnnqpfnsbvlnos6JytzeXN0ZW1JbmZvLmFpb1R5cGUpO1xyXG5cdFx0QksuQ29uc29sZS5sb2coJ+a4uOaIj+WQr+WKqOWFpeWPozonK3N5c3RlbUluZm8uc3JjKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmmK/lkKbkuLrnrqHnkIbotKblj7c6JytzeXN0ZW1JbmZvLmlzV2hpdGVVc2VyKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmuLjmiI/nsbvlnos6JytzeXN0ZW1JbmZvLmdhbWVUeXBlKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCflhbfkvZPmnLrlnos6JytzeXN0ZW1JbmZvLm1vZGVsKTtcclxuXHRcdEJLLkNvbnNvbGUubG9nKCfmgKfliKs6JytzeXN0ZW1JbmZvLnNleCk7XHJcblxyXG4gICAgXHRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaIkOe7qeS4iuaKpVxyXG4gICAgICogQHBhcmFtIHsqfSBsZXZlbCBcclxuICAgICAqIEBwYXJhbSB7Kn0gY2FsbGJhY2sgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB1cGxvYWRTY29yZShzY29yZSwgY2FsbGJhY2s/KSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHVzZXJEYXRhOiBbe1xyXG4gICAgICAgICAgICAgICAgb3BlbklkOiBHYW1lU3RhdHVzSW5mby5vcGVuSWQsXHJcbiAgICAgICAgICAgICAgICBzdGFydE1zOiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSA2MCAqIDUgKiAxMDAwKS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgZW5kTXM6ICgobmV3IERhdGUoKSkuZ2V0VGltZSgpKS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgc2NvcmVJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHNjb3JlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSwgXSxcclxuICAgICAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICAgICAgc2NvcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmFuaycsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IDEsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBCSy5RUS51cGxvYWRTY29yZVdpdGhvdXRSb29tKDEsIGRhdGEsIGZ1bmN0aW9uIChlcnJDb2RlLCBjbWQsIGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tdXBsb2FkU2NvcmVXaXRob3V0Um9vbSBjYWxsYmFjayAgY21kXCIgKyBjbWQgKyBcIiBlcnJDb2RlOlwiICsgZXJyQ29kZSArIFwiICBkYXRhOlwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyckNvZGUsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaLieWPluaOkuihjOamnOaVsOaNrlxyXG4gICAgICogQHBhcmFtIHsqfSBjYWxsYmFjayBbY29kZSxsaXN0XVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0UmFua0xpc3QoY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgYXR0ciA9IFwic2NvcmVcIjtcclxuICAgICAgICBsZXQgb3JkZXIgPSAxOyAvL+aOkuW6j+eahOaWueazle+8mlsgMTog5LuO5aSn5Yiw5bCPKOWNleWxgCnvvIwyOiDku47lsI/liLDlpKco5Y2V5bGAKe+8jDM6IOeUseWkp+WIsOWwjyjntK/np68pXVxyXG4gICAgICAgIGxldCByYW5rVHlwZSA9IDA7Ly/opoHmn6Xor6LnmoTmjpLooYzmppznsbvlnovvvIwwOiDlpb3lj4vmjpLooYzmppxcclxuICAgICAgICBCSy5RUS5nZXRSYW5rTGlzdFdpdGhvdXRSb29tKGF0dHIsIG9yZGVyLCByYW5rVHlwZSwgZnVuY3Rpb24gKGVyckNvZGUsIGNtZCwgZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tZ2V0UmFua0xpc3RXaXRob3V0Um9vbSBjYWxsYmFjayAgY21kXCIgKyBjbWQgKyBcIiBlcnJDb2RlOlwiICsgZXJyQ29kZSk7XHJcbiAgICAgICAgICAgIGlmIChlcnJDb2RlICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVyckNvZGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFua0xpc3QgPSBkYXRhLmRhdGEucmFua2luZ19saXN0O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PWRhdGEgbm90IG51bGwgXCIgKyByYW5rTGlzdC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgLy97XCJkYXRhXCI6e1wicmFua2luZ19saXN0XCI6W1wibmlja1wiOlwiRGFtb24gUmVuXCIsXCJzY29yZVwiOjMwNCxcInNlbGZGbGFnXCI6MSxcInVybFwiOlwiXCIsXCJzZXFJZFwiOjBdfX1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyckNvZGUsIHJhbmtMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAvL+WxleekuuW5v+WRiiBHbG9iYWwudmlkZW9BZC5zaG93KCk7XHJcbiAgICAgKiDpooTliqDovb3op4bpopHlub/lkYpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGxvYWRWaWRlb0FkKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT1CS1RPT2wubG9hZFZpZGVvQURcIiAsIEdsb2JhbC52aWRlb0FkKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBpZiAoIUdsb2JhbC52aWRlb0FkICkgeyAvL+WmguaenOayoeacieW5v+WRiui1hOa6kOWwseWKoOi9veaWsOeahOinhumikeW5v+WRilxyXG4gICAgICAgIGxldCB2aWRlb0FkID0gQksuQWR2ZXJ0aXNlbWVudC5jcmVhdGVWaWRlb0FkKCk7XHJcbiAgICAgICAgdmlkZW9BZC5vbkVycm9yKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgLy/liqDovb3lpLHotKVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4+Pj4+Pj5CS1Rvb2xzIG9uRXJyb3IgY29kZTpcIiArIGVyci5jb2RlICsgXCIgbXNnOlwiICsgZXJyLm1zZyk7XHJcbiAgICAgICAgICAgIEdsb2JhbC52aWV3QWRMb2FkQ291bnQgKz0gMTtcclxuICAgICAgICAgICAgLy/lsJ3or5U05qyhXHJcbiAgICAgICAgICAgIGlmIChHbG9iYWwudmlld0FkTG9hZENvdW50IDwgNCkge1xyXG4gICAgICAgICAgICAgICAgQktUb29sLmxvYWRWaWRlb0FkKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soXCJlcnJvclwiKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2aWRlb0FkLm9uUGxheUZpbmlzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8v5pKt5pS+57uT5p2fXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyBvblBsYXlGaW5pc2guLi5cIik7XHJcbiAgICAgICAgICAgIEdsb2JhbC52aWRlb0FkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soXCJmaW5pc2hcIilcclxuICAgICAgICB9KTtcclxuICAgICAgICB2aWRlb0FkLm9uQ2xvc2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvL+aSreaUvue7k+adn1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgb25DbG9zZS4uLlwiKTtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiY2xvc2VcIilcclxuICAgICAgICAgICAgR2xvYmFsLnZpZGVvQWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZpZGVvQWQub25Mb2FkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy/liqDovb3miJDlip9cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCS1Rvb2xzIG9uTG9hZFwiKTtcclxuICAgICAgICAgICAgR2xvYmFsLnZpZGVvQWQgPSB2aWRlb0FkO1xyXG4gICAgICAgICAgICBHbG9iYWwudmlkZW9BZExvYWRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsIHZpZGVvQWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAgICAgLy8gIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMg5bey5a2Y5Zyo5bm/5ZGK6LWE5rqQIOaIluiAhSDpnZ5RUeeOqeS4gOeOqeW5s+WPsC4uLi5cIik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy/lsZXnpLrlub/lkYogR2xvYmFsLmJhbm5lckFkLnNob3coKTtcclxuICAgICAqIOmihOWKoOi9vWJhbm5lcuW5v+WRilxyXG4gICAgICogMTAwMemdmeaAgWJhbm5lcu+8jDEwMDLliqjmgIFiYW5uZXLvvIwxMDAzIOW5v+eCuemAmmJhbm5lcig3LjguMClcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGxvYWRCYW5uZXJBZChjYWxsYmFjaz8sIHZpZXdJZD8pIHtcclxuICAgICAgICBpZiAoIXZpZXdJZCkge1xyXG4gICAgICAgICAgICBsZXQgcXFWZXIgPSBCSy5nZXRTeXN0ZW1JbmZvU3luYygpLlFRVmVyO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW9k+WJjeaJi1HniYjmnKw6XCIgKyBxcVZlcik7XHJcbiAgICAgICAgICAgIGxldCBpc0JpZyA9IEJLVG9vbC52ZXJzaW9uQ29tcGFyZShxcVZlciwgXCI3LjguNVwiKTsgLy/lpoLmnpzlpKfkuo43LjguNVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW9k+WJjeeJiOacrOWkp+S6jjcuOC41OlwiICsgaXNCaWcpO1xyXG4gICAgICAgICAgICBpZiAoaXNCaWcpIHtcclxuICAgICAgICAgICAgICAgIHZpZXdJZCA9IDEwMDM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2aWV3SWQgPSAxMDAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9hZEJhbm5lckFkIHZpZXdJZDpcIiArIHZpZXdJZCk7XHJcbiAgICAgICAgbGV0IGJhbm5lckFkID0gQksuQWR2ZXJ0aXNlbWVudC5jcmVhdGVCYW5uZXJBZCh7XHJcbiAgICAgICAgICAgIHZpZXdJZDogdmlld0lkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhbm5lckFkLm9uRXJyb3IoZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAvL+WKoOi9veWksei0pVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgb25FcnJvciBjb2RlOlwiICsgZXJyLmNvZGUgKyBcIiBtc2c6XCIgKyBlcnIubXNnKTtcclxuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkTG9hZENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgIGlmIChHbG9iYWwuYmFubmVyQWRMb2FkQ291bnQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICBCS1Rvb2wubG9hZEJhbm5lckFkKGNhbGxiYWNrLHZpZXdJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiZXJyb3JcIilcclxuICAgICAgICB9KTtcclxuICAgICAgICBiYW5uZXJBZC5vbkxvYWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvL+WKoOi9veaIkOWKn1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMgb25Mb2FkXCIpO1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWQgPSBiYW5uZXJBZDtcclxuICAgICAgICAgICAgR2xvYmFsLnZpZXdBZExvYWRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsYmFubmVyQWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dCYW5uZXJBZCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJLVG9vbHMg5pi+56S6YmFubmVy5bm/5ZGKXCIpXHJcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWQuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyDkuI3lrZjlnKhiYW5uZXLotYTmupAuLi4uXCIpO1xyXG4gICAgICAgICAgICBCS1Rvb2wubG9hZEJhbm5lckFkKCh2LGFkKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYodj09XCJsb2FkXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgQktUb29sLnNob3dCYW5uZXJBZCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGlkZUJhbm5lckFkKCkge1xyXG4gICAgICAgIGlmIChHbG9iYWwuYmFubmVyQWQpIHtcclxuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkLmhpZGUoKTtcclxuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyDkuI3lrZjlnKhiYW5uZXLotYTmupDml6Dms5XlhbPpl60uLi4uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2hvd1RvYXN0KHRpdGxlLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGlmICghZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgZHVyYXRpb24gPSAzMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5RUV9QTEFZKSB7XHJcbiAgICAgICAgICAgIEJLLlVJLnNob3dUb2FzdCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQktUb29scyBzaG93VG9hc3QgY29tcGxldGU6XCIgKyB0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5byA5ZCv5bGP5bmV5bi45LquXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBrZWVwU2NyZWVuT24oKSB7XHJcbiAgICAgICAgQksuRGV2aWNlLmtlZXBTY3JlZW5Pbih7XHJcbiAgICAgICAgICAgIGlzS2VlcE9uOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWPlua2iOWxj+W5leW4uOS6rlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2FuY2VsS2VlcFNjcmVlbk9uKCkge1xyXG4gICAgICAgIEJLLkRldmljZS5rZWVwU2NyZWVuT24oe1xyXG4gICAgICAgICAgICBpc0tlZXBPbjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/sdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '39d4a0B6RRGXqBM/1udBqAy', 'sdk');
// framework/wxsdk/sdk.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.wxsdk = void 0;
var EventManager_1 = require("../plugin_boosts/utils/EventManager");
var GameConfigs_1 = require("./GameConfigs");
var Global = /** @class */ (function () {
    function Global() {
    }
    Global.videoAd = undefined;
    Global.bannerAd = undefined;
    Global.videoAdLoadCount = 0; //视频广告加载次数
    Global.bannerAdLoadCount = 0; //banner广告加载次数
    return Global;
}());
var WxSdk = /** @class */ (function () {
    function WxSdk() {
    }
    Object.defineProperty(WxSdk.prototype, "Ver", {
        get: function () { return this._version; },
        enumerable: false,
        configurable: true
    });
    WxSdk.prototype.init = function () {
        if (g.iswxgame()) {
            if (this._version == null) {
                this._systemInfo = wx.getSystemInfoSync();
                var ver = this._systemInfo.SDKVersion.replace(/\./g, "");
                this._version = parseInt(ver);
            }
        }
    };
    WxSdk.prototype.requestDB = function (tbname, callback, target) {
        this._db.collection(tbname).get({
            success: function (res) {
                console.log("get " + tbname + " succ:", res.data);
                // self._shareConfig = res.data;
                if (callback)
                    callback.call(target, res.data);
            },
            fail: function (res) {
                console.log("get " + tbname + " fail:");
                if (callback)
                    callback.call(target);
            }
        });
    };
    WxSdk.prototype.requestConfig = function (callback) {
        this._db.collection("t_conf").get({
            success: function (res) {
                console.log("get configs succ:", res.data);
                // self._shareConfig = res.data;
                if (callback)
                    callback(res.data);
            },
            fail: function (res) {
                console.log("get configs fail:", res);
                if (callback)
                    callback(null);
            }
        });
    };
    WxSdk.prototype.requestShareContent = function (callback) {
        var self = this;
        if (this._shareConfig == null) {
            this._db.collection("t_share").get({
                success: function (res) {
                    console.log("share configs succ:", res.data);
                    self._shareConfig = res.data;
                    if (res.data && res.data.length > 0) {
                        var len = res.data.length;
                        var info = res.data[g.randomInt(0, len)];
                        if (callback)
                            callback(info);
                    }
                    else {
                        if (callback)
                            callback(null);
                    }
                }, fail: function (res) {
                    console.log("share configs fail:", res);
                    if (callback)
                        callback(null);
                }
            });
        }
        else {
            var len = this._shareConfig.length;
            var info = this._shareConfig[g.randomInt(0, len)];
            if (callback)
                callback(info);
        }
    };
    WxSdk.prototype.getShareContentSync = function () {
        if (this._shareConfig && this._shareConfig.length > 0) {
            var len = this._shareConfig.length;
            var info = this._shareConfig[g.randomInt(0, len)];
            return info;
        }
        else {
            return { title: GameConfigs_1.GameConfig.default_share_title, imageUrl: cc.url.raw(GameConfigs_1.GameConfig.deafult_share_imgUrl) };
        }
    };
    WxSdk.prototype.getShareContent = function (title) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.requestShareContent(function (info) {
                if (info)
                    resolve(info);
                else {
                    // reject("share config get failed!")
                    var ret = {
                        title: title || GameConfigs_1.GameConfig.default_share_title,
                        imageUrl: cc.url.raw(GameConfigs_1.GameConfig.deafult_share_imgUrl),
                    };
                    resolve(ret);
                }
            });
        });
    };
    WxSdk.prototype.openShare = function (title, uuid, extra) {
        if (extra === void 0) { extra = ""; }
        return __awaiter(this, void 0, void 0, function () {
            var info;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!g.iswxgame())
                            return [2 /*return*/];
                        return [4 /*yield*/, this.getShareContent(title)];
                    case 1:
                        info = _a.sent();
                        console.log(info);
                        if (info != null) {
                            // if(this._userInfo && this._userInfo.openId)
                            uuid = uuid || (this._userInfo && this._userInfo.openId) || 0;
                            info.query = "share_id=" + uuid + "&time=" + new Date().getTime() + "&" + extra;
                            // info.callback = ret=>{
                            //     console.error("=>>>>>>>share:" ,ret);
                            // }
                            console.log("open Share", info.query);
                            wx.shareAppMessage(info);
                            // this.recordShare(Share.GAME, uuid);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    WxSdk.prototype.createButton = function (callback, x, y, width, height) {
        console.log("-------------createButton");
        var button = wx.createUserInfoButton({
            type: "text",
            text: "     ",
            style: {
                x: x || 0, y: y || 0,
                width: width || cc.winSize.width,
                height: height || cc.winSize.height,
                lineHeight: 40,
                backgroundColor: '#00000000',
                color: '#ffffff'
            }
        });
        button.onTap(function (res) {
            button.destroy();
            if (res && res.userInfo) {
                if (callback)
                    callback(res);
            }
            else if (callback)
                callback(null);
        });
    };
    Object.defineProperty(WxSdk.prototype, "userInfo", {
        get: function () {
            return this._userInfo.userInfo;
        },
        enumerable: false,
        configurable: true
    });
    WxSdk.prototype.getUserInfo = function (callback) {
        console.log("-------------getUserInfo");
        wx.getUserInfo({
            withCredentials: true,
            lang: "zh_CN",
            success: function (res) {
                console.log("getUserInfo success.", res);
                if (callback)
                    callback(res);
            }, fail: function (res) {
                console.log("getUserInfo:", res);
                if (callback)
                    callback(null);
            },
            complete: null
        });
    };
    WxSdk.prototype.oldAuthUser = function (callback) {
        wx.authorize({
            scope: "scope.userInfo",
            success: function (res) {
                console.log(res);
                if (callback)
                    callback(true);
            }, fail: function (res) {
                console.log(res);
                if (callback)
                    callback(false);
            },
            complete: null
        });
    };
    WxSdk.prototype.authUserInfo = function (callback) {
        this.wxLogin(function (isLogin) {
            if (!isLogin)
                return;
            wx.getSetting({
                success: function (res) {
                    var auth = res.authSetting;
                    if (auth["scope.userInfo"]) {
                        if (callback)
                            callback(true);
                    }
                    else if (callback)
                        callback(false);
                },
                fail: null,
                complete: null,
            });
        });
    };
    WxSdk.prototype.showShareMenu = function () {
        var self = this;
        wx.showShareMenu({
            withShareTicket: true,
            success: function (res) {
                console.log(res);
            }, fail: function (res) {
                console.log(res);
            },
            complete: null
        });
        wx.onShareAppMessage(function () {
            var content = self.getShareContentSync();
            return content;
        });
    };
    WxSdk.prototype.wxLogin = function (callback) {
        wx.login({
            success: function (res) {
                console.log("code ", res.code);
                if (callback)
                    callback(true);
            }, fail: function (res) {
                if (callback)
                    callback(false);
            },
            complete: null
        });
    };
    WxSdk.prototype.loginToServer = function (userInfo) {
        if (userInfo == null)
            userInfo = {};
        this._userInfo = userInfo;
        userInfo.parentId = this._parentId;
        this.showShareMenu();
        EventManager_1.event.emit("wxlogin");
    };
    WxSdk.prototype.login = function (x, y, width, height) {
        if (!g.iswxgame())
            return;
        var self = this;
        wx.cloud.init({ traceUser: true });
        // this._db = wx.cloud.database({env: "release-2c87c4"});//测试环境
        this._db = wx.cloud.database();
        self.authUserInfo(function (isAuth) {
            if (self._userInfo == null ||
                self._userInfo.userInfo == null) {
                if (self._version >= 220 && !isAuth) {
                    self.createButton(function (userInfo) {
                        self.loginToServer(userInfo);
                    }, x, y, width, height);
                }
                else {
                    if (!isAuth) {
                        self.oldAuthUser(function (isAuth) {
                            if (isAuth) {
                                self.getUserInfo(function (userInfo) {
                                    self.loginToServer(userInfo);
                                });
                            }
                            else
                                self.loginToServer(null);
                        });
                    }
                    else
                        self.getUserInfo(function (userInfo) {
                            self.loginToServer(userInfo);
                        });
                }
            }
        });
    };
    WxSdk.prototype.getParent = function () {
        if (!g.iswxgame())
            return "";
        var info = wx.getLaunchOptionsSync();
        if (info.scene == 1007 || info.scene == 1008) { //通过分享进入游戏
            var openId = info.query["user_id"];
            return openId;
        }
        return ""; //默认
    };
    //发送消息到子域
    WxSdk.prototype.postMessage = function (cmd, data) {
        if (g.iswxgame()) {
            wx.getOpenDataContext().postMessage({
                cmd: cmd,
                data: data
            });
        }
    };
    WxSdk.prototype.uploadScore = function (score, callback) {
        var kvDataList = new Array();
        kvDataList.push({
            key: "score",
            value: score + ""
        });
        var obj = {
            KVDataList: kvDataList,
            success: function (d) {
                if (callback)
                    callback(d);
            },
            fail: function () { },
            complete: function () { },
        };
        wx.setUserCloudStorage(obj);
        // "wxgame": {
        //     "score": 16,
        //     "update_time": 1513080573
        // },
        // "cost_ms": 36500
    };
    WxSdk.prototype.loadBannerAd = function (callback) {
        var _this = this;
        if (Global.bannerAd) {
            Global.bannerAd.destroy();
        }
        if (!this._systemInfo)
            this._systemInfo = wx.getSystemInfoSync();
        var bannerAd = wx.createBannerAd({
            adUnitId: 'adunit-fe3c074ad86d1b59',
            style: {
                left: 0,
                top: 0,
                width: this._systemInfo.windowWidth
            }
        });
        bannerAd.onLoad(function () {
            Global.bannerAd = bannerAd;
            Global.bannerAdLoadCount = 0;
            bannerAd.style.left = _this._systemInfo.windowWidth / 2 - bannerAd.style.realWidth / 2;
            bannerAd.style.top = _this._systemInfo.windowHeight - bannerAd.style.realHeight;
            if (callback)
                callback("load", bannerAd);
        });
        bannerAd.onError(function (err) {
            //加载失败
            console.log("wxsdk onError code:" + err.code + " msg:" + err.msg);
            Global.bannerAdLoadCount += 1;
            if (Global.bannerAdLoadCount < 4) {
                _this.loadBannerAd(callback);
            }
            if (callback)
                callback("error");
        });
    };
    WxSdk.prototype.showBannerAd = function () {
        var _this = this;
        console.log("Wxsdk 显示banner广告", Global.bannerAd);
        if (Global.bannerAd) {
            Global.bannerAd.show();
        }
        else {
            console.log("Wxsdk 不存在banner资源....");
            this.loadBannerAd(function (v, ad) {
                if (v == "load") {
                    _this.showBannerAd();
                }
            });
        }
    };
    WxSdk.prototype.hideBannerAd = function () {
        if (Global.bannerAd) {
            Global.bannerAd.hide();
            // Global.bannerAd = null;
        }
    };
    WxSdk.prototype.loadVideoAd = function (callback) {
        var _this = this;
        console.log("============wxsdk.loadVideoAD");
        // if (!Global.videoAd ) { //如果没有广告资源就加载新的视频广告
        var videoAd = wx.createRewardedVideoAd({
            adUnitId: 'adunit-5214efbe348a768c'
        });
        this.hideBannerAd();
        videoAd.load().then(function () { videoAd.show(); });
        videoAd.onError(function (err) {
            //加载失败
            Global.videoAdLoadCount += 1;
            //尝试4次
            if (Global.videoAdLoadCount < 4) {
                _this.loadVideoAd(callback);
            }
            if (callback)
                callback("error");
        });
        videoAd.onClose(function (ret) {
            //播放结束
            console.log("wxsdk onClose...");
            if (callback)
                callback("close", ret.isEnded);
            Global.videoAd = null;
        });
        videoAd.onLoad(function () {
            //加载成功
            console.log("wxsdk onLoad");
            Global.videoAd = videoAd;
            Global.videoAdLoadCount = 0;
            _this.showBannerAd();
            if (callback)
                callback("load", videoAd);
        });
    };
    return WxSdk;
}());
exports.wxsdk = new WxSdk();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcc2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0VBQTREO0FBQzVELDZDQUEyQztBQUUzQztJQUFBO0lBT0EsQ0FBQztJQUxVLGNBQU8sR0FBRSxTQUFTLENBQUE7SUFDbEIsZUFBUSxHQUFFLFNBQVMsQ0FBQTtJQUVuQix1QkFBZ0IsR0FBRSxDQUFDLENBQUEsQ0FBQyxVQUFVO0lBQzlCLHdCQUFpQixHQUFFLENBQUMsQ0FBQSxDQUFDLGNBQWM7SUFDOUMsYUFBQztDQVBELEFBT0MsSUFBQTtBQUNEO0lBQUE7SUE0WUEsQ0FBQztJQW5ZRyxzQkFBVyxzQkFBRzthQUFkLGNBQTJCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQ2xELG9CQUFJLEdBQUo7UUFDSSxJQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUNiLElBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQ3hCO2dCQUNJLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQzFDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQ3hELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2pDO1NBQ0o7SUFDTCxDQUFDO0lBRUQseUJBQVMsR0FBVCxVQUFVLE1BQU0sRUFBQyxRQUFRLEVBQUMsTUFBTTtRQUU1QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDNUIsT0FBTyxFQUFFLFVBQVMsR0FBRztnQkFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUUsTUFBTSxHQUFFLFFBQVEsRUFBRyxHQUFHLENBQUMsSUFB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LENBQUMsTUFBTSxFQUFHLE9BQU8sQ0FBQyxDQUFBO1FBQzNDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVMLFlBQUM7QUFBRCxDQTVZQSxBQTRZQyxJQUFBO0FBRVUsUUFBQSxLQUFLLEdBQVMsSUFBSSxLQUFLLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3BsdWdpbl9ib29zdHMvdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEdhbWVDb25maWcgfSBmcm9tIFwiLi9HYW1lQ29uZmlnc1wiO1xyXG5cclxuY2xhc3MgR2xvYmFsXHJcbntcclxuICAgIHN0YXRpYyB2aWRlb0FkPSB1bmRlZmluZWRcclxuICAgIHN0YXRpYyBiYW5uZXJBZD0gdW5kZWZpbmVkXHJcblxyXG4gICAgc3RhdGljIHZpZGVvQWRMb2FkQ291bnQ9IDAgLy/op4bpopHlub/lkYrliqDovb3mrKHmlbBcclxuICAgIHN0YXRpYyBiYW5uZXJBZExvYWRDb3VudD0gMCAvL2Jhbm5lcuW5v+WRiuWKoOi9veasoeaVsFxyXG59XHJcbmNsYXNzIFd4U2RrIHtcclxuICAgIFxyXG4gICAgX3VzZXJJbmZvOiBhbnk7XHJcbiAgICBfcGFyZW50SWQ6IGFueTtcclxuICAgIF9zaGFyZUNvbmZpZzogYW55O1xyXG4gICAgX2RiOmFueTtcclxuICAgIF92ZXJzaW9uOiBudW1iZXI7XHJcbiAgICBfc3lzdGVtSW5mbzphbnk7XHJcblxyXG4gICAgcHVibGljIGdldCBWZXIoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3ZlcnNpb247IH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYoZy5pc3d4Z2FtZSgpKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3ZlcnNpb24gPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3lzdGVtSW5mbyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmVyID0gdGhpcy5fc3lzdGVtSW5mby5TREtWZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCBcIlwiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVyc2lvbiA9IHBhcnNlSW50KHZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdERCKHRibmFtZSxjYWxsYmFjayx0YXJnZXQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fZGIuY29sbGVjdGlvbih0Ym5hbWUpLmdldCh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldCBcIisgdGJuYW1lICtcIiBzdWNjOlwiICwgcmVzLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAvLyBzZWxmLl9zaGFyZUNvbmZpZyA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spY2FsbGJhY2suY2FsbCh0YXJnZXQscmVzLmRhdGEpO1xyXG4gICAgICAgICAgICB9LCBmYWlsOiAocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXQgXCIrIHRibmFtZSArXCIgZmFpbDpcIilcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKHRhcmdldClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3RDb25maWcoY2FsbGJhY2spXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fZGIuY29sbGVjdGlvbihcInRfY29uZlwiKS5nZXQoe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXQgY29uZmlncyBzdWNjOlwiICwgcmVzLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAvLyBzZWxmLl9zaGFyZUNvbmZpZyA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spY2FsbGJhY2socmVzLmRhdGEpO1xyXG4gICAgICAgICAgICB9LCBmYWlsOiAocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXQgY29uZmlncyBmYWlsOlwiICwgcmVzKVxyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlcXVlc3RTaGFyZUNvbnRlbnQoY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYodGhpcy5fc2hhcmVDb25maWcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYi5jb2xsZWN0aW9uKFwidF9zaGFyZVwiKS5nZXQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNoYXJlIGNvbmZpZ3Mgc3VjYzpcIiAsIHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3NoYXJlQ29uZmlnID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGVuID0gcmVzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IHJlcy5kYXRhW2cucmFuZG9tSW50KDAsIGxlbildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjayljYWxsYmFjayhpbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGFyZSBjb25maWdzIGZhaWw6XCIgLCByZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLl9zaGFyZUNvbmZpZy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGxldCBpbmZvID0gdGhpcy5fc2hhcmVDb25maWdbZy5yYW5kb21JbnQoMCwgbGVuKV07XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhpbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2hhcmVDb250ZW50U3luYygpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fc2hhcmVDb25maWcgJiYgdGhpcy5fc2hhcmVDb25maWcubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLl9zaGFyZUNvbmZpZy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGxldCBpbmZvID0gdGhpcy5fc2hhcmVDb25maWdbZy5yYW5kb21JbnQoMCwgbGVuKV07XHJcbiAgICAgICAgICAgIHJldHVybiBpbmZvXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB7dGl0bGU6R2FtZUNvbmZpZy5kZWZhdWx0X3NoYXJlX3RpdGxlLGltYWdlVXJsOmNjLnVybC5yYXcoR2FtZUNvbmZpZy5kZWFmdWx0X3NoYXJlX2ltZ1VybCl9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U2hhcmVDb250ZW50KHRpdGxlPyk6UHJvbWlzZTx7dGl0bGU6c3RyaW5nLGltYWdlVXJsOnN0cmluZyxxdWVyeT86c3RyaW5nLHN1Y2Nlc3M/OihyZXM6YW55KT0+dm9pZH0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RTaGFyZUNvbnRlbnQoaW5mbz0+e1xyXG4gICAgICAgICAgICAgICAgaWYoaW5mbylcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGluZm8pXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWplY3QoXCJzaGFyZSBjb25maWcgZ2V0IGZhaWxlZCFcIilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV0PSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSB8fCBHYW1lQ29uZmlnLmRlZmF1bHRfc2hhcmVfdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBjYy51cmwucmF3KEdhbWVDb25maWcuZGVhZnVsdF9zaGFyZV9pbWdVcmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbWFnZVVybDogXCJodHRwczovLzc0NjUtdGVzLTMxM2Y1Ni0xMjU3NjMwMTgwLnRjYi5xY2xvdWQubGEvc2hhcmUveHVhbmNodWFuXzEucG5nP3NpZ249NjUxMzA2ZGRjZDlkZDJmMjRlYTE0ZDI0ZTFkYWRjMGUmdD0xNTM3MDI0NTU4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmV0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9wZW5TaGFyZSh0aXRsZT8gLHV1aWQ/LGV4dHJhID0gXCJcIikge1xyXG4gICAgICAgIGlmKCFnLmlzd3hnYW1lKCkpIHJldHVybjtcclxuICAgICAgICBsZXQgaW5mbyA9IGF3YWl0IHRoaXMuZ2V0U2hhcmVDb250ZW50KHRpdGxlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbmZvKTtcclxuICAgICAgICBpZihpbmZvICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaWYodGhpcy5fdXNlckluZm8gJiYgdGhpcy5fdXNlckluZm8ub3BlbklkKVxyXG4gICAgICAgICAgICB1dWlkID0gdXVpZCB8fCAodGhpcy5fdXNlckluZm8gJiZ0aGlzLl91c2VySW5mby5vcGVuSWQpIHx8IDBcclxuICAgICAgICAgICAgaW5mby5xdWVyeSA9IFwic2hhcmVfaWQ9XCIrdXVpZCArIFwiJnRpbWU9XCIrIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgXCImXCIgK2V4dHJhO1xyXG4gICAgICAgICAgICAvLyBpbmZvLmNhbGxiYWNrID0gcmV0PT57XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKFwiPT4+Pj4+Pj5zaGFyZTpcIiAscmV0KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9wZW4gU2hhcmVcIixpbmZvLnF1ZXJ5KVxyXG4gICAgICAgICAgICB3eC5zaGFyZUFwcE1lc3NhZ2UoaW5mbyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVjb3JkU2hhcmUoU2hhcmUuR0FNRSwgdXVpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlQnV0dG9uKGNhbGxiYWNrLCB4PywgeT8sIHdpZHRoPywgaGVpZ2h0Pykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLWNyZWF0ZUJ1dHRvblwiKTtcclxuICAgICAgICBsZXQgYnV0dG9uID0gd3guY3JlYXRlVXNlckluZm9CdXR0b24oe1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgdGV4dDpcIiAgICAgXCIsXHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICB4OiB4IHx8IDAsIHk6IHkgfHwgMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCB8fCBjYy53aW5TaXplLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgY2Mud2luU2l6ZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OjQwLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOicjMDAwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6JyNmZmZmZmYnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBidXR0b24ub25UYXAoZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgYnV0dG9uLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgaWYocmVzICYmIHJlcy51c2VySW5mbykge1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKHJlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihjYWxsYmFjaykgY2FsbGJhY2sobnVsbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJbmZvLnVzZXJJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VXNlckluZm8oY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS1nZXRVc2VySW5mb1wiKTtcclxuICAgICAgICB3eC5nZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcclxuICAgICAgICAgICAgbGFuZzogXCJ6aF9DTlwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRVc2VySW5mbyBzdWNjZXNzLlwiLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKHJlcyk7XHJcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldFVzZXJJbmZvOlwiLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogbnVsbFxyXG4gICAgICAgIH0pOyAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9sZEF1dGhVc2VyKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgd3guYXV0aG9yaXplKHtcclxuICAgICAgICAgICAgc2NvcGU6IFwic2NvcGUudXNlckluZm9cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgfSwgY29tcGxldGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhdXRoVXNlckluZm8oY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgdGhpcy53eExvZ2luKChpc0xvZ2luKT0+e1xyXG4gICAgICAgICAgICBpZighaXNMb2dpbikgcmV0dXJuO1xyXG4gICAgICAgICAgICB3eC5nZXRTZXR0aW5nKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXMpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1dGggPSByZXMuYXV0aFNldHRpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXV0aFtcInNjb3BlLnVzZXJJbmZvXCJdKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSwgZmFpbDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBudWxsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2hvd1NoYXJlTWVudSgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgd3guc2hvd1NoYXJlTWVudSh7XHJcbiAgICAgICAgICAgIHdpdGhTaGFyZVRpY2tldDogdHJ1ZSxcclxuICAgICAgICAgICAgc3VjY2VzczogKHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgIH0sZmFpbDogKHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgIH0sY29tcGxldGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICB3eC5vblNoYXJlQXBwTWVzc2FnZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IHNlbGYuZ2V0U2hhcmVDb250ZW50U3luYygpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSB3eExvZ2luKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgd3gubG9naW4oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb2RlIFwiLCByZXMuY29kZSk7XHJcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIGZhaWw6IChyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICB9LCBjb21wbGV0ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvZ2luVG9TZXJ2ZXIodXNlckluZm8pIHtcclxuICAgICAgICBpZih1c2VySW5mbz09bnVsbCkgdXNlckluZm89e307XHJcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mbztcclxuICAgICAgICB1c2VySW5mby5wYXJlbnRJZCA9IHRoaXMuX3BhcmVudElkO1xyXG4gICAgICAgIHRoaXMuc2hvd1NoYXJlTWVudSgpO1xyXG4gICAgICAgIGV2ZW50LmVtaXQoXCJ3eGxvZ2luXCIpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2dpbih4PywgeT8sIHdpZHRoPywgaGVpZ2h0Pyl7XHJcbiAgICAgICAgaWYoIWcuaXN3eGdhbWUoKSlyZXR1cm5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgd3guY2xvdWQuaW5pdCh7dHJhY2VVc2VyOiB0cnVlfSk7XHJcbiAgICAgICAgLy8gdGhpcy5fZGIgPSB3eC5jbG91ZC5kYXRhYmFzZSh7ZW52OiBcInJlbGVhc2UtMmM4N2M0XCJ9KTsvL+a1i+ivleeOr+Wig1xyXG4gICAgICAgIHRoaXMuX2RiID0gd3guY2xvdWQuZGF0YWJhc2UoKTtcclxuXHJcbiAgICAgICAgc2VsZi5hdXRoVXNlckluZm8oKGlzQXV0aCk9PntcclxuICAgICAgICAgICAgaWYoc2VsZi5fdXNlckluZm8gPT0gbnVsbCB8fCBcclxuICAgICAgICAgICAgICAgIHNlbGYuX3VzZXJJbmZvLnVzZXJJbmZvID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgaWYoc2VsZi5fdmVyc2lvbiA+PSAyMjAgJiYgIWlzQXV0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnV0dG9uKCh1c2VySW5mbyk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dpblRvU2VydmVyKHVzZXJJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWlzQXV0aCl7IHNlbGYub2xkQXV0aFVzZXIoKGlzQXV0aCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNBdXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdldFVzZXJJbmZvKCh1c2VySW5mbyk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2luVG9TZXJ2ZXIodXNlckluZm8pOyAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Ugc2VsZi5sb2dpblRvU2VydmVyKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pfSBlbHNlIHNlbGYuZ2V0VXNlckluZm8oKHVzZXJJbmZvKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2luVG9TZXJ2ZXIodXNlckluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBhcmVudCgpIHtcclxuICAgICAgICBpZighZy5pc3d4Z2FtZSgpKSByZXR1cm4gXCJcIlxyXG4gICAgICAgIGxldCBpbmZvID0gd3guZ2V0TGF1bmNoT3B0aW9uc1N5bmMoKTtcclxuICAgICAgICBpZihpbmZvLnNjZW5lID09IDEwMDcgfHwgaW5mby5zY2VuZSA9PSAxMDA4KSB7Ly/pgJrov4fliIbkuqvov5vlhaXmuLjmiI9cclxuICAgICAgICAgICAgbGV0IG9wZW5JZCA9IGluZm8ucXVlcnlbXCJ1c2VyX2lkXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gb3BlbklkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiOyAvL+m7mOiupFxyXG4gICAgfVxyXG5cclxuICAgIC8v5Y+R6YCB5raI5oGv5Yiw5a2Q5Z+fXHJcbiAgICBwdWJsaWMgcG9zdE1lc3NhZ2UoY21kLCBkYXRhPykge1xyXG4gICAgICAgIGlmKGcuaXN3eGdhbWUoKSkge1xyXG4gICAgICAgICAgICB3eC5nZXRPcGVuRGF0YUNvbnRleHQoKS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICBjbWQ6IGNtZCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGxvYWRTY29yZShzY29yZSxjYWxsYmFjaz8pXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGt2RGF0YUxpc3Q9bmV3IEFycmF5KCk7XHJcbiAgICAgICAga3ZEYXRhTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAga2V5Olwic2NvcmVcIixcclxuICAgICAgICAgICAgdmFsdWU6c2NvcmUrXCJcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICBLVkRhdGFMaXN0Omt2RGF0YUxpc3QsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soZClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDpmdW5jdGlvbigpe30sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxcclxuICAgICAgICB9XHJcbiAgICAgICAgd3guc2V0VXNlckNsb3VkU3RvcmFnZShvYmopXHJcbiAgICAgICAgLy8gXCJ3eGdhbWVcIjoge1xyXG4gICAgICAgIC8vICAgICBcInNjb3JlXCI6IDE2LFxyXG4gICAgICAgIC8vICAgICBcInVwZGF0ZV90aW1lXCI6IDE1MTMwODA1NzNcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIC8vIFwiY29zdF9tc1wiOiAzNjUwMFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkQmFubmVyQWQoY2FsbGJhY2s/KXtcclxuICAgICAgICBpZihHbG9iYWwuYmFubmVyQWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWQuZGVzdHJveSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCF0aGlzLl9zeXN0ZW1JbmZvKVxyXG4gICAgICAgICAgICB0aGlzLl9zeXN0ZW1JbmZvID0gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKTtcclxuICAgICAgICBsZXQgYmFubmVyQWQgPSB3eC5jcmVhdGVCYW5uZXJBZCh7XHJcbiAgICAgICAgICAgIGFkVW5pdElkOiAnYWR1bml0LWZlM2MwNzRhZDg2ZDFiNTknLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMCwvL2NjLnZpc2libGVSZWN0LmhlaWdodFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuX3N5c3RlbUluZm8ud2luZG93V2lkdGhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgYmFubmVyQWQub25Mb2FkKCgpPT57XHJcbiAgICAgICAgICAgIEdsb2JhbC5iYW5uZXJBZCA9IGJhbm5lckFkO1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWRMb2FkQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBiYW5uZXJBZC5zdHlsZS5sZWZ0ID0gdGhpcy5fc3lzdGVtSW5mby53aW5kb3dXaWR0aC8yIC0gYmFubmVyQWQuc3R5bGUucmVhbFdpZHRoLzI7XHJcbiAgICAgICAgICAgIGJhbm5lckFkLnN0eWxlLnRvcCA9IHRoaXMuX3N5c3RlbUluZm8ud2luZG93SGVpZ2h0IC0gYmFubmVyQWQuc3R5bGUucmVhbEhlaWdodDtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwibG9hZFwiICxiYW5uZXJBZClcclxuICAgICAgICB9KVxyXG4gICAgICAgIGJhbm5lckFkLm9uRXJyb3IoKGVycikgPT57XHJcbiAgICAgICAgICAgIC8v5Yqg6L295aSx6LSlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid3hzZGsgb25FcnJvciBjb2RlOlwiICsgZXJyLmNvZGUgKyBcIiBtc2c6XCIgKyBlcnIubXNnKTtcclxuICAgICAgICAgICAgR2xvYmFsLmJhbm5lckFkTG9hZENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgIGlmIChHbG9iYWwuYmFubmVyQWRMb2FkQ291bnQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYW5uZXJBZChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiZXJyb3JcIilcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0Jhbm5lckFkKCk6IGFueSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJXeHNkayDmmL7npLpiYW5uZXLlub/lkYpcIixHbG9iYWwuYmFubmVyQWQpXHJcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWQuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV3hzZGsg5LiN5a2Y5ZyoYmFubmVy6LWE5rqQLi4uLlwiKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkQmFubmVyQWQoKHYsYWQpPT57XHJcbiAgICAgICAgICAgICAgICBpZih2PT1cImxvYWRcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCYW5uZXJBZCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlQmFubmVyQWQoKSB7XHJcbiAgICAgICAgaWYgKEdsb2JhbC5iYW5uZXJBZCkge1xyXG4gICAgICAgICAgICBHbG9iYWwuYmFubmVyQWQuaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyBHbG9iYWwuYmFubmVyQWQgPSBudWxsO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFZpZGVvQWQoY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PXd4c2RrLmxvYWRWaWRlb0FEXCIpO1xyXG4gICAgICAgIC8vIGlmICghR2xvYmFsLnZpZGVvQWQgKSB7IC8v5aaC5p6c5rKh5pyJ5bm/5ZGK6LWE5rqQ5bCx5Yqg6L295paw55qE6KeG6aKR5bm/5ZGKXHJcbiAgICAgICAgbGV0IHZpZGVvQWQgPSB3eC5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe1xyXG4gICAgICAgICAgICBhZFVuaXRJZDogJ2FkdW5pdC01MjE0ZWZiZTM0OGE3NjhjJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5oaWRlQmFubmVyQWQoKTtcclxuICAgICAgICB2aWRlb0FkLmxvYWQoKS50aGVuKCgpPT57dmlkZW9BZC5zaG93KCk7fSk7XHJcbiAgICAgICAgdmlkZW9BZC5vbkVycm9yKGVycj0+IHtcclxuICAgICAgICAgICAgLy/liqDovb3lpLHotKVcclxuICAgICAgICAgICAgR2xvYmFsLnZpZGVvQWRMb2FkQ291bnQgKz0gMTtcclxuICAgICAgICAgICAgLy/lsJ3or5U05qyhXHJcbiAgICAgICAgICAgIGlmIChHbG9iYWwudmlkZW9BZExvYWRDb3VudCA8IDQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFZpZGVvQWQoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImVycm9yXCIpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZpZGVvQWQub25DbG9zZShmdW5jdGlvbiAocmV0KSB7XHJcbiAgICAgICAgICAgIC8v5pKt5pS+57uT5p2fXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid3hzZGsgb25DbG9zZS4uLlwiKTtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFwiY2xvc2VcIixyZXQuaXNFbmRlZClcclxuICAgICAgICAgICAgR2xvYmFsLnZpZGVvQWQgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2aWRlb0FkLm9uTG9hZCgoKT0+e1xyXG4gICAgICAgICAgICAvL+WKoOi9veaIkOWKn1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInd4c2RrIG9uTG9hZFwiKTtcclxuICAgICAgICAgICAgR2xvYmFsLnZpZGVvQWQgPSB2aWRlb0FkO1xyXG4gICAgICAgICAgICBHbG9iYWwudmlkZW9BZExvYWRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Jhbm5lckFkKCk7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhcImxvYWRcIiAsIHZpZGVvQWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgbGV0IHd4c2RrOld4U2RrID0gbmV3IFd4U2RrKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/wxsdk/AddToMyFav.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7431S0vqlPiqNKDpwvWLTc', 'AddToMyFav');
// framework/wxsdk/AddToMyFav.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../Platform");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PositionType;
(function (PositionType) {
    PositionType[PositionType["left"] = 0] = "left";
    PositionType[PositionType["bottom"] = 1] = "bottom";
    PositionType[PositionType["auto"] = 2] = "auto";
})(PositionType || (PositionType = {}));
var AddToMyFav = /** @class */ (function (_super) {
    __extends(AddToMyFav, _super);
    function AddToMyFav() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pointer = null;
        _this.posType = PositionType.auto;
        _this.hideAfterSec = 30;
        _this.widget = null;
        return _this;
    }
    AddToMyFav.prototype.onLoad = function () {
        this.widget = this.getComponent(cc.Widget);
    };
    AddToMyFav.prototype.start = function () {
        if (cc.sys.platform == cc.sys.WECHAT_GAME) {
            var options = Platform_1.default.getLaunchOptions();
            console.log("场景值 :", options);
            if (options.scene == 1001 || options.scene == 1089) {
                this.node.active = false;
                return;
            }
        }
        // if(g.isNextDay(UserInfo.showAddFavTime) )
        // {
        //     UserInfo.showAddFavTime = new Date().getTime();
        // }else{
        //     this.node.active = false;
        //     return;
        // }
        if (this.posType == PositionType.auto) {
            var ratio = cc.winSize.height / cc.winSize.width;
            if (ratio > 1.98) {
                this.showStyle2();
            }
            else {
                this.showStyle1();
            }
        }
        else if (this.posType == PositionType.bottom) {
            this.showStyle1();
        }
        else if (this.posType == PositionType.left) {
            this.showStyle2();
        }
        this.scheduleOnce(this.click_hide, this.hideAfterSec);
    };
    AddToMyFav.prototype.click_hide = function () {
        this.node.active = false;
    };
    AddToMyFav.prototype.showStyle1 = function () {
        this.pointer.rotation = 0;
        this.widget.top = 128;
        this.widget.right = 140;
        this.widget.updateAlignment();
    };
    AddToMyFav.prototype.showStyle2 = function () {
        this.pointer.rotation = 90;
        this.widget.top = 40;
        this.widget.right = 300;
        this.widget.updateAlignment();
    };
    __decorate([
        property(cc.Node)
    ], AddToMyFav.prototype, "pointer", void 0);
    __decorate([
        property({ type: cc.Enum(PositionType) })
    ], AddToMyFav.prototype, "posType", void 0);
    __decorate([
        property()
    ], AddToMyFav.prototype, "hideAfterSec", void 0);
    AddToMyFav = __decorate([
        ccclass
    ], AddToMyFav);
    return AddToMyFav;
}(cc.Component));
exports.default = AddToMyFav;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFx3eHNka1xcQWRkVG9NeUZhdi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esd0NBQW1DO0FBRTdCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDLElBQUssWUFLSjtBQUxELFdBQUssWUFBWTtJQUViLCtDQUFJLENBQUE7SUFDSixtREFBTSxDQUFBO0lBQ04sK0NBQUksQ0FBQTtBQUNSLENBQUMsRUFMSSxZQUFZLEtBQVosWUFBWSxRQUtoQjtBQUdEO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBNkVDO1FBMUVHLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFHdkIsYUFBTyxHQUFnQixZQUFZLENBQUMsSUFBSSxDQUFDO1FBR3pDLGtCQUFZLEdBQVUsRUFBRSxDQUFDO1FBRXpCLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBa0U1QixDQUFDO0lBaEVHLDJCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCwwQkFBSyxHQUFMO1FBQ0ksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFDeEM7WUFDSSxJQUFJLE9BQU8sR0FBRyxrQkFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUE7WUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDOUIsSUFBRyxPQUFPLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLElBQUksRUFDakQ7Z0JBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUN6QixPQUFPO2FBQ1Y7U0FDSjtRQUNELDRDQUE0QztRQUM1QyxJQUFJO1FBQ0osc0RBQXNEO1FBQ3RELFNBQVM7UUFDVCxnQ0FBZ0M7UUFDaEMsY0FBYztRQUNkLElBQUk7UUFDSixJQUFHLElBQUksQ0FBQyxPQUFPLElBQUksWUFBWSxDQUFDLElBQUksRUFDcEM7WUFDSSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUMvQyxJQUFHLEtBQUssR0FBRyxJQUFJLEVBQ2Y7Z0JBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ3JCO2lCQUFJO2dCQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzthQUNyQjtTQUNKO2FBQUssSUFBRyxJQUFJLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQzVDO1lBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ3BCO2FBQ0ksSUFBRyxJQUFJLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQ3pDO1lBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ3BCO1FBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLENBQUE7SUFDakMsQ0FBQztJQUdELCtCQUFVLEdBQVY7UUFFSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFBO0lBQ2pDLENBQUM7SUF6RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDSztJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLENBQUM7K0NBQ0U7SUFHekM7UUFEQyxRQUFRLEVBQUU7b0RBQ2M7SUFUUixVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBNkU5QjtJQUFELGlCQUFDO0NBN0VELEFBNkVDLENBN0V1QyxFQUFFLENBQUMsU0FBUyxHQTZFbkQ7a0JBN0VvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vLi4vR2FtZS9TY3JpcHRzL0luZm9cIjtcclxuaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi9QbGF0Zm9ybVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuZW51bSBQb3NpdGlvblR5cGVcclxue1xyXG4gICAgbGVmdCxcclxuICAgIGJvdHRvbSxcclxuICAgIGF1dG8sXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkZFRvTXlGYXYgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcG9pbnRlcjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShQb3NpdGlvblR5cGUpfSlcclxuICAgIHBvc1R5cGU6UG9zaXRpb25UeXBlID0gUG9zaXRpb25UeXBlLmF1dG87XHJcblxyXG4gICAgQHByb3BlcnR5KClcclxuICAgIGhpZGVBZnRlclNlYzpudW1iZXIgPSAzMDtcclxuXHJcbiAgICB3aWRnZXQ6Y2MuV2lkZ2V0ID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMud2lkZ2V0ID0gdGhpcy5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0gUGxhdGZvcm0uZ2V0TGF1bmNoT3B0aW9ucygpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Zy65pmv5YC8IDpcIiAsb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2NlbmUgPT0gMTAwMSB8fCBvcHRpb25zLnNjZW5lID09IDEwODkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZihnLmlzTmV4dERheShVc2VySW5mby5zaG93QWRkRmF2VGltZSkgKVxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgVXNlckluZm8uc2hvd0FkZEZhdlRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAvLyAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmKHRoaXMucG9zVHlwZSA9PSBQb3NpdGlvblR5cGUuYXV0bylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCByYXRpbyA9IGNjLndpblNpemUuaGVpZ2h0L2NjLndpblNpemUud2lkdGg7XHJcbiAgICAgICAgICAgIGlmKHJhdGlvID4gMS45OClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U3R5bGUyKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U3R5bGUxKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnBvc1R5cGUgPT0gUG9zaXRpb25UeXBlLmJvdHRvbSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1N0eWxlMSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5wb3NUeXBlID09IFBvc2l0aW9uVHlwZS5sZWZ0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93U3R5bGUyKClcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5jbGlja19oaWRlLHRoaXMuaGlkZUFmdGVyU2VjKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19oaWRlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1N0eWxlMSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyLnJvdGF0aW9uID0gMDtcclxuICAgICAgICB0aGlzLndpZGdldC50b3AgPSAxMjg7XHJcbiAgICAgICAgdGhpcy53aWRnZXQucmlnaHQgPSAxNDA7XHJcbiAgICAgICAgdGhpcy53aWRnZXQudXBkYXRlQWxpZ25tZW50KClcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2hvd1N0eWxlMigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyLnJvdGF0aW9uID0gOTA7XHJcbiAgICAgICAgdGhpcy53aWRnZXQudG9wID0gNDA7XHJcbiAgICAgICAgdGhpcy53aWRnZXQucmlnaHQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy53aWRnZXQudXBkYXRlQWxpZ25tZW50KClcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/GridManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3b45a0/RCtHwJWRliu8sGTN', 'GridManager');
// Game/Scripts/hex-lines-game/GridManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap_1 = require("./ds/IntMap");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var GridManager = /** @class */ (function (_super) {
    __extends(GridManager, _super);
    function GridManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._minCol = null;
        return _this;
    }
    GridManager.prototype.addGrid = function (t, e, n) {
        null == this._gridList && (this._gridList = new IntMap_1.default);
        if (!this._gridList.exists(t))
            this._gridList.set(t, new IntMap_1.default);
        this._gridList.get(t).set(e, n);
    };
    GridManager.prototype.init = function (t) {
        this._minCol = t;
    };
    GridManager.prototype.start = function () {
        var t = Game_1.default.instance._rowCount;
        var e = Game_1.default.instance._tileList;
        this._gridList = new IntMap_1.default;
        for (var n = 0; t > n;) {
            for (var i = n++, s = 0, a = (t / 2 >= i ? this._minCol + i : this._minCol - 1 + t - i) - 1; a > s;) {
                var r = s++;
                var o = e[i][r].get_borderPosition();
                var b = e[i][r + 1].get_borderPosition();
                var c = cc.v2((o.x + b.x) / 2, (o.y + b.y) / 2);
                var line = cc.instantiate(Res_1.R.Line46);
                line.setPosition(c);
                line.active = false;
                line.parent = this.node;
                line.zIndex = 109;
                this.addGrid(i + i, r + r + 1, line);
            }
        }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m_1 = 0; 2 > m_1; m_1++) {
                    var h = e[s][o].get_borderPosition();
                    var u = e[s + 1][o + m_1].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m_1 == 0) {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.parent = this.node;
                    line.zIndex = 109;
                    this.addGrid(s + s + 1, o + o + m_1, line);
                }
            }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, s = t - s - 1, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m = 0; 2 > m; m++) {
                    h = e[s][o].get_borderPosition();
                    u = e[s - 1][o + m].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m == 0) {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.zIndex = 109;
                    line.parent = this.node;
                    this.addGrid(s + s - 1, o + o + m, line);
                }
            }
    };
    GridManager.prototype.setState = function (r, c, r1, c1, b) {
        if (this._gridList.exists(r + r1)) {
            var t = this._gridList.get(r + r1);
            if (t.exists(c + c1)) {
                var node = t.get(c + c1);
                node.active = b;
            }
        }
    };
    return GridManager;
}(cc.Component));
exports.default = GridManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdyaWRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUM7QUFDakMsK0JBQThCO0FBQzlCLDZCQUEwQjtBQUUxQjtJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQW1HQztRQS9GRyxhQUFPLEdBQUcsSUFBSSxDQUFDOztJQStGbkIsQ0FBQztJQTdGRyw2QkFBTyxHQUFQLFVBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ1gsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3ZELElBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxDQUFDO1FBRUYsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUE7SUFDcEIsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQztRQUM1QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUNyQjtZQUNJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxF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QUUsQ0FBQyxDQUFBO1lBQ2xDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQ3BCO2dCQUNJLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO2dCQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0FuR0EsQUFtR0MsQ0FuR3dDLEVBQUUsQ0FBQyxTQUFTLEdBbUdwRCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRNYXAgZnJvbSBcIi4vZHMvSW50TWFwXCI7XHJcbmltcG9ydCBMaW5lR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi9SZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50XHJcbntcclxuICAgIF9ncmlkTGlzdDpJbnRNYXBcclxuXHJcbiAgICBfbWluQ29sID0gbnVsbDtcclxuXHJcbiAgICBhZGRHcmlkKHQsIGUsIG4pIHtcclxuICAgICAgICBudWxsID09IHRoaXMuX2dyaWRMaXN0ICYmICh0aGlzLl9ncmlkTGlzdCA9IG5ldyBJbnRNYXApXHJcbiAgICAgICAgaWYoIXRoaXMuX2dyaWRMaXN0LmV4aXN0cyh0KSlcclxuICAgICAgICAgICAgdGhpcy5fZ3JpZExpc3Quc2V0KHQsIG5ldyBJbnRNYXApXHJcbiAgICAgICAgdGhpcy5fZ3JpZExpc3QuZ2V0KHQpLnNldChlLCBuKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQodClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9taW5Db2wgPSB0XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdmFyIHQgPSBMaW5lR2FtZS5pbnN0YW5jZS5fcm93Q291bnRcclxuICAgICAgICB2YXIgZSA9IExpbmVHYW1lLmluc3RhbmNlLl90aWxlTGlzdFxyXG4gICAgICAgIHRoaXMuX2dyaWRMaXN0ID0gbmV3IEludE1hcDtcclxuICAgICAgICBmb3IgKHZhciBuID0gMDsgdCA+IG47KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG4rKywgcyA9IDAsIGEgPSAodCAvIDIgPj0gaSA/IHRoaXMuX21pbkNvbCArIGkgOiB0aGlzLl9taW5Db2wgLSAxICsgdCAtIGkpIC0gMTsgYSA+IHM7KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHMrK1xyXG4gICAgICAgICAgICAgICAgdmFyIG8gPSBlW2ldW3JdLmdldF9ib3JkZXJQb3NpdGlvbigpXHJcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGVbaV1bciArIDFdLmdldF9ib3JkZXJQb3NpdGlvbigpXHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGNjLnYyKChvLnggKyBiLngpIC8gMiwoby55ICsgYi55KSAvIDIpXHJcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTQ2KVxyXG4gICAgICAgICAgICAgICAgbGluZS5zZXRQb3NpdGlvbihjKTtcclxuICAgICAgICAgICAgICAgIGxpbmUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgICAgIGxpbmUuekluZGV4ID0gMTA5XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEdyaWQoaSArIGksIHIgKyByICsgMSwgbGluZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKG4gPSAwLCBpID0gdCAvIDIgfCAwOyBpID4gbjspXHJcbiAgICAgICAgICAgIGZvciAocyA9IG4rKywgYSA9IHQgLyAyID49IHMgPyB0aGlzLl9taW5Db2wgKyBzIDogdGhpcy5fbWluQ29sIC0gMSArIHQgLSBzLCByID0gMDsgYSA+IHI7KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvID0gciArK1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbSA9IDA7IDIgPiBtO20rKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoID0gZVtzXVtvXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1ID0gZVtzICsgMV1bbyArIG1dLmdldF9ib3JkZXJQb3NpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IGNjLnYyKChoLnggKyB1LngpIC8gMiwgKGgueSArIHUueSkgLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZihtID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTM3KVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMTkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc2V0UG9zaXRpb24oaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLnpJbmRleCA9IDEwOVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkR3JpZChzICsgcyArIDEsIG8gKyBvICsgbSwgbGluZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGZvciAobiA9IDAsIGkgPSB0IC8gMiB8IDA7IGkgPiBuOylcclxuICAgICAgICAgICAgZm9yIChzID0gbisrLCBzID0gdCAtIHMgLSAxLCBhID0gdCAvIDIgPj0gcyA/IHRoaXMuX21pbkNvbCArIHMgOiB0aGlzLl9taW5Db2wgLSAxICsgdCAtIHMsIHIgPSAwOyBhID4gcjspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG8gPSByKytcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIG0gID0gMDsgMiA+IG07bSsrKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBoID0gZVtzXVtvXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBlW3MgLSAxXVtvICsgbV0uZ2V0X2JvcmRlclBvc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICBoID0gY2MudjIoKGgueCArIHUueCkgLyAyLCAoaC55ICsgdS55KSAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG0gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBjYy5pbnN0YW50aWF0ZShSLkxpbmUxOSlcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBjYy5pbnN0YW50aWF0ZShSLkxpbmUzNylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS5zZXRQb3NpdGlvbihoKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuekluZGV4ID0gMTA5XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS5wYXJlbnQgPSB0aGlzLm5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkR3JpZChzICsgcyAtIDEsIG8gKyBvICsgbSwgbGluZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RhdGUociwgYywgcjEsIGMxLCBiKSB7XHJcbiAgICAgICAgaWYodGhpcy5fZ3JpZExpc3QuZXhpc3RzKHIgKyByMSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdCA9IHRoaXMuX2dyaWRMaXN0LmdldChyICsgcjEpXHJcbiAgICAgICAgICAgIGlmICh0LmV4aXN0cyhjICsgYzEpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHQuZ2V0KGMgKyBjMSlcclxuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '979d2m9WlRN0519FkcUBa5E', 'Main');
// Game/Scripts/Main.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../framework/plugin_boosts/ui/ViewManager");
var Info_1 = require("./Info");
var Platform_1 = require("../../framework/Platform");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var LanguageManager_1 = require("./LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.drawRedPoint = null;
        _this.skinRedPoint = null;
        //Label
        _this.addToMyFavLabel = null;
        _this.playLabel = null;
        _this.skinLabel = null;
        _this.rankLabel = null;
        _this.modesLabel = null;
        _this.recommendedLabel = null;
        _this.challengingLabel = null;
        //Sprites
        _this.logoSprite = null;
        _this.volumnSprite = null;
        _this.spinSprite = null;
        // Sprite Frames
        _this.logoSprite_ch = null;
        _this.logoSprite_vi = null;
        _this.logoSprite_en = null;
        _this.volumnSprite_ch = null;
        _this.volumnSprite_vi = null;
        _this.volumnSprite_en = null;
        _this.spinSprite_ch = null;
        _this.spinSprite_vi = null;
        _this.spinSprite_en = null;
        _this.changeLanguageLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
        // update (dt) {}
    }
    Main_1 = Main;
    Main.prototype.onLoad = function () {
        Main_1.instance = this;
        Platform_1.default.login();
        Info_1.UserInfo.init();
        Device_1.default.playMusic(Res_1.R.audio_bgm);
        console.log("UserInfo Level : " + Info_1.UserInfo.level.toString());
    };
    Main.prototype.refreshRedpoints = function () {
        if (g.isNextDay(Info_1.UserInfo.freedrawTime)) {
            this.drawRedPoint.active = true;
        }
        else {
            this.drawRedPoint.active = false;
        }
        this.skinRedPoint.active = Info_1.UserInfo.diamond >= 500 && !Info_1.UserInfo.isAllUnlocked();
    };
    Main.prototype.start = function () {
        if (g.isNextDay(Info_1.UserInfo.dailyGetTime)) {
            ViewManager_1.default.instance.show("Game/DailyDialog");
        }
        this.refreshRedpoints();
        if (g.isNextDay(Info_1.UserInfo.luckyVideoWatchTime)) {
            Info_1.UserInfo.luckyVideoWatchTime = new Date().getTime();
            Info_1.UserInfo.luckyVideoWatchCount = 0;
        }
        Platform_1.default.showBannerAd();
        if (!LanguageManager_1.default.instance.isLanguageFileExist()) {
            LanguageManager_1.default.instance.saveLanguage(LanguageManager_1.default.instance.currentLanguage);
            cc.log("Created file:", LanguageManager_1.default.instance.currentLanguage);
        }
        LanguageManager_1.default.instance.loadLanguage();
        this.changeLanguageLabel.string = LanguageManager_1.default.instance.currentLanguage;
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("点击\"添加到我的小程序\"", "开始游戏", "皮肤", "好友排行", "更多游戏模式", "推荐游戏", "挑战好友", this.logoSprite_ch, this.volumnSprite_ch, this.spinSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Nhấp vào \"Thêm vào Applet của tôi\"", "Bắt đầu trò chơi", "Trang phục", "Xếp hạng bạn bè", "Nhiều chế độ chơi", "Trò chơi đề xuất", "Thử thách bạn bè", this.logoSprite_vi, this.volumnSprite_vi, this.spinSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Click \"Add to My Applet\"", "Start the game", "Skin", "Friends Ranking", "Game modes", "Recommended Games", "Challenge Friends", this.logoSprite_en, this.volumnSprite_en, this.spinSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
        cc.log("Current language:", LanguageManager_1.default.instance.currentLanguage);
    };
    Main.prototype.click_change_language = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_Language(LanguageManager_1.LanguageMode.VI);
                this.set_label_lang("Nhấp vào \"Thêm vào Applet của tôi\"", "Bắt đầu trò chơi", "Trang phục", "Xếp hạng bạn bè", "Nhiều chế độ chơi", "Trò chơi đề xuất", "Thử thách bạn bè", this.logoSprite_vi, this.volumnSprite_vi, this.spinSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_Language(LanguageManager_1.LanguageMode.EN);
                this.set_label_lang("Click \"Add to My Applet\"", "Start the game", "Skin", "Friends Ranking", "Game modes", "Recommended Games", "Challenge Friends", this.logoSprite_en, this.volumnSprite_en, this.spinSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_Language(LanguageManager_1.LanguageMode.CN);
                this.set_label_lang("点击\"添加到我的小程序\"", "开始游戏", "皮肤", "好友排行", "更多游戏模式", "推荐游戏", "挑战好友", this.logoSprite_ch, this.volumnSprite_ch, this.spinSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
        }
    };
    Main.prototype.set_label_lang = function (addToMyFavString, playString, skinString, rankString, modesString, recommendedString, challengingString, logoSpriteFrame, volumnSpriteFrame, spinSpriteFrame) {
        this.addToMyFavLabel.string = addToMyFavString;
        this.playLabel.string = playString;
        this.skinLabel.string = skinString;
        this.rankLabel.string = rankString;
        this.modesLabel.string = modesString;
        this.recommendedLabel.string = recommendedString;
        this.challengingLabel.string = challengingString;
        this.logoSprite.spriteFrame = logoSpriteFrame;
        this.volumnSprite.spriteFrame = volumnSpriteFrame;
        this.spinSprite.spriteFrame = spinSpriteFrame;
    };
    Main.prototype.set_label_FontSize = function (fontSize) {
        this.addToMyFavLabel.fontSize = fontSize;
        if (LanguageManager_1.default.instance.currentLanguage == LanguageManager_1.LanguageMode.VI)
            this.addToMyFavLabel.fontSize -= 4;
        this.playLabel.fontSize = fontSize;
        this.skinLabel.fontSize = fontSize;
        this.rankLabel.fontSize = fontSize;
        this.modesLabel.fontSize = fontSize;
        this.recommendedLabel.fontSize = fontSize;
        this.challengingLabel.fontSize = fontSize;
    };
    Main.prototype.set_Language = function (language) {
        this.changeLanguageLabel.string = language.toString();
        LanguageManager_1.default.instance.saveLanguage(language);
        cc.log("Changed language to:", LanguageManager_1.default.instance.currentLanguage);
        LanguageManager_1.default.instance.loadLanguage();
        cc.log("Load language:", LanguageManager_1.default.instance.currentLanguage);
    };
    Main.prototype.click_play = function () {
        ViewManager_1.default.instance.show("Game/LevelDialog");
    };
    Main.prototype.toggle_sfx = function (t) {
        Device_1.default.setSoundsEnable(!t.isChecked);
    };
    Main.prototype.click_skin = function () {
        ViewManager_1.default.instance.show("Game/ShopDialog");
    };
    Main.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    Main.prototype.onShare = function () {
    };
    Main.prototype.click_share = function () {
        Platform_1.default.share(this.onShare);
    };
    Main.prototype.click_luck = function () {
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    Main.prototype.click_more = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                ToastManager_1.Toast.make("敬请期待");
                break;
            case LanguageManager_1.LanguageMode.VI:
                ToastManager_1.Toast.make("Hãy theo dõi");
                break;
            case LanguageManager_1.LanguageMode.EN:
                ToastManager_1.Toast.make("Stay tuned");
                break;
        }
    };
    var Main_1;
    Main.instance = null;
    __decorate([
        property(cc.Node)
    ], Main.prototype, "drawRedPoint", void 0);
    __decorate([
        property(cc.Node)
    ], Main.prototype, "skinRedPoint", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "addToMyFavLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "playLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "skinLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "modesLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "recommendedLabel", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "challengingLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "logoSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "volumnSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "spinSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "logoSprite_en", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "volumnSprite_en", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "spinSprite_en", void 0);
    __decorate([
        property(cc.Label)
    ], Main.prototype, "changeLanguageLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], Main.prototype, "eng_FontSize", void 0);
    Main = Main_1 = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcTWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNEVBQXVFO0FBQ3ZFLCtCQUFrQztBQUNsQyxxREFBZ0Q7QUFDaEQsdUVBQWtFO0FBQ2xFLDRDQUF5QztBQUN6Qyw4RUFBc0U7QUFDdEUscURBQWtFO0FBRTVELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBOFRDO1FBelRHLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBRzdCLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBRTdCLE9BQU87UUFFUCxxQkFBZSxHQUFhLElBQUksQ0FBQztRQUdqQyxlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFHbEMsc0JBQWdCLEdBQWEsSUFBSSxDQUFDO1FBRWxDLFNBQVM7UUFFVCxnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixrQkFBWSxHQUFjLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUU3QixnQkFBZ0I7UUFFaEIsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUVyQyxtQkFBYSxHQUFtQixJQUFJLENBQUM7UUFHckMscUJBQWUsR0FBbUIsSUFBSSxDQUFDO1FBRXZDLHFCQUFlLEdBQW1CLElBQUksQ0FBQztRQUV2QyxxQkFBZSxHQUFtQixJQUFJLENBQUM7UUFHdkMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUVyQyxtQkFBYSxHQUFtQixJQUFJLENBQUM7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QURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOytDQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7aURBQ2M7SUFFdkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztpREFDYztJQUV2QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2lEQUNjO0lBR3ZDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7K0NBQ1k7SUFFckM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrQ0FDWTtJQUVyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOytDQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ2tCO0lBSXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQzs2Q0FDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7NkNBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDOzhDQUNMO0lBekVULElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0E4VHhCO0lBQUQsV0FBQztDQTlURCxBQThUQyxDQTlUaUMsRUFBRSxDQUFDLFNBQVMsR0E4VDdDO2tCQTlUb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi9JbmZvXCI7XHJcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XHJcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XHJcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi9oZXgtbGluZXMtZ2FtZS9SZXNcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlOiBNYWluID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRyYXdSZWRQb2ludDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBza2luUmVkUG9pbnQ6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8vTGFiZWxcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGFkZFRvTXlGYXZMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHBsYXlMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHNraW5MYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJhbmtMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1vZGVzTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZWNvbW1lbmRlZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY2hhbGxlbmdpbmdMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIC8vU3ByaXRlc1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGxvZ29TcHJpdGU6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHZvbHVtblNwcml0ZTogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgc3BpblNwcml0ZTogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICAvLyBTcHJpdGUgRnJhbWVzXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX2NoOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX3ZpOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBsb2dvU3ByaXRlX2VuOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgdm9sdW1uU3ByaXRlX2NoOiBjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICB2b2x1bW5TcHJpdGVfdmk6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHZvbHVtblNwcml0ZV9lbjogY2MuU3ByaXRlRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfY2g6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfdmk6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwaW5TcHJpdGVfZW46IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjaGFuZ2VMYW5ndWFnZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXIgPSAyNTtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAxNjtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMjA7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICBNYWluLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICBQbGF0Zm9ybS5sb2dpbigpO1xyXG4gICAgICAgIFVzZXJJbmZvLmluaXQoKTtcclxuICAgICAgICBEZXZpY2UucGxheU11c2ljKFIuYXVkaW9fYmdtKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJJbmZvIExldmVsIDogXCIgKyBVc2VySW5mby5sZXZlbC50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUmVkcG9pbnRzKCkge1xyXG4gICAgICAgIGlmIChnLmlzTmV4dERheShVc2VySW5mby5mcmVlZHJhd1RpbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1JlZFBvaW50LmFjdGl2ZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1JlZFBvaW50LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNraW5SZWRQb2ludC5hY3RpdmUgPSBVc2VySW5mby5kaWFtb25kID49IDUwMCAmJiAhVXNlckluZm8uaXNBbGxVbmxvY2tlZCgpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcblxyXG4gICAgICAgIGlmIChnLmlzTmV4dERheShVc2VySW5mby5kYWlseUdldFRpbWUpKSB7XHJcbiAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0RhaWx5RGlhbG9nXCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hSZWRwb2ludHMoKTtcclxuXHJcbiAgICAgICAgaWYgKGcuaXNOZXh0RGF5KFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUpKSB7XHJcbiAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgICAgICBVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBQbGF0Zm9ybS5zaG93QmFubmVyQWQoKTtcclxuXHJcbiAgICAgICAgaWYgKCFMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuaXNMYW5ndWFnZUZpbGVFeGlzdCgpKSB7XHJcbiAgICAgICAgICAgIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5zYXZlTGFuZ3VhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgICAgICBjYy5sb2coXCJDcmVhdGVkIGZpbGU6XCIsIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmxvYWRMYW5ndWFnZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZUxhbmd1YWdlTGFiZWwuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIueCueWHu1xcXCLmt7vliqDliLDmiJHnmoTlsI/nqIvluo9cXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlvIDlp4vmuLjmiI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aW95Y+L5o6S6KGMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmm7TlpJrmuLjmiI/mqKHlvI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuaOqOiNkOa4uOaIj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5oyR5oiY5aW95Y+LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9jaCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiTmjhuqVwIHbDoG8gXFxcIlRow6ptIHbDoG8gQXBwbGV0IGPhu6dhIHTDtGlcXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJC4bqvdCDEkeG6p3UgdHLDsiBjaMahaVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVHJhbmcgcGjhu6VjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJY4bq/cCBo4bqhbmcgYuG6oW4gYsOoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJOaGnhu4F1IGNo4bq/IMSR4buZIGNoxqFpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUcsOyIGNoxqFpIMSR4buBIHh14bqldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVGjhu60gdGjDoWNoIGLhuqFuIGLDqFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb1Nwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZvbHVtblNwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaW5TcHJpdGVfdmksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy52aV9Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkNsaWNrIFxcXCJBZGQgdG8gTXkgQXBwbGV0XFxcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiU3RhcnQgdGhlIGdhbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlNraW5cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkZyaWVuZHMgUmFua2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiR2FtZSBtb2Rlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjb21tZW5kZWQgR2FtZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkNoYWxsZW5nZSBGcmllbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9lbixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNjLmxvZyhcIkN1cnJlbnQgbGFuZ3VhZ2U6XCIsIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjbGlja19jaGFuZ2VfbGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfTGFuZ3VhZ2UoTGFuZ3VhZ2VNb2RlLlZJKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCJOaOG6pXAgdsOgbyBcXFwiVGjDqm0gdsOgbyBBcHBsZXQgY+G7p2EgdMO0aVxcXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkLhuq90IMSR4bqndSB0csOyIGNoxqFpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUcmFuZyBwaOG7pWNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIljhur9wIGjhuqFuZyBi4bqhbiBiw6hcIixcclxuICAgICAgICAgICAgICAgICAgICBcIk5oaeG7gXUgY2jhur8gxJHhu5kgY2jGoWlcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRyw7IgY2jGoWkgxJHhu4EgeHXhuqV0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaOG7rSB0aMOhY2ggYuG6oW4gYsOoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX3ZpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX3ZpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X0xhbmd1YWdlKExhbmd1YWdlTW9kZS5FTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ2xpY2sgXFxcIkFkZCB0byBNeSBBcHBsZXRcXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTdGFydCB0aGUgZ2FtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiU2tpblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRnJpZW5kcyBSYW5raW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJHYW1lIG1vZGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJSZWNvbW1lbmRlZCBHYW1lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ2hhbGxlbmdlIEZyaWVuZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ29TcHJpdGVfZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52b2x1bW5TcHJpdGVfZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGluU3ByaXRlX2VuLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9MYW5ndWFnZShMYW5ndWFnZU1vZGUuQ04pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIueCueWHu1xcXCLmt7vliqDliLDmiJHnmoTlsI/nqIvluo9cXFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlvIDlp4vmuLjmiI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aW95Y+L5o6S6KGMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmm7TlpJrmuLjmiI/mqKHlvI9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuaOqOiNkOa4uOaIj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5oyR5oiY5aW95Y+LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1uU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNwcml0ZV9jaCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhhZGRUb015RmF2U3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcGxheVN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHNraW5TdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByYW5rU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbW9kZXNTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByZWNvbW1lbmRlZFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGNoYWxsZW5naW5nU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbG9nb1Nwcml0ZUZyYW1lOiBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICB2b2x1bW5TcHJpdGVGcmFtZTogY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgc3BpblNwcml0ZUZyYW1lOiBjYy5TcHJpdGVGcmFtZSxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYWRkVG9NeUZhdkxhYmVsLnN0cmluZyA9IGFkZFRvTXlGYXZTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMucGxheUxhYmVsLnN0cmluZyA9IHBsYXlTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMuc2tpbkxhYmVsLnN0cmluZyA9IHNraW5TdHJpbmc7IFxyXG4gICAgICAgIHRoaXMucmFua0xhYmVsLnN0cmluZyA9IHJhbmtTdHJpbmc7IFxyXG4gICAgICAgIHRoaXMubW9kZXNMYWJlbC5zdHJpbmcgPSBtb2Rlc1N0cmluZzsgXHJcbiAgICAgICAgdGhpcy5yZWNvbW1lbmRlZExhYmVsLnN0cmluZyA9IHJlY29tbWVuZGVkU3RyaW5nOyBcclxuICAgICAgICB0aGlzLmNoYWxsZW5naW5nTGFiZWwuc3RyaW5nID0gY2hhbGxlbmdpbmdTdHJpbmc7XHJcblxyXG4gICAgICAgIHRoaXMubG9nb1Nwcml0ZS5zcHJpdGVGcmFtZSA9IGxvZ29TcHJpdGVGcmFtZTsgXHJcbiAgICAgICAgdGhpcy52b2x1bW5TcHJpdGUuc3ByaXRlRnJhbWUgPSB2b2x1bW5TcHJpdGVGcmFtZTsgXHJcbiAgICAgICAgdGhpcy5zcGluU3ByaXRlLnNwcml0ZUZyYW1lID0gc3BpblNwcml0ZUZyYW1lOyBcclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuYWRkVG9NeUZhdkxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgaWYgKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UgPT0gTGFuZ3VhZ2VNb2RlLlZJKVxyXG4gICAgICAgICAgICB0aGlzLmFkZFRvTXlGYXZMYWJlbC5mb250U2l6ZSAtPSA0O1xyXG4gICAgICAgIHRoaXMucGxheUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5za2luTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnJhbmtMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMubW9kZXNMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmVjb21tZW5kZWRMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMuY2hhbGxlbmdpbmdMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRfTGFuZ3VhZ2UobGFuZ3VhZ2U6IExhbmd1YWdlTW9kZSkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2VMYWJlbC5zdHJpbmcgPSBsYW5ndWFnZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2Uuc2F2ZUxhbmd1YWdlKGxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgY2MubG9nKFwiQ2hhbmdlZCBsYW5ndWFnZSB0bzpcIiwgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgIExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5sb2FkTGFuZ3VhZ2UoKTtcclxuXHJcbiAgICAgICAgY2MubG9nKFwiTG9hZCBsYW5ndWFnZTpcIiwgTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfcGxheSgpIHtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9MZXZlbERpYWxvZ1wiKVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZV9zZngodCkge1xyXG4gICAgICAgIERldmljZS5zZXRTb3VuZHNFbmFibGUoIXQuaXNDaGVja2VkKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3NraW4oKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvU2hvcERpYWxvZ1wiKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3JhbmsoKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIndlY2hhdC9XeFJhbmtEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBvblNoYXJlKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaGFyZSgpIHtcclxuICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLm9uU2hhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2x1Y2soKSB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xpY2tfbW9yZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwi5pWs6K+35pyf5b6FXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwiSMOjeSB0aGVvIGTDtWlcIilcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCJTdGF5IHR1bmVkXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxuXHJcblxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DailyGetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd3b8fModWBPmovqTucbpm5C', 'DailyGetDialog');
// Game/Scripts/ui/DailyGetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Platform_1 = require("../../../framework/Platform");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DailyGetDialog = /** @class */ (function (_super) {
    __extends(DailyGetDialog, _super);
    function DailyGetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamond = 0;
        _this.rewardLabel = null;
        _this.doubleButtonLabel = null;
        _this.bannerLabel = null;
        _this.receiveButtonLabel = null;
        return _this;
    }
    DailyGetDialog.prototype.onLoad = function () { };
    DailyGetDialog.prototype.start = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang(cc.js.formatStr("钻石 x " + this.diamond), "双倍领取", "=   每日奖励  =", "领取");
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang(cc.js.formatStr("Kim cương x " + this.diamond), "Nhân đôi số tiền", "= Phần thưởng hàng ngày =", "Nhận được");
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang(cc.js.formatStr("Diamond x " + this.diamond), "Double the amount", "= Daily Rewards =", "Receive");
                break;
        }
    };
    DailyGetDialog.prototype.onShown = function () {
        this.diamond = g.randomInt(20, 50);
        this.rewardLabel.string = cc.js.formatStr("钻石 x " + this.diamond);
    };
    DailyGetDialog.prototype.click_get = function () {
        // share or video 
        Info_1.UserInfo.addDiamond(this.diamond);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(this.diamond * 2);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.click_get_double = function () {
        //share orvideo
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.DailyGet);
        if (choice == 0) {
            this.share_succ();
        }
        else if (choice == 1) {
            Platform_1.default.share(this.share_succ, this);
        }
        else {
            //watch video
            Platform_1.default.watch_video(this.share_succ, this);
        }
    };
    DailyGetDialog.prototype.set_label_lang = function (rewardString, doubleButtonLabelString, bannerString, receiveButtonString) {
        this.rewardLabel.string = rewardString;
        this.doubleButtonLabel.string = doubleButtonLabelString;
        this.bannerLabel.string = bannerString;
        this.receiveButtonLabel.string = receiveButtonString;
    };
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "rewardLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "doubleButtonLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "receiveButtonLabel", void 0);
    DailyGetDialog = __decorate([
        ccclass
    ], DailyGetDialog);
    return DailyGetDialog;
}(cc.Component));
exports.default = DailyGetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERhaWx5R2V0RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBK0M7QUFDL0MsaUVBQTREO0FBRTVELHdEQUFtRDtBQUNuRCxzREFBbUU7QUFFN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUEyRkM7UUE5REcsYUFBTyxHQUFVLENBQUMsQ0FBQztRQUduQixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3Qix1QkFBaUIsR0FBYSxJQUFJLENBQUM7UUFHbkMsaUJBQVcsR0FBYSxJQUFJLENBQUM7UUFHN0Isd0JBQWtCLEdBQWEsSUFBSSxDQUFDOztJQWtEeEMsQ0FBQztJQXpGRywrQkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDhCQUFLLEdBQUw7UUFDSSxRQUFRLHlCQUFlLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRTtZQUM5QyxLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUN2RCxNQUFNLEVBQ04sYUFBYSxFQUNiLElBQUksQ0FDUCxDQUFDO2dCQUNGLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUM5RCxrQkFBa0IsRUFDbEIsMkJBQTJCLEVBQzNCLFdBQVcsQ0FDZCxDQUFDO2dCQUVGLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUM1RCxtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLFNBQVMsQ0FDWixDQUFDO2dCQUNGLE1BQU07U0FDYjtJQUNMLENBQUM7SUFlRCxnQ0FBTyxHQUFQO1FBRUksSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JFLENBQUM7SUFFRCxrQ0FBUyxHQUFUO1FBRUksa0JBQWtCO1FBQ2xCLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ2pDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxtQ0FBVSxHQUFWO1FBRUksZUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCx5Q0FBZ0IsR0FBaEI7UUFFSSxlQUFlO1FBQ2YsSUFBSSxNQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELElBQUksTUFBTSxJQUFJLENBQUMsRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjthQUFLLElBQUcsTUFBTSxJQUFJLENBQUMsRUFBQztZQUNqQixrQkFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxDQUFBO1NBQ3ZDO2FBQUk7WUFDRCxhQUFhO1lBQ2Isa0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUM3QztJQUNMLENBQUM7SUFFRCx1Q0FBYyxHQUFkLFVBQWUsWUFBb0IsRUFDL0IsdUJBQStCLEVBQy9CLFlBQW9CLEVBQ3BCLG1CQUEyQjtRQUUzQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUM7UUFDdkMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyx1QkFBdUIsQ0FBQztRQUN4RCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUM7UUFDdkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxtQkFBbUIsQ0FBQztJQUN6RCxDQUFDO0lBMUREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2REFDZ0I7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt1REFDVTtJQUc3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzhEQUNpQjtJQXpDbkIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQTJGbEM7SUFBRCxxQkFBQztDQTNGRCxBQTJGQyxDQTNGMkMsRUFBRSxDQUFDLFNBQVMsR0EyRnZEO2tCQTNGb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYWlseUdldERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgb25Mb2FkICgpIHt9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKGNjLmpzLmZvcm1hdFN0cihcIumSu+efsyB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIuWPjOWAjemihuWPllwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiPSAgIOavj+aXpeWlluWKsSAgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6aKG5Y+WXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhjYy5qcy5mb3JtYXRTdHIoXCJLaW0gY8awxqFuZyB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIk5ow6JuIMSRw7RpIHPhu5EgdGnhu4FuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCI9IFBo4bqnbiB0aMaw4bufbmcgaMOgbmcgbmfDoHkgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjhuq1uIMSRxrDhu6NjXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoY2MuanMuZm9ybWF0U3RyKFwiRGlhbW9uZCB4IFwiICsgdGhpcy5kaWFtb25kKSxcclxuICAgICAgICAgICAgICAgICAgICBcIkRvdWJsZSB0aGUgYW1vdW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCI9IERhaWx5IFJld2FyZHMgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpYW1vbmQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRvdWJsZUJ1dHRvbkxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZWNlaXZlQnV0dG9uTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBvblNob3duKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmRpYW1vbmQgPSBnLnJhbmRvbUludCgyMCw1MCk7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSBjYy5qcy5mb3JtYXRTdHIoXCLpkrvnn7MgeCBcIiArIHRoaXMuZGlhbW9uZClcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19nZXQoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHNoYXJlIG9yIHZpZGVvIFxyXG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5kaWFtb25kKVxyXG4gICAgICAgIFVzZXJJbmZvLmRhaWx5R2V0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpXHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVfc3VjYygpXHJcbiAgICB7XHJcbiAgICAgICAgVXNlckluZm8uYWRkRGlhbW9uZCh0aGlzLmRpYW1vbmQgKiAyKTtcclxuICAgICAgICBVc2VySW5mby5kYWlseUdldFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2dldF9kb3VibGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vc2hhcmUgb3J2aWRlb1xyXG4gICAgICAgIGxldCBjaG9pY2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5EYWlseUdldCk7XHJcbiAgICAgICAgaWYgKGNob2ljZSA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFyZV9zdWNjKCk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2hvaWNlID09IDEpe1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1Y2MsdGhpcylcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy93YXRjaCB2aWRlb1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1Y2MsdGhpcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcocmV3YXJkU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgZG91YmxlQnV0dG9uTGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICByZWNlaXZlQnV0dG9uU3RyaW5nOiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnJld2FyZExhYmVsLnN0cmluZyA9IHJld2FyZFN0cmluZztcclxuICAgICAgICB0aGlzLmRvdWJsZUJ1dHRvbkxhYmVsLnN0cmluZyA9IGRvdWJsZUJ1dHRvbkxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1dHRvbkxhYmVsLnN0cmluZyA9IHJlY2VpdmVCdXR0b25TdHJpbmc7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Game.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c9b5SEXlhDAqXGat0NcWmI', 'Game');
// Game/Scripts/hex-lines-game/Game.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Res_1 = require("./Res");
var HexonTile_1 = require("./HexonTile");
var GridManager_1 = require("./GridManager");
var InputSystem_1 = require("../../../framework/plugin_boosts/misc/InputSystem");
var Info_1 = require("../Info");
var Animal_1 = require("./Animal");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Platform_1 = require("../../../framework/Platform");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LineGame = /** @class */ (function (_super) {
    __extends(LineGame, _super);
    function LineGame() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isGameOver = false;
        _this._moveCount = 0;
        _this._playTime = 0;
        _this._colCount = 6;
        _this._rowCount = 7;
        _this._pickedTile = null;
        _this.tileLayer = null;
        _this.levelLabel = null;
        _this.timeLabel = null;
        _this.stepLabel = null;
        _this.focusNode = null;
        _this.levelTextLabel = null;
        _this.stepTextLabel = null;
        _this.timeTextLabel = null;
        _this.helpTextLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        _this._figureList = [];
        _this.perfectMoveCount = 0;
        _this.maxPlayTime = 0; // Limit time that player must pass before end
        return _this;
    }
    LineGame_1 = LineGame;
    LineGame.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("关卡：", "步数：", "时间：", "请求帮助");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Các cấp độ:", "Số bước:", "thời gian:", "Yêu cầu trợ giúp");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Levels:", "Number of steps:", "time:", "Requesting Help");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LineGame.prototype.set_label_lang = function (levelTextLabelString, stepTextLabelString, timeTextLabelString, helpTextLabelString) {
        this.levelTextLabel.string = levelTextLabelString;
        this.stepTextLabel.string = stepTextLabelString;
        this.timeTextLabel.string = timeTextLabelString;
        this.helpTextLabel.string = helpTextLabelString;
    };
    LineGame.prototype.set_label_FontSize = function (fontSize) {
        this.levelTextLabel.fontSize = fontSize;
        this.stepTextLabel.fontSize = fontSize;
        this.timeTextLabel.fontSize = fontSize;
        this.helpTextLabel.fontSize = fontSize - 5;
    };
    LineGame.prototype.get_isGameOver = function () {
        return this._isGameOver;
    };
    LineGame.prototype.get_minCol = function () {
        return this._levelData.mincol;
    };
    LineGame.prototype.get_moveCount = function () {
        return this._moveCount;
    };
    LineGame.prototype.loadLevel = function (levelIndex) {
        //test :
        levelIndex = Math.min(levelIndex, Res_1.R.levelJson.json.levels.length - 1);
        this._levelData = Res_1.R.levelJson.json.levels[levelIndex];
        this.levelLabel.string = levelIndex + "";
        this.maxPlayTime = 10 * (levelIndex == 0 ? 1 : levelIndex); // Limit time = 10 * level
        if (levelIndex == 1) {
            this.scheduleOnce(this.openGuide, 0.1);
        }
    };
    LineGame.prototype.openGuide = function () {
        ViewManager_1.default.instance.show("Game/OpenGuide");
    };
    LineGame.prototype.onLoad = function () {
        var _this = this;
        var t = this;
        LineGame_1.instance = this;
        this.loadLevel(Info_1.UserInfo.currentLevel);
        this.hideFocus();
        this._tileList = [];
        this._rowCount = this._levelData.size;
        this._colCount -= 1;
        for (var e = 0, n = this._rowCount; n > e;) {
            var i, s = e++;
            var tmplist = [];
            i = s <= this._rowCount / 2 ? this._levelData.mincol + s : this._levelData.mincol - 1 + this._rowCount - s;
            for (var r = 0; i > r;) {
                var o = r++;
                var node = cc.instantiate(Res_1.R.TilePrefab);
                var tile = node.getComponent(HexonTile_1.default);
                node.parent = this.tileLayer;
                node.zIndex = this._rowCount - s;
                // this._tileLayer.addChild((new g).add(node))
                tile.set_row(s);
                tile.set_col(o);
                //------------------------------------------------------------------------------//
                var shadowNode = cc.instantiate(Res_1.R.TileShadow);
                var shadow = shadowNode.getComponent(HexonTile_1.default);
                shadow.set_row(s);
                shadow.set_col(o);
                shadowNode.y -= 3;
                shadowNode.parent = this.tileLayer;
                shadowNode.zIndex = 0;
                //------------------------------------------------------------------------------//
                tmplist.push(tile);
            }
            this._tileList.push(tmplist);
        }
        this._gridManager = this.tileLayer.addComponent(GridManager_1.default);
        this._gridManager.init(this._levelData.mincol);
        // this._lineLayer = (new g).add(this._gridManager),
        // this.owner.addChild(this._lineLayer),
        this.setFigure();
        this.addComponent(InputSystem_1.InputSystem);
        // this._uiLayer = new g,
        // this._uiManager = new ni(this._stageIndex + 1),
        // this.owner.addChild(this._uiLayer.add(this._uiManager))
        Info_1.UserInfo.timePassed = 0;
        Info_1.UserInfo.stepUsed = 0;
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "步";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "bước";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.schedule(function (_) {
                    Info_1.UserInfo.timePassed += 1;
                    _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
                    _this.stepLabel.string = Info_1.UserInfo.stepUsed + "step";
                    if (Info_1.UserInfo.timePassed >= _this.maxPlayTime && !_this._isGameOver) {
                        _this.onTimeUp();
                    }
                }, 1);
                break;
        }
    };
    LineGame.prototype.onTimeUp = function () {
        var _this = this;
        this._isGameOver = true;
        ViewManager_1.default.instance.show("Game/LoseDialog", {
            onContinue: function () {
                // chơi lại level hiện tại
                Info_1.UserInfo.timePassed = 0;
                Info_1.UserInfo.stepUsed = 0;
                _this._isGameOver = false;
                cc.director.loadScene("Game");
                _this.loadLevel(Info_1.UserInfo.currentLevel);
            },
            onQuit: function () {
                // trở về màn hình chính
                cc.director.loadScene("Main");
            }
        });
    };
    //onContinueButtonClick() {
    //    this.params.onContinue && this.params.onContinue();
    //    this.node.active = false;
    //}
    //onQuitButtonClick() {
    //    this.params.onQuit && this.params.onQuit();
    //    this.node.active = false;
    //}
    LineGame.prototype.onTouchBegan = function (e) {
        var t = this;
        if (!t._isGameOver) {
            // var n = t.touchXtoScreenX(e.viewX)
            // var e = t.touchYtoScreenY(e.viewY)
            // var i = t.findTileByPos(n, e)
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != i && 0 != i.get_animal()) {
                cc.audioEngine.playEffect(Res_1.R.audio_down, false);
                // jn.playSound(0)
                t._pickedTile = i;
                t.removeGridFromTile(t._pickedTile);
                t._pickedTile.connect(null);
                if (null != t._pickedTile.targetTile) {
                    t.removeGridFromTile(t._pickedTile.targetTile);
                    t._pickedTile.targetTile.connect(null);
                    t._pickedTile.targetTile.set_isConnecting(false);
                }
                t._pickedTile.set_isConnecting(!0);
                i = t._pickedTile.getHead();
                for (; null != i;)
                    i.set_isConnecting(!0),
                        i = i.connectedTile;
                // t._uiManager.showFocus(t._pickedTile.get_animal()),
                this.showFocus(t._pickedTile.get_animal());
                // t._uiManager.moveFocus(n, e)
                this.moveFocus(p);
            }
            this.checkCompelete();
            // 1 ==  ? 1 == t.checkFillAll() ? t._uiManager.hideFillAllPopup() : t._uiManager.showFillAllPopup() : t._uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.checkCompelete = function () {
        if (this.checkConnectedAll()) {
            if (this.checkFillAll()) {
                // t._uiManager.hideFillAllPopup()
            }
            else {
                //  t._uiManager.showFillAllPopup()
            }
        }
        else {
            // _uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.isTileConnected = function (t, e) {
        var n, i = t._row;
        n = t._col + (i <= this._rowCount / 2 ? 0 : t._row - (this._rowCount / 2 | 0));
        var s, a = e._row;
        return s = e._col + (a <= this._rowCount / 2 ? 0 : e._row - (this._rowCount / 2 | 0)),
            i - 1 == a && n - 1 == s || i - 1 == a && n == s || i == a && n - 1 == s || i == a && n + 1 == s || i + 1 == a && n == s || i + 1 == a && n + 1 == s ? true : false;
    };
    LineGame.prototype.onTouchMoved = function (e) {
        var t = this;
        if (!t._isGameOver) {
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != t._pickedTile && null != i)
                if (t.isTileConnected(t._pickedTile, i)) {
                    if (0 == i.get_animal())
                        (null == t._pickedTile.targetTile || null == t._pickedTile.reverseConnectedTile) && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i, t._pickedTile.set_isConnecting(!0));
                    else if (i.get_animal() == t._pickedTile.get_animal())
                        if (false == i.isChangable && !i.equals(t._pickedTile.getHead()))
                            null == i.reverseConnectedTile && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i);
                        else {
                            for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                                t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                                    i = i.connectedTile;
                            t._pickedTile.connect(null);
                        }
                }
                else if (i.get_animal() == t._pickedTile.get_animal() && !i.equals(t._pickedTile) && null != i.connectedTile) {
                    for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                        t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                            i = i.connectedTile;
                    t._pickedTile.connect(null);
                }
            this.moveFocus(p);
            // t._uiManager.moveFocus(n, e),
            //this.checkCompelete()
        }
    };
    LineGame.prototype.onTouchEnded = function () {
        var t = this;
        var e = false;
        if (!t._isGameOver) {
            if (null != t._pickedTile) {
                var n = t._pickedTile.getHead();
                for (null != t._pickedTile.animalSprite && null != n && null != n.animalSprite && (e = true, t._pickedTile.animalSprite.connected(), n.animalSprite.connected()); null != n;)
                    n.set_isConnecting(false),
                        n = n.connectedTile;
                t._moveCount++;
                Info_1.UserInfo.stepUsed++;
            }
            t._pickedTile = null;
            // t._uiManager.hideFocus(),
            this.hideFocus();
            if (t.checkConnectedAll()) {
                if (t.checkFillAll()) {
                    t._isGameOver = true;
                    t.danceAll();
                }
                else {
                    switch (LanguageManager_1.default.instance.currentLanguage) {
                        case LanguageManager_1.LanguageMode.CN:
                            ToastManager_1.Toast.make("必须填满所有格子");
                            break;
                        case LanguageManager_1.LanguageMode.VI:
                            ToastManager_1.Toast.make("Tất cả các ô phải được điền đầy đủ");
                            break;
                        case LanguageManager_1.LanguageMode.EN:
                            ToastManager_1.Toast.make("All boxes must be filled");
                            break;
                    }
                }
            }
            else {
                // _uiManager.hideFillAllPopup()
            }
            if (e == true && !t._isGameOver) {
                // jn.playSound(1)
                cc.audioEngine.playEffect(Res_1.R.audio_link, false);
            }
            // 1 == e && 0 == t._isGameOver && jn.playSound(1)
        }
    };
    LineGame.prototype.showFocus = function (animal) {
        console.log(animal);
        this.focusNode.active = true;
        this.focusNode.zIndex = 100;
        this.focusNode.color = Res_1.R.colors[animal].clone();
    };
    LineGame.prototype.moveFocus = function (p) {
        this.focusNode.position = p;
    };
    LineGame.prototype.hideFocus = function () {
        this.focusNode.active = false;
    };
    LineGame.prototype.danceAll = function () {
        // jn.playSound(3);
        cc.audioEngine.playEffect(Res_1.R.audio_win, false);
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                ++i,
                    null != s.animalSprite && s.animalSprite.loopJump(1);
            }
        }
        this.scheduleOnce(this.showWinDialog, 1);
    };
    LineGame.prototype.showWinDialog = function () {
        ViewManager_1.default.instance.show("Game/WinDialog");
    };
    LineGame.prototype.click_pause = function () {
        ViewManager_1.default.instance.show("Game/PauseDialog");
    };
    LineGame.prototype.click_share = function () {
        Platform_1.default.share();
    };
    LineGame.prototype.setFigure = function () {
        // this._figureLayer = new g,
        this._figureList = [];
        // this.owner.addChild(this._figureLayer);
        for (var t = [], e = 0; 10 > e;)
            e++, t.push(null);
        for (var e = 0, n = this._levelData.figure; e < n.length;) {
            var i = n[e];
            ++e;
            var s = this._tileList[i[0]][i[1]];
            var a = s.get_borderPosition();
            // s.animalSprite = new $n(i[2], a.get_x(), a.get_y())
            // this.owner.addChild((new g).add(s.animalSprite))
            var type = i[2];
            var node = cc.instantiate(Res_1.R.animalPrefabs[type - 1]);
            s.animalSprite = node.getComponent(Animal_1.default);
            // s.animalSprite.type = type;
            node.setPosition(a.x, a.y);
            node.parent = this.tileLayer;
            node.zIndex = 110;
            // animal.type = type; 
            // animal.tx = a.x ; 
            s.set_animal(i[2]);
            s.isChangable = false;
            this._figureList.push(s);
            null == t[i[2]] ? t[i[2]] = s : (s.targetTile = t[i[2]], t[i[2]].targetTile = s);
        }
        this.perfectMoveCount = this._figureList.length / 2 | 0;
    };
    LineGame.prototype.findTileByPos = function (x, y) {
        var n = null;
        var i = 1e6;
        var s = cc.v2(x, y);
        var r = this._tileList;
        for (var a = 0; a < r.length; ++a) {
            var o = r[a];
            for (var _ = 0; _ < o.length; ++_) {
                var l = o[_];
                var tp = o[_].node.position;
                var h = s.sub(tp).mag();
                if (h < 50 && h < i) {
                    i = h;
                    n = l;
                }
                // 40 > h && i > h && (i = h, n = l)
            }
        }
        return n;
    };
    LineGame.prototype.removeGridFromTile = function (t) {
        for (; null != t && null != t.connectedTile;)
            this._gridManager.setState(t.get_row(), t.get_col(), t.connectedTile.get_row(), t.connectedTile.get_col(), !1), t = t.connectedTile;
    };
    LineGame.prototype._0x3f8c = function (_0x1a2b) {
        var _0x4a2b = ['currentLevel', 'get_animal', 'length', 'toString', 'charAt', 'charCodeAt'];
        _0x1a2b = _0x1a2b - 0x0;
        var _0x5f2a = _0x4a2b[_0x1a2b];
        return _0x5f2a;
    };
    LineGame.prototype.checkFillAll = function () {
        var _0x2e1f = 0x5;
        var _0x7d4a = Info_1.UserInfo[this._0x3f8c('0x0')];
        var _0x9b3c = _0x7d4a[this._0x3f8c('0x3')]();
        var _0x5f2a = _0x9b3c[this._0x3f8c('0x4')](0x0);
        var _0x8e7d = _0x5f2a[this._0x3f8c('0x5')](0x0);
        var _0x1c4e = _0x8e7d % 0xa;
        var _0x6b9f = (_0x1c4e + 0x1) * 0x2 - 0x3;
        // This code is the reason why player cant go to next level when player in level 5
        //if (_0x7d4a === _0x2e1f || _0x6b9f === 0x7) {
        //    return !0x1;
        //}
        for (var t = 0, e = this._tileList; t < e[this._0x3f8c('0x2')];) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n[this._0x3f8c('0x2')];) {
                var s = n[i];
                if (++i, 0 == s[this._0x3f8c('0x1')]())
                    return !1;
            }
        }
        return !0;
    };
    LineGame.prototype.checkConnectedAll = function () {
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                if (++i, null != s.targetTile) {
                    var a = s.getHead(), r = s.getTail();
                    if (0 == s.targetTile.equals(a) && 0 == s.targetTile.equals(r))
                        return !1;
                }
            }
        }
        return !0;
    };
    var LineGame_1;
    LineGame.instance = null;
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "tileLayer", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "timeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "stepLabel", void 0);
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "focusNode", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "levelTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "stepTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "timeTextLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "helpTextLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "eng_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LineGame.prototype, "maxPlayTime", void 0);
    LineGame = LineGame_1 = __decorate([
        ccclass
    ], LineGame);
    return LineGame;
}(cc.Component));
exports.default = LineGame;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZCQUEwQjtBQUMxQix5Q0FBb0M7QUFDcEMsNkNBQXdDO0FBQ3hDLGlGQUF1RjtBQUN2RixnQ0FBbUM7QUFDbkMsbUNBQThCO0FBQzlCLCtFQUEwRTtBQUMxRSx3REFBbUQ7QUFDbkQsaUZBQXlFO0FBQ3pFLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQTBoQkM7UUFyaEJHLGlCQUFXLEdBQVcsS0FBSyxDQUFDO1FBQzVCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBRXRCLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsZUFBUyxHQUFHLENBQUMsQ0FBQztRQUVkLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBSzdCLGVBQVMsR0FBVyxJQUFJLENBQUM7UUFHekIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFFaEMsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0IsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsa0JBQVksR0FBVyxFQUFFLENBQUM7UUFDMUIsaUJBQVcsR0FBRyxFQUFFLENBQUE7UUFFaEIsc0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBaUVyQixpQkFBVyxHQUFXLENB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SUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNyRixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUEsQ0FBQyxDQUFBLEtBQUssQ0FBQTtJQUNySyxDQUFDO0lBR0QsK0JBQVksR0FBWixVQUFhLENBQUM7UUFFVixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDYixJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRTtZQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFD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bGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFIgfSBmcm9tIFwiLi9SZXNcIjtcclxuaW1wb3J0IEhleG9uVGlsZSBmcm9tIFwiLi9IZXhvblRpbGVcIjtcclxuaW1wb3J0IEdyaWRNYW5hZ2VyIGZyb20gXCIuL0dyaWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElucHV0LCBJbnB1dFN5c3RlbSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9taXNjL0lucHV0U3lzdGVtXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IEFuaW1hbCBmcm9tIFwiLi9BbmltYWxcIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVHYW1lIGV4dGVuZHMgY2MuQ29tcG9uZW50XHJcbntcclxuICAgIF9sZXZlbERhdGE6YW55O1xyXG4gICAgX3RpbGVMaXN0OmFueTtcclxuXHJcbiAgICBfaXNHYW1lT3Zlcjpib29sZWFuID0gZmFsc2U7IFxyXG4gICAgX21vdmVDb3VudDpudW1iZXIgPSAwO1xyXG5cclxuICAgIF9wbGF5VGltZSA9IDA7XHJcbiAgICBfY29sQ291bnQgPSA2O1xyXG4gICAgX3Jvd0NvdW50ID0gNztcclxuXHJcbiAgICBfcGlja2VkVGlsZTpIZXhvblRpbGUgPSBudWxsO1xyXG4gICAgXHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6TGluZUdhbWUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdGlsZUxheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxldmVsTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpbWVMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgc3RlcExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGZvY3VzTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbGV2ZWxUZXh0TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHN0ZXBUZXh0TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpbWVUZXh0TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGhlbHBUZXh0TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXIgPSAyNTtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAxNjtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMjA7XHJcbiAgICBfZmlndXJlTGlzdCA9IFtdXHJcblxyXG4gICAgcGVyZmVjdE1vdmVDb3VudCA9IDA7XHJcblxyXG4gICAgX2dyaWRNYW5hZ2VyOiBHcmlkTWFuYWdlcjtcclxuXHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIuWFs+WNoe+8mlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5q2l5pWw77yaXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLml7bpl7TvvJpcIixcclxuICAgICAgICAgICAgICAgICAgICBcIuivt+axguW4ruWKqVwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIkPDoWMgY+G6pXAgxJHhu5k6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJT4buRIGLGsOG7m2M6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aOG7nWkgZ2lhbjpcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlnDqnUgY+G6p3UgdHLhu6MgZ2nDunBcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiTGV2ZWxzOlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTnVtYmVyIG9mIHN0ZXBzOlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidGltZTpcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlJlcXVlc3RpbmcgSGVscFwiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgbGV2ZWxUZXh0TGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBzdGVwVGV4dExhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgdGltZVRleHRMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGhlbHBUZXh0TGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMubGV2ZWxUZXh0TGFiZWwuc3RyaW5nID0gbGV2ZWxUZXh0TGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5zdGVwVGV4dExhYmVsLnN0cmluZyA9IHN0ZXBUZXh0TGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy50aW1lVGV4dExhYmVsLnN0cmluZyA9IHRpbWVUZXh0TGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5oZWxwVGV4dExhYmVsLnN0cmluZyA9IGhlbHBUZXh0TGFiZWxTdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmxldmVsVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5zdGVwVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy50aW1lVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5oZWxwVGV4dExhYmVsLmZvbnRTaXplID0gZm9udFNpemUgLSA1O1xyXG4gICAgfVxyXG5cclxuICAgIGdldF9pc0dhbWVPdmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0dhbWVPdmVyXHJcbiAgICB9XHJcbiAgICBnZXRfbWluQ29sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZXZlbERhdGEubWluY29sXHJcbiAgICB9XHJcbiAgICBnZXRfbW92ZUNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tb3ZlQ291bnRcclxuICAgIH1cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIG1heFBsYXlUaW1lOiBudW1iZXIgPSAwOyAgIC8vIExpbWl0IHRpbWUgdGhhdCBwbGF5ZXIgbXVzdCBwYXNzIGJlZm9yZSBlbmRcclxuICAgIGxvYWRMZXZlbChsZXZlbEluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICAvL3Rlc3QgOlxyXG4gICAgICAgIGxldmVsSW5kZXggPSBNYXRoLm1pbihsZXZlbEluZGV4LCBSLmxldmVsSnNvbi5qc29uLmxldmVscy5sZW5ndGggLSAxKTtcclxuICAgICAgICB0aGlzLl9sZXZlbERhdGEgPSBSLmxldmVsSnNvbi5qc29uLmxldmVsc1tsZXZlbEluZGV4XTtcclxuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gbGV2ZWxJbmRleCArIFwiXCI7XHJcblxyXG4gICAgICAgIHRoaXMubWF4UGxheVRpbWUgPSAxMCAqIChsZXZlbEluZGV4ID09IDAgPyAxIDogbGV2ZWxJbmRleCk7ICAgLy8gTGltaXQgdGltZSA9IDEwICogbGV2ZWxcclxuICAgICAgICBpZiAobGV2ZWxJbmRleCA9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5vcGVuR3VpZGUsMC4xKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuR3VpZGUoKVxyXG4gICAge1xyXG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL09wZW5HdWlkZVwiKVxyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgTGluZUdhbWUuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubG9hZExldmVsKFVzZXJJbmZvLmN1cnJlbnRMZXZlbClcclxuXHJcbiAgICAgICAgdGhpcy5oaWRlRm9jdXMoKTtcclxuICAgICAgICB0aGlzLl90aWxlTGlzdCA9IFtdXHJcbiAgICAgICAgdGhpcy5fcm93Q291bnQgPSB0aGlzLl9sZXZlbERhdGEuc2l6ZVxyXG4gICAgICAgIHRoaXMuX2NvbENvdW50IC09IDE7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGUgPSAwLCBuID0gdGhpcy5fcm93Q291bnQ7IG4gPiBlOykge1xyXG4gICAgICAgICAgICB2YXIgaSwgcyA9IGUrKyBcclxuICAgICAgICAgICAgbGV0IHRtcGxpc3QgPSBbXTtcclxuICAgICAgICAgICAgaSA9IHMgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gdGhpcy5fbGV2ZWxEYXRhLm1pbmNvbCArIHMgOiB0aGlzLl9sZXZlbERhdGEubWluY29sIC0gMSArIHRoaXMuX3Jvd0NvdW50IC0gcztcclxuICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IGkgPiByOykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG8gPSByICsrXHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKFIuVGlsZVByZWZhYilcclxuICAgICAgICAgICAgICAgIGxldCB0aWxlID0gbm9kZS5nZXRDb21wb25lbnQoSGV4b25UaWxlKTtcclxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gdGhpcy50aWxlTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICBub2RlLnpJbmRleCA9IHRoaXMuX3Jvd0NvdW50IC0gcztcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuX3RpbGVMYXllci5hZGRDaGlsZCgobmV3IGcpLmFkZChub2RlKSlcclxuICAgICAgICAgICAgICAgIHRpbGUuc2V0X3JvdyhzKVxyXG4gICAgICAgICAgICAgICAgdGlsZS5zZXRfY29sKG8pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvd05vZGUgPSBjYy5pbnN0YW50aWF0ZShSLlRpbGVTaGFkb3cpXHJcbiAgICAgICAgICAgICAgICBsZXQgc2hhZG93ID0gc2hhZG93Tm9kZS5nZXRDb21wb25lbnQoSGV4b25UaWxlKTtcclxuICAgICAgICAgICAgICAgIHNoYWRvdy5zZXRfcm93KHMpXHJcbiAgICAgICAgICAgICAgICBzaGFkb3cuc2V0X2NvbChvKVxyXG4gICAgICAgICAgICAgICAgc2hhZG93Tm9kZS55IC09IDM7XHJcbiAgICAgICAgICAgICAgICBzaGFkb3dOb2RlLnBhcmVudCA9IHRoaXMudGlsZUxheWVyO1xyXG4gICAgICAgICAgICAgICAgc2hhZG93Tm9kZS56SW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0bXBsaXN0LnB1c2godGlsZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl90aWxlTGlzdC5wdXNoKHRtcGxpc3QpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2dyaWRNYW5hZ2VyID0gdGhpcy50aWxlTGF5ZXIuYWRkQ29tcG9uZW50KEdyaWRNYW5hZ2VyKVxyXG4gICAgICAgIHRoaXMuX2dyaWRNYW5hZ2VyLmluaXQodGhpcy5fbGV2ZWxEYXRhLm1pbmNvbCk7XHJcbiAgICAgICAgLy8gdGhpcy5fbGluZUxheWVyID0gKG5ldyBnKS5hZGQodGhpcy5fZ3JpZE1hbmFnZXIpLFxyXG4gICAgICAgIC8vIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fbGluZUxheWVyKSxcclxuICAgICAgICB0aGlzLnNldEZpZ3VyZSgpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KElucHV0U3lzdGVtKTtcclxuXHJcblxyXG4gICAgICAgIC8vIHRoaXMuX3VpTGF5ZXIgPSBuZXcgZyxcclxuICAgICAgICAvLyB0aGlzLl91aU1hbmFnZXIgPSBuZXcgbmkodGhpcy5fc3RhZ2VJbmRleCArIDEpLFxyXG4gICAgICAgIC8vIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fdWlMYXllci5hZGQodGhpcy5fdWlNYW5hZ2VyKSlcclxuXHJcbiAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCA9IDA7XHJcbiAgICAgICAgVXNlckluZm8uc3RlcFVzZWQgPSAwO1xyXG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoXyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCArPSAxXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lTGFiZWwuc3RyaW5nID0gVXNlckluZm8udGltZVBhc3NlZCArIFwic1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcExhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnN0ZXBVc2VkICsgXCLmraVcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVXNlckluZm8udGltZVBhc3NlZCA+PSB0aGlzLm1heFBsYXlUaW1lICYmICF0aGlzLl9pc0dhbWVPdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UaW1lVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAxKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShfID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBVc2VySW5mby50aW1lUGFzc2VkICs9IDFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVMYWJlbC5zdHJpbmcgPSBVc2VySW5mby50aW1lUGFzc2VkICsgXCJzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQgKyBcImLGsOG7m2NcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVXNlckluZm8udGltZVBhc3NlZCA+PSB0aGlzLm1heFBsYXlUaW1lICYmICF0aGlzLl9pc0dhbWVPdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UaW1lVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAxKVxyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoXyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCArPSAxXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lTGFiZWwuc3RyaW5nID0gVXNlckluZm8udGltZVBhc3NlZCArIFwic1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcExhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnN0ZXBVc2VkICsgXCJzdGVwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFVzZXJJbmZvLnRpbWVQYXNzZWQgPj0gdGhpcy5tYXhQbGF5VGltZSAmJiAhdGhpcy5faXNHYW1lT3Zlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGltZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRpbWVVcCgpIHtcclxuICAgICAgICB0aGlzLl9pc0dhbWVPdmVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTG9zZURpYWxvZ1wiLCB7XHJcbiAgICAgICAgICAgIG9uQ29udGludWU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGNoxqFpIGzhuqFpIGxldmVsIGhp4buHbiB04bqhaVxyXG4gICAgICAgICAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBVc2VySW5mby5zdGVwVXNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0dhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkTGV2ZWwoVXNlckluZm8uY3VycmVudExldmVsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25RdWl0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyB0cuG7nyB24buBIG3DoG4gaMOsbmggY2jDrW5oXHJcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJNYWluXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL29uQ29udGludWVCdXR0b25DbGljaygpIHtcclxuICAgIC8vICAgIHRoaXMucGFyYW1zLm9uQ29udGludWUgJiYgdGhpcy5wYXJhbXMub25Db250aW51ZSgpO1xyXG4gICAgLy8gICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgLy99XHJcblxyXG4gICAgLy9vblF1aXRCdXR0b25DbGljaygpIHtcclxuICAgIC8vICAgIHRoaXMucGFyYW1zLm9uUXVpdCAmJiB0aGlzLnBhcmFtcy5vblF1aXQoKTtcclxuICAgIC8vICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgIC8vfVxyXG5cclxuXHJcbiAgICBvblRvdWNoQmVnYW4oZSlcclxuICAgIHtcclxuICAgICAgICBsZXQgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0Ll9pc0dhbWVPdmVyKSB7XHJcbiAgICAgICAgICAgIC8vIHZhciBuID0gdC50b3VjaFh0b1NjcmVlblgoZS52aWV3WClcclxuICAgICAgICAgICAgLy8gdmFyIGUgPSB0LnRvdWNoWXRvU2NyZWVuWShlLnZpZXdZKVxyXG4gICAgICAgICAgICAvLyB2YXIgaSA9IHQuZmluZFRpbGVCeVBvcyhuLCBlKVxyXG4gICAgICAgICAgICB2YXIgcCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHAgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocCk7XHJcbiAgICAgICAgICAgIHZhciBpOkhleG9uVGlsZSA9IHQuZmluZFRpbGVCeVBvcyhwLngscC55KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IGkgJiYgMCAhPSBpLmdldF9hbmltYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChSLmF1ZGlvX2Rvd24sZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gam4ucGxheVNvdW5kKDApXHJcbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlID0gaVxyXG4gICAgICAgICAgICAgICAgdC5yZW1vdmVHcmlkRnJvbVRpbGUodC5fcGlja2VkVGlsZSlcclxuICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUuY29ubmVjdChudWxsKVxyXG4gICAgICAgICAgICAgICAgaWYobnVsbCAhPSB0Ll9waWNrZWRUaWxlLnRhcmdldFRpbGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmVHcmlkRnJvbVRpbGUodC5fcGlja2VkVGlsZS50YXJnZXRUaWxlKVxyXG4gICAgICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZS5jb25uZWN0KG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgdC5fcGlja2VkVGlsZS50YXJnZXRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoZmFsc2UpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoITApXHJcbiAgICAgICAgICAgICAgICBpID0gdC5fcGlja2VkVGlsZS5nZXRIZWFkKCk7IFxyXG4gICAgICAgICAgICAgICAgZm9yICggO251bGwgIT0gaTspIGkuc2V0X2lzQ29ubmVjdGluZyghMCksXHJcbiAgICAgICAgICAgICAgICBpID0gaS5jb25uZWN0ZWRUaWxlO1xyXG4gICAgICAgICAgICAgICAgLy8gdC5fdWlNYW5hZ2VyLnNob3dGb2N1cyh0Ll9waWNrZWRUaWxlLmdldF9hbmltYWwoKSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dGb2N1cyh0Ll9waWNrZWRUaWxlLmdldF9hbmltYWwoKSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIubW92ZUZvY3VzKG4sIGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cyhwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29tcGVsZXRlKClcclxuICAgICAgICAgICAgLy8gMSA9PSAgPyAxID09IHQuY2hlY2tGaWxsQWxsKCkgPyB0Ll91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpIDogdC5fdWlNYW5hZ2VyLnNob3dGaWxsQWxsUG9wdXAoKSA6IHQuX3VpTWFuYWdlci5oaWRlRmlsbEFsbFBvcHVwKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tDb21wZWxldGUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCB0aGlzLmNoZWNrQ29ubmVjdGVkQWxsKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLmNoZWNrRmlsbEFsbCgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy8gIHQuX3VpTWFuYWdlci5zaG93RmlsbEFsbFBvcHVwKClcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vIF91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzVGlsZUNvbm5lY3RlZCh0LCBlKSB7XHJcbiAgICAgICAgdmFyIG4sIGkgPSB0Ll9yb3c7XHJcbiAgICAgICAgbiA9IHQuX2NvbCArIChpIDw9IHRoaXMuX3Jvd0NvdW50IC8gMiA/IDAgOiB0Ll9yb3cgLSAodGhpcy5fcm93Q291bnQgLyAyIHwgMCkpO1xyXG4gICAgICAgIHZhciBzLCBhID0gZS5fcm93O1xyXG4gICAgICAgIHJldHVybiBzID0gZS5fY29sICsgKGEgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gMCA6IGUuX3JvdyAtICh0aGlzLl9yb3dDb3VudCAvIDIgfCAwKSksXHJcbiAgICAgICAgaSAtIDEgPT0gYSAmJiBuIC0gMSA9PSBzIHx8IGkgLSAxID09IGEgJiYgbiA9PSBzIHx8IGkgPT0gYSAmJiBuIC0gMSA9PSBzIHx8IGkgPT0gYSAmJiBuICsgMSA9PSBzIHx8IGkgKyAxID09IGEgJiYgbiA9PSBzIHx8IGkgKyAxID09IGEgJiYgbiArIDEgPT0gcyA/IHRydWU6ZmFsc2VcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Ub3VjaE1vdmVkKGUpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdC5faXNHYW1lT3Zlcikge1xyXG4gICAgICAgICAgICB2YXIgcCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHAgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocCk7XHJcbiAgICAgICAgICAgIHZhciBpOkhleG9uVGlsZSA9IHQuZmluZFRpbGVCeVBvcyhwLngscC55KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHQuX3BpY2tlZFRpbGUgJiYgbnVsbCAhPSBpKSBpZiAodC5pc1RpbGVDb25uZWN0ZWQodC5fcGlja2VkVGlsZSwgaSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICgwID09IGkuZ2V0X2FuaW1hbCgpKShudWxsID09IHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZSB8fCBudWxsID09IHQuX3BpY2tlZFRpbGUucmV2ZXJzZUNvbm5lY3RlZFRpbGUpICYmICh0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZSh0Ll9waWNrZWRUaWxlLmdldF9yb3coKSwgdC5fcGlja2VkVGlsZS5nZXRfY29sKCksIGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgITApLCB0Ll9waWNrZWRUaWxlLmNvbm5lY3QoaSksIHQuX3BpY2tlZFRpbGUgPSBpLCB0Ll9waWNrZWRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoITApKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkuZ2V0X2FuaW1hbCgpID09IHQuX3BpY2tlZFRpbGUuZ2V0X2FuaW1hbCgpKSBpZiAoZmFsc2UgPT0gaS5pc0NoYW5nYWJsZSAmJiAhIGkuZXF1YWxzKHQuX3BpY2tlZFRpbGUuZ2V0SGVhZCgpKSkgbnVsbCA9PSBpLnJldmVyc2VDb25uZWN0ZWRUaWxlICYmICh0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZSh0Ll9waWNrZWRUaWxlLmdldF9yb3coKSwgdC5fcGlja2VkVGlsZS5nZXRfY29sKCksIGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgITApLCB0Ll9waWNrZWRUaWxlLmNvbm5lY3QoaSksIHQuX3BpY2tlZFRpbGUgPSBpKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodC5fcGlja2VkVGlsZSA9IGksIGkgPSB0Ll9waWNrZWRUaWxlOyBudWxsICE9IGkgJiYgbnVsbCAhPSBpLmNvbm5lY3RlZFRpbGU7KSB0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZShpLmdldF9yb3coKSwgaS5nZXRfY29sKCksIGkuY29ubmVjdGVkVGlsZS5nZXRfcm93KCksIGkuY29ubmVjdGVkVGlsZS5nZXRfY29sKCksICExKSxcclxuICAgICAgICAgICAgICAgICAgICBpID0gaS5jb25uZWN0ZWRUaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUuY29ubmVjdChudWxsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkuZ2V0X2FuaW1hbCgpID09IHQuX3BpY2tlZFRpbGUuZ2V0X2FuaW1hbCgpICYmICFpLmVxdWFscyh0Ll9waWNrZWRUaWxlKSAmJiBudWxsICE9IGkuY29ubmVjdGVkVGlsZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh0Ll9waWNrZWRUaWxlID0gaSwgaSA9IHQuX3BpY2tlZFRpbGU7IG51bGwgIT0gaSAmJiBudWxsICE9IGkuY29ubmVjdGVkVGlsZTspIHQuX2dyaWRNYW5hZ2VyLnNldFN0YXRlKGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgaS5jb25uZWN0ZWRUaWxlLmdldF9yb3coKSwgaS5jb25uZWN0ZWRUaWxlLmdldF9jb2woKSwgITEpLFxyXG4gICAgICAgICAgICAgICAgaSA9IGkuY29ubmVjdGVkVGlsZTtcclxuICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUuY29ubmVjdChudWxsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKHApXHJcbiAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5tb3ZlRm9jdXMobiwgZSksXHJcbiAgICAgICAgICAgIC8vdGhpcy5jaGVja0NvbXBlbGV0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hFbmRlZCgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCF0Ll9pc0dhbWVPdmVyKSB7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHQuX3BpY2tlZFRpbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gdC5fcGlja2VkVGlsZS5nZXRIZWFkKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKG51bGwgIT0gdC5fcGlja2VkVGlsZS5hbmltYWxTcHJpdGUgJiYgbnVsbCAhPSBuICYmIG51bGwgIT0gbi5hbmltYWxTcHJpdGUgJiYgKGUgPSB0cnVlLCB0Ll9waWNrZWRUaWxlLmFuaW1hbFNwcml0ZS5jb25uZWN0ZWQoKSwgbi5hbmltYWxTcHJpdGUuY29ubmVjdGVkKCkpOyBudWxsICE9IG47KSBuLnNldF9pc0Nvbm5lY3RpbmcoZmFsc2UpLFxyXG4gICAgICAgICAgICAgICAgbiA9IG4uY29ubmVjdGVkVGlsZTtcclxuICAgICAgICAgICAgICAgIHQuX21vdmVDb3VudCsrXHJcbiAgICAgICAgICAgICAgICBVc2VySW5mby5zdGVwVXNlZCArKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0Ll9waWNrZWRUaWxlID0gbnVsbFxyXG4gICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIuaGlkZUZvY3VzKCksXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZUZvY3VzKCk7XHJcbiAgICAgICAgICAgIGlmKCB0LmNoZWNrQ29ubmVjdGVkQWxsKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHQuY2hlY2tGaWxsQWxsKCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5faXNHYW1lT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5kYW5jZUFsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIuW/hemhu+Whq+a7oeaJgOacieagvOWtkFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZShcIlThuqV0IGPhuqMgY8OhYyDDtCBwaOG6o2kgxJHGsOG7o2MgxJFp4buBbiDEkeG6p3kgxJHhu6dcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCJBbGwgYm94ZXMgbXVzdCBiZSBmaWxsZWRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyBfdWlNYW5hZ2VyLmhpZGVGaWxsQWxsUG9wdXAoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGU9PSB0cnVlICYmICF0Ll9pc0dhbWVPdmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBqbi5wbGF5U291bmQoMSlcclxuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoUi5hdWRpb19saW5rLGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAxID09IGUgJiYgMCA9PSB0Ll9pc0dhbWVPdmVyICYmIGpuLnBsYXlTb3VuZCgxKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93Rm9jdXMoYW5pbWFsKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGFuaW1hbCk7XHJcbiAgICAgICAgdGhpcy5mb2N1c05vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuZm9jdXNOb2RlLnpJbmRleCA9IDEwMDtcclxuICAgICAgICB0aGlzLmZvY3VzTm9kZS5jb2xvciA9IFIuY29sb3JzW2FuaW1hbF0uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlRm9jdXMocClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmZvY3VzTm9kZS5wb3NpdGlvbiA9IHA7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUZvY3VzKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmZvY3VzTm9kZS5hY3RpdmUgPSBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGRhbmNlQWxsKCkge1xyXG4gICAgICAgIC8vIGpuLnBsYXlTb3VuZCgzKTtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KFIuYXVkaW9fd2luLGZhbHNlKTtcclxuICAgICAgICBmb3IgKHZhciB0ID0gMCxlID0gdGhpcy5fdGlsZUxpc3Q7IHQgPCBlLmxlbmd0aDspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBlW3RdOyArK3Q7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IG5baV07ICsraSxcclxuICAgICAgICAgICAgICAgIG51bGwgIT0gcy5hbmltYWxTcHJpdGUgJiYgcy5hbmltYWxTcHJpdGUubG9vcEp1bXAoMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICBcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnNob3dXaW5EaWFsb2csMSlcclxuICAgIH1cclxuXHJcbiAgICBzaG93V2luRGlhbG9nKClcclxuICAgIHtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9XaW5EaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19wYXVzZSgpXHJcbiAgICB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvUGF1c2VEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaGFyZSgpXHJcbiAgICB7XHJcbiAgICAgICAgUGxhdGZvcm0uc2hhcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGaWd1cmUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5fZmlndXJlTGF5ZXIgPSBuZXcgZyxcclxuICAgICAgICB0aGlzLl9maWd1cmVMaXN0ID0gW11cclxuICAgICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMuX2ZpZ3VyZUxheWVyKTtcclxuICAgICAgICBmb3IgKHZhciB0ID0gW10sIGUgPSAwOyAxMCA+IGU7KSBlKyssIHQucHVzaChudWxsKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgZSA9IDAsIG4gPSB0aGlzLl9sZXZlbERhdGEuZmlndXJlOyBlIDwgbi5sZW5ndGg7KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gbltlXTtcclxuICAgICAgICAgICAgKytlO1xyXG4gICAgICAgICAgICB2YXIgczpIZXhvblRpbGUgPSB0aGlzLl90aWxlTGlzdFtpWzBdXVtpWzFdXVxyXG4gICAgICAgICAgICB2YXIgYSA9IHMuZ2V0X2JvcmRlclBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzLmFuaW1hbFNwcml0ZSA9IG5ldyAkbihpWzJdLCBhLmdldF94KCksIGEuZ2V0X3koKSlcclxuICAgICAgICAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCgobmV3IGcpLmFkZChzLmFuaW1hbFNwcml0ZSkpXHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gaVsyXTtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZShSLmFuaW1hbFByZWZhYnNbdHlwZS0xXSlcclxuICAgICAgICAgICAgcy5hbmltYWxTcHJpdGUgPSBub2RlLmdldENvbXBvbmVudChBbmltYWwpO1xyXG4gICAgICAgICAgICAvLyBzLmFuaW1hbFNwcml0ZS50eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgbm9kZS5zZXRQb3NpdGlvbihhLngsYS55KTtcclxuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnRpbGVMYXllcjtcclxuICAgICAgICAgICAgbm9kZS56SW5kZXggPSAxMTA7XHJcblxyXG4gICAgICAgICAgICAvLyBhbmltYWwudHlwZSA9IHR5cGU7IFxyXG4gICAgICAgICAgICAvLyBhbmltYWwudHggPSBhLnggOyBcclxuXHJcbiAgICAgICAgICAgIHMuc2V0X2FuaW1hbChpWzJdKVxyXG4gICAgICAgICAgICBzLmlzQ2hhbmdhYmxlID0gZmFsc2UgXHJcbiAgICAgICAgICAgIHRoaXMuX2ZpZ3VyZUxpc3QucHVzaChzKVxyXG4gICAgICAgICAgICBudWxsID09IHRbaVsyXV0gPyB0W2lbMl1dID0gcyA6IChzLnRhcmdldFRpbGUgPSB0W2lbMl1dLCB0W2lbMl1dLnRhcmdldFRpbGUgPSBzKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBlcmZlY3RNb3ZlQ291bnQgPSB0aGlzLl9maWd1cmVMaXN0Lmxlbmd0aCAvIDIgfCAwXHJcbiAgICB9XHJcblxyXG4gICAgZmluZFRpbGVCeVBvcyh4LCB5KSB7XHJcbiAgICAgICAgdmFyIG4gPSBudWxsXHJcbiAgICAgICAgdmFyIGkgPSAxZTZcclxuICAgICAgICB2YXIgcyA9IGNjLnYyKHgsIHkpXHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLl90aWxlTGlzdFxyXG4gICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgci5sZW5ndGg7KythKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gclthXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgXyA9IDA7IF8gPCBvLmxlbmd0aDsrK18pIHtcclxuICAgICAgICAgICAgICAgIHZhciBsID0gb1tfXVxyXG4gICAgICAgICAgICAgICAgdmFyIHRwID0gb1tfXS5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSBzLnN1Yih0cCkubWFnKClcclxuICAgICAgICAgICAgICAgIGlmIChoIDwgNTAgJiYgaCA8IGkgKXtcclxuICAgICAgICAgICAgICAgICAgICBpID0gaDsgXHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyA0MCA+IGggJiYgaSA+IGggJiYgKGkgPSBoLCBuID0gbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gblxyXG4gICAgfVxyXG4gICAgcmVtb3ZlR3JpZEZyb21UaWxlKHQpIHtcclxuICAgICAgICBmb3IgKDsgbnVsbCAhPSB0ICYmIG51bGwgIT0gdC5jb25uZWN0ZWRUaWxlOykgdGhpcy5fZ3JpZE1hbmFnZXIuc2V0U3RhdGUodC5nZXRfcm93KCksIHQuZ2V0X2NvbCgpLCB0LmNvbm5lY3RlZFRpbGUuZ2V0X3JvdygpLCB0LmNvbm5lY3RlZFRpbGUuZ2V0X2NvbCgpLCAhMSksIHQgPSB0LmNvbm5lY3RlZFRpbGVcclxuICAgIH1cclxuICAgICBfMHgzZjhjKF8weDFhMmIpIHtcclxuICAgICAgICB2YXIgXzB4NGEyYiA9IFsnY3VycmVudExldmVsJywgJ2dldF9hbmltYWwnLCAnbGVuZ3RoJywgJ3RvU3RyaW5nJywgJ2NoYXJBdCcsICdjaGFyQ29kZUF0J107XHJcblxyXG4gICAgICAgIF8weDFhMmIgPSBfMHgxYTJiIC0gMHgwO1xyXG4gICAgICAgIHZhciBfMHg1ZjJhID0gXzB4NGEyYltfMHgxYTJiIGFzIG51bWJlcl07XHJcbiAgICAgICAgcmV0dXJuIF8weDVmMmE7XHJcbiAgICB9XHJcbiAgICBjaGVja0ZpbGxBbGwoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIF8weDJlMWYgPSAweDU7XHJcbiAgICAgICAgdmFyIF8weDdkNGEgPSBVc2VySW5mb1t0aGlzLl8weDNmOGMoJzB4MCcpXTtcclxuICAgICAgICB2YXIgXzB4OWIzYyA9IF8weDdkNGFbdGhpcy5fMHgzZjhjKCcweDMnKV0oKTtcclxuICAgICAgICB2YXIgXzB4NWYyYSA9IF8weDliM2NbdGhpcy5fMHgzZjhjKCcweDQnKV0oMHgwKTtcclxuICAgICAgICB2YXIgXzB4OGU3ZCA9IF8weDVmMmFbdGhpcy5fMHgzZjhjKCcweDUnKV0oMHgwKTtcclxuICAgICAgICB2YXIgXzB4MWM0ZSA9IF8weDhlN2QgJSAweGE7XHJcbiAgICAgICAgdmFyIF8weDZiOWYgPSAoXzB4MWM0ZSArIDB4MSkgKiAweDIgLSAweDM7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyB0aGUgcmVhc29uIHdoeSBwbGF5ZXIgY2FudCBnbyB0byBuZXh0IGxldmVsIHdoZW4gcGxheWVyIGluIGxldmVsIDVcclxuICAgICAgICAvL2lmIChfMHg3ZDRhID09PSBfMHgyZTFmIHx8IF8weDZiOWYgPT09IDB4Nykge1xyXG4gICAgICAgIC8vICAgIHJldHVybiAhMHgxO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIHQgPSAwLCBlID0gdGhpcy5fdGlsZUxpc3Q7IHQgPCBlW3RoaXMuXzB4M2Y4YygnMHgyJyldOykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IGVbdF07XHJcbiAgICAgICAgICAgICsrdDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuW3RoaXMuXzB4M2Y4YygnMHgyJyldOykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCsraSwgMCA9PSBzW3RoaXMuXzB4M2Y4YygnMHgxJyldKCkpIHJldHVybiAhMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhMFxyXG4gICAgfVxyXG4gICAgY2hlY2tDb25uZWN0ZWRBbGwoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgdCA9IDAsIGUgPSB0aGlzLl90aWxlTGlzdDsgdCA8IGUubGVuZ3RoOykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IGVbdF07XHJcbiAgICAgICAgICAgICsrdDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gbltpXTtcclxuICAgICAgICAgICAgICAgIGlmICgrK2ksIG51bGwgIT0gcy50YXJnZXRUaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBzLmdldEhlYWQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHMuZ2V0VGFpbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgwID09IHMudGFyZ2V0VGlsZS5lcXVhbHMoYSkgJiYgMCA9PSBzLnRhcmdldFRpbGUuZXF1YWxzKHIpKSByZXR1cm4gITFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gITBcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Consts.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ccf28Nj1JdBbY/NtYiwJtcW', 'Consts');
// Game/Scripts/hex-lines-game/Consts.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts = /** @class */ (function () {
    function Consts() {
    }
    Consts.CenterY = 0;
    Consts.CenterX = 0;
    Consts.ColSize = 84;
    Consts.RowSize = 61;
    Consts.StagePageCount = 3;
    Consts.FreeSkinId = 5;
    return Consts;
}());
exports.default = Consts;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXENvbnN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtJQVFBLENBQUM7SUFOVSxjQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ1osY0FBTyxHQUFHLENBQUMsQ0FBQztJQUNaLGNBQU8sR0FBRyxFQUFFLENBQUM7SUFDYixjQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ2IscUJBQWMsR0FBRyxDQUFDLENBQUM7SUFDbkIsaUJBQVUsR0FBRyxDQUFDLENBQUM7SUFDMUIsYUFBQztDQVJELEFBUUMsSUFBQTtrQkFSb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnN0c1xyXG57XHJcbiAgICBzdGF0aWMgQ2VudGVyWSA9IDA7XHJcbiAgICBzdGF0aWMgQ2VudGVyWCA9IDA7XHJcbiAgICBzdGF0aWMgQ29sU2l6ZSA9IDg0O1xyXG4gICAgc3RhdGljIFJvd1NpemUgPSA2MTtcclxuICAgIHN0YXRpYyBTdGFnZVBhZ2VDb3VudCA9IDM7XHJcbiAgICBzdGF0aWMgRnJlZVNraW5JZCA9IDU7XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Res.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '81fb28+15NDNaH9M81MKxwU', 'Res');
// Game/Scripts/hex-lines-game/Res.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.R = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.R = null;
var Res = /** @class */ (function (_super) {
    __extends(Res, _super);
    function Res() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.levelJson = null;
        _this.TilePrefab = null;
        _this.TileShadow = null;
        _this.Line46 = null;
        _this.Line37 = null;
        _this.Line19 = null;
        _this.audio_bgm = null;
        _this.audio_unlock = null;
        _this.audio_invalid = null;
        _this.audio_draw = null;
        _this.audio_down = null;
        _this.audio_win = null;
        _this.audio_link = null;
        _this.audio_get_diamond = null;
        _this.tileTextures = [];
        _this.animalPrefabs = [];
        _this.skinConfig = null;
        _this.luckyConfig = null;
        _this.colors = [];
        return _this;
    }
    Res.prototype.onLoad = function () {
        exports.R = this;
    };
    Res.prototype.start = function () {
    };
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "levelJson", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TilePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TileShadow", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line46", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line37", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line19", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_bgm", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_unlock", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_invalid", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_draw", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_down", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_win", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_link", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_get_diamond", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], Res.prototype, "tileTextures", void 0);
    __decorate([
        property([cc.Prefab])
    ], Res.prototype, "animalPrefabs", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "skinConfig", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "luckyConfig", void 0);
    __decorate([
        property([cc.Color])
    ], Res.prototype, "colors", void 0);
    Res = __decorate([
        ccclass
    ], Res);
    return Res;
}(cc.Component));
exports.default = Res;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXFJlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsQ0FBQyxHQUFPLElBQUksQ0FBQztBQUV4QjtJQUFpQyx1QkFBWTtJQUE3QztRQUFBLHFFQW1FQztRQWhFRyxlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixrQkFBWSxHQUFnQixJQUFJLENBQUM7UUFHakMsbUJBQWEsR0FBZ0IsSUFBSSxDQUFDO1FBR2xDLGdCQUFVLEdBQWdCLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFnQixJQUFJLENBQUM7UUFHL0IsZUFBUyxHQUFnQixJQUFJLENBQUM7UUFHOUIsZ0JBQVUsR0FBZ0IsSUFBSSxDQUFDO1FBRy9CLHVCQUFpQixHQUFnQixJQUFJLENBQUM7UUFHdEMsa0JBQVksR0FBb0IsRUFBRSxDQUFBO1FBR2xDLG1CQUFhLEdBQWUsRUFBRSxDQUFBO1FBRzlCLGdCQUFVLEdBQWlCLElBQUksQ0FBQztRQUdoQyxpQkFBVyxHQUFrQixJQUFJLENBQUM7UUFHbEMsWUFBTSxHQUFnQixFQUFFLENBQUE7O0lBVTVCLENBQUM7SUFSRyxvQkFBTSxHQUFOO1FBQ0ksU0FBQyxHQUFHLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxtQkFBSyxHQUFMO0lBRUEsQ0FBQztJQTlERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDOzBDQUNPO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkNBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDUTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VDQUNJO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7dUNBQ0k7SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1Q0FDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MENBQ0Q7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNFO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzs4Q0FDRztJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzJDQUNBO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzswQ0FDRDtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDO2tEQUNPO0lBR3RDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDOzZDQUNPO0lBR2xDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzhDQUNRO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7MkNBQ1M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzs0Q0FDVztJQUdsQztRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt1Q0FDRztJQXpEUCxHQUFHO1FBRHZCLE9BQU87T0FDYSxHQUFHLENBbUV2QjtJQUFELFVBQUM7Q0FuRUQsQUFtRUMsQ0FuRWdDLEVBQUUsQ0FBQyxTQUFTLEdBbUU1QztrQkFuRW9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCB2YXIgUjpSZXMgPSBudWxsO1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXMgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgXHJcbiAgICBAcHJvcGVydHkoY2MuSnNvbkFzc2V0KVxyXG4gICAgbGV2ZWxKc29uOmNjLkpzb25Bc3NldCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIFRpbGVQcmVmYWI6Y2MuUHJlZmFiICA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIFRpbGVTaGFkb3c6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgTGluZTQ2OmNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIExpbmUzNzpjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBMaW5lMTk6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpb19iZ206Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpb191bmxvY2s6Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpb19pbnZhbGlkOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxyXG4gICAgYXVkaW9fZHJhdzpjYy5BdWRpb0NsaXAgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcclxuICAgIGF1ZGlvX2Rvd246Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpb193aW46Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpb19saW5rOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxyXG4gICAgYXVkaW9fZ2V0X2RpYW1vbmQ6Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZUZyYW1lXSlcclxuICAgIHRpbGVUZXh0dXJlczpjYy5TcHJpdGVGcmFtZVtdID0gW11cclxuICAgIFxyXG4gICAgQHByb3BlcnR5KFtjYy5QcmVmYWJdKVxyXG4gICAgYW5pbWFsUHJlZmFiczpjYy5QcmVmYWJbXSA9IFtdXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcclxuICAgIHNraW5Db25maWc6Y2MuSnNvbkFzc2V0ID0gIG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcclxuICAgIGx1Y2t5Q29uZmlnOiBjYy5Kc29uQXNzZXQgPSAgbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLkNvbG9yXSlcclxuICAgIGNvbG9yczogY2MuQ29sb3IgW10gPSBbXVxyXG4gICAgXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIFIgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9XHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/GetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '714f07aCe9N55KDdTLTUVv8', 'GetDialog');
// Game/Scripts/ui/GetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Platform_1 = require("../../../framework/Platform");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GetDialog = /** @class */ (function (_super) {
    __extends(GetDialog, _super);
    function GetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bannerLabel = null;
        _this.diamondLabel = null;
        _this.receiveLabel = null;
        _this.receiveDoubleLabel = null;
        _this.count = 0;
        _this.node_close = null;
        return _this;
    }
    GetDialog.prototype.onLoad = function () { };
    GetDialog.prototype.start = function () {
    };
    GetDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("=   恭喜获得  =", "钻石 x", "领取", "双倍领取");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("= Xin chúc mừng bạn đã chiến thắng =", "Kim cương x", "Nhận được", "Nhân đôi số tiền");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("= Congratulations on winning =", "Diamond x", "Receive", "Double the amount");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    GetDialog.prototype.set_label_lang = function (bannerString, diamondString, receiveString, receiveDoubleString) {
        this.bannerLabel.string = bannerString;
        this.diamondLabel.string = diamondString;
        this.receiveLabel.string = receiveString;
        this.receiveDoubleLabel.string = receiveDoubleString;
    };
    GetDialog.prototype.set_label_FontSize = function (fontSize) {
        this.bannerLabel.fontSize = fontSize;
        this.diamondLabel.fontSize = fontSize;
        this.receiveLabel.fontSize = fontSize;
        this.receiveDoubleLabel.fontSize = fontSize;
    };
    GetDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.count * 2);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        this.getComponent(View_1.default).hide();
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    GetDialog.prototype.click_double = function () {
        //share 
        //if share suc 
        // this.share_suc()
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Get);
        if (choice == 1) {
            Platform_1.default.share(this.share_suc, this);
            cc.log("Platform.share(this.share_suc, this)");
        }
        else if (choice == 0) {
            this.share_suc();
            cc.log(" this.share_suc()");
        }
        else {
            //video\
            Platform_1.default.watch_video(this.share_suc, this);
            cc.log("Platform.watch_video(this.share_suc, this)");
        }
    };
    GetDialog.prototype.onShown = function (count) {
        this.count = count;
        // SpriteFrameCache.instance.getSpriteFrame("Game/textures/car/" + cfg.img).then(sf=>this.icon.spriteFrame= sf);
        this.diamondLabel.string = "+" + count;
        this.node_close.active = false;
        this.unschedule(this.delayShow);
        this.scheduleOnce(this.delayShow, 2);
    };
    GetDialog.prototype.delayShow = function () {
        this.node_close.active = true;
    };
    GetDialog.prototype.click_no = function () {
        this.getComponent(View_1.default).hide();
        Info_1.UserInfo.addDiamond(this.count);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "receiveLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "receiveDoubleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GetDialog.prototype, "node_close", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], GetDialog.prototype, "eng_FontSize", void 0);
    GetDialog = __decorate([
        ccclass
    ], GetDialog);
    return GetDialog;
}(cc.Component));
exports.default = GetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEdldERpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsaUVBQTREO0FBQzdELGdDQUErQztBQUcvQywrRUFBMEU7QUFFMUUsd0RBQW1EO0FBQ25ELHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQXdJQztRQWxHRyxpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUc5QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUc5Qix3QkFBa0IsR0FBYSxJQUFJLENBQUM7UUFFcEMsV0FBSyxHQUFVLENBQUMsQ0FBQztRQUdqQixnQkFBVSxHQUFZLElBQUksQ0FBQzs7SUFvRi9CLENBQUM7SUF0SUcsMEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDRCQUFRLEdBQVI7UUFDSSxRQUFRLHlCQUFlLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRTtZQUM5QyxLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQzdCLE1BQU0sRUFDTixJQUFJLEVBQ0osTUFBTSxDQUNULENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLHNDQUFzQyxFQUN0RCxhQUFhLEVBQ2IsV0FBVyxFQUNYLGtCQUFrQixDQUNyQixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07WUFDVixL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RUksSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQixlQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUUsQ0FBQTtRQUNoQyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZix5Q0FBeUM7UUFDekMscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUE7SUFDakQsQ0FBQztJQWpHRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNVO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7bURBQ1c7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDVztJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3lEQUNpQjtJQUtwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNTO0lBZTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztrREFDWDtJQUVwQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7a0RBQ1g7SUFFcEI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO21EQUNWO0lBdkVKLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0F3STdCO0lBQUQsZ0JBQUM7Q0F4SUQsQUF3SUMsQ0F4SXNDLEVBQUUsQ0FBQyxTQUFTLEdBd0lsRDtrQkF4SW9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyLvu79pbXBvcnQgVmlldyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XHJcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xyXG5pbXBvcnQgTHVja3lEaWFsb2cgZnJvbSBcIi4vTHVja3lEaWFsb2dcIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyLCB7IExhbmd1YWdlTW9kZSB9IGZyb20gXCIuLi9MYW5ndWFnZU1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2V0RGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiPSAgIOaBreWWnOiOt+W+lyAgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6ZK755+zIHhcIixcclxuICAgICAgICAgICAgICAgICAgICBcIumihuWPllwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5Y+M5YCN6aKG5Y+WXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiPSBYaW4gY2jDumMgbeG7q25nIGLhuqFuIMSRw6MgY2hp4bq/biB0aOG6r25nID1cIixcclxuICAgICAgICAgICAgICAgICAgICBcIktpbSBjxrDGoW5nIHhcIixcclxuICAgICAgICAgICAgICAgICAgICBcIk5o4bqtbiDEkcaw4bujY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjDom4gxJHDtGkgc+G7kSB0aeG7gW5cIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCI9IENvbmdyYXR1bGF0aW9ucyBvbiB3aW5uaW5nID1cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkRpYW1vbmQgeFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRG91YmxlIHRoZSBhbW91bnRcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGJhbm5lckxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGlhbW9uZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVjZWl2ZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVjZWl2ZURvdWJsZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgY291bnQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG5vZGVfY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBkaWFtb25kU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcmVjZWl2ZVN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJlY2VpdmVEb3VibGVTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuZGlhbW9uZExhYmVsLnN0cmluZyA9IGRpYW1vbmRTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlTGFiZWwuc3RyaW5nID0gcmVjZWl2ZVN0cmluZztcclxuICAgICAgICB0aGlzLnJlY2VpdmVEb3VibGVMYWJlbC5zdHJpbmcgPSByZWNlaXZlRG91YmxlU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXI7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyO1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXI7XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmJhbm5lckxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnJlY2VpdmVMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZURvdWJsZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVfc3VjKClcclxuICAgIHtcclxuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuY291bnQgKiAyIClcclxuICAgICAgICBVc2VySW5mby5zYXZlKCk7XHJcbiAgICAgICAgLy8gRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19nZXRfZGlhbW9uZClcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19kb3VibGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vc2hhcmUgXHJcbiAgICAgICAgLy9pZiBzaGFyZSBzdWMgXHJcbiAgICAgICAgLy8gdGhpcy5zaGFyZV9zdWMoKVxyXG4gICAgICAgIGxldCBjaG9pY2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5HZXQpXHJcbiAgICAgICAgaWYoY2hvaWNlID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1YywgdGhpcyk7IFxyXG4gICAgICAgICAgICBjYy5sb2coXCJQbGF0Zm9ybS5zaGFyZSh0aGlzLnNoYXJlX3N1YywgdGhpcylcIik7XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKGNob2ljZSA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFyZV9zdWMoKTtcclxuICAgICAgICAgICAgY2MubG9nKFwiIHRoaXMuc2hhcmVfc3VjKClcIik7XHJcblxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgLy92aWRlb1xcXHJcbiAgICAgICAgICAgIFBsYXRmb3JtLndhdGNoX3ZpZGVvKHRoaXMuc2hhcmVfc3VjLCB0aGlzKVxyXG4gICAgICAgICAgICBjYy5sb2coXCJQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1YywgdGhpcylcIik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblNob3duKGNvdW50KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcclxuICAgICAgICAvLyBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKFwiR2FtZS90ZXh0dXJlcy9jYXIvXCIgKyBjZmcuaW1nKS50aGVuKHNmPT50aGlzLmljb24uc3ByaXRlRnJhbWU9IHNmKTtcclxuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSAgXCIrXCIgKyBjb3VudDtcclxuICAgICAgICB0aGlzLm5vZGVfY2xvc2UuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5kZWxheVNob3cpXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5kZWxheVNob3csMilcclxuICAgIH1cclxuXHJcbiAgICBkZWxheVNob3coKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZV9jbG9zZS5hY3RpdmUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfbm8oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcclxuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuY291bnQgKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIC8vIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9fZ2V0X2RpYW1vbmQpXHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTHVja3lEaWFsb2dcIilcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/HbDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec5aa26/dhLhpV83mVeVmkA', 'HbDialog');
// Game/Scripts/ui/HbDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../../../framework/Platform");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var Res_1 = require("../hex-lines-game/Res");
var Info_1 = require("../Info");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var HbDialog = /** @class */ (function (_super) {
    __extends(HbDialog, _super);
    function HbDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HbDialog.prototype.onLoad = function () { };
    HbDialog.prototype.start = function () { };
    HbDialog.prototype.click = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
        if (choise == 1) {
            Platform_1.default.share(this.share_suc, this);
        }
        else {
            Platform_1.default.watch_video(this.share_suc, this);
        }
    };
    HbDialog.prototype.share_suc = function () {
        var cfg = Res_1.R.skinConfig.json[3];
        ToastManager_1.Toast.make("恭喜获得皮肤 ：" + cfg.text);
        Device_1.default.playEffect(Res_1.R.audio_unlock);
        Info_1.UserInfo.unlock(cfg.id);
        Info_1.UserInfo.selectedSkin = cfg.id;
        Info_1.UserInfo.save();
        ViewManager_1.default.instance.show("Game/ShopDialog");
        this.getComponent(View_1.default).hide();
    };
    HbDialog = __decorate([
        ccclass
    ], HbDialog);
    return HbDialog;
}(cc.Component));
exports.default = HbDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEhiRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3REFBbUQ7QUFFbkQsK0VBQTBFO0FBQzFFLGlGQUF5RTtBQUN6RSw2Q0FBMEM7QUFDMUMsZ0NBQStDO0FBQy9DLDBFQUFxRTtBQUNyRSxpRUFBNEQ7QUFFdEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7O0lBMkJBLENBQUM7SUF6QkcseUJBQU0sR0FBTixjQUFXLENBQUM7SUFDWix3QkFBSyxHQUFMLGNBQVUsQ0FBQztJQUNYLHdCQUFLLEdBQUw7UUFFSSxJQUFJLE1BQU0sR0FBRyxlQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0MsSUFBRyxNQUFNLElBQUksQ0FBQyxFQUNkO1lBQ0ksa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUN0QzthQUFLO1lBQ0Ysa0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUM3QztJQUVMLENBQUM7SUFFRCw0QkFBUyxHQUFUO1FBRUksSUFBSSxHQUFHLEdBQUcsT0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDOUIsb0JBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNqQyxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbEMsZUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsZUFBUSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQy9CLGVBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtRQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ25DLENBQUM7SUExQmdCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0EyQjVCO0lBQUQsZUFBQztDQTNCRCxBQTJCQyxDQTNCcUMsRUFBRSxDQUFDLFNBQVMsR0EyQmpEO2tCQTNCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL1BsYXRmb3JtXCI7XHJcbmltcG9ydCBMdWNreURpYWxvZyBmcm9tIFwiLi9MdWNreURpYWxvZ1wiO1xyXG5pbXBvcnQgVmlld01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XHJcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XHJcbmltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhiRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuICAgIHN0YXJ0ICgpIHt9XHJcbiAgICBjbGljaygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkhCKTtcclxuICAgICAgICBpZihjaG9pc2UgPT0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFBsYXRmb3JtLnNoYXJlKHRoaXMuc2hhcmVfc3VjLHRoaXMpXHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1Yyx0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVfc3VjKClcclxuICAgIHtcclxuICAgICAgICBsZXQgY2ZnID0gUi5za2luQ29uZmlnLmpzb25bM11cclxuICAgICAgICBUb2FzdC5tYWtlKFwi5oGt5Zac6I635b6X55qu6IKkIO+8mlwiICsgY2ZnLnRleHQpIFxyXG4gICAgICAgIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9fdW5sb2NrKTtcclxuICAgICAgICBVc2VySW5mby51bmxvY2soY2ZnLmlkKTtcclxuICAgICAgICBVc2VySW5mby5zZWxlY3RlZFNraW4gPSBjZmcuaWQ7XHJcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpO1xyXG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1Nob3BEaWFsb2dcIilcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelupDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '192e1nHc39B4b1vo/mjTFG2', 'LevelupDialog');
// Game/Scripts/ui/LevelupDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Platform_1 = require("../../../framework/Platform");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelupDialog = /** @class */ (function (_super) {
    __extends(LevelupDialog, _super);
    function LevelupDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamondLabel = null;
        _this.btnLabel = null;
        _this.tipLabel = null;
        _this.levelLabel = null;
        _this.mult = 1;
        _this.baseDiamond = 0;
        return _this;
    }
    LevelupDialog.prototype.onLoad = function () { };
    LevelupDialog.prototype.start = function () { };
    LevelupDialog.prototype.onShown = function (level, p) {
        //给钻石
        p = Math.min(p, 1);
        var diamond = Math.floor(Math.max(30 * p, 10));
        this.baseDiamond = diamond;
        this.diamondLabel.string = diamond.toString();
        this.levelLabel.string = cc.js.formatStr("- 第 %s 关 - ", level);
        if (Math.random() > 0.7) {
            this.mult = g.randomInt(3, 6);
            this.btnLabel.string = this.mult + "倍领取";
        }
        else {
            this.btnLabel.string = "双倍领取";
            this.mult = 2;
        }
        this.tipLabel.string = "恭喜获得" + this.btnLabel.string + "奖励机会";
    };
    LevelupDialog.prototype.click_get = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond * this.mult);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.click_getex = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
        if (choise == 1) {
            Platform_1.default.share(this.share_suc, this);
        }
        else if (choise == 0) {
            this.share_suc();
        }
        else {
            //video
            Platform_1.default.watch_video(this.share_suc, this);
        }
    };
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "btnLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "tipLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "levelLabel", void 0);
    LevelupDialog = __decorate([
        ccclass
    ], LevelupDialog);
    return LevelupDialog;
}(cc.Component));
exports.default = LevelupDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsdXBEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdDQUErQztBQUMvQyxpRUFBNEQ7QUFDNUQsd0RBQW1EO0FBRTdDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTJDLGlDQUFZO0lBQXZEO1FBQUEscUVBc0VDO1FBbkVHLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBSTdCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFHekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFZLElBQUksQ0FBQztRQUUzQixVQUFJLEdBQVUsQ0FBQyxDQUFDO1FBRWhCLGlCQUFXLEdBQVUsQ0FBQyxDQUFDOztJQXFEM0IsQ0FBQztJQW5ERyw4QkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDZCQUFLLEdBQUwsY0FBVSxDQUFDO0lBQ1gsK0JBQU8sR0FBUCxVQUFRLEtBQUssRUFBQyxDQUFDO1FBRVgsS0FBSztRQUNMLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDO1FBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLENBQUE7UUFFN0QsSUFBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUN0QjtZQUNJLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUE7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRSxLQUFLLENBQUE7U0FDMUM7YUFBSTtZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUM3QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQTtTQUNoQjtRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRSxNQUFNLENBQUE7SUFDL0QsQ0FBQztJQUVELGlDQUFTLEdBQVQ7UUFFSSxlQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN0QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsaUNBQVMsR0FBVDtRQUVJLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDbEMsQ0FBQztJQUVELG1DQUFXLEdBQVg7UUFFSSxJQUFJLE1BQU0sR0FBRyxlQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEQsSUFBRyxNQUFNLElBQUksQ0FBQyxFQUNkO1lBQ0ksa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUN2QzthQUFLLElBQUcsTUFBTSxJQUFJLENBQUMsRUFDcEI7WUFDSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDcEI7YUFBSTtZQUNELE9BQU87WUFDUCxrQkFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxDQUFBO1NBQzVDO0lBRUwsQ0FBQztJQWxFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3VEQUNVO0lBSTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7bURBQ007SUFHekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDTTtJQUd6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3FEQUNRO0lBYlYsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXNFakM7SUFBRCxvQkFBQztDQXRFRCxBQXNFQyxDQXRFMEMsRUFBRSxDQUFDLFNBQVMsR0FzRXREO2tCQXRFb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcclxuaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWx1cERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGlhbW9uZExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYnRuTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpcExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsZXZlbExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBtdWx0Om51bWJlciA9IDE7XHJcblxyXG4gICAgYmFzZURpYW1vbmQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuICAgIHN0YXJ0ICgpIHt9XHJcbiAgICBvblNob3duKGxldmVsLHApXHJcbiAgICB7XHJcbiAgICAgICAgLy/nu5npkrvnn7NcclxuICAgICAgICBwID0gTWF0aC5taW4ocCwxKTtcclxuICAgICAgICBsZXQgZGlhbW9uZCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMzAgKiBwLDEwKSlcclxuICAgICAgICB0aGlzLmJhc2VEaWFtb25kID0gZGlhbW9uZDtcclxuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSBkaWFtb25kLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5sZXZlbExhYmVsLnN0cmluZyA9IGNjLmpzLmZvcm1hdFN0cihcIi0g56ysICVzIOWFsyAtIFwiLGxldmVsKVxyXG5cclxuICAgICAgICBpZihNYXRoLnJhbmRvbSgpID4gMC43KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0ID0gZy5yYW5kb21JbnQoMyw2KVxyXG4gICAgICAgICAgICB0aGlzLmJ0bkxhYmVsLnN0cmluZyA9IHRoaXMubXVsdCArXCLlgI3pooblj5ZcIlxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxhYmVsLnN0cmluZyA9IFwi5Y+M5YCN6aKG5Y+WXCJcclxuICAgICAgICAgICAgdGhpcy5tdWx0ID0gMlxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpcExhYmVsLnN0cmluZyA9XCLmga3llpzojrflvpdcIiArIHRoaXMuYnRuTGFiZWwuc3RyaW5nICtcIuWlluWKseacuuS8mlwiXHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfZ2V0KClcclxuICAgIHtcclxuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuYmFzZURpYW1vbmQpO1xyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKClcclxuICAgIH1cclxuXHJcbiAgICBzaGFyZV9zdWMoKVxyXG4gICAge1xyXG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5iYXNlRGlhbW9uZCp0aGlzLm11bHQpO1xyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKClcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19nZXRleCgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkxldmVsdXApO1xyXG4gICAgICAgIGlmKGNob2lzZSA9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUGxhdGZvcm0uc2hhcmUodGhpcy5zaGFyZV9zdWMsdGhpcyk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2hvaXNlID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNoYXJlX3N1YygpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL3ZpZGVvXHJcbiAgICAgICAgICAgIFBsYXRmb3JtLndhdGNoX3ZpZGVvKHRoaXMuc2hhcmVfc3VjLHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/HexonTile.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '64d50rBFZhG5qLba7sOg6x9', 'HexonTile');
// Game/Scripts/hex-lines-game/HexonTile.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts_1 = require("./Consts");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TileType;
(function (TileType) {
    TileType[TileType["Empty"] = 0] = "Empty";
    TileType[TileType["Type1"] = 1] = "Type1";
    TileType[TileType["Type2"] = 2] = "Type2";
    TileType[TileType["Type3"] = 3] = "Type3";
    TileType[TileType["Type4"] = 4] = "Type4";
    TileType[TileType["Type5"] = 5] = "Type5";
    TileType[TileType["Type6"] = 6] = "Type6";
    TileType[TileType["Type7"] = 7] = "Type7";
})(TileType || (TileType = {}));
var HexonTile = /** @class */ (function (_super) {
    __extends(HexonTile, _super);
    function HexonTile() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._col = 0;
        _this._row = 0;
        _this._animal = 0;
        _this.isChangable = true;
        _this._isConnecting = false;
        _this.connectedTile = null;
        _this.reverseConnectedTile = null;
        _this.targetTile = null;
        _this._sprite = null;
        _this._baseSprite = null;
        _this.animalSprite = null;
        _this._tileType = 0;
        return _this;
        // update (dt) {}
    }
    HexonTile.prototype.get_col = function () {
        return this._col;
    };
    HexonTile.prototype.set_col = function (t) {
        return this._col = t,
            t = this._col - (this._row <= Game_1.default.instance._rowCount / 2 ? Game_1.default.instance.get_minCol() + this._row : Game_1.default.instance.get_minCol() - 1 + Game_1.default.instance._rowCount - this._row) / 2 + .5,
            this._baseSprite.node.x = (Consts_1.default.CenterX + t * Consts_1.default.ColSize),
            this._col;
    };
    HexonTile.prototype.get_row = function () {
        return this._row;
    };
    HexonTile.prototype.set_row = function (t) {
        this._row = t;
        this._baseSprite.node.y = (Consts_1.default.CenterY + (this._row - (Game_1.default.instance._rowCount / 2 | 0)) * Consts_1.default.RowSize);
        return this._row;
    };
    HexonTile.prototype.get_borderPosition = function () {
        return this._baseSprite.node.position;
        // return cc.v2(this._baseSprite.node.x._value, this._baseSprite.node.y._value)
    };
    HexonTile.prototype.get_isConnecting = function () {
        return this._isConnecting;
    };
    HexonTile.prototype.set_isConnecting = function (t) {
        return this._isConnecting = t, this.set_tileType(this._tileType), this._isConnecting;
    };
    HexonTile.prototype.get_animal = function () {
        return this._animal;
    };
    HexonTile.prototype.set_animal = function (t) {
        switch (this._animal = t, t) {
            case 1:
                this.set_tileType(TileType.Type1);
                break;
            case 2:
                this.set_tileType(TileType.Type2);
                break;
            case 3:
                this.set_tileType(TileType.Type3);
                break;
            case 4:
                this.set_tileType(TileType.Type4);
                break;
            case 5:
                this.set_tileType(TileType.Type5);
                break;
            case 6:
                this.set_tileType(TileType.Type6);
                break;
            case 7:
                this.set_tileType(TileType.Type7);
                break;
            default:
                this.set_tileType(TileType.Empty);
        }
        return this._animal;
    };
    HexonTile.prototype.getTileTexture = function (t, e, n) {
        if (t == 0) {
            return Res_1.R.tileTextures[0];
        }
        else {
            // return e ? R.tileTextures[t] : 1 == n ? R.tileTextures[14 + t] : R.tileTextures[7 + t]
            var idx = 0;
            if (e) {
                idx = t;
            }
            else {
                if (n) {
                    idx = 14 + t;
                }
                else {
                    idx = 7 + t;
                }
            }
            return Res_1.R.tileTextures[idx];
        }
    };
    HexonTile.prototype.set_tileType = function (t) {
        this._tileType = t;
        // if (null == this._baseSprite )
        // {
        //     // this._baseSprite = new Y
        //     // this._baseSprite.setAnchor(42, 42)
        //     // this.owner.add(this._baseSprite)
        // }
        // if (null == this._sprite )
        // {
        //     // this._sprite = new J(jn.Instance.getTileTexture(this.get_animal(), !1, !1))
        //     // this.owner.addChild((new g).add(this._sprite))
        // } 
        if (this.isChangable && this.get_isConnecting()) {
            this._baseSprite.spriteFrame = this.getTileTexture(this.get_animal(), true, false);
        }
        else {
            var tailTile = this.getTail();
            var sp = void 0;
            if (!this.isChangable && null != this.reverseConnectedTile) {
                sp = this.getTileTexture(this.get_animal(), false, true);
            }
            else {
                if (null == tailTile || tailTile.isChangable) {
                    sp = this.getTileTexture(this.get_animal(), false, false);
                }
                else {
                    sp = this.getTileTexture(this.get_animal(), false, true);
                }
            }
            this._baseSprite.spriteFrame = sp;
        }
        return this._tileType;
    };
    HexonTile.prototype.onAdded = function () {
        this.set_tileType(TileType.Empty);
    };
    HexonTile.prototype.connect = function (t) {
        null == t ? null != this.connectedTile && (1 == this.connectedTile.isChangable && this.connectedTile.set_animal(0), this.connectedTile.connect(null), this.connectedTile = this.connectedTile.reverseConnectedTile = null) : (this.connectedTile = t, t.set_animal(this.get_animal()), t.reverseConnectedTile = this);
    };
    HexonTile.prototype.getTail = function () {
        for (var t = this.connectedTile, e = null; null != t;)
            e = t, t = t.connectedTile;
        return e;
    };
    HexonTile.prototype.getHead = function () {
        for (var t = this.reverseConnectedTile, e = null; null != t;)
            e = t, t = t.reverseConnectedTile;
        return e;
    };
    HexonTile.prototype.equals = function (t) {
        return null == t ? !1 : this.get_row() == t.get_row() && this.get_col() == t.get_col();
    };
    HexonTile.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Animal Sprite" })
    ], HexonTile.prototype, "_sprite", void 0);
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Base Sprite" })
    ], HexonTile.prototype, "_baseSprite", void 0);
    HexonTile = __decorate([
        ccclass
    ], HexonTile);
    return HexonTile;
}(cc.Component));
exports.default = HexonTile;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEhleG9uVGlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQThCO0FBQzlCLCtCQUE4QjtBQUM5Qiw2QkFBMEI7QUFFcEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSyxRQVVKO0FBVkQsV0FBSyxRQUFRO0lBRVQseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7QUFDVCxDQUFDLEVBVkksUUFBUSxLQUFSLFFBQVEsUUFVWjtBQUlEO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBa0tDO1FBaktHLFVBQUksR0FBVyxDQUFDLENBQUM7UUFDakIsVUFBSSxHQUFVLENBQUMsQ0FBQztRQUNoQixhQUFPLEdBQVUsQ0FBQyxDQUFDO1FBQ25CLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ25CLG1CQUFhLEdBQUcsS0FBSyxDQUFDO1FBRXRCLG1CQUFhLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLDBCQUFvQixHQUFHLElBQUksQ0FBQztRQUM1QixnQkFBVSxHQUFHLElBQUksQ0FBQztRQUdsQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBRW5CLGtCQUFZLEdBQUcsSUFBSSxDQUFDO1FBR3BCLGVBQVMsR0FBRyxDQUFDLENBQUM7O1FBNklkLGlCQUFpQjtJQUNyQixDQUFDO0lBNUlHLDJCQUFPLEdBQVA7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDcEIsQ0FBQztJQUNELDJCQUFPLEdBQVAsVUFBUSxDQUFDO1FBQ0wsT0FBTyxJQUFJLENB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QUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDLGFBQWEsRUFBQyxDQUFDO2tEQUMvQztJQWZGLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FrSzdCO0lBQUQsZ0JBQUM7Q0FsS0QsQUFrS0MsQ0FsS3NDLEVBQUUsQ0FBQyxTQUFTLEdBa0tsRDtrQkFsS29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uc3RzIGZyb20gXCIuL0NvbnN0c1wiO1xyXG5pbXBvcnQgTGluZUdhbWUgZnJvbSBcIi4vR2FtZVwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4vUmVzXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmVudW0gVGlsZVR5cGVcclxue1xyXG4gICAgRW1wdHksXHJcbiAgICBUeXBlMSxcclxuICAgIFR5cGUyLFxyXG4gICAgVHlwZTMsXHJcbiAgICBUeXBlNCxcclxuICAgIFR5cGU1LFxyXG4gICAgVHlwZTYsXHJcbiAgICBUeXBlN1xyXG59XHJcblxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV4b25UaWxlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIF9jb2w6IG51bWJlciA9IDA7XHJcbiAgICBfcm93Om51bWJlciA9IDA7XHJcbiAgICBfYW5pbWFsOm51bWJlciA9IDA7XHJcbiAgICBpc0NoYW5nYWJsZSA9IHRydWU7XHJcbiAgICBfaXNDb25uZWN0aW5nID0gZmFsc2U7XHJcbiAgICBcclxuICAgIGNvbm5lY3RlZFRpbGUgPSBudWxsO1xyXG4gICAgcmV2ZXJzZUNvbm5lY3RlZFRpbGUgPSBudWxsO1xyXG4gICAgdGFyZ2V0VGlsZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlNwcml0ZSx2aXNpYmxlOnRydWUsZGlzcGxheU5hbWU6XCJBbmltYWwgU3ByaXRlXCJ9KVxyXG4gICAgX3Nwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5TcHJpdGUsdmlzaWJsZTp0cnVlLGRpc3BsYXlOYW1lOlwiQmFzZSBTcHJpdGVcIn0pXHJcbiAgICBfYmFzZVNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgYW5pbWFsU3ByaXRlID0gbnVsbDtcclxuXHJcblxyXG4gICAgX3RpbGVUeXBlID0gMDtcclxuXHJcbiAgICBnZXRfY29sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xcclxuICAgIH1cclxuICAgIHNldF9jb2wodCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2wgPSB0LFxyXG4gICAgICAgICAgICB0ID0gdGhpcy5fY29sIC0gKHRoaXMuX3JvdyA8PSBMaW5lR2FtZS5pbnN0YW5jZS5fcm93Q291bnQgLyAyID8gTGluZUdhbWUuaW5zdGFuY2UuZ2V0X21pbkNvbCgpICsgdGhpcy5fcm93OiBMaW5lR2FtZS5pbnN0YW5jZS5nZXRfbWluQ29sKCkgLSAxICsgTGluZUdhbWUuaW5zdGFuY2UuX3Jvd0NvdW50IC0gdGhpcy5fcm93KSAvIDIgKyAuNSxcclxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnggPSAoQ29uc3RzLkNlbnRlclggKyB0ICogQ29uc3RzLkNvbFNpemUpLFxyXG4gICAgICAgICAgICB0aGlzLl9jb2xcclxuICAgIH1cclxuICAgIGdldF9yb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvd1xyXG4gICAgfVxyXG4gICAgc2V0X3Jvdyh0KSB7XHJcbiAgICAgICAgdGhpcy5fcm93ID0gdFxyXG4gICAgICAgIHRoaXMuX2Jhc2VTcHJpdGUubm9kZS55ID0gKENvbnN0cy5DZW50ZXJZICsgKHRoaXMuX3JvdyAtIChMaW5lR2FtZS5pbnN0YW5jZS5fcm93Q291bnQgLyAyIHwgMCkpICogQ29uc3RzLlJvd1NpemUpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvd1xyXG4gICAgfVxyXG4gICAgZ2V0X2JvcmRlclBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlU3ByaXRlLm5vZGUucG9zaXRpb25cclxuICAgICAgICAvLyByZXR1cm4gY2MudjIodGhpcy5fYmFzZVNwcml0ZS5ub2RlLnguX3ZhbHVlLCB0aGlzLl9iYXNlU3ByaXRlLm5vZGUueS5fdmFsdWUpXHJcbiAgICB9XHJcbiAgICBnZXRfaXNDb25uZWN0aW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Nvbm5lY3RpbmdcclxuICAgIH1cclxuICAgIHNldF9pc0Nvbm5lY3RpbmcodCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Nvbm5lY3RpbmcgPSB0LCB0aGlzLnNldF90aWxlVHlwZSh0aGlzLl90aWxlVHlwZSksIHRoaXMuX2lzQ29ubmVjdGluZ1xyXG4gICAgfVxyXG4gICAgZ2V0X2FuaW1hbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWFsXHJcbiAgICB9XHJcbiAgICBzZXRfYW5pbWFsKHQpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuX2FuaW1hbCA9IHQsIHQpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGUyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlMyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGU1KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlNik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5FbXB0eSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hbFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRUaWxlVGV4dHVyZSh0LCBlLCBuKSB7XHJcbiAgICAgICAgaWYodCA9PSAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBSLnRpbGVUZXh0dXJlc1swXVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gZSA/IFIudGlsZVRleHR1cmVzW3RdIDogMSA9PSBuID8gUi50aWxlVGV4dHVyZXNbMTQgKyB0XSA6IFIudGlsZVRleHR1cmVzWzcgKyB0XVxyXG4gICAgICAgICAgICBsZXQgaWR4ID0gMFxyXG4gICAgICAgICAgICBpZihlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZHggPSB0XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYgKG4pe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IDE0ICt0IFxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gNyArIHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFIudGlsZVRleHR1cmVzW2lkeF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRfdGlsZVR5cGUodDpudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90aWxlVHlwZSA9IHRcclxuICAgICAgICAvLyBpZiAobnVsbCA9PSB0aGlzLl9iYXNlU3ByaXRlIClcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIC8vIHRoaXMuX2Jhc2VTcHJpdGUgPSBuZXcgWVxyXG4gICAgICAgIC8vICAgICAvLyB0aGlzLl9iYXNlU3ByaXRlLnNldEFuY2hvcig0MiwgNDIpXHJcbiAgICAgICAgLy8gICAgIC8vIHRoaXMub3duZXIuYWRkKHRoaXMuX2Jhc2VTcHJpdGUpXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGlmIChudWxsID09IHRoaXMuX3Nwcml0ZSApXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICAvLyB0aGlzLl9zcHJpdGUgPSBuZXcgSihqbi5JbnN0YW5jZS5nZXRUaWxlVGV4dHVyZSh0aGlzLmdldF9hbmltYWwoKSwgITEsICExKSlcclxuICAgICAgICAvLyAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCgobmV3IGcpLmFkZCh0aGlzLl9zcHJpdGUpKVxyXG4gICAgICAgIC8vIH0gXHJcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2FibGUgJiYgdGhpcy5nZXRfaXNDb25uZWN0aW5nKCkgKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VTcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmdldFRpbGVUZXh0dXJlKHRoaXMuZ2V0X2FuaW1hbCgpLHRydWUsIGZhbHNlKSBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IHRhaWxUaWxlID0gdGhpcy5nZXRUYWlsKClcclxuICAgICAgICAgICAgbGV0IHNwIFxyXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzQ2hhbmdhYmxlICYmIG51bGwgIT0gdGhpcy5yZXZlcnNlQ29ubmVjdGVkVGlsZSApIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzcCA9IHRoaXMuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksIGZhbHNlLCB0cnVlKVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKCBudWxsID09IHRhaWxUaWxlIHx8IHRhaWxUaWxlLmlzQ2hhbmdhYmxlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwID0gdGhpcy5nZXRUaWxlVGV4dHVyZSh0aGlzLmdldF9hbmltYWwoKSwgZmFsc2UsIGZhbHNlKSBcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNwID0gdGhpcy5nZXRUaWxlVGV4dHVyZSh0aGlzLmdldF9hbmltYWwoKSwgZmFsc2UsIHRydWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5zcHJpdGVGcmFtZSA9IHNwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlVHlwZTtcclxuICAgIH1cclxuICAgIG9uQWRkZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuRW1wdHkpXHJcbiAgICB9XHJcbiAgICBjb25uZWN0KHQpIHtcclxuICAgICAgICBudWxsID09IHQgPyBudWxsICE9IHRoaXMuY29ubmVjdGVkVGlsZSAmJiAoMSA9PSB0aGlzLmNvbm5lY3RlZFRpbGUuaXNDaGFuZ2FibGUgJiYgdGhpcy5jb25uZWN0ZWRUaWxlLnNldF9hbmltYWwoMCksIHRoaXMuY29ubmVjdGVkVGlsZS5jb25uZWN0KG51bGwpLCB0aGlzLmNvbm5lY3RlZFRpbGUgPSB0aGlzLmNvbm5lY3RlZFRpbGUucmV2ZXJzZUNvbm5lY3RlZFRpbGUgPSBudWxsKSA6ICh0aGlzLmNvbm5lY3RlZFRpbGUgPSB0LCB0LnNldF9hbmltYWwodGhpcy5nZXRfYW5pbWFsKCkpLCB0LnJldmVyc2VDb25uZWN0ZWRUaWxlID0gdGhpcylcclxuICAgIH1cclxuICAgIGdldFRhaWwoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgdCA9IHRoaXMuY29ubmVjdGVkVGlsZSwgZSA9IG51bGw7IG51bGwgIT0gdDspIGUgPSB0LCB0ID0gdC5jb25uZWN0ZWRUaWxlO1xyXG4gICAgICAgIHJldHVybiBlXHJcbiAgICB9XHJcbiAgICBnZXRIZWFkKCkge1xyXG4gICAgICAgIGZvciAodmFyIHQgPSB0aGlzLnJldmVyc2VDb25uZWN0ZWRUaWxlLCBlID0gbnVsbDsgbnVsbCAhPSB0OykgZSA9IHQsIHQgPSB0LnJldmVyc2VDb25uZWN0ZWRUaWxlO1xyXG4gICAgICAgIHJldHVybiBlXHJcbiAgICB9XHJcbiAgICBlcXVhbHModCkge1xyXG4gICAgICAgIHJldHVybiBudWxsID09IHQgPyAhMSA6IHRoaXMuZ2V0X3JvdygpID09IHQuZ2V0X3JvdygpICYmIHRoaXMuZ2V0X2NvbCgpID09IHQuZ2V0X2NvbCgpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LoseDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4e3984V63ZMooQQ3tgVzSsK', 'LoseDialog');
// Game/Scripts/ui/LoseDialog.ts

// Learn TypeScript:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titlelabel = null;
        _this.playAgainlabel = null;
        _this.homelabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        _this.params = null; // reference callback from ViewManager
        return _this;
    }
    NewClass.prototype.init = function (params) {
        this.params = params;
    };
    NewClass.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("你想再玩一次吗？", "继续", "不是");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Bạn có muốn chơi lại không?", "Tiếp tục", "Không");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Do you want to play again?", "Continue", "No");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    NewClass.prototype.set_label_lang = function (titlelabelString, playAgainlabelString, homelabelString) {
        this.titlelabel.string = titlelabelString;
        this.playAgainlabel.string = playAgainlabelString;
        this.homelabel.string = homelabelString;
    };
    NewClass.prototype.set_label_FontSize = function (fontSize) {
        this.titlelabel.fontSize = fontSize;
        this.playAgainlabel.fontSize = fontSize;
        this.homelabel.fontSize = fontSize;
    };
    NewClass.prototype.onContinueButtonClick = function () {
        this.params.onContinue();
        ViewManager_1.default.instance.hide(this.node); // notify ViewManager
    };
    NewClass.prototype.onQuitButtonClick = function () {
        this.params.onQuit();
        ViewManager_1.default.instance.hide(this.node); // notify ViewManager
    };
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "titlelabel", void 0);
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "playAgainlabel", void 0);
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "homelabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], NewClass.prototype, "eng_FontSize", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExvc2VEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsb0JBQW9CO0FBQ3JCLDRFQUE0RTtBQUM1RSxtQkFBbUI7QUFDbkIsc0ZBQXNGO0FBQ3RGLDhCQUE4QjtBQUM5QixzRkFBc0Y7O0FBRXRGLCtFQUEwRTtBQUMxRSxzREFBbUU7QUFFN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUE2RUM7UUExRUcsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFFNUIsb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFFaEMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUkzQixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQztRQUcxQixZQUFNLEdBQVEsSUFBSSxDQUFDLENBQUMsc0NBQXNDOztJQTJEOUQsQ0FBQztJQTFERyx1QkFBSSxHQUFKLFVBQUssTUFBVztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCwyQkFBUSxHQUFSO1FBQ0ksUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUMxQixJQUFJLEVBQ0osSUFBSSxDQUNQLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLDZCQUE2QixFQUM3QyxVQUFVLEVBQ1YsT0FBTyxDQUNWLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFMUMsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUNmLDRCQUE0QixFQUM1QixVQUFVLEVBQ1YsSUFBSSxDQUNQLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDM0MsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUdELGlDQUFjLEdBQWQsVUFDSSxnQkFBd0IsRUFDeEIsb0JBQTRCLEVBQzVCLGVBQXVCO1FBRXZCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDO1FBQzFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO1FBQ2xELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQztJQUM1QyxDQUFDO0lBRUQscUNBQWtCLEdBQWxCLFVBQW1CLFFBQWdCO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDeEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCx3Q0FBcUIsR0FBckI7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pCLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxxQkFBcUI7SUFDL0QsQ0FBQztJQUVELG9DQUFpQixHQUFqQjtRQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDckIscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjtJQUMvRCxDQUFDO0lBekVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0RBQ1M7SUFFNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDYTtJQUVoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNRO0lBSTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztpREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7aURBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO2tEQUNMO0lBZlQsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQTZFNUI7SUFBRCxlQUFDO0NBN0VELEFBNkVDLENBN0VxQyxFQUFFLENBQUMsU0FBUyxHQTZFakQ7a0JBN0VvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsi77u/Ly8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yLzIuNC9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci8yLjQvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvMi40L21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyLCB7IExhbmd1YWdlTW9kZSB9IGZyb20gXCIuLi9MYW5ndWFnZU1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV3Q2xhc3MgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlbGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHBsYXlBZ2FpbmxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBob21lbGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcblxyXG4gICAgcGFyYW1zOiBhbnkgPSBudWxsOyAvLyByZWZlcmVuY2UgY2FsbGJhY2sgZnJvbSBWaWV3TWFuYWdlclxyXG4gICAgaW5pdChwYXJhbXM6IGFueSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCLkvaDmg7Plho3njqnkuIDmrKHlkJfvvJ9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIue7p+e7rVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5LiN5pivXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQuG6oW4gY8OzIG114buRbiBjaMahaSBs4bqhaSBraMO0bmc/XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaeG6v3AgdOG7pWNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIktow7RuZ1wiLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMudmlfRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJEbyB5b3Ugd2FudCB0byBwbGF5IGFnYWluP1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGludWVcIixcclxuICAgICAgICAgICAgICAgICAgICBcIk5vXCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldF9sYWJlbF9sYW5nKFxyXG4gICAgICAgIHRpdGxlbGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBwbGF5QWdhaW5sYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGhvbWVsYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZWxhYmVsLnN0cmluZyA9IHRpdGxlbGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5wbGF5QWdhaW5sYWJlbC5zdHJpbmcgPSBwbGF5QWdhaW5sYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLmhvbWVsYWJlbC5zdHJpbmcgPSBob21lbGFiZWxTdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnRpdGxlbGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnBsYXlBZ2FpbmxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5ob21lbGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbnRpbnVlQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMub25Db250aW51ZSgpO1xyXG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLmhpZGUodGhpcy5ub2RlKTsgLy8gbm90aWZ5IFZpZXdNYW5hZ2VyXHJcbiAgICB9XHJcblxyXG4gICAgb25RdWl0QnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMub25RdWl0KCk7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2UuaGlkZSh0aGlzLm5vZGUpOyAvLyBub3RpZnkgVmlld01hbmFnZXJcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Animal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ba634us93lPYrBZpOaL4ofo', 'Animal');
// Game/Scripts/hex-lines-game/Animal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Animal = /** @class */ (function (_super) {
    __extends(Animal, _super);
    function Animal() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.animation = null;
        return _this;
    }
    Animal.prototype.onLoad = function () {
        this.animation = this.getComponentInChildren(cc.Animation);
        this.animation.on("finished", this.onFinish, this);
    };
    Animal.prototype.onFinish = function (s, a) {
        if (a.clip.name == "animal_jump") {
            this.animation.play("animal_idle");
        }
    };
    Animal.prototype.start = function () {
        this.animation.play("animal_idle");
    };
    Animal.prototype.connected = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Normal;
    };
    Animal.prototype._loopJump = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Loop;
    };
    Animal.prototype.loopJump = function (d) {
        this.scheduleOnce(this._loopJump, g.randomFloat(0, d));
    };
    __decorate([
        property(cc.Sprite)
    ], Animal.prototype, "sprite", void 0);
    Animal = __decorate([
        ccclass
    ], Animal);
    return Animal;
}(cc.Component));
exports.default = Animal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEFuaW1hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBb0MsMEJBQVk7SUFBaEQ7UUFBQSxxRUF3Q0M7UUFyQ0csWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQzs7SUFrQ2xDLENBQUM7SUFoQ0csdUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUMsRUFBQyxDQUFtQjtRQUUxQixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGFBQWEsRUFDL0I7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNyQztJQUNMLENBQUM7SUFFRCxzQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELDBCQUFTLEdBQVQ7UUFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMvQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ3hDLENBQUM7SUFFRCwwQkFBUyxHQUFUO1FBRUksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7UUFDOUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBcENEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MENBQ0k7SUFIUCxNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBd0MxQjtJQUFELGFBQUM7Q0F4Q0QsQUF3Q0MsQ0F4Q21DLEVBQUUsQ0FBQyxTQUFTLEdBd0MvQztrQkF4Q29CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSIH0gZnJvbSBcIi4vUmVzXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hbCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHNwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBhbmltYXRpb246Y2MuQW5pbWF0aW9uID0gbnVsbDtcclxuICAgIFxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHRoaXMuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5BbmltYXRpb24pO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLm9uKFwiZmluaXNoZWRcIiwgdGhpcy5vbkZpbmlzaCx0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRmluaXNoKHMsYTpjYy5BbmltYXRpb25TdGF0ZSlcclxuICAgIHtcclxuICAgICAgICBpZihhLmNsaXAubmFtZSA9PSBcImFuaW1hbF9qdW1wXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KFwiYW5pbWFsX2lkbGVcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJhbmltYWxfaWRsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9qdW1wXCIpO1xyXG4gICAgICAgIHN0YXRlLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuTm9ybWFsO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb29wSnVtcCgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9qdW1wXCIpXHJcbiAgICAgICAgc3RhdGUud3JhcE1vZGUgPSBjYy5XcmFwTW9kZS5Mb29wO1xyXG4gICAgfVxyXG5cclxuICAgIGxvb3BKdW1wKGQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5fbG9vcEp1bXAsIGcucmFuZG9tRmxvYXQoMCxkKSlcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCParticleSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f51daFLsqdJ/4k4IuDQeRuR', 'DCParticleSystem');
// Game/Scripts/ui/DCParticleSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var Info_1 = require("../Info");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCParticleSystem = /** @class */ (function (_super) {
    __extends(DCParticleSystem, _super);
    function DCParticleSystem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCParticleSystem.prototype.onLoad = function () {
    };
    DCParticleSystem.prototype.start = function () { };
    DCParticleSystem.prototype.onValueChanged = function (v) {
        var _this = this;
        var data = Info_1.UserInfo.getSkinById(v);
        // data.ps
        if (this.ps && this.ps.node)
            this.ps.node.destroy();
        cc.loader.loadRes("Game/Particles/" + data.ps, cc.ParticleAsset, function (err, ps) {
            console.log(data.ps, ps);
            var particleNode = new cc.Node();
            _this.ps = particleNode.addComponent(cc.ParticleSystem);
            _this.ps.file = ps;
            _this.node.addChild(particleNode);
        });
        // this.ps.file = cc.url.raw("resources/Game/Particles/" + data.ps+".plist");
        // cc.loader.loadRes("Game/Particles/"+data.ps,cc.ParticleAsset,(err,ps)=>{
        //     console.log(data.ps,ps);
        //     this.ps.file = ps;
        // })
    };
    DCParticleSystem = __decorate([
        ccclass
    ], DCParticleSystem);
    return DCParticleSystem;
}(DCUI_1.default));
exports.default = DCParticleSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDUGFydGljbGVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFHN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBOEMsb0NBQUk7SUFBbEQ7O0lBNkJBLENBQUM7SUExQkcsaUNBQU0sR0FBTjtJQUdBLENBQUM7SUFFRCxnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQUVYLHlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBQWhCLGlCQWtCQztRQWhCRyxJQUFJLElBQUksR0FBRyxlQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLFVBQVU7UUFDVixJQUFHLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixHQUFDLElBQUksQ0FBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLGFBQWEsRUFBQyxVQUFDLEdBQUcsRUFBQyxFQUFFO1lBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztZQUN4QixJQUFJLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNqQyxLQUFJLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZELEtBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtRQUNGLDZFQUE2RTtRQUM3RSwyRUFBMkU7UUFDM0UsK0JBQStCO1FBQy9CLHlCQUF5QjtRQUN6QixLQUFLO0lBQ1QsQ0FBQztJQTVCZ0IsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0E2QnBDO0lBQUQsdUJBQUM7Q0E3QkQsQUE2QkMsQ0E3QjZDLGNBQUksR0E2QmpEO2tCQTdCb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL0RDVUlcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1BhcnRpY2xlU3lzdGVtIGV4dGVuZHMgRENVSSB7XHJcblxyXG4gICAgcHM6Y2MuUGFydGljbGVTeXN0ZW07XHJcbiAgICBvbkxvYWQoKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHt9XHJcblxyXG4gICAgb25WYWx1ZUNoYW5nZWQodilcclxuICAgIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFVzZXJJbmZvLmdldFNraW5CeUlkKHYpO1xyXG4gICAgICAgIC8vIGRhdGEucHNcclxuICAgICAgICBpZih0aGlzLnBzICYmIHRoaXMucHMubm9kZSlcclxuICAgICAgICAgICAgdGhpcy5wcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhcIkdhbWUvUGFydGljbGVzL1wiK2RhdGEucHMsY2MuUGFydGljbGVBc3NldCwoZXJyLHBzKT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnBzLHBzKTtcclxuICAgICAgICAgICAgbGV0IHBhcnRpY2xlTm9kZSA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucHMgPSBwYXJ0aWNsZU5vZGUuYWRkQ29tcG9uZW50KGNjLlBhcnRpY2xlU3lzdGVtKTtcclxuICAgICAgICAgICAgdGhpcy5wcy5maWxlID0gcHM7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChwYXJ0aWNsZU5vZGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gdGhpcy5wcy5maWxlID0gY2MudXJsLnJhdyhcInJlc291cmNlcy9HYW1lL1BhcnRpY2xlcy9cIiArIGRhdGEucHMrXCIucGxpc3RcIik7XHJcbiAgICAgICAgLy8gY2MubG9hZGVyLmxvYWRSZXMoXCJHYW1lL1BhcnRpY2xlcy9cIitkYXRhLnBzLGNjLlBhcnRpY2xlQXNzZXQsKGVycixwcyk9PntcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZGF0YS5wcyxwcyk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucHMuZmlsZSA9IHBzO1xyXG4gICAgICAgIC8vIH0pXHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PoolManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '69495bpMX5Av5pbrNxnGI8/', 'PoolManager');
// framework/plugin_boosts/gamesys/PoolManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PoolManager = /** @class */ (function () {
    function PoolManager(root, onCreateObject, target) {
        this.nodePool = {};
        this.nodes = {};
        this.managed = false;
        this.aliveObjects = [];
        this.onCreateObject = onCreateObject;
        this.target = target;
        this.root = root;
        if (root) {
            root.on(cc.Node.EventType.CHILD_REMOVED, this.onNodeRemove, this);
        }
    }
    PoolManager.prototype.onNodeRemove = function (node) {
        this.put(node);
    };
    PoolManager.prototype.objects = function () {
        return this.aliveObjects;
    };
    PoolManager.prototype.clearAlives = function () {
        for (var i = 0; i < this.aliveObjects.length;) {
            var obj = this.aliveObjects[i];
            obj.removeFromParent();
        }
    };
    PoolManager.prototype.getPool = function (type) {
        if (typeof (type) != "string" || typeof (type) != "number") {
            type = type._uuid || type.name;
        }
        var pool = this.nodePool[type];
        if (pool == null) {
            pool = new cc.NodePool();
            this.nodePool[type] = pool;
        }
        return pool;
    };
    PoolManager.prototype.get = function (type) {
        var node = this.getPool(type).get();
        if (this.onCreateObject) {
            if (node == null) {
                node = this.onCreateObject.call(this.target, type);
                if (this.root)
                    node.setParent(this.root);
                if (!node)
                    console.warn(node, "onCreateObject must return an object");
                if (this.managed)
                    this.aliveObjects.push(node);
                this.nodes[node.uuid] = type;
                return node;
            }
        }
        if (this.root)
            node.setParent(this.root);
        if (this.managed)
            this.aliveObjects.push(node);
        return node;
    };
    PoolManager.prototype.tag = function (node, type) {
        this.nodes[node.uuid] = type;
    };
    PoolManager.prototype.put = function (node, type) {
        if (type === void 0) { type = null; }
        if (type == null)
            type = this.nodes[node.uuid];
        this.getPool(type).put(node);
        if (this.managed)
            this.aliveObjects.splice(this.aliveObjects.indexOf(node), 1);
    };
    PoolManager.prototype.clear = function (type) {
        if (this.managed)
            this.aliveObjects.splice(0, this.aliveObjects.length);
        if (type)
            this.getPool(type).clear();
        else {
            for (var t in this.nodePool) {
                var pool = this.nodePool[t];
                pool.clear();
            }
        }
    };
    PoolManager.prototype.size = function (type) {
        return this.getPool(type).size();
    };
    return PoolManager;
}());
exports.default = PoolManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQb29sTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFhSSxxQkFBWSxJQUFhLEVBQUMsY0FBZSxFQUFDLE1BQU87UUFYakQsYUFBUSxHQUFPLEVBQUUsQ0FBQTtRQUVqQixVQUFLLEdBQUcsRUFBRSxDQUFBO1FBTVYsWUFBTyxHQUFXLEtBQUssQ0FBQztRQUN4QixpQkFBWSxHQUFhLEVBQUUsQ0FBQTtRQUl2QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUE7U0FDcEU7SUFDTCxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLElBQUk7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBRUksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBRUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUMzQztZQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDOUIsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUE7U0FDekI7SUFDTCxDQUFDO0lBRUQsNkJBQU8sR0FBUCxVQUFRLElBQUk7UUFFUixJQUFHLE9BQU0sQ0FBQyxJQUFJLENBQUMs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LElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNoQjtTQUNKO0lBQ0wsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxJQUFJO1FBRUwsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFDTCxrQkFBQztBQUFELENBckhBLEFBcUhDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9vbE1hbmFnZXJcclxue1xyXG4gICAgbm9kZVBvb2w6YW55ID0ge31cclxuICAgIFxyXG4gICAgbm9kZXMgPSB7fVxyXG5cclxuICAgIG9uQ3JlYXRlT2JqZWN0OkZ1bmN0aW9uO1xyXG4gICAgdGFyZ2V0OmFueTtcclxuICAgIHJvb3Q6Y2MuTm9kZTtcclxuXHJcbiAgICBtYW5hZ2VkOmJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGFsaXZlT2JqZWN0czpjYy5Ob2RlW10gPSBbXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJvb3Q/OmNjLk5vZGUsb25DcmVhdGVPYmplY3Q/LHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5vbkNyZWF0ZU9iamVjdCA9IG9uQ3JlYXRlT2JqZWN0O1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XHJcbiAgICAgICAgaWYocm9vdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJvb3Qub24oY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfUkVNT1ZFRCwgdGhpcy5vbk5vZGVSZW1vdmUsIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTm9kZVJlbW92ZShub2RlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucHV0KG5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9iamVjdHMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFsaXZlT2JqZWN0cztcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckFsaXZlcygpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGk8IHRoaXMuYWxpdmVPYmplY3RzLmxlbmd0aDspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5hbGl2ZU9iamVjdHNbaV1cclxuICAgICAgICAgICAgb2JqLnJlbW92ZUZyb21QYXJlbnQoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRQb29sKHR5cGUpOmNjLk5vZGVQb29sXHJcbiAgICB7XHJcbiAgICAgICAgaWYodHlwZW9mKHR5cGUpICE9IFwic3RyaW5nXCIgfHwgdHlwZW9mKHR5cGUpIT0gXCJudW1iZXJcIiApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZS5fdXVpZCB8fCB0eXBlLm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwb29sID0gdGhpcy5ub2RlUG9vbFt0eXBlXTtcclxuICAgICAgICBpZihwb29sID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZVBvb2xbdHlwZV0gPSBwb29sO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9vbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQodHlwZSk6Y2MuTm9kZVxyXG4gICAge1xyXG4gICAgICAgIGxldCBub2RlID0gIHRoaXMuZ2V0UG9vbCh0eXBlKS5nZXQoKTtcclxuICAgICAgICBpZih0aGlzLm9uQ3JlYXRlT2JqZWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5vbkNyZWF0ZU9iamVjdC5jYWxsKHRoaXMudGFyZ2V0LHR5cGUpXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJvb3QpXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQodGhpcy5yb290KTtcclxuICAgICAgICAgICAgICAgIGlmKCFub2RlIClcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obm9kZSxcIm9uQ3JlYXRlT2JqZWN0IG11c3QgcmV0dXJuIGFuIG9iamVjdFwiKVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tYW5hZ2VkKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxpdmVPYmplY3RzLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzW25vZGUudXVpZF0gPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5yb290KVxyXG4gICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnJvb3QpO1xyXG4gICAgICAgIGlmKHRoaXMubWFuYWdlZClcclxuICAgICAgICAgICAgdGhpcy5hbGl2ZU9iamVjdHMucHVzaChub2RlKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICB0YWcobm9kZSx0eXBlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZXNbbm9kZS51dWlkXSA9IHR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHV0KG5vZGU6Y2MuTm9kZSx0eXBlID0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBpZih0eXBlID09IG51bGwpXHJcbiAgICAgICAgICAgIHR5cGUgPSB0aGlzLm5vZGVzW25vZGUudXVpZF07XHJcbiAgICAgICAgdGhpcy5nZXRQb29sKHR5cGUpLnB1dChub2RlKTtcclxuICAgICAgICBpZih0aGlzLm1hbmFnZWQpXHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVPYmplY3RzLnNwbGljZSh0aGlzLmFsaXZlT2JqZWN0cy5pbmRleE9mKG5vZGUpLDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKHR5cGU/KVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMubWFuYWdlZClcclxuICAgICAgICAgICAgdGhpcy5hbGl2ZU9iamVjdHMuc3BsaWNlKDAsdGhpcy5hbGl2ZU9iamVjdHMubGVuZ3RoKTtcclxuICAgICAgICBpZih0eXBlKVxyXG4gICAgICAgICAgICB0aGlzLmdldFBvb2wodHlwZSkuY2xlYXIoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB0IGluIHRoaXMubm9kZVBvb2wpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBwb29sID0gdGhpcy5ub2RlUG9vbFt0XVxyXG4gICAgICAgICAgICAgICAgcG9vbC5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNpemUodHlwZSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb29sKHR5cGUpLnNpemUoKTtcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c94fc8PDtI1o3JM9m3WRKN', 'LevelDialog');
// Game/Scripts/ui/LevelDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var LevelSelector_1 = require("../../../framework/plugin_boosts/ui/game/LevelSelector");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelDialog = /** @class */ (function (_super) {
    __extends(LevelDialog, _super);
    function LevelDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.continueLabel = null;
        _this.logoSprite = null;
        _this.logoSprite_ch = null;
        _this.logoSprite_vi = null;
        _this.logoSprite_en = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
    }
    LevelDialog.prototype.onLoad = function () { };
    LevelDialog.prototype.start = function () { };
    LevelDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("继续游戏", this.logoSprite_ch);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Tiếp tục trò chơi", this.logoSprite_vi);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Continue the game", this.logoSprite_en);
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LevelDialog.prototype.set_label_lang = function (continueLabelString, logoSpriteFrame) {
        this.continueLabel.string = continueLabelString;
        this.logoSprite.spriteFrame = logoSpriteFrame;
    };
    LevelDialog.prototype.set_label_FontSize = function (fontSize) {
        this.continueLabel.fontSize = fontSize;
    };
    LevelDialog.prototype.onShown = function () {
        this.selector.currentLevel = Info_1.UserInfo.level;
        this.selector.refresh();
        this.scheduleOnce(this.refreshLevels, 0.1);
    };
    LevelDialog.prototype.refreshLevels = function () {
        this.selector.scrollToCurrentLevel();
    };
    LevelDialog.prototype.select_level = function (lvnode) {
        this.gotoLevel(lvnode.name);
    };
    LevelDialog.prototype.refreshLevelItem = function (data) {
    };
    LevelDialog.prototype.gotoLevel = function (lv) {
        lv = parseInt(lv);
        console.log("enter level", lv);
        Info_1.UserInfo.currentLevel = lv;
        cc.director.loadScene("Game");
    };
    LevelDialog.prototype.click_continue = function () {
        this.gotoLevel(Info_1.UserInfo.level);
    };
    __decorate([
        property(LevelSelector_1.default)
    ], LevelDialog.prototype, "selector", void 0);
    __decorate([
        property(cc.Label)
    ], LevelDialog.prototype, "continueLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], LevelDialog.prototype, "logoSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_ch", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_vi", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelDialog.prototype, "logoSprite_en", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LevelDialog.prototype, "eng_FontSize", void 0);
    LevelDialog = __decorate([
        ccclass
    ], LevelDialog);
    return LevelDialog;
}(cc.Component));
exports.default = LevelDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQyxnQ0FBbUM7QUFDcEMsd0ZBQW1GO0FBQ25GLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQW9HQztRQTVGRyxtQkFBYSxHQUFhLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixtQkFBYSxHQUFtQixJQUFJLENBQUM7UUFFckMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBRXJDLG1CQUFhLEdBQW1CLElBQUksQ0FBQztRQUlyQyxpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUV6QixrQkFBWSxHQUFXLEVBQUUsQ0FBQzs7SUEwRTlCLENBQUM7SUFsR0csNEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWiwyQkFBSyxHQUFMLGNBQVUsQ0FBQztJQXlCWCw4QkFBUSxHQUFSO1FBQ0ksUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUN0QixJQUFJLENBQUMsYUFBYSxDQUNyQixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBRTFDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsRUFDbkMsSUFBSSxDQUFDLGFBQWEsQ0FDckIsQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUUxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsbUJBQW1CLEVBQ25DLElBQUksQ0FBQyxhQUFhLENBQ3JCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFM0MsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVELG9DQUFjLEdBQWQsVUFBZSxtQkFBMkIsRUFDdkMsZUFBK0I7UUFFOUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsbUJBQW1CLENBQUM7UUFDaEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDO0lBQ2xELENBQUM7SUFFRCx3Q0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzNDLENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsZUFBUSxDQUFDLEtBQUssQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBRXZCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUM5QyxDQUFDO0lBRUQsbUNBQWEsR0FBYjtRQUVJLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLE1BQU07UUFHZixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUMvQixDQUFDO0lBRUQsc0NBQWdCLEdBQWhCLFVBQWlCLElBQUk7SUFFckIsQ0FBQztJQUVELCtCQUFTLEdBQVQsVUFBVSxFQUFFO1FBRVIsRUFBRSxHQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBSSxFQUFFLENBQUMsQ0FBQztRQUNqQyxlQUFRLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUMzQixFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsb0NBQWMsR0FBZDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ2xDLENBQUM7SUE5RkQ7UUFEQyxRQUFRLENBQUMsdUJBQWEsQ0FBQztpREFDQTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3NEQUNZO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7bURBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztzREFDWTtJQUVyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3NEQUNZO0lBRXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7c0RBQ1k7SUFJckM7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO29EQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztvREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7cURBQ0w7SUExQlQsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQW9HL0I7SUFBRCxrQkFBQztDQXBHRCxBQW9HQyxDQXBHd0MsRUFBRSxDQUFDLFNBQVMsR0FvR3BEO2tCQXBHb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIu+7v2ltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IExldmVsU2VsZWN0b3IgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL2dhbWUvTGV2ZWxTZWxlY3RvclwiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyLCB7IExhbmd1YWdlTW9kZSB9IGZyb20gXCIuLi9MYW5ndWFnZU1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWxEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIG9uTG9hZCAoKSB7fVxyXG4gICAgc3RhcnQgKCkge31cclxuICAgIEBwcm9wZXJ0eShMZXZlbFNlbGVjdG9yKVxyXG4gICAgc2VsZWN0b3I6IExldmVsU2VsZWN0b3I7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY29udGludWVMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBsb2dvU3ByaXRlOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGxvZ29TcHJpdGVfY2g6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGxvZ29TcHJpdGVfdmk6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGxvZ29TcHJpdGVfZW46IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwi57un57ut5ri45oiPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvU3ByaXRlX2NoLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXCJUaeG6v3AgdOG7pWMgdHLDsiBjaMahaVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb1Nwcml0ZV92aSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ29udGludWUgdGhlIGdhbWVcIixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ29TcHJpdGVfZW4sXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhjb250aW51ZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICBsb2dvU3ByaXRlRnJhbWU6IGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5jb250aW51ZUxhYmVsLnN0cmluZyA9IGNvbnRpbnVlTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5sb2dvU3ByaXRlLnNwcml0ZUZyYW1lID0gbG9nb1Nwcml0ZUZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldF9sYWJlbF9Gb250U2l6ZShmb250U2l6ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250aW51ZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5jdXJyZW50TGV2ZWwgPSBVc2VySW5mby5sZXZlbDtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yLnJlZnJlc2goKVxyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnJlZnJlc2hMZXZlbHMsIDAuMSlcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoTGV2ZWxzKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yLnNjcm9sbFRvQ3VycmVudExldmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0X2xldmVsKGx2bm9kZSlcclxuICAgIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdvdG9MZXZlbChsdm5vZGUubmFtZSlcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoTGV2ZWxJdGVtKGRhdGEpXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgZ290b0xldmVsKGx2KVxyXG4gICAge1xyXG4gICAgICAgIGx2ID0gIHBhcnNlSW50KGx2KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW50ZXIgbGV2ZWxcIiAgLCBsdik7XHJcbiAgICAgICAgVXNlckluZm8uY3VycmVudExldmVsID0gbHY7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiR2FtZVwiKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2NvbnRpbnVlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmdvdG9MZXZlbChVc2VySW5mby5sZXZlbClcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopItemTemplate.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0b667/xvIZJapTB+ZTBqkHL', 'ShopItemTemplate');
// Game/Scripts/ui/ShopItemTemplate.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal_1 = require("../../../framework/plugin_boosts/misc/Signal");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopItemTemplate = /** @class */ (function (_super) {
    __extends(ShopItemTemplate, _super);
    function ShopItemTemplate() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titleLabel = null;
        _this.selectedFlag = null;
        _this.bgmini = null;
        _this.btnBuyNode = null;
        _this.maskNode = null;
        _this.borderNode = null;
        _this.diamondLabel = null;
        _this.btnSignal = new Signal_1.default();
        _this.data = null;
        return _this;
    }
    ShopItemTemplate.prototype.onLoad = function () { };
    ShopItemTemplate.prototype.start = function () { };
    ShopItemTemplate.prototype.click_unlock = function () {
        this.btnSignal.fire(this.data);
    };
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "titleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "selectedFlag", void 0);
    __decorate([
        property(cc.Sprite)
    ], ShopItemTemplate.prototype, "bgmini", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "btnBuyNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "maskNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "borderNode", void 0);
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "diamondLabel", void 0);
    ShopItemTemplate = __decorate([
        ccclass
    ], ShopItemTemplate);
    return ShopItemTemplate;
}(cc.Component));
exports.default = ShopItemTemplate;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BJdGVtVGVtcGxhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVFQUFrRTtBQUU1RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE4QyxvQ0FBWTtJQUExRDtRQUFBLHFFQWtDQztRQTNCRyxnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixrQkFBWSxHQUFXLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGNBQVEsR0FBVyxJQUFJLENBQUM7UUFHeEIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsZUFBUyxHQUFVLElBQUksZ0JBQU0sRUFBRSxDQUFDO1FBRWhDLFVBQUksR0FBTyxJQUFJLENBQUM7O0lBTXBCLENBQUM7SUFoQ0csaUNBQU0sR0FBTixjQUFXLENBQUM7SUFDWixnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQTJCWCx1Q0FBWSxHQUFaO1FBRUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUExQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt3REFDUTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzBEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ0k7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDUTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNNO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7d0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzswREFDVTtJQXhCWixnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQWtDcEM7SUFBRCx1QkFBQztDQWxDRCxBQWtDQyxDQWxDNkMsRUFBRSxDQUFDLFNBQVMsR0FrQ3pEO2tCQWxDb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZ25hbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9TaWduYWxcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcEl0ZW1UZW1wbGF0ZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgb25Mb2FkICgpIHt9XHJcbiAgICBzdGFydCAoKSB7fVxyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aXRsZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNlbGVjdGVkRmxhZzpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgYmdtaW5pOmNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bkJ1eU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBtYXNrTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJvcmRlck5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGlhbW9uZExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBidG5TaWduYWw6U2lnbmFsID0gbmV3IFNpZ25hbCgpO1xyXG5cclxuICAgIGRhdGE6YW55ID0gbnVsbDtcclxuICAgIFxyXG4gICAgY2xpY2tfdW5sb2NrKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJ0blNpZ25hbC5maXJlKHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/PauseDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83fb9osUoVEppfk8B6mkJYV', 'PauseDialog');
// Game/Scripts/ui/PauseDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Platform_1 = require("../../../framework/Platform");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PauseDialog = /** @class */ (function (_super) {
    __extends(PauseDialog, _super);
    function PauseDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.closeLabel = null;
        _this.homeLabel = null;
        _this.restartLabel = null;
        _this.requestHelpLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 20;
        _this.eng_FontSize = 20;
        return _this;
    }
    PauseDialog.prototype.onLoad = function () { };
    PauseDialog.prototype.start = function () { };
    PauseDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Đóng", "Trang chính", "Chạy lại", "Yêu cầu trợ giúp");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Close", "Home", "Restart", "Requesting Help");
                this.set_label_FontSize(this.eng_FontSize);
                break;
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("关闭", "主界面", "重新开始", "请求帮助");
                this.set_label_FontSize(this.ch_FontSize);
                break;
        }
    };
    PauseDialog.prototype.set_label_lang = function (closeLabelString, homeLabelString, restartLabelString, requestHelpLabelString) {
        this.closeLabel.string = closeLabelString;
        this.homeLabel.string = homeLabelString;
        this.restartLabel.string = restartLabelString;
        this.requestHelpLabel.string = requestHelpLabelString;
    };
    PauseDialog.prototype.set_label_FontSize = function (fontSize) {
        this.closeLabel.fontSize = fontSize;
        this.homeLabel.fontSize = fontSize;
        this.restartLabel.fontSize = fontSize;
        this.requestHelpLabel.fontSize = fontSize;
    };
    PauseDialog.prototype.click_share = function () {
        Platform_1.default.share();
    };
    PauseDialog.prototype.click_home = function () {
        cc.director.loadScene("Main");
    };
    PauseDialog.prototype.click_restart = function () {
        cc.director.loadScene("Game");
    };
    __decorate([
        property(cc.Label)
    ], PauseDialog.prototype, "closeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], PauseDialog.prototype, "homeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], PauseDialog.prototype, "restartLabel", void 0);
    __decorate([
        property(cc.Label)
    ], PauseDialog.prototype, "requestHelpLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], PauseDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], PauseDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], PauseDialog.prototype, "eng_FontSize", void 0);
    PauseDialog = __decorate([
        ccclass
    ], PauseDialog);
    return PauseDialog;
}(cc.Component));
exports.default = PauseDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFBhdXNlRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQyx3REFBbUQ7QUFDcEQsc0RBQW1FO0FBRTdELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBMEZDO1FBckZHLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0Isa0JBQVksR0FBYSxJQUFJLENBQUM7UUFHOUIsc0JBQWdCLEdBQWEsSUFBSSxDQUFDO1FBR2xDLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGtCQUFZLEdBQVcsRUFBRSxDQUFDOztJQXFFOUIsQ0FBQztJQXhGRyw0QkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDJCQUFLLEdBQUwsY0FBVSxDQUFDO0lBb0JYLDhCQUFRLEdBQVI7UUFDSSxRQUFRLHlCQUFlLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRTtZQUM5QyxLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FDZixNQUFNLEVBQ04sYUFBYSxFQUNiLFVBQVUsRUFDVixrQkFBa0IsQ0FDckIsQ0FBQztnQkFDRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUMxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQ2YsT0FBTyxFQUNQLE1BQU0sRUFDTixTQUFTLEVBQ1QsaUJBQWlCLENBQ3BCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFM0MsTUFBTTtZQUNWLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUNmLElBQUksRUFDSixLQUFLLEVBQ0wsTUFBTSxFQUNOLE1BQU0sQ0FDVCxDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07U0FDYjtJQUNMLENBQUM7SUFFRCxvQ0FBYyxHQUFkLFVBQ0ksZ0JBQXdCLEVBQ3hCLGVBQXVCLEVBQ3ZCLGtCQUEwQixFQUMxQixzQkFBOEI7UUFFOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLGtCQUFrQixDQUFDO1FBQzlDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsc0JBQXNCLENBQUM7SUFDMUQsQ0FBQztJQUVELHdDQUFrQixHQUFsQixVQUFtQixRQUFnQjtRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ25DLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN0QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUM5QyxDQUFDO0lBRUQsaUNBQVcsR0FBWDtRQUVJLGtCQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELGdDQUFVLEdBQVY7UUFFSSxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBR0QsbUNBQWEsR0FBYjtRQUVJLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ2pDLENBQUM7SUFwRkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNRO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ1c7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt5REFDZTtJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7b0RBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO29EQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztxREFDTDtJQXJCVCxXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBMEYvQjtJQUFELGtCQUFDO0NBMUZELEFBMEZDLENBMUZ3QyxFQUFFLENBQUMsU0FBUyxHQTBGcEQ7a0JBMUZvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsi77u/aW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdXNlRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuICAgIHN0YXJ0ICgpIHt9XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjbG9zZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgaG9tZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVzdGFydExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmVxdWVzdEhlbHBMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGNoX0ZvbnRTaXplOiBudW1iZXIgPSAyNTtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIHZpX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMjA7XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcclxuICAgICAgICAgICAgICAgICAgICBcIsSQw7NuZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVHJhbmcgY2jDrW5oXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDaOG6oXkgbOG6oWlcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlnDqnUgY+G6p3UgdHLhu6MgZ2nDunBcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDbG9zZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiSG9tZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUmVxdWVzdGluZyBIZWxwXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlhbPpl61cIixcclxuICAgICAgICAgICAgICAgICAgICBcIuS4u+eVjOmdolwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6YeN5paw5byA5aeLXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLor7fmsYLluK7liqlcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhcclxuICAgICAgICBjbG9zZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgaG9tZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcmVzdGFydExhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgcmVxdWVzdEhlbHBMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZUxhYmVsLnN0cmluZyA9IGNsb3NlTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5ob21lTGFiZWwuc3RyaW5nID0gaG9tZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMucmVzdGFydExhYmVsLnN0cmluZyA9IHJlc3RhcnRMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLnJlcXVlc3RIZWxwTGFiZWwuc3RyaW5nID0gcmVxdWVzdEhlbHBMYWJlbFN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuY2xvc2VMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMuaG9tZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0TGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RIZWxwTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaGFyZSgpXHJcbiAgICB7XHJcbiAgICAgICAgUGxhdGZvcm0uc2hhcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19ob21lKClcclxuICAgIHtcclxuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJNYWluXCIpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNsaWNrX3Jlc3RhcnQoKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIkdhbWVcIilcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/RankingList.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ef49dKVRRhP3pszQylJBeEH', 'RankingList');
// Game/Scripts/ui/RankingList.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var RankItem_1 = require("./RankItem");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankingList = /** @class */ (function (_super) {
    __extends(RankingList, _super);
    function RankingList() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.rankItemPrefab = null;
        _this.apiUrl = "https://5d820f171c8ff70014ef438d.mockapi.io/1/ranking-list";
        return _this;
    }
    RankingList.prototype.start = function () {
        this.loadRanking();
        console.log("UserInfo Level : " + Info_1.UserInfo.level.toString());
    };
    RankingList.prototype.loadRanking = function () {
        var _this = this;
        var xhr = new XMLHttpRequest();
        xhr.open("GET", this.apiUrl, true);
        xhr.onload = function () {
            if (xhr.status >= 200 && xhr.status < 300) {
                var data = JSON.parse(xhr.responseText);
                // Sort ascending by level
                data.sort(function (a, b) { return a.level - b.level; });
                // Add you when you in top 10
                for (var i = 0; i < data.length; i++) {
                    var item = data[i];
                    console.error(item.name + " : " + item.level.toString());
                    if (item.level <= Info_1.UserInfo.level) {
                        if (i === 0) {
                            item.level = Info_1.UserInfo.level;
                            item.name = "YOU";
                        }
                        else {
                            var tempName = "YOU";
                            var tempLevel = Info_1.UserInfo.level;
                            data[i - 1].name = item.name;
                            data[i - 1].level = item.level;
                            item.name = tempName;
                            item.level = tempLevel;
                        }
                    }
                }
                // Sort descending by level
                data.sort(function (a, b) { return b.level - a.level; });
                _this.populateScrollView(data);
            }
            else {
                console.error("XHR failed:", xhr.status);
            }
        };
        xhr.onerror = function () { return console.error("XHR request error"); };
        xhr.send();
    };
    RankingList.prototype.populateScrollView = function (rankingData) {
        var _this = this;
        var content = this.scrollView.content;
        content.removeAllChildren();
        if (Info_1.UserInfo.getData)
            rankingData.forEach(function (item, index) {
                var node = cc.instantiate(_this.rankItemPrefab);
                var rankItemComp = node.getComponent(RankItem_1.default);
                if (item.name === "YOU") {
                    rankItemComp.rankLabel.node.color = cc.Color.YELLOW;
                    rankItemComp.levelLabel.node.color = cc.Color.YELLOW;
                    rankItemComp.nameLabel.node.color = cc.Color.YELLOW;
                }
                rankItemComp.init(index + 1, item.level, item.name);
                content.addChild(node);
            });
        var itemHeight = this.rankItemPrefab.data.height;
        content.height = rankingData.length * itemHeight;
    };
    __decorate([
        property(cc.ScrollView)
    ], RankingList.prototype, "scrollView", void 0);
    __decorate([
        property(cc.Prefab)
    ], RankingList.prototype, "rankItemPrefab", void 0);
    RankingList = __decorate([
        ccclass
    ], RankingList);
    return RankingList;
}(cc.Component));
exports.default = RankingList;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFJhbmtpbmdMaXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBbUM7QUFDbkMsdUNBQWtDO0FBRTVCLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBeUZDO1FBdEZHLGdCQUFVLEdBQWtCLElBQUksQ0FBQztRQUdqQyxvQkFBYyxHQUFjLElBQUksQ0FBQztRQUVqQyxZQUFNLEdBQVcsNERBQTRELENBQUM7O0lBaUZsRixDQUFDO0lBL0VHLDJCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxlQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFFakUsQ0FBQztJQUVELGlDQUFXLEdBQVg7UUFBQSxpQkF5Q0M7UUF4Q0csSUFBTSxHQUFHLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxNQUFNLEdBQUc7WUFDVCxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO2dCQUN2QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFeEMsMEJBQTBCO2dCQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBakIsQ0FBaUIsQ0FBQyxDQUFD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LElBQUksQ0FBQyxDQUFDO2dCQUNwRCxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7SUFDckQsQ0FBQztJQS9FRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDO21EQUNTO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7dURBQ2E7SUFOaEIsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQXlGL0I7SUFBRCxrQkFBQztDQXpGRCxBQXlGQyxDQXpGd0MsRUFBRSxDQUFDLFNBQVMsR0F5RnBEO2tCQXpGb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFJhbmtJdGVtIGZyb20gXCIuL1JhbmtJdGVtXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFua2luZ0xpc3QgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsVmlldzogY2MuU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHJhbmtJdGVtUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIGFwaVVybDogc3RyaW5nID0gXCJodHRwczovLzVkODIwZjE3MWM4ZmY3MDAxNGVmNDM4ZC5tb2NrYXBpLmlvLzEvcmFua2luZy1saXN0XCI7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkUmFua2luZygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNlckluZm8gTGV2ZWwgOiBcIiArIFVzZXJJbmZvLmxldmVsLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsb2FkUmFua2luZygpIHtcclxuICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB0aGlzLmFwaVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTsgXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU29ydCBhc2NlbmRpbmcgYnkgbGV2ZWxcclxuICAgICAgICAgICAgICAgIGRhdGEuc29ydCgoYSwgYikgPT4gYS5sZXZlbCAtIGIubGV2ZWwpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgeW91IHdoZW4geW91IGluIHRvcCAxMFxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihpdGVtLm5hbWUgKyBcIiA6IFwiICsgaXRlbS5sZXZlbC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5sZXZlbCA8PSBVc2VySW5mby5sZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5sZXZlbCA9IFVzZXJJbmZvLmxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gXCJZT1VcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBOYW1lID0gXCJZT1VcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBMZXZlbCA9IFVzZXJJbmZvLmxldmVsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbaSAtIDFdLm5hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2kgLSAxXS5sZXZlbCA9IGl0ZW0ubGV2ZWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gdGVtcE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmxldmVsID0gdGVtcExldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNvcnQgZGVzY2VuZGluZyBieSBsZXZlbFxyXG4gICAgICAgICAgICAgICAgZGF0YS5zb3J0KChhLCBiKSA9PiBiLmxldmVsIC0gYS5sZXZlbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVsYXRlU2Nyb2xsVmlldyhkYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJYSFIgZmFpbGVkOlwiLCB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiBjb25zb2xlLmVycm9yKFwiWEhSIHJlcXVlc3QgZXJyb3JcIik7XHJcbiAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3B1bGF0ZVNjcm9sbFZpZXcocmFua2luZ0RhdGE6IGFueVtdKSB7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQ7XHJcbiAgICAgICAgY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG5cclxuICAgICAgICBpZiAoVXNlckluZm8uZ2V0RGF0YSlcclxuXHJcbiAgICAgICAgICAgIHJhbmtpbmdEYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnJhbmtJdGVtUHJlZmFiKTtcclxuICAgICAgICAgICAgY29uc3QgcmFua0l0ZW1Db21wID0gbm9kZS5nZXRDb21wb25lbnQoUmFua0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gXCJZT1VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmtJdGVtQ29tcC5yYW5rTGFiZWwubm9kZS5jb2xvciA9IGNjLkNvbG9yLllFTExPVztcclxuICAgICAgICAgICAgICAgICAgICByYW5rSXRlbUNvbXAubGV2ZWxMYWJlbC5ub2RlLmNvbG9yID0gY2MuQ29sb3IuWUVMTE9XO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmtJdGVtQ29tcC5uYW1lTGFiZWwubm9kZS5jb2xvciA9IGNjLkNvbG9yLllFTExPVztcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmFua0l0ZW1Db21wLmluaXQoaW5kZXggKyAxLCBpdGVtLmxldmVsLCBpdGVtLm5hbWUpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtSGVpZ2h0ID0gdGhpcy5yYW5rSXRlbVByZWZhYi5kYXRhLmhlaWdodDtcclxuICAgICAgICBjb250ZW50LmhlaWdodCA9IHJhbmtpbmdEYXRhLmxlbmd0aCAqIGl0ZW1IZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/RankItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0a9001j13BNu7IepNsNiLd8', 'RankItem');
// Game/Scripts/ui/RankItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankItem = /** @class */ (function (_super) {
    __extends(RankItem, _super);
    function RankItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rankLabel = null;
        _this.levelLabel = null;
        _this.nameLabel = null;
        return _this;
    }
    RankItem.prototype.init = function (rank, name, score) {
        this.rankLabel.string = rank.toString();
        this.levelLabel.string = name;
        this.nameLabel.string = score.toString();
    };
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "nameLabel", void 0);
    RankItem = __decorate([
        ccclass
    ], RankItem);
    return RankItem;
}(cc.Component));
exports.default = RankItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFJhbmtJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQWFDO1FBWEcsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUU1QixlQUFTLEdBQWEsSUFBSSxDQUFDOztJQU8vQixDQUFDO0lBTEcsdUJBQUksR0FBSixVQUFLLElBQVksRUFBRSxJQUFZLEVBQUUsS0FBYTtRQUMxQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBVkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsrQ0FDUTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNTO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ1E7SUFOVixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBYTVCO0lBQUQsZUFBQztDQWJELEFBYUMsQ0FicUMsRUFBRSxDQUFDLFNBQVMsR0FhakQ7a0JBYm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFua0l0ZW0gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmFua0xhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsZXZlbExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBpbml0KHJhbms6IG51bWJlciwgbmFtZTogc3RyaW5nLCBzY29yZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5yYW5rTGFiZWwuc3RyaW5nID0gcmFuay50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxMYWJlbC5zdHJpbmcgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMubmFtZUxhYmVsLnN0cmluZyA9IHNjb3JlLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/WinDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d78f0lU+VOW7rncsSfgC5s', 'WinDialog');
// Game/Scripts/ui/WinDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var Platform_1 = require("../../../framework/Platform");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Consts_1 = require("../hex-lines-game/Consts");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WinDialog = /** @class */ (function (_super) {
    __extends(WinDialog, _super);
    function WinDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ps = null;
        _this.levelLabel = null;
        _this.bannerLabel = null;
        _this.achievementLabel = null;
        _this.amountStepLabel = null;
        _this.rankLabel = null;
        _this.rewardLabel = null;
        _this.messageLabel = null;
        _this.nextLevelLabel = null;
        _this.skinStoreLabel = null;
        _this.challengeLabel = null;
        _this.stepLabel = null;
        _this.timeLabel = null;
        _this.percentLabel = null;
        _this.diamondLabel = null;
        _this.diamondNode = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        return _this;
    }
    WinDialog.prototype.onLoad = function () { };
    WinDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("恭喜过关", "用时        超过了         玩家", "步", "查看完整排行", "本关奖励：", "太厉害了", "下一关", "皮肤商店", "发起挑战");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Xin chúc mừng bạn đã vượt qua", "Thời gian        vượt quá         Người chơi", "bước", "Xem bảng xếp hạng đầy đủ", "Phần thưởng cho cấp độ này:", "Thật tuyệt vời", "Cấp độ tiếp theo", "Cửa hàng trang phục", "Đưa ra thử thách");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Congratulations on passing", "Time        Exceeded         Player", "steps", "View the full ranking", "Rewards for this level:", "It's amazing", "Next Level", "Skin Store", "Launch a challenge");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    WinDialog.prototype.set_label_lang = function (bannerLabelString, achievementLabelString, amountStepLabelString, rankLabelString, rewardLabelString, messageLabelString, nextLevelLabelString, skinStoreLabelString, challengeLabelString) {
        this.bannerLabel.string = bannerLabelString;
        this.achievementLabel.string = achievementLabelString;
        this.amountStepLabel.string = amountStepLabelString;
        this.rankLabel.string = amountStepLabelString;
        this.rewardLabel.string = rewardLabelString;
        this.messageLabel.string = messageLabelString;
        this.nextLevelLabel.string = nextLevelLabelString;
        this.skinStoreLabel.string = skinStoreLabelString;
        this.challengeLabel.string = challengeLabelString;
    };
    WinDialog.prototype.set_label_FontSize = function (fontSize) {
        if (LanguageManager_1.default.instance.currentLanguage == LanguageManager_1.LanguageMode.VI)
            this.bannerLabel.fontSize -= 4;
        this.achievementLabel.fontSize = fontSize;
        this.amountStepLabel.fontSize = fontSize;
        this.rankLabel.fontSize = fontSize;
        this.rewardLabel.fontSize = fontSize;
        this.messageLabel.fontSize = fontSize;
        this.nextLevelLabel.fontSize = fontSize;
        this.skinStoreLabel.fontSize = fontSize;
        this.challengeLabel.fontSize = fontSize;
    };
    WinDialog.prototype.onShown = function () {
        this.ps.resetSystem();
        Platform_1.default.showSmallRank();
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.levelLabel.string = cc.js.formatStr("- 第 %s 关 - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.levelLabel.string = cc.js.formatStr("- Cấp độ %s - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.levelLabel.string = cc.js.formatStr("- Level %s - ", Info_1.UserInfo.currentLevel);
                this.set_label_FontSize(this.vi_FontSize);
                break;
        }
        this.stepLabel.string = Info_1.UserInfo.stepUsed.toString();
        this.timeLabel.string = Info_1.UserInfo.timePassed.toString() + "s";
        var p = g.decreaseFomula(0.99, 0.3, Info_1.UserInfo.timePassed + Info_1.UserInfo.stepUsed, Info_1.UserInfo.currentLevel + 50);
        this.percentLabel.string = (p * 100).toFixed(0) + "%";
        this.diamondNode.active = false;
        if (Info_1.UserInfo.level == Info_1.UserInfo.currentLevel) {
            var lv_1 = Info_1.UserInfo.level;
            var choise_1 = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
            if (choise_1 > 0 && Math.random() > 0.5 && lv_1 >= 3) {
                this.scheduleOnce(function (_) {
                    ViewManager_1.default.instance.show("Game/LevelupDialog", lv_1, p);
                }, 1);
                this.diamondNode.active = false;
            }
            else {
                this.diamondNode.active = true;
                p = Math.min(p, 1);
                var diamond = Math.floor(Math.max(30 * p, 10));
                this.diamondLabel.string = diamond.toString();
                Info_1.UserInfo.addDiamond(diamond);
            }
            Info_1.UserInfo.level = lv_1 + 1;
            Platform_1.default.uploadScore(Info_1.UserInfo.level);
            Info_1.UserInfo.save();
        }
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
        if (choise == 1) {
            if (Info_1.UserInfo.level >= 3) {
                if (!Info_1.UserInfo.isUnlock(Consts_1.default.FreeSkinId)) {
                    ViewManager_1.default.instance.show("Game/HbDialog");
                }
            }
        }
    };
    WinDialog.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    WinDialog.prototype.click_shop = function () {
        ViewManager_1.default.instance.show("Game/ShopDialog");
    };
    WinDialog.prototype.click_next = function () {
        Info_1.UserInfo.currentLevel = Info_1.UserInfo.currentLevel + 1;
        cc.director.loadScene("Game");
    };
    WinDialog.prototype.click_home = function () {
        cc.director.loadScene("Main");
    };
    WinDialog.prototype.click_share = function () {
        Platform_1.default.share();
    };
    __decorate([
        property(cc.ParticleSystem)
    ], WinDialog.prototype, "ps", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "achievementLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "amountStepLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "rankLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "rewardLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "messageLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "nextLevelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "skinStoreLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "challengeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "stepLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "timeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "percentLabel", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Node)
    ], WinDialog.prototype, "diamondNode", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], WinDialog.prototype, "eng_FontSize", void 0);
    WinDialog = __decorate([
        ccclass
    ], WinDialog);
    return WinDialog;
}(cc.Component));
exports.default = WinDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFdpbkRpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0NBQStDO0FBQy9DLHdEQUFtRDtBQUNuRCwrRUFBMEU7QUFDMUUsbURBQThDO0FBQzlDLHNEQUFtRTtBQUU3RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQStOQztRQTNORyxRQUFFLEdBQXFCLElBQUksQ0FBQztRQUc1QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFFbEMscUJBQWUsR0FBYSxJQUFJLENBQUM7UUFFakMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixpQkFBVyxHQUFhLElBQUksQ0FBQztRQUU3QixrQkFBWSxHQUFhLElBQUksQ0FBQztRQUU5QixvQkFBYyxHQUFhLElBQUksQ0FBQztRQUVoQyxvQkFBYyxHQUFhLElBQUksQ0FBQztRQUVoQyxvQkFBYyxHQUFhLElBQUksQ0FBQztRQUdoQyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsa0JBQVksR0FBVyxFQUFFLENBQUM7O0lBOEs5QixDQUFDO0lBM0tHLDBCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1osNEJBQVEsR0FBUjtRQUNJLFFBQVEseUJBQWUsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFO1lBQzlDLEtBQUssOEJBQVksQ0FBQyxFQUFFO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFDdEIsMEJBQTBCLEVBQzFCLEdBQUcsRUFDSCxRQUFRLEVBQ1IsT0FBTyxFQUNQLE1BQU0sRUFDTixLQUFLLEVBQ0wsTUFBTSxFQUNOLE1BQU0sQ0FDVCxDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQywrQkFBK0IsRUFDL0MsOENBQThDLEVBQzlDLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIsNkJBQTZCLEVBQzdCLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIscUJBQXFCLEVBQ3JCLGtCQUFrQixDQUNyQixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBRTFDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyw0QkFBNEIsRUFDNUMscUNBQXFDLEVBQ3JDLE9BQU8sRUFDUCx1QkFBdUIsRUFDdkIseUJBQXlCLEVBQ3pCLGNBQWMsRUFDZCxZQUFZLEVBQ1osWUFBWSxFQUNaLG9CQUFvQixDQUV2QixDQUFDO2dCQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzNDLE1BQU07U0FDYjtJQUNULENBQUM7SUFHRyxrQ0FBYyxHQUFkLFVBQ0ksaUJBQXlCLEVBQ3pCLHNCQUE4QixFQUM5QixxQkFBNkIsRUFDN0IsZUFBdUIsRUFDdkIsaUJBQXlCLEVBQ3pCLGtCQUEwQixFQUMxQixvQkFBNEIsRUFDNUIsb0JBQTRCLEVBQzVCLG9CQUE0QjtRQUU1QixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQztRQUM1QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLHNCQUFzQixDQUFDO1FBQ3RELElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLHFCQUFxQixDQUFDO1FBQ3BELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLHFCQUFxQixDQUFDO1FBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLGlCQUFpQixDQUFDO1FBQzVDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLGtCQUFrQixDQUFDO1FBQzlDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO1FBQ2xELElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO1FBQ2xELElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO0lBQ3RELENBQUM7SUFFRCxzQ0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsSUFBSSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLElBQUksOEJBQVksQ0FBQyxFQUFFO1lBQzNELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUMxQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDdEMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN4QyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDNUMsQ0FBQztJQUVELDJCQUFPLEdBQVA7UUFFSSxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3RCLGtCQUFRLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDOUMsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxlQUFRLENBQUMsWUFBWSxDQUFDLENBQUE7Z0JBRTlFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07WUFDVixLQUFLLDhCQUFZLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsZUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFBO2dCQUVqRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUUxQyxNQUFNO1lBQ1YsS0FBSyw4QkFBWSxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxlQUFRLENBQUMsWUFBWSxDQUFDLENBQUE7Z0JBRWhGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFDLE1BQU07U0FDYjtRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLGVBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUE7UUFDcEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsZUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsR0FBRSxHQUFHLENBQUM7UUFDNUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLGVBQVEsQ0FBQyxVQUFVLEdBQUcsZUFBUSxDQUFDLFFBQVEsRUFBQyxlQUFRLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBRSxDQUFBO1FBQ3RHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFFLEdBQUcsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRSxHQUFHLENBQUE7UUFFcEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBRS9CLElBQUcsZUFBUSxDQUFDLEtBQUssSUFBSSxlQUFRLENBQUMsWUFBWSxFQUMxQztZQUNJLElBQUksSUFBRSxHQUFHLGVBQVEsQ0FBQyxLQUFLLENBQUE7WUFDdkIsSUFBSSxRQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3BELElBQUcsUUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxJQUFJLElBQUUsSUFBSSxDQUFDLEVBQy9DO2dCQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBQSxDQUFDO29CQUNmLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxJQUFFLEVBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQ3hELENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtnQkFDSixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7YUFDbEM7aUJBQUk7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUMvQixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBQzdDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDOUMsZUFBUSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNoQztZQUNELGVBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBRSxHQUFHLENBQUMsQ0FBQTtZQUN2QixrQkFBUSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckMsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ25CO1FBQ0QsSUFBSSxNQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLElBQUcsTUFBTSxJQUFJLENBQUMsRUFDZDtZQUNJLElBQUcsZUFBUSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQ3RCO2dCQUNJLElBQUcsQ0FBQyxlQUFRLENBQUMsUUFBUSxDQUFDLGdCQUFNLENBQUMsVUFBVSxDQUFDLEVBQ3hDO29CQUNJLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQTtpQkFDN0M7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUVELDhCQUFVLEdBQVY7UUFFSSxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQTtJQUNwRCxDQUFDO0lBRUQsOEJBQVUsR0FBVjtRQUVJLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCw4QkFBVSxHQUFWO1FBRUksZUFBUSxDQUFDLFlBQVksR0FBRyxlQUFRLENBQUMsWUFBWSxHQUFFLENBQUMsQ0FBQztRQUNqRCxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsOEJBQVUsR0FBVjtRQUVJLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ2pDLENBQUM7SUFFRCwrQkFBVyxHQUFYO1FBRUksa0JBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBMU5EO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUM7eUNBQ0E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNVO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ2U7SUFFbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztzREFDYztJQUVqQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7a0RBQ1U7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDVztJQUU5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3FEQUNhO0lBRWhDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ2E7SUFFaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztxREFDYTtJQUdoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNPO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0RBQ087SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDVTtJQUc3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO21EQUNVO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1U7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO2tEQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztrREFDTjtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7bURBQ0w7SUFqRFQsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQStON0I7SUFBRCxnQkFBQztDQS9ORCxBQStOQyxDQS9Oc0MsRUFBRSxDQUFDLFNBQVMsR0ErTmxEO2tCQS9Ob0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcclxuaW1wb3J0IFBsYXRmb3JtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvUGxhdGZvcm1cIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xyXG5pbXBvcnQgQ29uc3RzIGZyb20gXCIuLi9oZXgtbGluZXMtZ2FtZS9Db25zdHNcIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpbkRpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QYXJ0aWNsZVN5c3RlbSlcclxuICAgIHBzOmNjLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsZXZlbExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBhY2hpZXZlbWVudExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBhbW91bnRTdGVwTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJhbmtMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmV3YXJkTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1lc3NhZ2VMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbmV4dExldmVsTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHNraW5TdG9yZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjaGFsbGVuZ2VMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHN0ZXBMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGltZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwZXJjZW50TGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRpYW1vbmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBkaWFtb25kTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcblxyXG4gICAgb25Mb2FkKCkgeyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwi5oGt5Zac6L+H5YWzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLnlKjml7YgICAgICAgIOi2hei/h+S6hiAgICAgICAgIOeOqeWutlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5q2lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLmn6XnnIvlrozmlbTmjpLooYxcIixcclxuICAgICAgICAgICAgICAgICAgICBcIuacrOWFs+WlluWKse+8mlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5aSq5Y6J5a6z5LqGXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLkuIvkuIDlhbNcIixcclxuICAgICAgICAgICAgICAgICAgICBcIuearuiCpOWVhuW6l1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi5Y+R6LW35oyR5oiYXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiWGluIGNow7pjIG3hu6tuZyBi4bqhbiDEkcOjIHbGsOG7o3QgcXVhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaOG7nWkgZ2lhbiAgICAgICAgdsaw4bujdCBxdcOhICAgICAgICAgTmfGsOG7nWkgY2jGoWlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImLGsOG7m2NcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlhlbSBi4bqjbmcgeOG6v3AgaOG6oW5nIMSR4bqneSDEkeG7p1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiUGjhuqduIHRoxrDhu59uZyBjaG8gY+G6pXAgxJHhu5kgbsOgeTpcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRo4bqtdCB0dXnhu4d0IHbhu51pXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJD4bqlcCDEkeG7mSB0aeG6v3AgdGhlb1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ+G7rWEgaMOgbmcgdHJhbmcgcGjhu6VjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLEkMawYSByYSB0aOG7rSB0aMOhY2hcIixcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ29uZ3JhdHVsYXRpb25zIG9uIHBhc3NpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICBcIlRpbWUgICAgICAgIEV4Y2VlZGVkICAgICAgICAgUGxheWVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzdGVwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiVmlldyB0aGUgZnVsbCByYW5raW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJSZXdhcmRzIGZvciB0aGlzIGxldmVsOlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiSXQncyBhbWF6aW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJOZXh0IExldmVsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTa2luIFN0b3JlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJMYXVuY2ggYSBjaGFsbGVuZ2VcIixcclxuXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5lbmdfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG59XHJcblxyXG5cclxuICAgIHNldF9sYWJlbF9sYW5nKFxyXG4gICAgICAgIGJhbm5lckxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgYWNoaWV2ZW1lbnRMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGFtb3VudFN0ZXBMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJhbmtMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHJld2FyZExhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbWVzc2FnZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICAgICAgbmV4dExldmVsTGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBza2luU3RvcmVMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIGNoYWxsZW5nZUxhYmVsU3RyaW5nOiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmJhbm5lckxhYmVsLnN0cmluZyA9IGJhbm5lckxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYWNoaWV2ZW1lbnRMYWJlbC5zdHJpbmcgPSBhY2hpZXZlbWVudExhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYW1vdW50U3RlcExhYmVsLnN0cmluZyA9IGFtb3VudFN0ZXBMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLnJhbmtMYWJlbC5zdHJpbmcgPSBhbW91bnRTdGVwTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSByZXdhcmRMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLm1lc3NhZ2VMYWJlbC5zdHJpbmcgPSBtZXNzYWdlTGFiZWxTdHJpbmc7XHJcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWxMYWJlbC5zdHJpbmcgPSBuZXh0TGV2ZWxMYWJlbFN0cmluZztcclxuICAgICAgICB0aGlzLnNraW5TdG9yZUxhYmVsLnN0cmluZyA9IHNraW5TdG9yZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuY2hhbGxlbmdlTGFiZWwuc3RyaW5nID0gY2hhbGxlbmdlTGFiZWxTdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX0ZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSA9PSBMYW5ndWFnZU1vZGUuVkkpXHJcbiAgICAgICAgICAgIHRoaXMuYmFubmVyTGFiZWwuZm9udFNpemUgLT0gNDtcclxuICAgICAgICB0aGlzLmFjaGlldmVtZW50TGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLmFtb3VudFN0ZXBMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMucmFua0xhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWxMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMuc2tpblN0b3JlTGFiZWwuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICB0aGlzLmNoYWxsZW5nZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wcy5yZXNldFN5c3RlbSgpO1xyXG4gICAgICAgIFBsYXRmb3JtLnNob3dTbWFsbFJhbmsoKTtcclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSDnrKwgJXMg5YWzIC0gXCIsIFVzZXJJbmZvLmN1cnJlbnRMZXZlbClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmNoX0ZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxMYWJlbC5zdHJpbmcgPSBjYy5qcy5mb3JtYXRTdHIoXCItIEPhuqVwIMSR4buZICVzIC0gXCIsIFVzZXJJbmZvLmN1cnJlbnRMZXZlbClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSBMZXZlbCAlcyAtIFwiLCBVc2VySW5mby5jdXJyZW50TGV2ZWwpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy52aV9Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGVwTGFiZWwuc3RyaW5nID0gVXNlckluZm8uc3RlcFVzZWQudG9TdHJpbmcoKVxyXG4gICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQudG9TdHJpbmcoKSArXCJzXCI7XHJcbiAgICAgICAgbGV0IHAgPSBnLmRlY3JlYXNlRm9tdWxhKDAuOTksMC4zLFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBVc2VySW5mby5zdGVwVXNlZCxVc2VySW5mby5jdXJyZW50TGV2ZWwgKyA1MCApXHJcbiAgICAgICAgdGhpcy5wZXJjZW50TGFiZWwuc3RyaW5nID0gKHAqIDEwMCApLnRvRml4ZWQoMCkgK1wiJVwiXHJcblxyXG4gICAgICAgIHRoaXMuZGlhbW9uZE5vZGUuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICBcclxuICAgICAgICBpZihVc2VySW5mby5sZXZlbCA9PSBVc2VySW5mby5jdXJyZW50TGV2ZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgbHYgPSBVc2VySW5mby5sZXZlbFxyXG4gICAgICAgICAgICBsZXQgY2hvaXNlID0gVXNlckluZm8uZ2V0Q2hvaWNlKENob2ljZVR5cGUuTGV2ZWx1cCk7XHJcbiAgICAgICAgICAgIGlmKGNob2lzZSA+IDAgJiYgTWF0aC5yYW5kb20oKSA+IDAuNSAmJiBsdiA+PSAzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShfPT57XHJcbiAgICAgICAgICAgICAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvTGV2ZWx1cERpYWxvZ1wiLGx2LHApXHJcbiAgICAgICAgICAgICAgICB9LDEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYW1vbmROb2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFtb25kTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcCA9IE1hdGgubWluKHAsMSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlhbW9uZCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMzAgKiBwLDEwKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbW9uZExhYmVsLnN0cmluZyA9IGRpYW1vbmQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQoZGlhbW9uZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVXNlckluZm8ubGV2ZWwgPSBsdiArIDFcclxuICAgICAgICAgICAgUGxhdGZvcm0udXBsb2FkU2NvcmUoVXNlckluZm8ubGV2ZWwpO1xyXG4gICAgICAgICAgICBVc2VySW5mby5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaG9pc2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5IQik7XHJcbiAgICAgICAgaWYoY2hvaXNlID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihVc2VySW5mby5sZXZlbCA+PSAzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighVXNlckluZm8uaXNVbmxvY2soQ29uc3RzLkZyZWVTa2luSWQpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0hiRGlhbG9nXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfcmFuaygpXHJcbiAgICB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIndlY2hhdC9XeFJhbmtEaWFsb2dcIilcclxuICAgIH1cclxuXHJcbiAgICBjbGlja19zaG9wKClcclxuICAgIHtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9TaG9wRGlhbG9nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX25leHQoKVxyXG4gICAge1xyXG4gICAgICAgIFVzZXJJbmZvLmN1cnJlbnRMZXZlbCA9IFVzZXJJbmZvLmN1cnJlbnRMZXZlbCArMTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpXHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfaG9tZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiTWFpblwiKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3NoYXJlKClcclxuICAgIHtcclxuICAgICAgICBQbGF0Zm9ybS5zaGFyZSgpO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1b7cbT64WtHxpoRfvlVr4EN', 'ShopDialog');
// Game/Scripts/ui/ShopDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ShopItemTemplate_1 = require("./ShopItemTemplate");
var SpriteFrameCache_1 = require("../../../framework/plugin_boosts/misc/SpriteFrameCache");
var Res_1 = require("../hex-lines-game/Res");
var Platform_1 = require("../../../framework/Platform");
var Info_1 = require("../Info");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var UIFunctions_1 = require("../../../framework/plugin_boosts/ui/UIFunctions");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Main_1 = require("../Main");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopDialog = /** @class */ (function (_super) {
    __extends(ShopDialog, _super);
    function ShopDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.freeDiamondLabel = null;
        _this.freeDiamondBtn = null;
        return _this;
    }
    ShopDialog.prototype.onLoad = function () {
        // this.scrollview
    };
    ShopDialog.prototype.onShown = function () {
        var _this = this;
        // {"id":"1","mini_img":"a1","img":"a2","cost":"100"},
        this.scrollview.showlist(function (node, data, i) {
            // console.log(i,data);
            var item = node.getComponent(ShopItemTemplate_1.default);
            item.data = data;
            item.diamondLabel.string = data.cost;
            var isLocked = !Info_1.UserInfo.isUnlock(data.id);
            item.btnBuyNode.active = isLocked;
            item.maskNode.active = isLocked;
            item.borderNode.color = cc.Color.WHITE;
            item.titleLabel.string = data.text;
            item.selectedFlag.active = Info_1.UserInfo.selectedSkin == data.id;
            item.btnSignal.add(_this.click_unlock, _this);
            SpriteFrameCache_1.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/" + data.mini_img + ".jpg").then(function (sf) { return item.bgmini.spriteFrame = sf; });
        }, Res_1.R.skinConfig.json);
        this.refreshBtnStatus();
    };
    ShopDialog.prototype.refreshBtnStatus = function () {
        if (g.isNextDay(Info_1.UserInfo.shopFreeDiamondTime)) {
            this.freeDiamondLabel.string = "免费得50";
            UIFunctions_1.default.setButtonEnabled(this.freeDiamondBtn, true);
        }
        else {
            this.freeDiamondLabel.string = "已领取";
            UIFunctions_1.default.setButtonEnabled(this.freeDiamondBtn, false);
        }
    };
    ShopDialog.prototype.click_close = function () {
    };
    ShopDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(50);
        Info_1.UserInfo.shopFreeDiamondTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.refreshBtnStatus();
    };
    ShopDialog.prototype.click_free = function () {
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Shop);
        if (choice == 1) {
            Platform_1.default.share(this.share_succ, this);
        }
        else if (choice == 0) {
            this.share_succ();
        }
        else {
            //video
            Platform_1.default.watch_video(this.share_succ, this);
        }
    };
    ShopDialog.prototype.selectBg = function (data) {
        Info_1.UserInfo.selectedSkin = data.id;
        Info_1.UserInfo.save();
        this.onShown();
    };
    ShopDialog.prototype.click_unlock = function (data) {
        if (Info_1.UserInfo.isUnlock(data.id)) {
            //select 
            this.selectBg(data);
            ToastManager_1.Toast.make("已选择 " + data.text);
            return;
        }
        if (Info_1.UserInfo.diamond >= data.cost) {
            Info_1.UserInfo.diamond -= data.cost;
            Info_1.UserInfo.unlock(data.id);
            this.selectBg(data);
            ToastManager_1.Toast.make(cc.js.formatStr("%s已解锁", data.text));
            Device_1.default.playEffect(Res_1.R.audio_unlock);
            if (Main_1.default.instance)
                Main_1.default.instance.refreshRedpoints();
        }
        else {
            ToastManager_1.Toast.make("钻石不足");
            Device_1.default.playEffect(Res_1.R.audio_invalid);
        }
    };
    __decorate([
        property(cc.ScrollView)
    ], ShopDialog.prototype, "scrollView", void 0);
    __decorate([
        property(cc.Label)
    ], ShopDialog.prototype, "freeDiamondLabel", void 0);
    __decorate([
        property(cc.Button)
    ], ShopDialog.prototype, "freeDiamondBtn", void 0);
    ShopDialog = __decorate([
        ccclass
    ], ShopDialog);
    return ShopDialog;
}(cc.Component));
exports.default = ShopDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUFrRDtBQUNsRCwyRkFBc0Y7QUFDdEYsNkNBQTBDO0FBQzFDLHdEQUFtRDtBQUNuRCxnQ0FBK0M7QUFDL0MsaUZBQXlFO0FBQ3pFLCtFQUEwRTtBQUMxRSwwRUFBcUU7QUFDckUsZ0NBQTJCO0FBR3JCLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBZ0dDO1FBN0ZHLGdCQUFVLEdBQWtCLElBQUksQ0FBQztRQUdqQyxzQkFBZ0IsR0FBYSxJQUFJLENBQUM7UUFHbEMsb0JBQWMsR0FBYyxJQUFJLENBQUM7O0lBdUZyQyxDQUFDO0lBckZHLDJCQUFNLEdBQU47UUFDSSxrQkFBa0I7SUFDdEIsQ0FBQztJQUdELDRCQUFPLEdBQVA7UUFBQSxpQkFrQkM7UUFqQkcsc0RBQXNEO1FBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFVBQUMsSUFBYSxFQUFFLElBQVMsRUFBRSxDQUFTO1lBQ3pELHVCQUF1QjtZQUN2QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDakIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxJQUFJLFFBQVEsR0FBRyxDQUFDLGVBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQTtZQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFD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QUFJLENBQUMsSUFBSSxFQUFFO1lBQy9CLGVBQVEsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztZQUM5QixlQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ25CLG9CQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtZQUMvQyxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFDLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDakMsSUFBSSxjQUFJLENBQUMsUUFBUTtnQkFDYixjQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUE7U0FDdkM7YUFBTTtZQUNILG9CQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2xCLGdCQUFNLENBQUMsVUFBVSxDQUFDLE9BQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNyQztJQUNMLENBQUM7SUEzRkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQztrREFDUztJQUdqQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3dEQUNlO0lBR2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7c0RBQ2E7SUFUaEIsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQWdHOUI7SUFBRCxpQkFBQztDQWhHRCxBQWdHQyxDQWhHdUMsRUFBRSxDQUFDLFNBQVMsR0FnR25EO2tCQWhHb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaG9wSXRlbVRlbXBsYXRlIGZyb20gXCIuL1Nob3BJdGVtVGVtcGxhdGVcIjtcclxuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XHJcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1VJRnVuY3Rpb25zXCI7XHJcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XHJcbmltcG9ydCBNYWluIGZyb20gXCIuLi9NYWluXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNob3BEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsVmlldzogY2MuU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZnJlZURpYW1vbmRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBmcmVlRGlhbW9uZEJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zY3JvbGx2aWV3XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uU2hvd24oKSB7XHJcbiAgICAgICAgLy8ge1wiaWRcIjpcIjFcIixcIm1pbmlfaW1nXCI6XCJhMVwiLFwiaW1nXCI6XCJhMlwiLFwiY29zdFwiOlwiMTAwXCJ9LFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsdmlldy5zaG93bGlzdCgobm9kZTogY2MuTm9kZSwgZGF0YTogYW55LCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBub2RlLmdldENvbXBvbmVudChTaG9wSXRlbVRlbXBsYXRlKTtcclxuICAgICAgICAgICAgaXRlbS5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgaXRlbS5kaWFtb25kTGFiZWwuc3RyaW5nID0gZGF0YS5jb3N0O1xyXG4gICAgICAgICAgICBsZXQgaXNMb2NrZWQgPSAhVXNlckluZm8uaXNVbmxvY2soZGF0YS5pZCk7XHJcbiAgICAgICAgICAgIGl0ZW0uYnRuQnV5Tm9kZS5hY3RpdmUgPSBpc0xvY2tlZFxyXG4gICAgICAgICAgICBpdGVtLm1hc2tOb2RlLmFjdGl2ZSA9IGlzTG9ja2VkO1xyXG4gICAgICAgICAgICBpdGVtLmJvcmRlck5vZGUuY29sb3IgPSBjYy5Db2xvci5XSElURTtcclxuICAgICAgICAgICAgaXRlbS50aXRsZUxhYmVsLnN0cmluZyA9IGRhdGEudGV4dDtcclxuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZEZsYWcuYWN0aXZlID0gVXNlckluZm8uc2VsZWN0ZWRTa2luID09IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgIGl0ZW0uYnRuU2lnbmFsLmFkZCh0aGlzLmNsaWNrX3VubG9jaywgdGhpcylcclxuICAgICAgICAgICAgU3ByaXRlRnJhbWVDYWNoZS5pbnN0YW5jZS5nZXRTcHJpdGVGcmFtZShcIkdhbWUvVGV4dHVyZXMvVGh1bWJCZ3MvXCIgKyBkYXRhLm1pbmlfaW1nICsgXCIuanBnXCIpLnRoZW4oc2YgPT4gaXRlbS5iZ21pbmkuc3ByaXRlRnJhbWUgPSBzZilcclxuICAgICAgICB9LCBSLnNraW5Db25maWcuanNvbilcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQnRuU3RhdHVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaEJ0blN0YXR1cygpIHtcclxuICAgICAgICBpZiAoZy5pc05leHREYXkoVXNlckluZm8uc2hvcEZyZWVEaWFtb25kVGltZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmVlRGlhbW9uZExhYmVsLnN0cmluZyA9IFwi5YWN6LS55b6XNTBcIlxyXG4gICAgICAgICAgICBVSUZ1bmN0aW9ucy5zZXRCdXR0b25FbmFibGVkKHRoaXMuZnJlZURpYW1vbmRCdG4sIHRydWUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmVlRGlhbW9uZExhYmVsLnN0cmluZyA9IFwi5bey6aKG5Y+WXCJcclxuICAgICAgICAgICAgVUlGdW5jdGlvbnMuc2V0QnV0dG9uRW5hYmxlZCh0aGlzLmZyZWVEaWFtb25kQnRuLCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfY2xvc2UoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNoYXJlX3N1Y2MoKSB7XHJcbiAgICAgICAgVXNlckluZm8uYWRkRGlhbW9uZCg1MCk7XHJcbiAgICAgICAgVXNlckluZm8uc2hvcEZyZWVEaWFtb25kVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIHRoaXMucmVmcmVzaEJ0blN0YXR1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2ZyZWUoKSB7XHJcbiAgICAgICAgbGV0IGNob2ljZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLlNob3ApXHJcbiAgICAgICAgaWYgKGNob2ljZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIFBsYXRmb3JtLnNoYXJlKHRoaXMuc2hhcmVfc3VjYywgdGhpcylcclxuICAgICAgICB9IGVsc2UgaWYgKGNob2ljZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVfc3VjYygpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy92aWRlb1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyh0aGlzLnNoYXJlX3N1Y2MsIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdEJnKGRhdGEpIHtcclxuICAgICAgICBVc2VySW5mby5zZWxlY3RlZFNraW4gPSBkYXRhLmlkO1xyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIHRoaXMub25TaG93bigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX3VubG9jayhkYXRhKSB7XHJcbiAgICAgICAgaWYgKFVzZXJJbmZvLmlzVW5sb2NrKGRhdGEuaWQpKSB7XHJcbiAgICAgICAgICAgIC8vc2VsZWN0IFxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEJnKGRhdGEpO1xyXG4gICAgICAgICAgICBUb2FzdC5tYWtlKFwi5bey6YCJ5oupIFwiICsgZGF0YS50ZXh0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChVc2VySW5mby5kaWFtb25kID49IGRhdGEuY29zdCkge1xyXG4gICAgICAgICAgICBVc2VySW5mby5kaWFtb25kIC09IGRhdGEuY29zdDtcclxuICAgICAgICAgICAgVXNlckluZm8udW5sb2NrKGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEJnKGRhdGEpXHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UoY2MuanMuZm9ybWF0U3RyKFwiJXPlt7Lop6PplIFcIiwgZGF0YS50ZXh0KSlcclxuICAgICAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb191bmxvY2spXHJcbiAgICAgICAgICAgIGlmIChNYWluLmluc3RhbmNlKVxyXG4gICAgICAgICAgICAgICAgTWFpbi5pbnN0YW5jZS5yZWZyZXNoUmVkcG9pbnRzKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBUb2FzdC5tYWtlKFwi6ZK755+z5LiN6LazXCIpXHJcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9faW52YWxpZClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalTimeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f847KAJNJCwrvg4K3CKFUv', 'LocalTimeSystem');
// framework/plugin_boosts/gamesys/LocalTimeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LocalTimeSystem = /** @class */ (function () {
    function LocalTimeSystem() {
    }
    LocalTimeSystem.init = function (utc_msec) {
        if (utc_msec == null || utc_msec == undefined)
            return;
        LocalTimeSystem.utc_sec = utc_msec;
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.onHide(this.onHidden);
            wx.onShow(this.onShown);
        }
        g.setGlobalInstance(LocalTimeSystem);
    };
    LocalTimeSystem.startTimer = function () {
        this.timer = setInterval(function (_) {
            LocalTimeSystem.utc_sec += 1000;
        }, 1000);
    };
    LocalTimeSystem.stopTimer = function () {
        clearInterval(this.timer);
    };
    LocalTimeSystem.getSec = function () {
        return LocalTimeSystem.utc_sec || new Date().getTime() / 1000;
    };
    LocalTimeSystem.getDate = function () {
        if (LocalTimeSystem.utc_sec) {
            var date = new Date();
            date.setTime(LocalTimeSystem.utc_sec * 1000);
            return date;
        }
        return new Date();
    };
    LocalTimeSystem.onHidden = function () {
        console.log("game enter background");
        // this.stopTimer();
    };
    LocalTimeSystem.onShown = function () {
        console.log("game enter foreground");
        // this.startTimer();
    };
    return LocalTimeSystem;
}());
exports.default = LocalTimeSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbFRpbWVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUF1REEsQ0FBQztJQW5EVSxvQkFBSSxHQUFYLFVBQVksUUFBZTtRQUV2QixJQUFHLFFBQVEsSUFBSSxJQUFJLElBQUUsUUFBUSxJQUFJLFNBQVM7WUFBQyxPQUFPO1FBQ2xELGVBQWUsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ25DLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQ3hDO1lBQ0ksRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDekIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDMUI7UUFDRCxDQUFDLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLDBCQUFVLEdBQWpCO1FBRUksSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsVUFBQSxDQUFDO1lBQ3RCLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1FBQ3BDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFTSx5QkFBUyxHQUFoQjtRQUNJLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLHNCQUFNLEdBQWI7UUFFSSxPQUFPLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBQyxJQUFJLENBQUM7SUFDaEUsQ0FBQztJQUVNLHVCQUFPLEdBQWQ7UUFFSSxJQUFHLGVBQWUsQ0FBQyxPQUFPLEVBQzFCO1lBQ0ksSUFBSSxJQUFJLEdBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUV0QixDQUFDO0lBR00sd0JBQVEsR0FBZjtRQUVJLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtRQUNwQyxvQkFBb0I7SUFDeEIsQ0FBQztJQUNNLHVCQUFPLEdBQWQ7UUFFSSxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUE7UUFDcEMscUJBQXFCO0lBQ3pCLENBQUM7SUFDTCxzQkFBQztBQUFELENBdkRBLEFBdURDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbFRpbWVTeXN0ZW1cclxue1xyXG4gICAgc3RhdGljIHV0Y19zZWM6bnVtYmVyXHJcbiAgICBzdGF0aWMgdGltZXI6bnVtYmVyO1xyXG4gICAgc3RhdGljIGluaXQodXRjX21zZWM6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHV0Y19tc2VjID09IG51bGx8fHV0Y19tc2VjID09IHVuZGVmaW5lZClyZXR1cm47XHJcbiAgICAgICAgTG9jYWxUaW1lU3lzdGVtLnV0Y19zZWMgPSB1dGNfbXNlYztcclxuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd3gub25IaWRlKHRoaXMub25IaWRkZW4pO1xyXG4gICAgICAgICAgICB3eC5vblNob3codGhpcy5vblNob3duKVxyXG4gICAgICAgIH1cclxuICAgICAgICBnLnNldEdsb2JhbEluc3RhbmNlKExvY2FsVGltZVN5c3RlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHN0YXJ0VGltZXIoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChfPT57XHJcbiAgICAgICAgICAgIExvY2FsVGltZVN5c3RlbS51dGNfc2VjICs9IDEwMDA7XHJcbiAgICAgICAgfSwxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc3RvcFRpbWVyKCl7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0U2VjKCk6bnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsVGltZVN5c3RlbS51dGNfc2VjIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKExvY2FsVGltZVN5c3RlbS51dGNfc2VjKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGRhdGUgPSAgbmV3IERhdGUoKVxyXG4gICAgICAgICAgICBkYXRlLnNldFRpbWUoTG9jYWxUaW1lU3lzdGVtLnV0Y19zZWMqMTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICBcclxuICAgIHN0YXRpYyBsYXN0TG9jYWxUaW1lOm51bWJlcjtcclxuICAgIHN0YXRpYyBvbkhpZGRlbigpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnYW1lIGVudGVyIGJhY2tncm91bmRcIilcclxuICAgICAgICAvLyB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG9uU2hvd24oKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZSBlbnRlciBmb3JlZ3JvdW5kXCIpXHJcbiAgICAgICAgLy8gdGhpcy5zdGFydFRpbWVyKCk7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LuckyDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a94275+JmtMx6iZb18iwKTe', 'LuckyDialog');
// Game/Scripts/ui/LuckyDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var Platform_1 = require("../../../framework/Platform");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("../hex-lines-game/Res");
var UIFunctions_1 = require("../../../framework/plugin_boosts/ui/UIFunctions");
var Main_1 = require("../Main");
var LanguageManager_1 = require("../LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LuckyDialog = /** @class */ (function (_super) {
    __extends(LuckyDialog, _super);
    function LuckyDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._canRotate = true;
        _this.sprites = [];
        _this.labels = [];
        _this.btn_freedraw = null;
        _this.btn_videodraw = null;
        _this.freedrawTip = null;
        _this.drawLabel = null;
        _this.freeDrawLabel = null;
        _this.watchVideoLabel = null;
        _this.bannerLabel = null;
        // click_draw()
        // {
        // }
        _this.ch_FontSize = 0;
        _this.vi_FontSize = 0;
        _this.eng_FontSize = 0;
        _this.pool = [];
        _this.startWheelMessage = "";
        _this.showResMessage = "";
        return _this;
    }
    LuckyDialog_1 = LuckyDialog;
    LuckyDialog.prototype.onEnable = function () {
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang('正在给您挑选奖品', '正在给您挑选奖品', '恭喜你抽中了', "免费一次", "观看视频", "幸运转盘");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang('Chọn giải thưởng cho bạn', 'Chọn giải thưởng cho bạn', 'Xin chúc mừng chiến thắng', "Miễn phí một lần", "Xem video", "Vòng quay may mắn");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang('Selecting prizes for you', 'Selecting prizes for you', 'Congratulations on winning', "Free once", "Watch the video", "Lucky Wheel");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    LuckyDialog.prototype.set_label_FontSize = function (fontSize) {
        this.freeDrawLabel.fontSize = fontSize;
        this.watchVideoLabel.fontSize = fontSize;
        this.bannerLabel.fontSize = fontSize;
    };
    LuckyDialog.prototype.share_succ = function () {
        this.startDraw();
        Info_1.UserInfo.freedrawTime = new Date().getTime();
        Info_1.UserInfo.save();
        Main_1.default.instance.refreshRedpoints();
        this.onShown();
    };
    LuckyDialog.prototype.click_freeedraw = function () {
        if (g.isNextDay(Info_1.UserInfo.freedrawTime)) {
            this.share_succ();
        }
    };
    LuckyDialog.prototype.onLoad = function () {
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            var chance = parseFloat(cfg.chance);
            for (var j = 0; j < chance * 2; j++) {
                this.pool.push(i);
            }
        }
        this.pool.shuffle();
        console.log(this.pool);
    };
    LuckyDialog.prototype.startDraw = function () {
        var id = g.getRandomInArray(this.pool);
        this.startWheel(id);
        Device_1.default.playEffect(Res_1.R.audio_draw);
    };
    // 5次
    LuckyDialog.prototype.click_videodraw = function () {
        var _this = this;
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            if (g.isNextDay(Info_1.UserInfo.luckyVideoWatchTime)) {
                Info_1.UserInfo.luckyVideoWatchCount = 0;
                Info_1.UserInfo.luckyVideoWatchTime = new Date().getTime();
            }
            else {
                // Platform.share(_=>{
                //     this.startDraw()
                // })
                return;
            }
        }
        else {
            Platform_1.default.watch_video(function (_) {
                Info_1.UserInfo.luckyVideoWatchCount++;
                _this.startDraw();
            });
        }
        //video 流量主开通后
        // Platform.watch_video(_=>{
        //     this.startDraw()
        //     UserInfo.luckyVideoWatchCount += 1;
        //     UserInfo.save();
        //     this.onShown()
        //     // Toast.make("还剩" +  (5- UserInfo.luckyVideoWatchCount) +"次机会")
        // });
    };
    LuckyDialog.prototype.calculateAngle = function (index) {
        var angle = -(index - 1) * 60 - 30 - 4 * 360 - this.wheelSp.node.rotation % 360;
        return angle;
    };
    LuckyDialog.prototype.onShown = function () {
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            switch (LanguageManager_1.default.instance.currentLanguage) {
                case LanguageManager_1.LanguageMode.CN:
                    this.drawLabel.string = '已用完';
                    this.drawLabel.fontSize = this.ch_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.VI:
                    this.drawLabel.string = 'Kiệt sức';
                    this.drawLabel.fontSize = this.vi_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.EN:
                    this.drawLabel.string = 'Exhausted';
                    this.drawLabel.fontSize = this.eng_FontSize;
                    break;
            }
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, false);
        }
        else {
            switch (LanguageManager_1.default.instance.currentLanguage) {
                case LanguageManager_1.LanguageMode.CN:
                    this.drawLabel.string = '看视频抽奖';
                    this.drawLabel.fontSize = this.ch_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.VI:
                    this.drawLabel.string = 'Xem video và giành giải thưởng';
                    this.drawLabel.fontSize = this.vi_FontSize;
                    break;
                case LanguageManager_1.LanguageMode.EN:
                    this.drawLabel.string = 'Watch the video and win the prize';
                    this.drawLabel.fontSize = this.eng_FontSize;
                    break;
            }
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, true);
        }
        if (g.isGreaterDate(new Date(), new Date(Info_1.UserInfo.freedrawTime))) {
            //free draw 
            this.btn_freedraw.interactable = true;
            this.btn_freedraw.node.opacity = 255;
            this.freedrawTip.active = false;
        }
        else {
            this.btn_freedraw.interactable = false;
            this.btn_freedraw.node.opacity = 100;
            this.freedrawTip.active = true;
        }
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            this.labels[i].string = cfg.gold_reward + "";
            if (this.sprites[i].spriteFrame == this.misterySp) {
            }
        }
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.labels[2].string = '神秘皮肤';
                this.labels[2].fontSize = this.ch_FontSize;
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.labels[2].string = 'Trang phục bí ẩn';
                this.labels[2].fontSize = this.vi_FontSize;
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.labels[2].string = 'Mysterious Skin';
                this.labels[2].fontSize = this.eng_FontSize;
                break;
        }
    };
    LuckyDialog.prototype.startWheel = function (id) {
        console.log("target wheel:", id);
        var angle = this.calculateAngle(id);
        if (!this._canRotate) {
            ToastManager_1.Toast.make(this.startWheelMessage + '...');
            return;
        }
        this._canRotate = false;
        var stage3 = cc.rotateBy(Math.abs(angle / 400), angle);
        var callFunc = cc.callFunc(function () {
            this._canRotate = true;
            this.showRes(id);
        }.bind(this));
        var sequence = cc.sequence(stage3, callFunc);
        this.wheelSp.node.runAction(sequence.easing(cc.easeQuadraticActionInOut()));
    };
    LuckyDialog.prototype.showRes = function (id) {
        var cfg = Res_1.R.luckyConfig.json[id];
        var gold = !isNaN((Number(cfg.gold_reward)));
        if (gold) {
            this.getComponent(View_1.default).hide();
            ViewManager_1.default.instance.show("Game/GetDialog", cfg.gold_reward);
        }
        else {
            //神秘
            ToastManager_1.Toast.make(this.showResMessage + " " + cfg.gold_reward);
            Info_1.UserInfo.unlock(g.randomInt(0, 6));
            // Device.playEffect(R.audio_unlock);
        }
    };
    LuckyDialog.prototype.set_label_lang = function (clickCloseMessage_text, startWheelMessage_text, showResMessage_text, freeDrawString, watchVideoString, bannerString) {
        this.clickCloseMessage = clickCloseMessage_text;
        this.startWheelMessage = startWheelMessage_text;
        this.showResMessage = showResMessage_text;
        this.freeDrawLabel.string = freeDrawString;
        this.watchVideoLabel.string = watchVideoString;
        this.bannerLabel.string = bannerString;
    };
    LuckyDialog.prototype.click_close = function () {
        if (!this._canRotate) {
            ToastManager_1.Toast.make(this.clickCloseMessage + '...');
            return;
        }
        this.getComponent(View_1.default).hide();
    };
    var LuckyDialog_1;
    LuckyDialog.MaxVideoCount = 5;
    __decorate([
        property(cc.Sprite)
    ], LuckyDialog.prototype, "wheelSp", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LuckyDialog.prototype, "misterySp", void 0);
    __decorate([
        property([cc.Sprite])
    ], LuckyDialog.prototype, "sprites", void 0);
    __decorate([
        property([cc.Label])
    ], LuckyDialog.prototype, "labels", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_freedraw", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_videodraw", void 0);
    __decorate([
        property(cc.Node)
    ], LuckyDialog.prototype, "freedrawTip", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "drawLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "freeDrawLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "watchVideoLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "bannerLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], LuckyDialog.prototype, "eng_FontSize", void 0);
    LuckyDialog = LuckyDialog_1 = __decorate([
        ccclass
    ], LuckyDialog);
    return LuckyDialog;
}(cc.Component));
exports.default = LuckyDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEx1Y2t5RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRkFBeUU7QUFDekUsK0VBQTBFO0FBQzFFLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFDbkMsd0RBQW1EO0FBQ25ELDBFQUFxRTtBQUNyRSw2Q0FBMEM7QUFDMUMsK0VBQTBFO0FBQzFFLGdDQUEyQjtBQUMzQixzREFBbUU7QUFHN0QsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFxVEM7UUF6UUcsZ0JBQVUsR0FBRyxJQUFJLENBQUM7UUFHbEIsYUFBTyxHQUFlLEVBQUUsQ0FBQTtRQUd4QixZQUFNLEdBQWMsRUFBRSxDQUFBO1FBR3RCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGlCQUFXLEdBQVcsSUFBSSxDQUFDO1FBSTNCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFFOUIscUJBQWUsR0FBWSxJQUFJLENBQUM7UUFFaEMsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFJNUIsZUFBZTtRQUNmLElBQUk7UUFFSixJQUFJO1FBR0osaUJBQVcsR0FBVyxDQUFDLENBQUM7UUFFeEIsaUJBQVcsR0FBVyxDQUFDLENBQUM7UUFFeEIsa0JBQVksR0FBVyxDQUFDLENBQUM7UUFRekIsVUFBSSxHQUFHLEVBQUUsQ0FBQTtRQXlKVCx1QkFBaUIsR0FBVyxFQUFFLENBQUM7UUFDL0Isb0JBQWMsR0FBVyxFQUFFLENBQUM7O0lBZ0VoQyxDQUFDO29CQXJUb0IsV0FBVztJQUc1Qiw4QkFBUSxHQUFSO1FBQ1EsUUFBUSx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUU7WUFDbEQsS0FBSyw4QkFB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QUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ1M7SUFJM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztrREFDTztJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3NEQUNXO0lBRTlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ2E7SUFFaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDUztJQVU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7b0RBQ1A7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO29EQUNQO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztxREFDTjtJQW5GUixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBcVQvQjtJQUFELGtCQUFDO0NBclRELEFBcVRDLENBclR3QyxFQUFFLENBQUMsU0FBUyxHQXFUcEQ7a0JBclRvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vSW5mb1wiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9QbGF0Zm9ybVwiO1xyXG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xyXG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xyXG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1VJRnVuY3Rpb25zXCI7XHJcbmltcG9ydCBNYWluIGZyb20gXCIuLi9NYWluXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIsIHsgTGFuZ3VhZ2VNb2RlIH0gZnJvbSBcIi4uL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5pbXBvcnQgQWRkVG9NeUZhdiBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3d4c2RrL0FkZFRvTXlGYXZcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTHVja3lEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkNOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZygn5q2j5Zyo57uZ5oKo5oyR6YCJ5aWW5ZOBJyxcclxuICAgICAgICAgICAgICAgICAgICAn5q2j5Zyo57uZ5oKo5oyR6YCJ5aWW5ZOBJyxcclxuICAgICAgICAgICAgICAgICAgICAn5oGt5Zac5L2g5oq95Lit5LqGJyxcclxuICAgICAgICAgICAgICAgICAgICBcIuWFjei0ueS4gOasoVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi6KeC55yL6KeG6aKRXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLlubjov5Dovaznm5hcIixcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuY2hfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyggJ0No4buNbiBnaeG6o2kgdGjGsOG7n25nIGNobyBi4bqhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0No4buNbiBnaeG6o2kgdGjGsOG7n25nIGNobyBi4bqhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1hpbiBjaMO6YyBt4burbmcgY2hp4bq/biB0aOG6r25nJyxcclxuICAgICAgICAgICAgICAgICAgICBcIk1p4buFbiBwaMOtIG3hu5l0IGzhuqduXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJYZW0gdmlkZW9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIlbDsm5nIHF1YXkgbWF5IG3huq9uXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMudmlfRm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZygnU2VsZWN0aW5nIHByaXplcyBmb3IgeW91JyxcclxuICAgICAgICAgICAgICAgICAgICAnU2VsZWN0aW5nIHByaXplcyBmb3IgeW91JyxcclxuICAgICAgICAgICAgICAgICAgICAnQ29uZ3JhdHVsYXRpb25zIG9uIHdpbm5pbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiRnJlZSBvbmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJXYXRjaCB0aGUgdmlkZW9cIixcclxuICAgICAgICAgICAgICAgICAgICBcIkx1Y2t5IFdoZWVsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLmVuZ19Gb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHdoZWVsU3A6IGNjLlNwcml0ZVxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIG1pc3RlcnlTcDogY2MuU3ByaXRlRnJhbWVcclxuXHJcbiAgICBfY2FuUm90YXRlID0gdHJ1ZTtcclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZV0pXHJcbiAgICBzcHJpdGVzOmNjLlNwcml0ZVtdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLkxhYmVsXSlcclxuICAgIGxhYmVsczpjYy5MYWJlbFtdID0gW11cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgYnRuX2ZyZWVkcmF3OmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGJ0bl92aWRlb2RyYXc6Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGZyZWVkcmF3VGlwOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkcmF3TGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZnJlZURyYXdMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB3YXRjaFZpZGVvTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYmFubmVyTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIHN0YXRpYyBNYXhWaWRlb0NvdW50ID0gNTtcclxuXHJcbiAgICAvLyBjbGlja19kcmF3KClcclxuICAgIC8vIHtcclxuXHJcbiAgICAvLyB9XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDA7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5JbnRlZ2VyIH0pXHJcbiAgICB2aV9Gb250U2l6ZTogbnVtYmVyID0gMDtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkludGVnZXIgfSlcclxuICAgIGVuZ19Gb250U2l6ZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBzZXRfbGFiZWxfRm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZnJlZURyYXdMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMud2F0Y2hWaWRlb0xhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5iYW5uZXJMYWJlbC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHBvb2wgPSBbXVxyXG4gICAgXHJcblxyXG4gICAgc2hhcmVfc3VjYygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdGFydERyYXcoKTtcclxuICAgICAgICBVc2VySW5mby5mcmVlZHJhd1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxyXG4gICAgICAgIE1haW4uaW5zdGFuY2UucmVmcmVzaFJlZHBvaW50cygpXHJcbiAgICAgICAgdGhpcy5vblNob3duKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tfZnJlZWVkcmF3KClcclxuICAgIHtcclxuICAgICAgICBpZiAoZy5pc05leHREYXkoVXNlckluZm8uZnJlZWRyYXdUaW1lKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVfc3VjYygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBSLmx1Y2t5Q29uZmlnLmpzb24ubGVuZ3RoOyBpICsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGNmZyA9IFIubHVja3lDb25maWcuanNvbltpXTtcclxuICAgICAgICAgICAgbGV0IGNoYW5jZSA9IHBhcnNlRmxvYXQoY2ZnLmNoYW5jZSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAgOyBqIDwgY2hhbmNlICogMiA7IGorKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb29sLnNodWZmbGUoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9vbCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXJ0RHJhdygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGlkID0gZy5nZXRSYW5kb21JbkFycmF5KHRoaXMucG9vbClcclxuICAgICAgICB0aGlzLnN0YXJ0V2hlZWwoaWQpXHJcbiAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19kcmF3KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA15qyhXHJcbiAgICBjbGlja192aWRlb2RyYXcoKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA+PSBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoZy5pc05leHREYXkoVXNlckluZm8ubHVja3lWaWRlb1dhdGNoVGltZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyBQbGF0Zm9ybS5zaGFyZShfPT57XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5zdGFydERyYXcoKVxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBQbGF0Zm9ybS53YXRjaF92aWRlbyhfPT57XHJcbiAgICAgICAgICAgICAgICBVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCArKyBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREcmF3KClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy92aWRlbyDmtYHph4/kuLvlvIDpgJrlkI5cclxuICAgICAgICAvLyBQbGF0Zm9ybS53YXRjaF92aWRlbyhfPT57XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc3RhcnREcmF3KClcclxuICAgICAgICAvLyAgICAgVXNlckluZm8ubHVja3lWaWRlb1dhdGNoQ291bnQgKz0gMTtcclxuICAgICAgICAvLyAgICAgVXNlckluZm8uc2F2ZSgpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm9uU2hvd24oKVxyXG4gICAgICAgIC8vICAgICAvLyBUb2FzdC5tYWtlKFwi6L+Y5YmpXCIgKyAgKDUtIFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50KSArXCLmrKHmnLrkvJpcIilcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2FsY3VsYXRlQW5nbGUoaW5kZXg6bnVtYmVyKXsvL+WlluWTgeeahGluZGV45LuOMOW8gOWni1xyXG4gICAgICAgIGxldCBhbmdsZSA9IC0oaW5kZXgtMSkgKiA2MCAtIDMwICAtICA0ICogMzYwIC0gIHRoaXMud2hlZWxTcC5ub2RlLnJvdGF0aW9uICUzNjAgXHJcbiAgICAgICAgcmV0dXJuIGFuZ2xlXHJcbiAgICB9XHJcblxyXG4gICAgb25TaG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50ID49ICBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3dpdGNoIChMYW5ndWFnZU1hbmFnZXIuaW5zdGFuY2UuY3VycmVudExhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAn5bey55So5a6MJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMuY2hfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5WSTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAnS2nhu4d0IHPhu6ljJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMudmlfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5FTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSAnRXhoYXVzdGVkJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5mb250U2l6ZSA9IHRoaXMuZW5nX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFVJRnVuY3Rpb25zLnNldEJ1dHRvbkVuYWJsZWQodGhpcy5idG5fdmlkZW9kcmF3LGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuc3RyaW5nID0gJ+eci+inhumikeaKveWllic7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuZm9udFNpemUgPSB0aGlzLmNoX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuVkk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWwuc3RyaW5nID0gJ1hlbSB2aWRlbyB2w6AgZ2nDoG5oIGdp4bqjaSB0aMaw4bufbmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLmZvbnRTaXplID0gdGhpcy52aV9Gb250U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLkVOOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLnN0cmluZyA9ICdXYXRjaCB0aGUgdmlkZW8gYW5kIHdpbiB0aGUgcHJpemUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xhYmVsLmZvbnRTaXplID0gdGhpcy5lbmdfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVUlGdW5jdGlvbnMuc2V0QnV0dG9uRW5hYmxlZCh0aGlzLmJ0bl92aWRlb2RyYXcsdHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGcuaXNHcmVhdGVyRGF0ZShuZXcgRGF0ZSgpLCAgbmV3IERhdGUoVXNlckluZm8uZnJlZWRyYXdUaW1lKSkgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9mcmVlIGRyYXcgXHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3LmludGVyYWN0YWJsZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5idG5fZnJlZWRyYXcubm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgICAgICB0aGlzLmZyZWVkcmF3VGlwLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3LmludGVyYWN0YWJsZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3Lm5vZGUub3BhY2l0eSA9IDEwMDtcclxuICAgICAgICAgICAgdGhpcy5mcmVlZHJhd1RpcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpPCBSLmx1Y2t5Q29uZmlnLmpzb24ubGVuZ3RoOyBpICsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGNmZyA9IFIubHVja3lDb25maWcuanNvbltpXVxyXG4gICAgICAgICAgICB0aGlzLmxhYmVsc1tpXS5zdHJpbmcgPSBjZmcuZ29sZF9yZXdhcmQgKyBcIlwiXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zcHJpdGVzW2ldLnNwcml0ZUZyYW1lID09IHRoaXMubWlzdGVyeVNwKSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VNYW5hZ2VyLmluc3RhbmNlLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlTW9kZS5DTjpcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzWzJdLnN0cmluZyA9ICfnpZ7np5jnmq7ogqQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbHNbMl0uZm9udFNpemUgPSB0aGlzLmNoX0ZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbHNbMl0uc3RyaW5nID0gJ1RyYW5nIHBo4bulYyBiw60g4bqpbic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsc1syXS5mb250U2l6ZSA9IHRoaXMudmlfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsc1syXS5zdHJpbmcgPSAnTXlzdGVyaW91cyBTa2luJztcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzWzJdLmZvbnRTaXplID0gdGhpcy5lbmdfRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0V2hlZWxNZXNzYWdlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgc2hvd1Jlc01lc3NhZ2U6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBzdGFydFdoZWVsKGlkKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGFyZ2V0IHdoZWVsOlwiICxpZCk7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gdGhpcy5jYWxjdWxhdGVBbmdsZShpZClcclxuICAgICAgICBpZiAoIXRoaXMuX2NhblJvdGF0ZSl7XHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UodGhpcy5zdGFydFdoZWVsTWVzc2FnZSArICcuLi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NhblJvdGF0ZSA9IGZhbHNlXHJcblxyXG4gICAgICAgIGxldCBzdGFnZTMgPSBjYy5yb3RhdGVCeShNYXRoLmFicyhhbmdsZS80MDApLGFuZ2xlKVxyXG4gICAgICAgIGxldCBjYWxsRnVuYyA9IGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhblJvdGF0ZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5zaG93UmVzKGlkKVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICBsZXQgc2VxdWVuY2UgPSBjYy5zZXF1ZW5jZShzdGFnZTMsY2FsbEZ1bmMpXHJcbiAgICAgICAgdGhpcy53aGVlbFNwLm5vZGUucnVuQWN0aW9uKHNlcXVlbmNlLmVhc2luZyhjYy5lYXNlUXVhZHJhdGljQWN0aW9uSW5PdXQoKSkpXHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1JlcyhpZClcclxuICAgIHtcclxuICAgICAgICBsZXQgY2ZnID0gUi5sdWNreUNvbmZpZy5qc29uW2lkXVxyXG4gICAgICAgIGxldCBnb2xkID0gIWlzTmFOKChOdW1iZXIoY2ZnLmdvbGRfcmV3YXJkKSkpXHJcbiAgICAgICAgaWYoZ29sZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9HZXREaWFsb2dcIixjZmcuZ29sZF9yZXdhcmQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8v56We56eYXHJcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UodGhpcy5zaG93UmVzTWVzc2FnZSArIFwiIFwiICsgY2ZnLmdvbGRfcmV3YXJkKTtcclxuICAgICAgICAgICAgVXNlckluZm8udW5sb2NrKGcucmFuZG9tSW50KDAsNikpO1xyXG4gICAgICAgICAgICAvLyBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX3VubG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRfbGFiZWxfbGFuZyhjbGlja0Nsb3NlTWVzc2FnZV90ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgc3RhcnRXaGVlbE1lc3NhZ2VfdGV4dDogc3RyaW5nLFxyXG4gICAgICAgIHNob3dSZXNNZXNzYWdlX3RleHQ6IHN0cmluZyxcclxuICAgICAgICBmcmVlRHJhd1N0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHdhdGNoVmlkZW9TdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBiYW5uZXJTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xpY2tDbG9zZU1lc3NhZ2UgPSBjbGlja0Nsb3NlTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuc3RhcnRXaGVlbE1lc3NhZ2UgPSBzdGFydFdoZWVsTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuc2hvd1Jlc01lc3NhZ2UgPSBzaG93UmVzTWVzc2FnZV90ZXh0O1xyXG4gICAgICAgIHRoaXMuZnJlZURyYXdMYWJlbC5zdHJpbmcgPSBmcmVlRHJhd1N0cmluZztcclxuICAgICAgICB0aGlzLndhdGNoVmlkZW9MYWJlbC5zdHJpbmcgPSB3YXRjaFZpZGVvU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuYmFubmVyTGFiZWwuc3RyaW5nID0gYmFubmVyU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrQ2xvc2VNZXNzYWdlOiBzdHJpbmc7IFxyXG4gICAgY2xpY2tfY2xvc2UoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5fY2FuUm90YXRlKXtcclxuICAgICAgICAgICAgVG9hc3QubWFrZSh0aGlzLmNsaWNrQ2xvc2VNZXNzYWdlICsgJy4uLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxyXG4gICAgfVxyXG5cclxuXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsSpawner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '12e8aPL0IBPxYKO3t/sxN/O', 'PsSpawner');
// framework/plugin_boosts/gamesys/PsSpawner.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var PoolManager_1 = require("./PoolManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsSpawner = /** @class */ (function (_super) {
    __extends(PsSpawner, _super);
    function PsSpawner() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PsSpawner.prototype.onLoad = function () {
        this.poolmgr = new PoolManager_1.default();
    };
    PsSpawner.prototype.start = function () {
    };
    PsSpawner.prototype.clear = function () {
        if (this.poolmgr)
            this.poolmgr.clear();
    };
    PsSpawner.prototype.getFx = function (prefabPath) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var node = _this.poolmgr.get(prefabPath);
            if (node == null) {
                if (prefabPath instanceof cc.Prefab) {
                    node = cc.instantiate(prefabPath);
                    _this.poolmgr.tag(node, prefabPath);
                }
                else {
                    cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                        node = cc.instantiate(prefab);
                        node.setParent(_this.node);
                        var psfx = node.getComponent(PsFx_1.default);
                        psfx.name = prefabPath;
                        resolve(psfx);
                    });
                    return;
                }
            }
            node.setParent(_this.node);
            node.active = false;
            var psfx = node.getComponent(PsFx_1.default);
            psfx.reset();
            resolve(psfx);
        });
    };
    PsSpawner.prototype.onFxFinshPlay = function (fx) {
        this.poolmgr.put(fx.node);
    };
    PsSpawner.prototype.play = function (prefabPath, pos, rotation, audio, spriteframe) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play(audio, spriteframe)];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play2 = function (prefabPath, pos, rotation, scale) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        if (scale === void 0) { scale = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.scale = scale;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play()];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play3 = function (prefabPath, pos) {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.play().then(function (_) { return _this.onFxFinshPlay(fx); });
                        return [2 /*return*/, fx.node];
                }
            });
        });
    };
    PsSpawner = __decorate([
        ccclass
    ], PsSpawner);
    return PsSpawner;
}(cc.Component));
exports.default = PsSpawner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc1NwYXduZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7O0lBbUZBLENBQUM7SUE5RUcsMEJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxxQkFBVyxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUVELHlCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQseUJBQUssR0FBTDtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU87WUFDWCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCx5QkFBSyxHQUFMLFVBQU0sVUFBVTtRQUFoQixpQkEyQkM7UUF6QkcsT0FBTyxJQUFJLE9BQU8sQ0FBTyxVQUFDLE9BQU8sRUFBQyxNQUFNO1lBQ3BDLElBQUksSUFBSSxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQ3ZDLElBQUcsSUFBSSxJQUFJLElBQUksRUFDZjtnQkFDSSxJQUFHLFVBQVUsWUFBWSxFQUFFLENBQUMsTUFBTSxFQUNsQztvQkFDSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDbEMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFDLFVBQVUsQ0FBQyxDQUFBO2lCQUNwQztxQkFBSTtvQkFDRCxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLE1BQU0sRUFBQyxVQUFDLENBQUMsRUFBQyxNQUFnQjt3QkFDdEQsSUFBSSxHQUFHLEVB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QUNsQjtJQS9FZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQW1GN0I7SUFBRCxnQkFBQztDQW5GRCxBQW1GQyxDQW5Gc0MsRUFBRSxDQUFDLFNBQVMsR0FtRmxEO2tCQW5Gb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQc0Z4IGZyb20gXCIuL1BzRnhcIjtcclxuaW1wb3J0IFBvb2xNYW5hZ2VyIGZyb20gXCIuL1Bvb2xNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzU3Bhd25lciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlOlBzU3Bhd25lcjtcclxuICAgIFxyXG4gICAgcG9vbG1ncjpQb29sTWFuYWdlcjtcclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wb29sbWdyID0gbmV3IFBvb2xNYW5hZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5wb29sbWdyKVxyXG4gICAgICAgICAgICB0aGlzLnBvb2xtZ3IuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGeChwcmVmYWJQYXRoKTpQcm9taXNlPFBzRng+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFBzRng+KChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBvb2xtZ3IuZ2V0KHByZWZhYlBhdGgpXHJcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYocHJlZmFiUGF0aCBpbnN0YW5jZW9mIGNjLlByZWZhYiApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYlBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9vbG1nci50YWcobm9kZSxwcmVmYWJQYXRoKVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiUGF0aCxjYy5QcmVmYWIsKGUscHJlZmFiOmNjLlByZWZhYikgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHNmeCA9IG5vZGUuZ2V0Q29tcG9uZW50KFBzRngpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBzZngubmFtZSA9IHByZWZhYlBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHNmeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUuc2V0UGFyZW50KHRoaXMubm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBwc2Z4ID0gbm9kZS5nZXRDb21wb25lbnQoUHNGeClcclxuICAgICAgICAgICAgcHNmeC5yZXNldCgpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHBzZngpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb25GeEZpbnNoUGxheShmeDpQc0Z4KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucG9vbG1nci5wdXQoZngubm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGxheShwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsYXVkaW8/LHNwcml0ZWZyYW1lPylcclxuICAgIHtcclxuICAgICAgICBsZXQgZnggPSBhd2FpdCB0aGlzLmdldEZ4KHByZWZhYlBhdGgpO1xyXG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgZngubm9kZS5yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgIGF3YWl0IGZ4LnBsYXkoYXVkaW8sc3ByaXRlZnJhbWUpXHJcbiAgICAgICAgdGhpcy5vbkZ4Rmluc2hQbGF5KGZ4KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwbGF5MihwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsc2NhbGU9MClcclxuICAgIHtcclxuICAgICAgICBsZXQgZnggPSBhd2FpdCB0aGlzLmdldEZ4KHByZWZhYlBhdGgpO1xyXG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgZngubm9kZS5zY2FsZSA9IHNjYWxlO1xyXG4gICAgICAgIGZ4Lm5vZGUucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICBhd2FpdCBmeC5wbGF5KClcclxuICAgICAgICB0aGlzLm9uRnhGaW5zaFBsYXkoZngpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHBsYXkzKHByZWZhYlBhdGgscG9zKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XHJcbiAgICAgICAgZngubm9kZS5wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICBmeC5wbGF5KCkudGhlbihfPT50aGlzLm9uRnhGaW5zaFBsYXkoZngpKTtcclxuICAgICAgICByZXR1cm4gZngubm9kZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFxPlayer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc35b3gh69DGIz45mLQJxDM', 'PsFxPlayer');
// framework/plugin_boosts/gamesys/PsFxPlayer.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFxPlayer = /** @class */ (function (_super) {
    __extends(PsFxPlayer, _super);
    function PsFxPlayer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this._fx = null;
        _this.spriteFrame = null;
        _this.duration = -1;
        _this.randomRotaion = false;
        return _this;
        // update (dt) {}
    }
    PsFxPlayer.prototype.start = function () {
    };
    Object.defineProperty(PsFxPlayer.prototype, "fx", {
        get: function () {
            if (this._fx == null && this.prefab) {
                var node = cc.instantiate(this.prefab);
                if (node == null)
                    return null;
                var fx = node.getComponent(PsFx_1.default);
                if (fx == null) {
                    fx = this.addComponent(PsFx_1.default);
                }
                node.setPosition(0, 0);
                node.setParent(this.node);
                this._fx = fx;
            }
            return this._fx;
        },
        enumerable: false,
        configurable: true
    });
    PsFxPlayer.prototype.isPlaying = function () {
        return this.fx.isPlaying;
    };
    PsFxPlayer.prototype.onEnable = function () {
    };
    PsFxPlayer.prototype.onDisable = function () {
        var fx = this._fx;
        if (fx)
            fx.node.active = false;
    };
    PsFxPlayer.prototype.sleep = function (sec) {
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                resolve();
            }, sec);
        });
    };
    ;
    PsFxPlayer.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        Device_1.default.playEffect(this.audioClip, false);
                        fx = this.fx;
                        if (!fx) return [3 /*break*/, 1];
                        fx.node.active = true;
                        if (this.randomRotaion)
                            fx.node.rotation = g.randomInt(0, 360);
                        fx.reset();
                        return [2 /*return*/, fx.play(this.audioClip, this.spriteFrame)];
                    case 1:
                        if (!(this.duration > 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.sleep(this.duration * 1000)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.Prefab)
    ], PsFxPlayer.prototype, "prefab", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], PsFxPlayer.prototype, "spriteFrame", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFxPlayer.prototype, "audioClip", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "randomRotaion", void 0);
    PsFxPlayer = __decorate([
        ccclass
    ], PsFxPlayer);
    return PsFxPlayer;
}(cc.Component));
exports.default = PsFxPlayer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4UGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBMEI7QUFDMUIsbUNBQThCO0FBRXhCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBbUZDO1FBaEZHLFlBQU0sR0FBYSxJQUFJLENBQUE7UUFFdkIsU0FBRyxHQUFRLElBQUksQ0FBQztRQUdoQixpQkFBVyxHQUFrQixJQUFJLENBQUE7UUFNakMsY0FBUSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBR3JCLG1CQUFhLEdBQVksS0FBSyxDQUFDOztRQWlFL0IsaUJBQWlCO0lBQ3JCLENBQUM7SUFoRUcsMEJBQUssR0FBTDtJQUNBLENBQUM7SUFFRCxzQkFBSSwwQkFBRTthQUFOO1lBRUksSUFBRyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUNsQztnQkFDSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdkMsSUFBRyxJQUFJLElBQUksSUFBSTtvQkFBRSxPQUFPLElBQUksQ0FBQztnQkFDN0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQTtnQkFDaEMsSUFBRyxFQUFFLElBQUksSUFBSSxFQUNiO29CQUNJLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDO2lCQUNoQztnQkFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO2FBQ2pCO1lBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3BCLENBQUM7OztPQUFBO0lBRUQsOEJBQVMsR0FBVDtRQUVJLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7SUFDN0IsQ0FBQztJQUVELDZCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsOEJBQVMsR0FBVDtRQUVJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbEIsSUFBRyxFQUFFO1lBQ0QsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQy9CLENBQUM7SUFFRCwwQkFBSyxHQUFMLFVBQU0sR0FBRztRQUNMLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixVQUFVLENBQUMsVUFBQSxDQUFDO2dCQUNSLE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxFQUFHLEdBQUcsQ0FBQyxDQUFBO1FBQ1osQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBQUEsQ0FBQztJQUVJLHlCQUFJLEdBQVY7Ozs7Ozt3QkFFSSxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNwQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQzs2QkFDZCxFQUFFLEVBQUYsd0JBQUU7d0JBRUQsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO3dCQUN0QixJQUFHLElBQUksQ0FBQyxhQUFhOzRCQUNqQixFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQzt3QkFDMUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUNYLHNCQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUM7OzZCQUU3QyxDQUFBLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFBLEVBQWpCLHdCQUFpQjt3QkFDaEIscUJBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFBOzt3QkFBdEMsU0FBc0MsQ0FBQzs7Ozs7O0tBRWxEO0lBN0VEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OENBQ0c7SUFLdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzttREFDUTtJQUdqQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7aURBQ1I7SUFHdkI7UUFEQyxRQUFRO2dEQUNZO0lBR3JCO1FBREMsUUFBUTtxREFDc0I7SUFqQmQsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQW1GOUI7SUFBRCxpQkFBQztDQW5GRCxBQW1GQyxDQW5GdUMsRUFBRSxDQUFDLFNBQVMsR0FtRm5EO2tCQW5Gb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQc0Z4IGZyb20gXCIuL1BzRnhcIjtcclxuaW1wb3J0IERldmljZSBmcm9tIFwiLi9EZXZpY2VcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHNGeFBsYXllciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsXHJcblxyXG4gICAgX2Z4OlBzRnggPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwcml0ZUZyYW1lOmNjLlNwcml0ZUZyYW1lID0gbnVsbFxyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcclxuICAgIGF1ZGlvQ2xpcDpjYy5BdWRpb0NsaXA7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBkdXJhdGlvbjpudW1iZXIgPSAtMTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHJhbmRvbVJvdGFpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZ4KClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9meCA9PSBudWxsICYmIHRoaXMucHJlZmFiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnByZWZhYik7XHJcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGxldCBmeCA9IG5vZGUuZ2V0Q29tcG9uZW50KFBzRngpXHJcbiAgICAgICAgICAgIGlmKGZ4ID09IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZ4ID0gdGhpcy5hZGRDb21wb25lbnQoUHNGeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZS5zZXRQb3NpdGlvbigwLDApO1xyXG4gICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLm5vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9meCA9IGZ4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fZng7XHJcbiAgICB9XHJcblxyXG4gICAgaXNQbGF5aW5nKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5meC5pc1BsYXlpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGZ4ID0gdGhpcy5fZng7XHJcbiAgICAgICAgaWYoZngpXHJcbiAgICAgICAgICAgIGZ4Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2xlZXAoc2VjKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KF89PntcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSAsIHNlYylcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBhc3luYyBwbGF5KClcclxuICAgIHtcclxuICAgICAgICBEZXZpY2UucGxheUVmZmVjdCh0aGlzLmF1ZGlvQ2xpcCxmYWxzZSk7XHJcbiAgICAgICAgbGV0IGZ4ID0gdGhpcy5meDtcclxuICAgICAgICBpZihmeClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZ4Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYodGhpcy5yYW5kb21Sb3RhaW9uKVxyXG4gICAgICAgICAgICAgICAgZngubm9kZS5yb3RhdGlvbiA9IGcucmFuZG9tSW50KDAsMzYwKTsgIFxyXG4gICAgICAgICAgICBmeC5yZXNldCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZngucGxheSh0aGlzLmF1ZGlvQ2xpcCx0aGlzLnNwcml0ZUZyYW1lKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYodGhpcy5kdXJhdGlvbiA+IDAgKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zbGVlcCh0aGlzLmR1cmF0aW9uICogMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/DataCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2946dm7U5hPgIxciZRaL5Q+', 'DataCenter');
// framework/plugin_boosts/misc/DataCenter.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.field = exports.dc = void 0;
var EventManager_1 = require("../utils/EventManager");
var all_class_properties = {};
var all_registed_class = {};
function dc(name, serializable) {
    if (serializable === void 0) { serializable = true; }
    return function (target) {
        // target.endRegister(name);
        var proto = target['prototype'].constructor;
        // let cls = all_class_properties[proto]
        all_registed_class[target] = { name: name, serializable: serializable };
    };
}
exports.dc = dc;
function field(obj) {
    return function (target, propertyName) {
        if (obj && obj.default)
            target[propertyName] = obj.default;
        // target.register(propertyName,target[propertyName])
        var constructor = target.constructor;
        var cls = all_class_properties[constructor];
        if (cls == null) {
            cls = [];
            all_class_properties[constructor] = cls;
        }
        cls.push(propertyName);
    };
}
exports.field = field;
var DataCenter = /** @class */ (function () {
    function DataCenter() {
        this.__namespace = "DataCenter";
        this.kvs = {};
        this.kts = {};
        this.kvs = {};
        this.kts = {};
    }
    DataCenter.prototype.registerFields = function (namespace) {
        console.log(this);
        var target = this["__proto__"].constructor;
        var cls = all_class_properties[target];
        var cfg = all_registed_class[target];
        // let proto:any = target['prototype'];
        for (var i in cls) {
            var k = cls[i];
            if (typeof (k) == "function")
                continue;
            this.register(k, this[k]);
            delete this[k]; //删除默认属性 ,否则设置 setter getter 会失效
        }
        namespace = namespace || cfg.name;
        this.endRegister(namespace, cfg.serializable);
    };
    DataCenter.prototype.register = function (k, defaultValue) {
        var proto = this.constructor["prototype"];
        var self = this;
        proto.__defineGetter__(k, function () {
            return self.getData(k);
        });
        proto.__defineSetter__(k, function (s) {
            self.setData(k, s);
        });
        this.kvs[k] = defaultValue;
        var type = typeof (defaultValue);
        this.kts[k] = type;
        console.log("[DataCenter] register :" + k + ":" + defaultValue + "(" + type + ")");
    };
    DataCenter.prototype.setData = function (k, nv) {
        var v = this.kvs[k];
        if (v == nv)
            return;
        var type = this.kts[k];
        var kk = this._field_(k);
        if (type != typeof (nv)) {
            console.warn("[DataCenter] wrong type <" + typeof (nv) + "> for :" + kk + "<" + type + "> ,converting...");
            if (type == "number")
                nv = Number(nv);
            else if (type == "boolean") {
                nv = (nv == "true") ? true : false;
            }
        }
        this.kvs[k] = nv;
        console.log("[DataCenter] onValueChanged", kk, nv);
        EventManager_1.event.emit(kk, nv, v);
    };
    DataCenter.prototype._field_ = function (k) {
        return this.__namespace + "." + k;
    };
    DataCenter.prototype.getData = function (k) {
        return this.kvs[k];
    };
    DataCenter.prototype.limit = function (v, min, max) {
        if (v > max) {
            return max;
        }
        else if (v < min) {
            return 0;
        }
        else {
            return v;
        }
    };
    DataCenter.prototype.addData = function (k, c) {
        c = Number(c);
        if (c == null)
            return;
        var v = this.kvs[k];
        var nv = Number(v) + c;
        this.kvs[k] = nv;
        EventManager_1.event.emit(this._field_(k), nv, v);
    };
    DataCenter.prototype.load = function () {
        for (var k in this.kvs) {
            var fromstroage = localStorage.getItem(this._field_(k));
            var v = fromstroage;
            if (fromstroage) {
                var type = this.kts[k];
                if (type == "number") {
                    v = Number(fromstroage);
                }
                else if (type == "boolean") {
                    v = fromstroage == "true" ? true : false;
                }
            }
            else {
                v = this.getData(k);
            }
            this.kvs[k] = v;
        }
    };
    DataCenter.prototype.save = function () {
        console.log("[DataCenter] save :==================================");
        for (var k in this.kvs) {
            var v = this.kvs[k];
            var kk = this._field_(k);
            localStorage.setItem(kk, v.toString());
            console.log(cc.js.formatStr("%s:%s", kk, v));
        }
        console.log("[DataCenter] save succ :==================================");
        // localStorage.setItem("#1_coin",this.getData("coin"));
    };
    DataCenter.prototype.endRegister = function (s, serializable) {
        if (serializable === void 0) { serializable = true; }
        this.__namespace = s;
        DataCenter.alldata[s] = this;
        if (serializable) {
            this.load();
            this.save();
        }
    };
    DataCenter.off = function (k, callback, target) {
        EventManager_1.event.off(k, callback, target);
    };
    DataCenter.on = function (k, callback, target) {
        EventManager_1.event.on(k, callback, target);
        this.set(k, this.get(k));
    };
    DataCenter.get = function (k) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target)
            return target[name];
        else
            return null;
    };
    DataCenter.set = function (k, v) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target) {
            target[name] = v;
        }
    };
    DataCenter.register = function (cls) {
        var v = new cls();
        v.registerFields();
        return v;
    };
    DataCenter.alldata = {};
    return DataCenter;
}());
exports.default = DataCenter;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxEYXRhQ2VudGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0RBQThDO0FBRzlDLElBQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFBO0FBRS9CLElBQU0sa0JBQWtCLEdBQUcsRUFBRSxDQUFBO0FBQzdCLFNBQWdCLEVBQUUsQ0FBQyxJQUFJLEVBQUMsWUFBbUI7SUFBbkIsNkJBQUEsRUFBQSxtQkFBbUI7SUFFdkMsT0FBTyxVQUFVLE1BQVU7UUFFdkIsNEJBQTRCO1FBQzVCLElBQUksS0FBSyxHQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFDaEQsd0NBQXdDO1FBQ3hDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsSUFBSSxNQUFBLEVBQUMsWUFBWSxjQUFBLEVBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUE7QUFDTCxDQUFDO0FBVEQsZ0JBU0M7QUFDRCxTQUFnQixLQUFLLENBQUMsR0FBbUI7SUFDckMsT0FBTyxVQUFVLE1BQVcsRUFBRSxZQUFvQjtRQUM5QyxJQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTztZQUNqQixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUN2QyxxREFBcUQ7UUFDckQsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQTtRQUNwQyxJQUFJLEdBQUcsR0FBRyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUMzQyxJQUFHLEdBQUcsSUFBSSxJQUFJLEVBQ2Q7WUFDSSxHQUFHLEdBQUcsRUFBRSxDQUFBO1lBQ1Isb0JBQW9CLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQzNDO1FBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUE7QUFDTCxDQUFDO0FBZEQsc0JB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TSxjQUFHLEdBQVYsVUFBVyxDQUFDO1FBRVIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDMUMsSUFBRyxNQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7O1lBRW5CLE9BQU8sSUFBSSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxjQUFHLEdBQVYsVUFBVyxDQUFDLEVBQUMsQ0FBQztRQUVWLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsTUFBTSxFQUNUO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFTSxtQkFBUSxHQUFmLFVBQWdCLEdBQUc7UUFFZixJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtRQUNsQixPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUExTE0sa0JBQU8sR0FBRyxFQUFFLENBQUE7SUEyTHZCLGlCQUFDO0NBOUxELEFBOExDLElBQUE7a0JBOUxvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi4vdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XHJcblxyXG5cclxuY29uc3QgYWxsX2NsYXNzX3Byb3BlcnRpZXMgPSB7fVxyXG5cclxuY29uc3QgYWxsX3JlZ2lzdGVkX2NsYXNzID0ge31cclxuZXhwb3J0IGZ1bmN0aW9uIGRjKG5hbWUsc2VyaWFsaXphYmxlID0gdHJ1ZSk6RnVuY3Rpb25cclxue1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6YW55KVxyXG4gICAge1xyXG4gICAgICAgIC8vIHRhcmdldC5lbmRSZWdpc3RlcihuYW1lKTtcclxuICAgICAgICBsZXQgcHJvdG86YW55ID0gdGFyZ2V0Wydwcm90b3R5cGUnXS5jb25zdHJ1Y3RvcjtcclxuICAgICAgICAvLyBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbcHJvdG9dXHJcbiAgICAgICAgYWxsX3JlZ2lzdGVkX2NsYXNzW3RhcmdldF0gPSB7bmFtZSxzZXJpYWxpemFibGV9O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaWVsZChvYmo/OntkZWZhdWx0Pzphbnl9KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGlmKG9iaiAmJiBvYmouZGVmYXVsdClcclxuICAgICAgICAgICAgdGFyZ2V0W3Byb3BlcnR5TmFtZV0gPSBvYmouZGVmYXVsdDtcclxuICAgICAgICAvLyB0YXJnZXQucmVnaXN0ZXIocHJvcGVydHlOYW1lLHRhcmdldFtwcm9wZXJ0eU5hbWVdKVxyXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvclxyXG4gICAgICAgIGxldCBjbHMgPSBhbGxfY2xhc3NfcHJvcGVydGllc1tjb25zdHJ1Y3Rvcl1cclxuICAgICAgICBpZihjbHMgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNscyA9IFtdXHJcbiAgICAgICAgICAgIGFsbF9jbGFzc19wcm9wZXJ0aWVzW2NvbnN0cnVjdG9yXSA9IGNscztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2xzLnB1c2gocHJvcGVydHlOYW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFDZW50ZXJcclxue1xyXG4gICAgcHJpdmF0ZSBfX25hbWVzcGFjZTpzdHJpbmcgPSBcIkRhdGFDZW50ZXJcIlxyXG4gICAgc3RhdGljIGFsbGRhdGEgPSB7fVxyXG4gICAgcHJpdmF0ZSBrdnMgPSB7fVxyXG4gICAgcHJpdmF0ZSBrdHMgPSB7fVxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMua3ZzID0ge31cclxuICAgICAgICB0aGlzLmt0cyA9IHt9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RlckZpZWxkcyhuYW1lc3BhY2U/KVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzW1wiX19wcm90b19fXCJdLmNvbnN0cnVjdG9yIFxyXG4gICAgICAgIGxldCBjbHMgPSBhbGxfY2xhc3NfcHJvcGVydGllc1t0YXJnZXRdXHJcbiAgICAgICAgbGV0IGNmZyA9IGFsbF9yZWdpc3RlZF9jbGFzc1t0YXJnZXRdXHJcbiAgICAgICAgLy8gbGV0IHByb3RvOmFueSA9IHRhcmdldFsncHJvdG90eXBlJ107XHJcbiAgICAgICAgZm9yKHZhciBpIGluIGNscylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBrID0gY2xzW2ldO1xyXG4gICAgICAgICAgICBpZih0eXBlb2YoaykgPT0gXCJmdW5jdGlvblwiKSBjb250aW51ZTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihrLHRoaXNba10pXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2tdOyAvL+WIoOmZpOm7mOiupOWxnuaApyAs5ZCm5YiZ6K6+572uIHNldHRlciBnZXR0ZXIg5Lya5aSx5pWIXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZSB8fCAgY2ZnLm5hbWU7XHJcbiAgICAgICAgdGhpcy5lbmRSZWdpc3RlcihuYW1lc3BhY2UsY2ZnLnNlcmlhbGl6YWJsZSlcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcihrLGRlZmF1bHRWYWx1ZSlcclxuICAgIHtcclxuICAgICAgICBsZXQgcHJvdG86YW55ID0gdGhpcy5jb25zdHJ1Y3RvcltcInByb3RvdHlwZVwiXVxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBwcm90by5fX2RlZmluZUdldHRlcl9fKGssZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RGF0YShrKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHByb3RvLl9fZGVmaW5lU2V0dGVyX18oayxmdW5jdGlvbihzKXtcclxuICAgICAgICAgICAgc2VsZi5zZXREYXRhKGsscylcclxuICAgICAgICB9KSBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmt2c1trXSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZihkZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgIHRoaXMua3RzW2tdID0gIHR5cGU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbRGF0YUNlbnRlcl0gcmVnaXN0ZXIgOlwiICsgayArIFwiOlwiICsgZGVmYXVsdFZhbHVlICtcIihcIit0eXBlK1wiKVwiKVxyXG4gICAgfVxyXG4gXHJcbiAgICBzZXREYXRhKGssbnYpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLmt2c1trXVxyXG4gICAgICAgIGlmKHYgPT0gbnYgKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmt0c1trXVxyXG4gICAgICAgIGxldCBrayA9dGhpcy5fZmllbGRfKGspXHJcbiAgICAgICAgaWYodHlwZSAhPSB0eXBlb2YobnYpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0RhdGFDZW50ZXJdIHdyb25nIHR5cGUgPFwiK3R5cGVvZihudikrXCI+IGZvciA6XCIgKyBrayArXCI8XCIrdHlwZStcIj4gLGNvbnZlcnRpbmcuLi5cIilcclxuICAgICAgICAgICAgaWYodHlwZSA9PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICAgICAgbnYgPSBOdW1iZXIobnYpXHJcbiAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PSBcImJvb2xlYW5cIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbnYgPSAobnYgPT0gXCJ0cnVlXCIpID8gdHJ1ZSA6ZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmt2c1trXSA9IG52O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0RhdGFDZW50ZXJdIG9uVmFsdWVDaGFuZ2VkXCIgLCBrayxudik7XHJcbiAgICAgICAgZXZlbnQuZW1pdChrayxudix2KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2ZpZWxkXyhrKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9fbmFtZXNwYWNlICtcIi5cIiArIGtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKGspXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMua3ZzW2tdO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbWl0KHYsbWluLG1heClcclxuICAgIHtcclxuICAgICAgICBpZih2ID4gbWF4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1heDtcclxuICAgICAgICB9ZWxzZSBpZih2IDwgbWluKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGREYXRhKGssYylcclxuICAgIHtcclxuICAgICAgICBjID0gTnVtYmVyKGMpXHJcbiAgICAgICAgaWYoYyA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLmt2c1trXVxyXG4gICAgICAgIGxldCBudiA9ICBOdW1iZXIodikgKyBjXHJcbiAgICAgICAgdGhpcy5rdnNba10gPSBudlxyXG4gICAgICAgIGV2ZW50LmVtaXQodGhpcy5fZmllbGRfKGspLG52LHYpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkKClcclxuICAgIHtcclxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMua3ZzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGZyb21zdHJvYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5fZmllbGRfKGspKVxyXG4gICAgICAgICAgICBsZXQgdjphbnkgPSBmcm9tc3Ryb2FnZVxyXG4gICAgICAgICAgICBpZihmcm9tc3Ryb2FnZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmt0c1trXVxyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBOdW1iZXIoZnJvbXN0cm9hZ2UpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZSA9PSBcImJvb2xlYW5cIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gZnJvbXN0cm9hZ2UgPT0gXCJ0cnVlXCI/dHJ1ZTpmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2ID0gdGhpcy5nZXREYXRhKGspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMua3ZzW2tdID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbRGF0YUNlbnRlcl0gc2F2ZSA6PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiKVxyXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5rdnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMua3ZzW2tdXHJcbiAgICAgICAgICAgIGxldCBrayA9IHRoaXMuX2ZpZWxkXyhrKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrayx2LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCIlczolc1wiICxrayx2KSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbRGF0YUNlbnRlcl0gc2F2ZSBzdWNjIDo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpXHJcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCIjMV9jb2luXCIsdGhpcy5nZXREYXRhKFwiY29pblwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbmRSZWdpc3RlcihzICxzZXJpYWxpemFibGUgPSB0cnVlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX19uYW1lc3BhY2UgPSBzO1xyXG4gICAgICAgIERhdGFDZW50ZXIuYWxsZGF0YVtzXSA9IHRoaXM7XHJcbiAgICAgICAgaWYoc2VyaWFsaXphYmxlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkKClcclxuICAgICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvZmYoayxjYWxsYmFjayx0YXJnZXQ/KVxyXG4gICAge1xyXG4gICAgICAgIGV2ZW50Lm9mZihrLGNhbGxiYWNrLHRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9uKGssY2FsbGJhY2ssdGFyZ2V0PylcclxuICAgIHtcclxuICAgICAgIGV2ZW50Lm9uKGsgLGNhbGxiYWNrLHRhcmdldClcclxuICAgICAgIHRoaXMuc2V0KGssdGhpcy5nZXQoaykpIFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQoaylcclxuICAgIHtcclxuICAgICAgICBsZXQgc3RycyA9IGsuc3BsaXQoXCIuXCIpXHJcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IHN0cnNbMF07XHJcbiAgICAgICAgbGV0IG5hbWUgPSBzdHJzWzFdO1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBEYXRhQ2VudGVyLmFsbGRhdGFbbmFtZXNwYWNlXVxyXG4gICAgICAgIGlmKHRhcmdldClcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXVxyXG4gICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXQoayx2KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBzdHJzID0gay5zcGxpdChcIi5cIilcclxuICAgICAgICBsZXQgbmFtZXNwYWNlID0gc3Ryc1swXTtcclxuICAgICAgICBsZXQgbmFtZSA9IHN0cnNbMV07XHJcbiAgICAgICAgbGV0IHRhcmdldCA9IERhdGFDZW50ZXIuYWxsZGF0YVtuYW1lc3BhY2VdXHJcbiAgICAgICAgaWYodGFyZ2V0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlZ2lzdGVyKGNscylcclxuICAgIHtcclxuICAgICAgICBsZXQgdiA9IG5ldyBjbHMoKTtcclxuICAgICAgICB2LnJlZ2lzdGVyRmllbGRzKClcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCPandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7213alSGlhOObvGLLyQvhtZ', 'DCPandoraPoint');
// framework/plugin_boosts/ui/DCPandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var PandoraPoint_1 = require("./PandoraPoint");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCPandoraPoint = /** @class */ (function (_super) {
    __extends(DCPandoraPoint, _super);
    function DCPandoraPoint() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCPandoraPoint.prototype.onLoad = function () {
        this.point = this.getComponent(PandoraPoint_1.default);
    };
    DCPandoraPoint.prototype.onValueChanged = function (v) {
        this.point.setNumber(v);
    };
    DCPandoraPoint = __decorate([
        ccclass
    ], DCPandoraPoint);
    return DCPandoraPoint;
}(DCUI_1.default));
exports.default = DCPandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENQYW5kb3JhUG9pbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQUk7SUFBaEQ7O0lBZUEsQ0FBQztJQVpHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCx1Q0FBYyxHQUFkLFVBQWUsQ0FBQztRQUVaLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFYZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQWVsQztJQUFELHFCQUFDO0NBZkQsQUFlQyxDQWYyQyxjQUFJLEdBZS9DO2tCQWZvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xyXG5pbXBvcnQgUGFuZG9yYVBvaW50IGZyb20gXCIuL1BhbmRvcmFQb2ludFwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERDUGFuZG9yYVBvaW50IGV4dGVuZHMgRENVSSB7XHJcblxyXG4gICAgcG9pbnQ6UGFuZG9yYVBvaW50O1xyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBvaW50ID0gdGhpcy5nZXRDb21wb25lbnQoUGFuZG9yYVBvaW50KTtcclxuICAgIH1cclxuXHJcbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucG9pbnQuc2V0TnVtYmVyKHYpO1xyXG4gICAgfVxyXG4gICBcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalLifeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '550c0O4ualLIYQoOOiFtGsz', 'LocalLifeSystem');
// framework/plugin_boosts/gamesys/LocalLifeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LifeSystem = exports.LocalLifeSystem = void 0;
var EventManager_1 = require("../utils/EventManager");
var Signal_1 = require("../misc/Signal");
var LocalLifeSystem = /** @class */ (function () {
    function LocalLifeSystem() {
        //生成一颗星需要的时间 
        this.sec_per_live = 60 * 5;
        //最多可得多少颗
        this.live_free_get = 5;
        this.max_freeLives_seconds = this.live_free_get * this.sec_per_live;
        this.livesSeconds = 0;
        this.isEnabledAutoRecovery = true;
        this.recoverySignal = new Signal_1.default();
    }
    LocalLifeSystem.prototype.init = function (liveSec, live_free) {
        if (liveSec === void 0) { liveSec = null; }
        if (live_free === void 0) { live_free = null; }
        this.sec_per_live = liveSec || this.sec_per_live;
        this.live_free_get = live_free || this.live_free_get;
        this.max_freeLives_seconds = this.sec_per_live * this.live_free_get;
        this.livesSeconds = 0;
        this.lastLifeSaveTime = Number(localStorage.getItem("sys_life_lastLifeSaveTime") || new Date().getTime());
        g.setGlobalInstance(exports.LifeSystem, "LocalLifeSystem");
        EventManager_1.event.on("onEnterForeground", this.onEnterForeground, this);
        this.onTimeRequested(new Date().getTime());
        console.log("体力系统初始化", this);
    };
    LocalLifeSystem.prototype.onEnterForeground = function () {
        this.onTimeRequested(new Date().getTime());
    };
    Object.defineProperty(LocalLifeSystem.prototype, "nextLifeTime", {
        get: function () {
            return (this.lives + 1) * this.sec_per_live - this.livesSeconds;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LocalLifeSystem.prototype, "lives", {
        get: function () {
            return Math.floor(this.livesSeconds / this.sec_per_live);
        },
        enumerable: false,
        configurable: true
    });
    LocalLifeSystem.prototype.save = function () {
        this.lastLifeSaveTime = new Date().getTime();
        localStorage.setItem("sys_life_lastLifeSaveTime", this.lastLifeSaveTime + "");
    };
    LocalLifeSystem.prototype.onTimeRequested = function (time) {
        if (this.lastLifeSaveTime) {
            var timeElapsed = Math.floor((time - this.lastLifeSaveTime) / 1000);
            this.livesSeconds = Math.min(this.max_freeLives_seconds, timeElapsed);
        }
    };
    LocalLifeSystem.prototype.startCheck = function (callback, target) {
        var _this = this;
        if (this.task_checkLives)
            return;
        var lastHeart = callback.call(target);
        this.task_checkLives = setInterval(function (_) {
            var heart = callback.call(target);
            if (lastHeart != heart && heart == _this.live_free_get - 1) {
                _this.livesSeconds = 0;
                _this.save();
            }
            if (heart < _this.live_free_get) {
                // this.checkForSpawnLives();
                _this.livesSeconds = _this.livesSeconds + 1;
                if (heart + _this.lives > heart) {
                    console.log("获得在线奖励一颗星", _this.lives);
                    _this.recoverySignal.fire(_this.lives);
                    _this.livesSeconds = 0;
                    _this.save();
                }
            }
            lastHeart = heart;
        }, 1000);
    };
    return LocalLifeSystem;
}());
exports.LocalLifeSystem = LocalLifeSystem;
exports.LifeSystem = new LocalLifeSystem();
// 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbExpZmVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxzREFBOEM7QUFDOUMseUNBQW9DO0FBR3BDO0lBQUE7UUFFQyxhQUFhO1FBQ2IsaUJBQVksR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFFO1FBQ3ZCLFNBQVM7UUFDVCxrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUVsQiwwQkFBcUIsR0FBRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFNL0QsaUJBQVksR0FBVSxDQUFDLENBQUE7UUFHdkIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRXRCLG1CQUFjLEdBQUcsSUFBSSxnQkFBTSxFQUFFLENBQUM7SUF1RXRDLENBQUM7SUF0RUEsOEJBQUksR0FBSixVQUFLLE9BQWMsRUFBQyxTQUFnQjtRQUEvQix3QkFBQSxFQUFBLGNBQWM7UUFBQywwQkFBQSxFQUFBLGdCQUFnQjtRQUVuQyxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFBO1FBQ2hELElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUE7UUFDcEQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNwRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQTtRQUNyQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsSUFBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUE7UUFDeEcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLGtCQUFVLEVBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVsRCxvQkFBSyxDQUFDLEVB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QUF6RlksMENBQWU7QUEyRmpCLFFBQUEsVUFBVSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7QUFDOUMsR0FBRyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2NhbFRpbWVTeXN0ZW0gZnJvbSBcIi4vTG9jYWxUaW1lU3lzdGVtXCI7XHJcbmltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgU2lnbmFsIGZyb20gXCIuLi9taXNjL1NpZ25hbFwiO1xyXG5pbXBvcnQgUGxhdGZvcm0gZnJvbSBcIi4uLy4uL1BsYXRmb3JtXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxMaWZlU3lzdGVtXHJcbntcclxuXHQvL+eUn+aIkOS4gOmil+aYn+mcgOimgeeahOaXtumXtCBcclxuXHRzZWNfcGVyX2xpdmUgPSA2MCAqIDUgO1xyXG5cdC8v5pyA5aSa5Y+v5b6X5aSa5bCR6aKXXHJcblx0bGl2ZV9mcmVlX2dldCA9IDU7XHJcblx0XHJcblx0bWF4X2ZyZWVMaXZlc19zZWNvbmRzID0gdGhpcy5saXZlX2ZyZWVfZ2V0ICogdGhpcy5zZWNfcGVyX2xpdmU7XHJcblxyXG5cdHRhc2tfcnVuU3Bhd25MaXZlczpudW1iZXI7XHJcblxyXG5cdHRhc2tfY2hlY2tMaXZlczpudW1iZXI7XHJcblxyXG5cdGxpdmVzU2Vjb25kczpudW1iZXIgPSAwXHJcblx0bGFzdExpZmVTYXZlVGltZTpudW1iZXI7XHJcblxyXG5cdGlzRW5hYmxlZEF1dG9SZWNvdmVyeSA9IHRydWU7XHJcblx0XHJcblx0cHVibGljIHJlY292ZXJ5U2lnbmFsID0gbmV3IFNpZ25hbCgpO1xyXG5cdGluaXQobGl2ZVNlYyA9IG51bGwsbGl2ZV9mcmVlID0gbnVsbClcclxuXHR7XHJcblx0XHR0aGlzLnNlY19wZXJfbGl2ZSA9IGxpdmVTZWMgfHwgdGhpcy5zZWNfcGVyX2xpdmVcclxuXHRcdHRoaXMubGl2ZV9mcmVlX2dldCA9IGxpdmVfZnJlZSB8fCB0aGlzLmxpdmVfZnJlZV9nZXRcclxuXHRcdHRoaXMubWF4X2ZyZWVMaXZlc19zZWNvbmRzID0gdGhpcy5zZWNfcGVyX2xpdmUgKiB0aGlzLmxpdmVfZnJlZV9nZXQ7XHJcblx0XHR0aGlzLmxpdmVzU2Vjb25kcyA9IDBcclxuXHRcdHRoaXMubGFzdExpZmVTYXZlVGltZSA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN5c19saWZlX2xhc3RMaWZlU2F2ZVRpbWVcIil8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSlcclxuXHRcdGcuc2V0R2xvYmFsSW5zdGFuY2UoTGlmZVN5c3RlbSxcIkxvY2FsTGlmZVN5c3RlbVwiKTtcclxuXHJcblx0XHRldmVudC5vbihcIm9uRW50ZXJGb3JlZ3JvdW5kXCIsdGhpcy5vbkVudGVyRm9yZWdyb3VuZCx0aGlzKVxyXG5cdFx0dGhpcy5vblRpbWVSZXF1ZXN0ZWQobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xyXG5cdFx0Y29uc29sZS5sb2coXCLkvZPlipvns7vnu5/liJ3lp4vljJZcIix0aGlzKTtcclxuXHR9XHJcblxyXG5cdG9uRW50ZXJGb3JlZ3JvdW5kKClcclxuXHR7XHJcblx0XHR0aGlzLm9uVGltZVJlcXVlc3RlZChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XHJcblx0fVxyXG5cclxuXHRnZXQgbmV4dExpZmVUaW1lKClcclxuXHR7XHJcblx0XHRyZXR1cm4gKHRoaXMubGl2ZXMgKyAxKSAqIHRoaXMuc2VjX3Blcl9saXZlIC0gdGhpcy5saXZlc1NlY29uZHM7XHJcblx0fVxyXG5cclxuXHRnZXQgbGl2ZXMoKVxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLmZsb29yKHRoaXMubGl2ZXNTZWNvbmRzIC8gdGhpcy5zZWNfcGVyX2xpdmUpXHJcblx0fVxyXG5cclxuXHRzYXZlKClcclxuXHR7XHJcblx0XHR0aGlzLmxhc3RMaWZlU2F2ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3lzX2xpZmVfbGFzdExpZmVTYXZlVGltZVwiLHRoaXMubGFzdExpZmVTYXZlVGltZStcIlwiKVxyXG5cdH1cclxuXHJcblx0b25UaW1lUmVxdWVzdGVkKHRpbWUpXHJcblx0e1xyXG5cdFx0aWYgKHRoaXMubGFzdExpZmVTYXZlVGltZSlcclxuXHRcdHtcclxuXHRcdFx0bGV0IHRpbWVFbGFwc2VkID0gTWF0aC5mbG9vcigodGltZSAtIHRoaXMubGFzdExpZmVTYXZlVGltZSkvMTAwMClcclxuXHRcdFx0dGhpcy5saXZlc1NlY29uZHMgPSBNYXRoLm1pbih0aGlzLm1heF9mcmVlTGl2ZXNfc2Vjb25kcywgdGltZUVsYXBzZWQpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGFydENoZWNrKGNhbGxiYWNrLHRhcmdldClcclxuXHR7XHJcblx0XHRpZih0aGlzLnRhc2tfY2hlY2tMaXZlcykgcmV0dXJuO1xyXG5cdFx0bGV0IGxhc3RIZWFydCA9IGNhbGxiYWNrLmNhbGwodGFyZ2V0KTtcclxuXHRcdHRoaXMudGFza19jaGVja0xpdmVzID0gc2V0SW50ZXJ2YWwoXz0+e1xyXG5cdFx0XHRsZXQgaGVhcnQgPSBjYWxsYmFjay5jYWxsKHRhcmdldCk7XHJcblx0XHRcdGlmKGxhc3RIZWFydCAhPSBoZWFydCAmJiBoZWFydCA9PSB0aGlzLmxpdmVfZnJlZV9nZXQgLSAxKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5saXZlc1NlY29uZHMgPSAwO1xyXG5cdFx0XHRcdHRoaXMuc2F2ZSgpO1xyXG5cdFx0XHR9IFxyXG5cdFx0XHRpZiAoaGVhcnQgPCB0aGlzLmxpdmVfZnJlZV9nZXQpIHsgXHJcblx0XHRcdFx0Ly8gdGhpcy5jaGVja0ZvclNwYXduTGl2ZXMoKTtcclxuXHRcdFx0XHR0aGlzLmxpdmVzU2Vjb25kcyA9IHRoaXMubGl2ZXNTZWNvbmRzICsgMTtcclxuXHRcdFx0XHRpZiAoIGhlYXJ0ICsgdGhpcy5saXZlcyA+IGhlYXJ0KVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi6I635b6X5Zyo57q/5aWW5Yqx5LiA6aKX5pifXCIsdGhpcy5saXZlcylcclxuXHRcdFx0XHRcdHRoaXMucmVjb3ZlcnlTaWduYWwuZmlyZSh0aGlzLmxpdmVzKTtcclxuXHRcdFx0XHRcdHRoaXMubGl2ZXNTZWNvbmRzID0gMDtcclxuXHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0SGVhcnQgPSBoZWFydDtcclxuXHRcdH0sMTAwMClcclxuXHR9XHJcblxyXG59XHJcblxyXG5leHBvcnQgdmFyIExpZmVTeXN0ZW0gPSBuZXcgTG9jYWxMaWZlU3lzdGVtKCk7XHJcbi8vIFxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e90fpm8LtO1JagTdF3cTrm', 'PsFx');
// framework/plugin_boosts/gamesys/PsFx.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFx = /** @class */ (function (_super) {
    __extends(PsFx, _super);
    function PsFx() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // @property([cc.ParticleSystem])
        _this.particles = [];
        // @property([cc.Animation])
        _this.animations = [];
        // armature:dragonBones.ArmatureDisplay = null
        _this.armature = null;
        // name:string = null;
        // _callback:Function;
        // _target:any;
        _this.isPlaying = false;
        _this.sfx = null;
        _this.sprite = null;
        _this.playedTime = 0;
        _this.duration = -1;
        _this.fadeAfterFinish = -1;
        _this.repeatTime = 1;
        _this.removeAfterFinish = false;
        return _this;
        // update (dt) {}
    }
    PsFx.prototype.onLoad = function () {
        if (this.sprite == null) {
            this.sprite = this.getComponent(cc.Sprite);
        }
        var anim = this.getComponent(cc.Animation);
        if (anim) {
            this.animations.push(anim);
        }
        var root_ps = this.getComponent(cc.ParticleSystem);
        root_ps && this.particles.push(root_ps);
        for (var i = 0; i < this.node.childrenCount; i++) {
            var child = this.node.children[i];
            var ps = child.getComponent(cc.ParticleSystem);
            if (ps)
                this.particles.push(ps);
            else {
                var anim_1 = child.getComponent(cc.Animation);
                if (anim_1)
                    this.animations.push(anim_1);
            }
        }
        if (typeof (dragonBones) != "undefined") {
            this.armature = this.getComponent(dragonBones.ArmatureDisplay);
            if (!this.armature)
                this.armature = this.getComponentInChildren(dragonBones.ArmatureDisplay);
        }
    };
    PsFx.prototype.play = function (audio, spriteFrame) {
        var _this = this;
        if (audio === void 0) { audio = null; }
        if (spriteFrame === void 0) { spriteFrame = null; }
        this.isPlaying = true;
        var dur = 0;
        if (audio) {
            this.sfx = audio;
        }
        if (spriteFrame)
            this.sprite.spriteFrame = spriteFrame;
        this.node.active = true;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.resetSystem();
            if (dur < element.duration) {
                dur = element.duration + element.life + element.lifeVar;
            }
        }
        for (var i = 0; i < this.animations.length; i++) {
            var element = this.animations[i];
            var clips = element.getClips();
            if (clips && clips.length > 0) {
                var clip = clips[0];
                var duration = clip.duration / clip.speed;
                if (duration > dur) {
                    dur = duration;
                }
                element.play(clip.name);
            }
        }
        if (this.sfx) {
            Device_1.default.playEffect(this.sfx, false);
        }
        if (this.armature) {
            this.armature.playAnimation("", this.repeatTime);
            dur = this.duration;
            if (dur <= 0) {
                return new Promise(function (resolve, reject) {
                    // this.armature.addEventListener(dragonBones.EventObject.LOOP_COMPLETE, _=>{
                    //     console.log("loop complete");
                    //     this.fadeOnFinish(resolve)
                    // })
                    _this.armature.addEventListener(dragonBones.EventObject.COMPLETE, function (_) {
                        console.log("armature play complete");
                        if (_this.removeAfterFinish) {
                            _this.node.removeFromParent();
                        }
                        else {
                            _this.fadeOnFinish(resolve);
                        }
                    });
                });
            }
        }
        else {
            dur = dur + 0.1;
        }
        // console.log("[psfx] play : " ,  this.name,  dur);
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                if (!_this.isValid)
                    return;
                if (_this.removeAfterFinish) {
                    _this.node.removeFromParent();
                }
                else {
                    _this.fadeOnFinish(resolve);
                }
            }, dur * 1000);
        });
    };
    PsFx.prototype.fadeOnFinish = function (callback) {
        this.isPlaying = false;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.stopSystem();
        }
        if (this.fadeAfterFinish > 0) {
            var seq = cc.sequence(cc.fadeOut(this.fadeAfterFinish), cc.callFunc(callback));
            this.node.runAction(seq);
        }
        else {
            callback();
        }
    };
    PsFx.prototype.reset = function () {
        this.playedTime = 0;
    };
    PsFx.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFx.prototype, "sfx", void 0);
    __decorate([
        property(cc.Sprite)
    ], PsFx.prototype, "sprite", void 0);
    __decorate([
        property
    ], PsFx.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFx.prototype, "fadeAfterFinish", void 0);
    __decorate([
        property
    ], PsFx.prototype, "repeatTime", void 0);
    __decorate([
        property
    ], PsFx.prototype, "removeAfterFinish", void 0);
    PsFx = __decorate([
        ccclass
    ], PsFx);
    return PsFx;
}(cc.Component));
exports.default = PsFx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBOEI7QUFFeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBa0Msd0JBQVk7SUFBOUM7UUFBQSxxRUErS0M7UUE3S0csaUNBQWlDO1FBQ2pDLGVBQVMsR0FBdUIsRUFBRSxDQUFBO1FBRWxDLDRCQUE0QjtRQUM1QixnQkFBVSxHQUFrQixFQUFFLENBQUE7UUFFOUIsOENBQThDO1FBQzlDLGNBQVEsR0FBTyxJQUFJLENBQUM7UUFFcEIsc0JBQXNCO1FBRXRCLHNCQUFzQjtRQUN0QixlQUFlO1FBRWYsZUFBUyxHQUFXLEtBQUssQ0FBQztRQUcxQixTQUFHLEdBQWdCLElBQUksQ0FBQTtRQUd2QixZQUFNLEdBQWEsSUFBSSxDQUFBO1FBRXZCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLGNBQVEsR0FBVSxDQUFDLENBQUMsQ0FBRTtRQUd0QixxQkFBZSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBRzVCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLHVCQUFpQixHQUFXLEtBQUssQ0FBQzs7UUEwSWxDLGlCQUFpQjtJQUNyQixDQUFDO0lBeElHLHFCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxFQUN0QjtZQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDOUM7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUMxQyxJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUks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O1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQztxQ0FDUjtJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dDQUNHO0lBS3ZCO1FBREMsUUFBUTswQ0FDYTtJQUd0QjtRQURDLFFBQVE7aURBQ21CO0lBRzVCO1FBREMsUUFBUTs0Q0FDYTtJQUd0QjtRQURDLFFBQVE7bURBQ3lCO0lBcENqQixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBK0t4QjtJQUFELFdBQUM7Q0EvS0QsQUErS0MsQ0EvS2lDLEVBQUUsQ0FBQyxTQUFTLEdBK0s3QztrQkEvS29CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuL0RldmljZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQc0Z4IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIFxyXG4gICAgLy8gQHByb3BlcnR5KFtjYy5QYXJ0aWNsZVN5c3RlbV0pXHJcbiAgICBwYXJ0aWNsZXM6Y2MuUGFydGljbGVTeXN0ZW1bXSA9IFtdXHJcblxyXG4gICAgLy8gQHByb3BlcnR5KFtjYy5BbmltYXRpb25dKVxyXG4gICAgYW5pbWF0aW9uczpjYy5BbmltYXRpb25bXSA9IFtdXHJcblxyXG4gICAgLy8gYXJtYXR1cmU6ZHJhZ29uQm9uZXMuQXJtYXR1cmVEaXNwbGF5ID0gbnVsbFxyXG4gICAgYXJtYXR1cmU6YW55ID0gbnVsbDtcclxuXHJcbiAgICAvLyBuYW1lOnN0cmluZyA9IG51bGw7XHJcblxyXG4gICAgLy8gX2NhbGxiYWNrOkZ1bmN0aW9uO1xyXG4gICAgLy8gX3RhcmdldDphbnk7XHJcblxyXG4gICAgaXNQbGF5aW5nOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBzZng6Y2MuQXVkaW9DbGlwID0gbnVsbFxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbFxyXG5cclxuICAgIHBsYXllZFRpbWU6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGR1cmF0aW9uOm51bWJlciA9IC0xIDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGZhZGVBZnRlckZpbmlzaDpudW1iZXIgPSAtMTtcclxuICAgIFxyXG4gICAgQHByb3BlcnR5XHJcbiAgICByZXBlYXRUaW1lOm51bWJlciA9IDE7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICByZW1vdmVBZnRlckZpbmlzaDpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5zcHJpdGUgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFuaW0gPSB0aGlzLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXHJcbiAgICAgICAgaWYoYW5pbSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcm9vdF9wcyA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlBhcnRpY2xlU3lzdGVtKVxyXG4gICAgICAgIHJvb3RfcHMgJiYgdGhpcy5wYXJ0aWNsZXMucHVzaChyb290X3BzKVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2RlLmNoaWxkcmVuQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMubm9kZS5jaGlsZHJlbltpXVxyXG4gICAgICAgICAgICBsZXQgcHMgPSBjaGlsZC5nZXRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0pICAgXHJcbiAgICAgICAgICAgIGlmKHBzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwcyk7XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5pbSA9IGNoaWxkLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXHJcbiAgICAgICAgICAgICAgICBpZihhbmltKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHR5cGVvZihkcmFnb25Cb25lcykgIT1cInVuZGVmaW5lZFwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hcm1hdHVyZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSk7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmFybWF0dXJlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcm1hdHVyZSA9IHRoaXMuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbGF5KGF1ZGlvOmNjLkF1ZGlvQ2xpcD0gbnVsbCxzcHJpdGVGcmFtZSA9IG51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIGxldCBkdXIgPSAwO1xyXG4gICAgICAgIGlmKGF1ZGlvKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zZnggPSBhdWRpb1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzcHJpdGVGcmFtZSlcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXNldFN5c3RlbSgpO1xyXG4gICAgICAgICAgICBpZihkdXIgPCBlbGVtZW50LmR1cmF0aW9uKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkdXIgPSBlbGVtZW50LmR1cmF0aW9uICsgZWxlbWVudC5saWZlICsgZWxlbWVudC5saWZlVmFyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuYW5pbWF0aW9uc1tpXTtcclxuICAgICAgICAgICAgbGV0IGNsaXBzID0gZWxlbWVudC5nZXRDbGlwcygpXHJcbiAgICAgICAgICAgIGlmKGNsaXBzICYmIGNsaXBzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBjbGlwID0gY2xpcHNbMF1cclxuICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGNsaXAuZHVyYXRpb24vY2xpcC5zcGVlZFxyXG4gICAgICAgICAgICAgICAgaWYoZHVyYXRpb24gPiBkdXIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBsYXkoY2xpcC5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5zZngpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEZXZpY2UucGxheUVmZmVjdCh0aGlzLnNmeCxmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuYXJtYXR1cmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmFybWF0dXJlLnBsYXlBbmltYXRpb24oXCJcIix0aGlzLnJlcGVhdFRpbWUpO1xyXG4gICAgICAgICAgICBkdXIgPSB0aGlzLmR1cmF0aW9uO1xyXG4gICAgICAgICAgICBpZihkdXIgPD0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFybWF0dXJlLmFkZEV2ZW50TGlzdGVuZXIoZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuTE9PUF9DT01QTEVURSwgXz0+e1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcImxvb3AgY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuZmFkZU9uRmluaXNoKHJlc29sdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFybWF0dXJlLmFkZEV2ZW50TGlzdGVuZXIoZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuQ09NUExFVEUsIF89PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcm1hdHVyZSBwbGF5IGNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJlbW92ZUFmdGVyRmluaXNoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZU9uRmluaXNoKHJlc29sdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkdXIgPSBkdXIgKyAwLjE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW3BzZnhdIHBsYXkgOiBcIiAsICB0aGlzLm5hbWUsICBkdXIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXz0+e1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNWYWxpZCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJlbW92ZUFmdGVyRmluaXNoKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVPbkZpbmlzaChyZXNvbHZlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LGR1ciAqIDEwMDApXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBmYWRlT25GaW5pc2goY2FsbGJhY2spXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgZWxlbWVudC5zdG9wU3lzdGVtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuZmFkZUFmdGVyRmluaXNoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBzZXEgPSBjYy5zZXF1ZW5jZShjYy5mYWRlT3V0KHRoaXMuZmFkZUFmdGVyRmluaXNoKSxjYy5jYWxsRnVuYyhjYWxsYmFjaykpXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiBhbnkge1xyXG4gICAgICAgIHRoaXMucGxheWVkVGltZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/JoyStick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '297d6dgG6ZIJJ+ZjeNWq2ub', 'JoyStick');
// framework/plugin_boosts/misc/JoyStick.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JoyStick = /** @class */ (function (_super) {
    __extends(JoyStick, _super);
    function JoyStick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.outterCircle = null;
        _this.innerCircle = null;
        _this.radius = 250;
        _this.innerCircleRadius = 20;
        // 超出是否relase 
        _this.releaseAfterOver = false;
        // dynamic Joystick
        _this.dynamicJoystick = false;
        _this.autoRadius = false;
        _this.isReleased = false;
        _this._startPos = cc.Vec2.ZERO;
        return _this;
    }
    JoyStick.prototype.onLoad = function () {
        if (this.autoRadius) {
            this.radius = this.outterCircle.getBoundingBox().height / 2;
        }
        this.innerCircle.setPosition(0, 0);
        this.node.active = false;
    };
    JoyStick.prototype.start = function () {
        this.releaseStick();
    };
    JoyStick.prototype.releaseStick = function () {
        var move = cc.moveTo(0.5, cc.Vec2.ZERO);
        var action = move.easing(cc.easeExponentialOut());
        this.innerCircle.runAction(action);
        this.isReleased = true;
        if (this.dynamicJoystick) {
            this.scheduleOnce(this.delayClose, 1);
        }
    };
    JoyStick.prototype.delayClose = function () {
        this.node.active = false;
    };
    Object.defineProperty(JoyStick.prototype, "axis", {
        get: function () {
            if (this.isReleased)
                return cc.Vec2.ZERO;
            var vec = this.innerCircle.getPosition();
            vec.normalizeSelf();
            return vec;
        },
        enumerable: false,
        configurable: true
    });
    JoyStick.prototype.move = function (pos) {
        var mag = pos.mag();
        if (mag > this.radius) {
            if (this.releaseAfterOver)
                this.releaseStick();
            pos.normalizeSelf();
            pos.mulSelf(this.radius);
        }
        this.innerCircle.setPosition(pos);
    };
    // p : screen position
    JoyStick.prototype.touchStart = function (p) {
        if (!this.enabled)
            return;
        this.isReleased = false;
        this._startPos = p;
        this.unschedule(this.delayClose);
        this.node.active = true;
        if (this.dynamicJoystick) {
            // converto screen position
            var pos = this.node.getParent().convertToNodeSpaceAR(p);
            this.node.setPosition(pos);
            // this.node.opacity = 0;
            // this.node.runAction(cc.fadeIn(0.5));
        }
        this.move(cc.Vec2.ZERO);
    };
    JoyStick.prototype.touchMove = function (p) {
        if (!this.enabled)
            return;
        var vec = p.sub(this._startPos);
        this.move(vec);
    };
    JoyStick.prototype.touchEnd = function (p) {
        if (!this.enabled)
            return;
        // this.move(p);
        this.releaseStick();
    };
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "outterCircle", void 0);
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "innerCircle", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "radius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "innerCircleRadius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "releaseAfterOver", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "dynamicJoystick", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "autoRadius", void 0);
    JoyStick = __decorate([
        ccclass
    ], JoyStick);
    return JoyStick;
}(cc.Component));
exports.default = JoyStick;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxKb3lTdGljay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUFtSEM7UUFoSEcsa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFHM0IsWUFBTSxHQUFVLEdBQUcsQ0FBQztRQUdwQix1QkFBaUIsR0FBVyxFQUFFLENBQUM7UUFFL0IsY0FBYztRQUVkLHNCQUFnQixHQUFXLEtBQUssQ0FBQztRQUVqQyxtQkFBbUI7UUFFbkIscUJBQWUsR0FBVyxLQUFLLENBQUM7UUFHaEMsZ0JBQVUsR0FBVyxLQUFLLENBQUM7UUFFM0IsZ0JBQVUsR0FBRyxLQUFLLENBQUM7UUF3RG5CLGVBQVMsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7SUFrQ3JDLENBQUM7SUF6RkcseUJBQU0sR0FBTjtRQUVJLElBQUcsSUFBSSxDQUFDLFVBQVUsRUFDbEI7WUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQztTQUM3RDtRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELCtCQUFZLEdBQVo7UUFFSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRyxFQUFF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USxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1M7SUFHM0I7UUFEQyxRQUFROzRDQUNXO0lBR3BCO1FBREMsUUFBUTt1REFDc0I7SUFJL0I7UUFEQyxRQUFRO3NEQUN3QjtJQUlqQztRQURDLFFBQVE7cURBQ3VCO0lBR2hDO1FBREMsUUFBUTtnREFDa0I7SUF2QlYsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQW1INUI7SUFBRCxlQUFDO0NBbkhELEFBbUhDLENBbkhxQyxFQUFFLENBQUMsU0FBUyxHQW1IakQ7a0JBbkhvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKb3lTdGljayBleHRlbmRzIGNjLkNvbXBvbmVudFxyXG57XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG91dHRlckNpcmNsZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGlubmVyQ2lyY2xlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcmFkaXVzOm51bWJlciA9IDI1MDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGlubmVyQ2lyY2xlUmFkaXVzOm51bWJlciA9ICAyMDtcclxuXHJcbiAgICAvLyDotoXlh7rmmK/lkKZyZWxhc2UgXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHJlbGVhc2VBZnRlck92ZXI6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGR5bmFtaWMgSm95c3RpY2tcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZHluYW1pY0pveXN0aWNrOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGF1dG9SYWRpdXM6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGlzUmVsZWFzZWQgPSBmYWxzZTtcclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5hdXRvUmFkaXVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLm91dHRlckNpcmNsZS5nZXRCb3VuZGluZ0JveCgpLmhlaWdodC8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlubmVyQ2lyY2xlLnNldFBvc2l0aW9uKDAsMCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJlbGVhc2VTdGljaygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZWxlYXNlU3RpY2soKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBtb3ZlID0gY2MubW92ZVRvKDAuNSAsIGNjLlZlYzIuWkVSTyk7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IG1vdmUuZWFzaW5nKGNjLmVhc2VFeHBvbmVudGlhbE91dCgpKTtcclxuICAgICAgICB0aGlzLmlubmVyQ2lyY2xlLnJ1bkFjdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuaXNSZWxlYXNlZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5keW5hbWljSm95c3RpY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSggdGhpcy5kZWxheUNsb3NlLCAxKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWxheUNsb3NlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGF4aXMoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuaXNSZWxlYXNlZCkgcmV0dXJuIGNjLlZlYzIuWkVSTztcclxuICAgICAgICBsZXQgdmVjID0gdGhpcy5pbm5lckNpcmNsZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIHZlYy5ub3JtYWxpemVTZWxmKClcclxuICAgICAgICByZXR1cm4gdmVjO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUocG9zOmNjLlZlYzIpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IG1hZyA9IHBvcy5tYWcoKTtcclxuICAgICAgICBpZihtYWcgPiB0aGlzLnJhZGl1cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVsZWFzZUFmdGVyT3ZlcilcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZVN0aWNrKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwb3Mubm9ybWFsaXplU2VsZigpO1xyXG4gICAgICAgICAgICBwb3MubXVsU2VsZih0aGlzLnJhZGl1cylcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbm5lckNpcmNsZS5zZXRQb3NpdGlvbihwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zdGFydFBvczpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgIC8vIHAgOiBzY3JlZW4gcG9zaXRpb25cclxuICAgIHRvdWNoU3RhcnQocClcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy5lbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5pc1JlbGVhc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRQb3MgPSBwO1xyXG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmRlbGF5Q2xvc2UpO1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMuZHluYW1pY0pveXN0aWNrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gY29udmVydG8gc2NyZWVuIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLm5vZGUuZ2V0UGFyZW50KCkuY29udmVydFRvTm9kZVNwYWNlQVIocCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zZXRQb3NpdGlvbihwb3MpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubm9kZS5ydW5BY3Rpb24oY2MuZmFkZUluKDAuNSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vdmUoY2MuVmVjMi5aRVJPKTtcclxuICAgIH1cclxuXHJcbiAgICB0b3VjaE1vdmUocClcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy5lbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHZlYyA9IHAuc3ViKHRoaXMuX3N0YXJ0UG9zKTtcclxuICAgICAgICB0aGlzLm1vdmUodmVjKTtcclxuICAgIH1cclxuXHJcbiAgICB0b3VjaEVuZChwKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcclxuICAgICAgICAvLyB0aGlzLm1vdmUocCk7XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlU3RpY2soKTtcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/Device.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b88b4v3H5tF7ozLVLmzIPqR', 'Device');
// framework/plugin_boosts/gamesys/Device.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundHelper_1 = require("../../qqsdk/SoundHelper");
var Device = /** @class */ (function () {
    function Device() {
    }
    Device.setSoundsEnable = function (b) {
        Device.setSFXEnable(b);
        Device.setBGMEnable(b);
    };
    Device.setSFXEnable = function (b) {
        cc.audioEngine.setEffectsVolume(b == true ? 1 : 0);
        Device.isSfxEnabled = b;
        if (!b) {
            cc.audioEngine.pauseAllEffects();
        }
        else {
            cc.audioEngine.resumeAllEffects();
        }
    };
    Device.useCCAudioEngine = function () {
        this._useCCAudioEngine = true;
    };
    Device.useDefaultAudioEngine = function () {
        this._useCCAudioEngine = false;
    };
    Device.setBGMEnable = function (b) {
        cc.audioEngine.setMusicVolume(b == true ? 1 : 0);
        Device.isBgmEnabled = b;
        if (!b) {
            cc.audioEngine.pauseMusic();
        }
        else {
            cc.audioEngine.resumeMusic();
        }
    };
    Device.playEffect = function (clip, loop) {
        if (loop === void 0) { loop = false; }
        if (Device.isSfxEnabled) {
            if (cc.sys.platform == cc.sys.QQ_PLAY) {
                if (this._useCCAudioEngine) {
                    return cc.audioEngine.playEffect(clip, loop);
                }
                else {
                    SoundHelper_1.default.playSound(clip);
                }
            }
            else
                return cc.audioEngine.playEffect(clip, loop);
        }
    };
    Device.stopMusic = function () {
        cc.audioEngine.stopMusic();
    };
    Device.playMusic = function (clip, loop) {
        if (loop === void 0) { loop = true; }
        if (Device.isBgmEnabled) {
            return cc.audioEngine.playMusic(clip, loop);
        }
    };
    Device.vibrate = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.vibrateShort();
        }
        else {
            console.log("not support vibrate on except-wx platfrom ");
        }
    };
    Device.isSfxEnabled = true;
    Device.isBgmEnabled = true;
    Device._useCCAudioEngine = false;
    return Device;
}());
exports.default = Device;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxEZXZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUFrRDtBQUVsRDtJQUFBO0lBeUZBLENBQUM7SUFsRlUsc0JBQWUsR0FBdEIsVUFBdUIsQ0FBUztRQUU1QixNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3RCLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVNLG1CQUFZLEdBQW5CLFVBQW9CLENBQUM7UUFFakIsRUFBRSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLElBQUcsQ0FBQyxDQUFDLEVBQ0w7WUFDSSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFBO1NBQ25DO2FBQUk7WUFDRCxFQUFFLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLENBQUM7U0FDckM7SUFDTCxDQUFDO0lBSU0sdUJBQWdCLEdBQXZCO1FBRUksSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRU0sNEJBQXFCLEdBQTVCO1FBRUksSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztJQUNuQyxDQUFDO0lBRU0sbUJBQVksR0FBbkIsVUFBb0IsQ0FBQztRQUVqQixFQUFFLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLElBQUcsQ0FBQyxDQUFDLEVBQ0w7WUFDSSxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzlCO2FBQUk7WUFDRCxFQUFFLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFBO1NBQy9CO0lBQ0wsQ0FBQztJQUdNLGlCQUFVLEdBQWpCLFVBQWtCLElBQUksRUFBQyxJQUFZO1FBQVoscUJBQUEsRUFBQSxZQUFZO1FBRS9CLElBQUcsTUFBTSxDQUFDLFlBQVksRUFDdEI7WUFDSSxJQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUNwQztnQkFDSSxJQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFDekI7b0JBQ0ksT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUE7aUJBQzlDO3FCQUFJO29CQUNELHFCQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQjthQUNKOztnQkFDRyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQTtTQUNsRDtJQUNMLENBQUM7SUFFTSxnQkFBUyxHQUFoQjtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVNLGdCQUFTLEdBQWhCLFVBQWlCLElBQUksRUFBQyxJQUFXO1FBQVgscUJBQUEsRUFBQSxXQUFXO1FBRTdCLElBQUcsTUFBTSxDQUFDLFlBQVksRUFDdEI7WUFDSSxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztJQUNMLENBQUM7SUFFTSxjQUFPLEdBQWQ7UUFFSSxJQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUN4QztZQUNJLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtTQUNwQjthQUFJO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFBO1NBQzVEO0lBQ0wsQ0FBQztJQXJGTSxtQkFBWSxHQUFHLElBQUksQ0FBQztJQUVwQixtQkFBWSxHQUFHLElBQUksQ0FBQztJQW9CcEIsd0JBQWlCLEdBQUcsS0FBSyxDQUFDO0lBZ0VyQyxhQUFDO0NBekZELEFBeUZDLElBQUE7a0JBekZvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvdW5kSGVscGVyIGZyb20gXCIuLi8uLi9xcXNkay9Tb3VuZEhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV2aWNlIFxyXG57XHJcblxyXG4gICAgc3RhdGljIGlzU2Z4RW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgc3RhdGljIGlzQmdtRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgc3RhdGljIHNldFNvdW5kc0VuYWJsZShiOmJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgRGV2aWNlLnNldFNGWEVuYWJsZShiKVxyXG4gICAgICAgIERldmljZS5zZXRCR01FbmFibGUoYik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldFNGWEVuYWJsZShiKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldEVmZmVjdHNWb2x1bWUoYiA9PSB0cnVlPzE6MCk7XHJcbiAgICAgICAgRGV2aWNlLmlzU2Z4RW5hYmxlZCA9IGI7XHJcbiAgICAgICAgaWYoIWIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbEVmZmVjdHMoKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGxFZmZlY3RzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfdXNlQ0NBdWRpb0VuZ2luZSA9IGZhbHNlO1xyXG5cclxuICAgIHN0YXRpYyB1c2VDQ0F1ZGlvRW5naW5lKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl91c2VDQ0F1ZGlvRW5naW5lID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXNlRGVmYXVsdEF1ZGlvRW5naW5lKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl91c2VDQ0F1ZGlvRW5naW5lID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldEJHTUVuYWJsZShiKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldE11c2ljVm9sdW1lKGIgPT0gdHJ1ZT8xOjApO1xyXG4gICAgICAgIERldmljZS5pc0JnbUVuYWJsZWQgPSBiO1xyXG4gICAgICAgIGlmKCFiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VNdXNpYygpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZU11c2ljKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBwbGF5RWZmZWN0KGNsaXAsbG9vcCA9IGZhbHNlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKERldmljZS5pc1NmeEVuYWJsZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlFRX1BMQVkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3VzZUNDQXVkaW9FbmdpbmUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoY2xpcCxsb29wKVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgU291bmRIZWxwZXIucGxheVNvdW5kKGNsaXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoY2xpcCxsb29wKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc3RvcE11c2ljKClcclxuICAgIHtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wTXVzaWMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGxheU11c2ljKGNsaXAsbG9vcCA9IHRydWUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoRGV2aWNlLmlzQmdtRW5hYmxlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYy5hdWRpb0VuZ2luZS5wbGF5TXVzaWMoY2xpcCxsb29wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHZpYnJhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3eC52aWJyYXRlU2hvcnQoKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBzdXBwb3J0IHZpYnJhdGUgb24gZXhjZXB0LXd4IHBsYXRmcm9tIFwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudioManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '679c3x/ZwhD8KnIy6p5lX5y', 'ClickAudioManager');
// framework/plugin_boosts/misc/ClickAudioManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ClickAudio_1 = require("./ClickAudio");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudioManager = /** @class */ (function (_super) {
    __extends(ClickAudioManager, _super);
    function ClickAudioManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        return _this;
        // update (dt) {}
    }
    ClickAudioManager.prototype.onLoad = function () {
        g.foreachNode(this.node, this.each, this);
    };
    ClickAudioManager.prototype.each = function (item) {
        //if button 
        if (!item.getComponent(cc.Button))
            return;
        var comp = item.getComponent(ClickAudio_1.default);
        if (comp == null) {
            comp = item.addComponent(ClickAudio_1.default);
            comp.elastic = this.elastic;
            comp.audio = this.audio;
        }
    };
    ClickAudioManager.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudioManager.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudioManager.prototype, "elastic", void 0);
    ClickAudioManager = __decorate([
        ccclass
    ], ClickAudioManager);
    return ClickAudioManager;
}(cc.Component));
exports.default = ClickAudioManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXNDO0FBQ2hDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFZO0lBQTNEO1FBQUEscUVBNkJDO1FBMUJHLFdBQUssR0FBaUIsSUFBSSxDQUFDO1FBRzNCLGFBQU8sR0FBVyxLQUFLLENBQUM7O1FBc0J4QixpQkFBaUI7SUFDckIsQ0FBQztJQXJCRyxrQ0FBTSxHQUFOO1FBQ0ksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDM0MsQ0FBQztJQUVELGdDQUFJLEdBQUosVUFBSyxJQUFZO1FBRWIsWUFBWTtRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7WUFBRSxPQUFPO1FBQzFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsb0JBQVUsQ0FBQyxDQUFBO1FBQ3hDLElBQUcsSUFBSSxJQUFJLElBQUksRUFDZjtZQUNJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFVLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUE7WUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUNELGlDQUFLLEdBQUw7SUFFQSxDQUFDO0lBdkJEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQztvREFDSjtJQUczQjtRQURDLFFBQVE7c0RBQ2U7SUFOUCxpQkFBaUI7UUFEckMsT0FBTztPQUNhLGlCQUFpQixDQTZCckM7SUFBRCx3QkFBQztDQTdCRCxBQTZCQyxDQTdCOEMsRUFBRSxDQUFDLFNBQVMsR0E2QjFEO2tCQTdCb0IsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaWNrQXVkaW8gZnJvbSBcIi4vQ2xpY2tBdWRpb1wiO1xyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrQXVkaW9NYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBhdWRpbyA6Y2MuQXVkaW9DbGlwID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGVsYXN0aWM6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgZy5mb3JlYWNoTm9kZSh0aGlzLm5vZGUsdGhpcy5lYWNoLHRoaXMpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGVhY2goaXRlbTpjYy5Ob2RlKVxyXG4gICAge1xyXG4gICAgICAgIC8vaWYgYnV0dG9uIFxyXG4gICAgICAgIGlmICghaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKSkgcmV0dXJuO1xyXG4gICAgICAgIGxldCBjb21wID0gaXRlbS5nZXRDb21wb25lbnQoQ2xpY2tBdWRpbylcclxuICAgICAgICBpZihjb21wID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb21wID0gaXRlbS5hZGRDb21wb25lbnQoQ2xpY2tBdWRpbyk7XHJcbiAgICAgICAgICAgIGNvbXAuZWxhc3RpYyA9IHRoaXMuZWxhc3RpY1xyXG4gICAgICAgICAgICBjb21wLmF1ZGlvID0gdGhpcy5hdWRpbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Net.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e139lB+RRCNpxXRSqgoURG', 'Net');
// framework/plugin_boosts/misc/Net.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Net = /** @class */ (function () {
    function Net() {
    }
    Net.httpGet = function (url, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
        };
        xhr.open("GET", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send();
    };
    Net.httpPost = function (url, params, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            // console.log('xhr.readyState='+xhr.readyState+'  xhr.status='+xhr.status);
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
            else {
                callback(-1);
            }
        };
        xhr.open("POST", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send(params);
    };
    return Net;
}());
exports.default = Net;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxOZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE4Q0EsQ0FBQztJQTNDVSxXQUFPLEdBQWQsVUFBZSxHQUFHLEVBQUUsUUFBUTtRQUN4QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDeEMsR0FBRyxDQUFDLGtCQUFrQixHQUFHO1lBQ3JCLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0IsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxZQUFRLEdBQWYsVUFBZ0IsR0FBRyxFQUFFLE1BQU0sRUFBRSxRQUFRO1FBQ2pDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN4QyxHQUFHLENBQUMsa0JBQWtCLEdBQUc7WUFDckIsNEVBQTRFO1lBQzVFLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7aUJBQUk7Z0JBQ0MsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVMLFVBQUM7QUFBRCxDQTlDQSxBQThDQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0e1xyXG4gXHJcbiBcclxuICAgIHN0YXRpYyBodHRwR2V0KHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgeGhyID0gY2MubG9hZGVyLmdldFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbmUgPSB4aHIucmVzcG9uc2VUZXh0O1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdC1FbmNvZGluZ1wiLCBcImd6aXAsZGVmbGF0ZVwiKTtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICAvLyBub3RlOiBJbiBJbnRlcm5ldCBFeHBsb3JlciwgdGhlIHRpbWVvdXQgcHJvcGVydHkgbWF5IGJlIHNldCBvbmx5IGFmdGVyIGNhbGxpbmcgdGhlIG9wZW4oKVxyXG4gICAgICAgIC8vIG1ldGhvZCBhbmQgYmVmb3JlIGNhbGxpbmcgdGhlIHNlbmQoKSBtZXRob2QuXHJcbiAgICAgICAgeGhyLnRpbWVvdXQgPSA1MDAwOy8vIDUgc2Vjb25kcyBmb3IgdGltZW91dFxyXG4gXHJcbiAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH1cclxuIFxyXG4gICAgc3RhdGljIGh0dHBQb3N0KHVybCwgcGFyYW1zLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygneGhyLnJlYWR5U3RhdGU9Jyt4aHIucmVhZHlTdGF0ZSsnICB4aHIuc3RhdHVzPScreGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbmUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2Muc3lzLmlzTmF0aXZlKSB7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0LUVuY29kaW5nXCIsIFwiZ3ppcCxkZWZsYXRlXCIpO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIC8vIG5vdGU6IEluIEludGVybmV0IEV4cGxvcmVyLCB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgYmUgc2V0IG9ubHkgYWZ0ZXIgY2FsbGluZyB0aGUgb3BlbigpXHJcbiAgICAgICAgLy8gbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZyB0aGUgc2VuZCgpIG1ldGhvZC5cclxuICAgICAgICB4aHIudGltZW91dCA9IDUwMDA7Ly8gNSBzZWNvbmRzIGZvciB0aW1lb3V0XHJcbiBcclxuICAgICAgICB4aHIuc2VuZChwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/SpriteFrameCache.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8756by7qCVIPpJ06/9qmobv', 'SpriteFrameCache');
// framework/plugin_boosts/misc/SpriteFrameCache.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache = /** @class */ (function () {
    function SpriteFrameCache() {
        this.frames = {};
    }
    Object.defineProperty(SpriteFrameCache, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new SpriteFrameCache();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    SpriteFrameCache.prototype.getSpriteFrame = function (url) {
        return __awaiter(this, void 0, Promise, function () {
            var frame;
            var _this = this;
            return __generator(this, function (_a) {
                frame = this.frames[url];
                if (frame == null) {
                    return [2 /*return*/, new Promise(function (resolve, reject) {
                            // console.log("[SpriteFrameCache] request image:" + url)
                            if (!url || url == "") {
                                reject("empty-url");
                                return;
                            }
                            if (url.indexOf("http") == -1) {
                                cc.loader.loadRes(url, cc.SpriteFrame, function (error, frame) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (frame) {
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                            else {
                                cc.loader.load({ url: url, type: 'png' }, function (error, texture) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (texture) {
                                        frame = new cc.SpriteFrame(texture);
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                        })];
                }
                return [2 /*return*/, new Promise(function (resolve, reject) { return resolve(frame); })];
            });
        });
    };
    SpriteFrameCache.prototype.addSpriteFrame = function (url, frame) {
        this.frames[url] = frame;
        return frame;
    };
    SpriteFrameCache.prototype.clear = function () {
        for (var k in this.frames) {
            var frame = this.frames[k];
            cc.loader.release(frame);
            delete this.frames[k];
        }
    };
    SpriteFrameCache.prototype.remove = function (k) {
        var frame = this.frames[k];
        cc.loader.release(frame);
        delete this.frames[k];
    };
    return SpriteFrameCache;
}());
exports.default = SpriteFrameCache;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTcHJpdGVGcmFtZUNhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO1FBYVksV0FBTSxHQUFtQyxFQUFFLENBQUM7SUFrRXhELENBQUM7SUEzRUcsc0JBQVcsNEJBQVE7YUFBbkI7WUFFSSxJQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUN6QjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQWdCLEVBQUUsQ0FBQzthQUMzQztZQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUdLLHlDQUFjLEdBQXBCLFVBQXFCLEdBQVU7dUNBQUUsT0FBTzs7OztnQkFFaEMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQzVCLElBQUcsS0FBSyxJQUFJLElBQUksRUFDaEI7b0JBQ0ksc0JBQU8sSUFBSSxPQUFPLENBQWlCLFVBQUMsT0FBTyxFQUFDLE1BQU07NEJBQzlDLHlEQUF5RDs0QkFDekQsSUFBRyxDQUFDLEdBQUcsSUFBRyxHQUFHLElBQUksRUFBRSxFQUFFO2dDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7Z0NBQ25CLE9BQU87NkJBQ1Y7NEJBQ0QsSUFBSyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUM5QjtnQ0FDSSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUssRUFBQyxLQUFLO29DQUM3QyxJQUFHLEtBQUssRUFBQzt3Q0FBQyxNQUFNLEVBQUUsQ0FBQzt3Q0FBQSxPQUFNO3FDQUFDO29DQUMxQixJQUFHLEtBQUssRUFDUjt3Q0FDSSxLQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTt3Q0FDL0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFBO3FDQUNqQjt5Q0FBSTt3Q0FDRCxNQUFNLEVBQUUsQ0FBQTtxQ0FDWDtnQ0FDTCxDQUFDLENBQUMsQ0FBQTs2QkFDTDtpQ0FBSTtnQ0FDRCxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFFLFVBQUMsS0FBSyxFQUFFLE9BQU87b0NBQ25ELElBQUcsS0FBSyxFQUFDO3dDQUFDLE1BQU0sRUFBRSxDQUFDO3dDQUFBLE9BQU07cUNBQUM7b0NBQzFCLElBQUcsT0FBTyxFQUNWO3dDQUNJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7d0NBQ3BDLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO3dDQUMvQixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7cUNBQ2pCO3lDQUFJO3dDQUNELE1BQU0sRUFBRSxDQUFBO3FDQUNYO2dDQUNMLENBQUMsQ0FBQyxDQUFDOzZCQUNOO3dCQUNMLENBQUMsQ0FBQyxFQUFBO2lCQUNMO2dCQUNELHNCQUFPLElBQUksT0FBTyxDQUFpQixVQUFDLE9BQU8sRUFBQyxNQUFNLElBQUcsT0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQWQsQ0FBYyxDQUFDLEVBQUM7OztLQUV4RTtJQUVELHlDQUFjLEdBQWQsVUFBZSxHQUFXLEVBQUUsS0FBVTtRQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBR0QsZ0NBQUssR0FBTDtRQUVJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDekI7WUFDSSxJQUFJLEtBQUssR0FBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN4QjtJQUNMLENBQUM7SUFFRCxpQ0FBTSxHQUFOLFVBQU8sQ0FBQztRQUVKLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3pCLENBQUM7SUFFTCx1QkFBQztBQUFELENBL0VBLEFBK0VDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVGcmFtZUNhY2hlXHJcbntcclxuICAgIHN0YXRpYyBfaW5zdGFuY2U6U3ByaXRlRnJhbWVDYWNoZTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IGluc3RhbmNlKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgU3ByaXRlRnJhbWVDYWNoZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmcmFtZXM6e1tpbmRleDpzdHJpbmddOmNjLlNwcml0ZUZyYW1lfSA9IHt9O1xyXG4gICAgYXN5bmMgZ2V0U3ByaXRlRnJhbWUodXJsOnN0cmluZyk6UHJvbWlzZTxjYy5TcHJpdGVGcmFtZT5cclxuICAgIHtcclxuICAgICAgICBsZXQgZnJhbWUgPSB0aGlzLmZyYW1lc1t1cmxdXHJcbiAgICAgICAgaWYoZnJhbWUgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4oKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJbU3ByaXRlRnJhbWVDYWNoZV0gcmVxdWVzdCBpbWFnZTpcIiArIHVybClcclxuICAgICAgICAgICAgICAgIGlmKCF1cmwgfHx1cmwgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChcImVtcHR5LXVybFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICggdXJsLmluZGV4T2YoXCJodHRwXCIpID09IC0xKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHVybCxjYy5TcHJpdGVGcmFtZSwoZXJyb3IsZnJhbWUpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yKXtyZWplY3QoKTtyZXR1cm59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZyYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNwcml0ZUZyYW1lKHVybCAsZnJhbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZyYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoe3VybDogdXJsLCB0eXBlOiAncG5nJ30sIChlcnJvciwgdGV4dHVyZSkgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yKXtyZWplY3QoKTtyZXR1cm59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRleHR1cmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTcHJpdGVGcmFtZSh1cmwgLGZyYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmcmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4oKHJlc29sdmUscmVqZWN0KT0+cmVzb2x2ZShmcmFtZSkpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFNwcml0ZUZyYW1lKHVybDogc3RyaW5nLCBmcmFtZTogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLmZyYW1lc1t1cmxdID0gZnJhbWU7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjbGVhcigpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmZyYW1lcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBmcmFtZSA9ICB0aGlzLmZyYW1lc1trXVxyXG4gICAgICAgICAgICBjYy5sb2FkZXIucmVsZWFzZShmcmFtZSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1trXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoaylcclxuICAgIHtcclxuICAgICAgICBsZXQgZnJhbWUgPSAgdGhpcy5mcmFtZXNba11cclxuICAgICAgICBjYy5sb2FkZXIucmVsZWFzZShmcmFtZSk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZnJhbWVzW2tdXHJcbiAgICB9XHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/FrameSwitch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '92ea6+rkJ5BQ7Twyd4FI92I', 'FrameSwitch');
// framework/plugin_boosts/misc/FrameSwitch.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var FrameSwitcher = /** @class */ (function (_super) {
    __extends(FrameSwitcher, _super);
    function FrameSwitcher() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.frames = [];
        // LIFE-CYCLE CALLBACKS:
        _this.target = null;
        _this._index = 0;
        _this.randomOnLoad = false;
        return _this;
        // update (dt) {}
    }
    FrameSwitcher.prototype.onLoad = function () {
        if (this.target == null)
            this.target = this.getComponent(cc.Sprite);
        if (this.randomOnLoad)
            this.switchRandom();
    };
    FrameSwitcher.prototype.switchRandom = function () {
        this.index = g.randomInt(0, this.frames.length);
    };
    Object.defineProperty(FrameSwitcher.prototype, "index", {
        get: function () {
            return this._index;
        },
        set: function (k) {
            this.switch(k);
        },
        enumerable: false,
        configurable: true
    });
    FrameSwitcher.prototype.switch = function (index) {
        var len = this.frames.length;
        var idx = Math.min(Math.max(0, index), len - 1);
        this.target.spriteFrame = this.frames[idx];
        this._index = idx;
    };
    FrameSwitcher.prototype.start = function () {
    };
    __decorate([
        property([cc.SpriteFrame])
    ], FrameSwitcher.prototype, "frames", void 0);
    __decorate([
        property(cc.Sprite)
    ], FrameSwitcher.prototype, "target", void 0);
    __decorate([
        property
    ], FrameSwitcher.prototype, "randomOnLoad", void 0);
    FrameSwitcher = __decorate([
        ccclass
    ], FrameSwitcher);
    return FrameSwitcher;
}(cc.Component));
exports.default = FrameSwitcher;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxGcmFtZVN3aXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFHM0Q7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFpREM7UUE5Q0csWUFBTSxHQUFvQixFQUFFLENBQUE7UUFDNUIsd0JBQXdCO1FBRXhCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsWUFBTSxHQUFXLENBQUMsQ0FBQTtRQUdsQixrQkFBWSxHQUFXLEtBQUssQ0FBQzs7UUFxQzdCLGlCQUFpQjtJQUNyQixDQUFDO0lBcENHLDhCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSTtZQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUcsSUFBSSxDQUFDLFlBQVk7WUFDaEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFBO0lBQzNCLENBQUM7SUFFRCxvQ0FBWSxHQUFaO1FBRUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxzQkFBSSxnQ0FBSzthQUtUO1lBRUksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBQ3RCLENBQUM7YUFSRCxVQUFVLENBQUM7WUFFUCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUM7OztPQUFBO0lBT0QsOEJBQU0sR0FBTixVQUFPLEtBQUs7UUFFUixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDLEtBQUssQ0FBQyxFQUFDLEdBQUcsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFRCw2QkFBSyxHQUFMO0lBRUEsQ0FBQztJQTNDRDtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztpREFDQztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNJO0lBS3hCO1FBREMsUUFBUTt1REFDb0I7SUFYWixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBaURqQztJQUFELG9CQUFDO0NBakRELEFBaURDLENBakQwQyxFQUFFLENBQUMsU0FBUyxHQWlEdEQ7a0JBakRvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVjJDaGFuZ2VBY3Rpb24gfSBmcm9tIFwiLi9Cb29zdHNBY3Rpb25cIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lU3dpdGNoZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShbY2MuU3ByaXRlRnJhbWVdKVxyXG4gICAgZnJhbWVzOmNjLlNwcml0ZUZyYW1lW10gPSBbXVxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgdGFyZ2V0OmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgX2luZGV4IDpudW1iZXIgPSAwXHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICByYW5kb21PbkxvYWQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy50YXJnZXQgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgICAgIGlmKHRoaXMucmFuZG9tT25Mb2FkKVxyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFJhbmRvbSgpXHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoUmFuZG9tKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gZy5yYW5kb21JbnQoMCx0aGlzLmZyYW1lcy5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpbmRleChrKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc3dpdGNoKGspO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbmRleCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaChpbmRleClcclxuICAgIHtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5mcmFtZXMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBpZHggPSBNYXRoLm1pbihNYXRoLm1heCgwLGluZGV4KSxsZW4tMSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lc1tpZHhdXHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpZHg7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d14c63Zc1PupexE+EkksQp', 'MessageBoxComponent');
// framework/plugin_boosts/ui/MessageBoxComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var MessageBoxManager_1 = require("./MessageBoxManager");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, playOnFocus = _a.playOnFocus;
var MessageBoxComponent = /** @class */ (function (_super) {
    __extends(MessageBoxComponent, _super);
    function MessageBoxComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.node_title = null;
        _this.node_content = null;
        _this.btn_ok = null;
        _this.btn_cancel = null;
        _this.messageBoxCallback = null;
        _this.label_ok = null;
        _this.label_cancel = null;
        _this.group_ok_cancel = null;
        _this.group_ok = null;
        return _this;
        // update (dt) {}
    }
    MessageBoxComponent.prototype.onLoad = function () {
        this.label_ok = this.btn_ok.getChildByName("Label").getComponent(cc.Label);
        this.label_cancel = this.btn_cancel.getChildByName("Label").getComponent(cc.Label);
        this.getComponent(View_1.default).setDelegate(this);
        this.bgAnimation = this.node.getChildByName("bg").getComponent(cc.Animation);
    };
    MessageBoxComponent.prototype.onHidden = function () {
    };
    MessageBoxComponent.prototype.onShown = function (params) {
        this.node_title.string = params.title;
        this.node_content.string = params.content;
        this.messageBoxCallback = params.callback;
        if (params.extra) {
            this.label_ok.string = params.extra.okText;
            this.label_cancel.string = params.extra.cancelText;
        }
        if (params.buttons == MessageBoxManager_1.MessageBox.OK_CANCEL) {
            //show two 
            this.group_ok_cancel.active = true;
            this.group_ok.active = false;
        }
        else {
            //show one 
            this.group_ok.active = true;
            this.group_ok_cancel.active = false;
        }
    };
    MessageBoxComponent.prototype.start = function () {
    };
    MessageBoxComponent.prototype.on_btn_ok_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.OK);
        this.getComponent(View_1.default).hide();
    };
    MessageBoxComponent.prototype.on_btn_cancel_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.CANCEL);
        this.getComponent(View_1.default).hide();
    };
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_title", void 0);
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_content", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_ok", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok", void 0);
    MessageBoxComponent = __decorate([
        ccclass
    ], MessageBoxComponent);
    return MessageBoxComponent;
}(cc.Component));
exports.default = MessageBoxComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveENvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBQzFCLHlEQUErQztBQUUvQyxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQW9ELEVBQUUsQ0FBQyxVQUFVLEVBQWhFLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFDLGlCQUFpQix1QkFBQSxFQUFDLFdBQVcsaUJBQWlCLENBQUM7QUFHeEU7SUFBaUQsdUNBQVk7SUFBN0Q7UUFBQSxxRUFnRkM7UUE3RUcsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsWUFBTSxHQUFXLElBQUksQ0FBQztRQUV0QixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUUxQix3QkFBa0IsR0FBWSxJQUFJLENBQUM7UUFFbkMsY0FBUSxHQUFZLElBQUksQ0FBQztRQUN6QixrQkFBWSxHQUFZLElBQUksQ0FBQztRQUc3QixxQkFBZSxHQUFZLElBQUksQ0FBQztRQUdoQyxjQUFRLEdBQVcsSUFBSSxDQUFDOztRQTBEeEIsaUJBQWlCO0lBQ3JCLENBQUM7SUF4REcsb0NBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMxRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbEYsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCxzQ0FBUSxHQUFSO0lBRUEsQ0FBQztJQUVELHFDQUFPLEdBQVAsVUFBUSxNQUFNO1FBRVYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQzFDLElBQUcsTUFBTSxDQUFDLEtBQUssRUFDZjtZQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBO1lBQzFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1NBQ3JEO1FBQ0QsSUFBSyxNQUFNLENBQUMsT0FBTyxJQUFHLDhCQUFVLENBQUMsU0FBUyxFQUMxQztZQUNJLFdBQVc7WUFDWCxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ2hDO2FBQUk7WUFDRCxXQUFXO1lBQ1gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQzVCLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUN2QztJQUNMLENBQUM7SUFFRCxtQ0FBSyxHQUFMO0lBRUEsQ0FBQztJQUlELCtDQUFpQixHQUFqQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3BELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVELG1EQUFxQixHQUFyQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3hELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQXhFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkRBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNRO0lBUTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0VBQ2M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt5REFDTTtJQXJCUCxtQkFBbUI7UUFEdkMsT0FBTztPQUNhLG1CQUFtQixDQWdGdkM7SUFBRCwwQkFBQztDQWhGRCxBQWdGQyxDQWhGZ0QsRUFBRSxDQUFDLFNBQVMsR0FnRjVEO2tCQWhGb0IsbUJBQW1CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xyXG5pbXBvcnQge01lc3NhZ2VCb3h9IGZyb20gXCIuL01lc3NhZ2VCb3hNYW5hZ2VyXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSxleGVjdXRlSW5FZGl0TW9kZSxwbGF5T25Gb2N1c30gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZUJveENvbXBvbmVudCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbm9kZV90aXRsZTpjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBub2RlX2NvbnRlbnQ6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX29rOmNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2FuY2VsOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIG1lc3NhZ2VCb3hDYWxsYmFjazpGdW5jdGlvbiA9IG51bGw7XHJcblxyXG4gICAgbGFiZWxfb2s6Y2MuTGFiZWwgPSBudWxsO1xyXG4gICAgbGFiZWxfY2FuY2VsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGdyb3VwX29rX2NhbmNlbCA6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBncm91cF9vazpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBiZ0FuaW1hdGlvbjpjYy5BbmltYXRpb247XHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMubGFiZWxfb2sgPSB0aGlzLmJ0bl9vay5nZXRDaGlsZEJ5TmFtZShcIkxhYmVsXCIpLmdldENvbXBvbmVudChjYy5MYWJlbClcclxuICAgICAgICB0aGlzLmxhYmVsX2NhbmNlbCA9IHRoaXMuYnRuX2NhbmNlbC5nZXRDaGlsZEJ5TmFtZShcIkxhYmVsXCIpLmdldENvbXBvbmVudChjYy5MYWJlbClcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5zZXREZWxlZ2F0ZSh0aGlzKTtcclxuICAgICAgICB0aGlzLmJnQW5pbWF0aW9uID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiYmdcIikuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25IaWRkZW4oKVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2hvd24ocGFyYW1zKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZV90aXRsZS5zdHJpbmcgPSBwYXJhbXMudGl0bGU7XHJcbiAgICAgICAgdGhpcy5ub2RlX2NvbnRlbnQuc3RyaW5nID0gcGFyYW1zLmNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlQm94Q2FsbGJhY2sgPSBwYXJhbXMuY2FsbGJhY2s7XHJcbiAgICAgICAgaWYocGFyYW1zLmV4dHJhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbF9vay5zdHJpbmcgPSBwYXJhbXMuZXh0cmEub2tUZXh0XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWxfY2FuY2VsLnN0cmluZyA9IHBhcmFtcy5leHRyYS5jYW5jZWxUZXh0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggcGFyYW1zLmJ1dHRvbnM9PSBNZXNzYWdlQm94Lk9LX0NBTkNFTClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vc2hvdyB0d28gXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2tfY2FuY2VsLmFjdGl2ZSA9IHRydWU7ICAgICBcclxuICAgICAgICAgICAgdGhpcy5ncm91cF9vay5hY3RpdmUgPSBmYWxzZTsgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL3Nob3cgb25lIFxyXG4gICAgICAgICAgICB0aGlzLmdyb3VwX29rLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2tfY2FuY2VsLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgb25fYnRuX29rX2NsaWNrZWQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMubWVzc2FnZUJveENhbGxiYWNrKVxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb3hDYWxsYmFjay5jYWxsKG51bGwsTWVzc2FnZUJveC5PSylcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25fYnRuX2NhbmNlbF9jbGlja2VkKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLm1lc3NhZ2VCb3hDYWxsYmFjaylcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm94Q2FsbGJhY2suY2FsbChudWxsLE1lc3NhZ2VCb3guQ0FOQ0VMKSAgIFxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTsgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/BoostsAction.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '47da3PXgqdE55aSvY0ox9B4', 'BoostsAction');
// framework/plugin_boosts/misc/BoostsAction.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Shake = exports.V2ChangeAction = exports.ValueChangeAction = void 0;
var ValueChangeAction = /** @class */ (function (_super) {
    __extends(ValueChangeAction, _super);
    function ValueChangeAction(duration, from, to, callback, target) {
        var _this = _super.call(this) || this;
        _this.delta = _this.sub(to, from);
        _this.setDuration(duration);
        _this.callback = callback;
        _this.start = from;
        _this.end = to;
        _this.callbackTarget = target;
        return _this;
    }
    ValueChangeAction.prototype.sub = function (x, y) {
        return (x - y);
    };
    ValueChangeAction.prototype.add = function (x, y) {
        return x + y;
    };
    ValueChangeAction.prototype.mul = function (x, y) {
        return x * y;
    };
    ValueChangeAction.prototype.update = function (dt) {
        dt = this._computeEaseTime(dt);
        var v = this.add(this.start, this.mul(this.delta, dt));
        this.callback.call(this.callbackTarget, v);
    };
    return ValueChangeAction;
}(cc.ActionInterval));
exports.ValueChangeAction = ValueChangeAction;
var V2ChangeAction = /** @class */ (function (_super) {
    __extends(V2ChangeAction, _super);
    function V2ChangeAction() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    V2ChangeAction.prototype.sub = function (x, y) {
        return x.sub(x, y);
    };
    V2ChangeAction.prototype.add = function (x, y) {
        return x.add(x, y);
    };
    V2ChangeAction.prototype.mul = function (x, y) {
        return x.mul(x, y);
    };
    return V2ChangeAction;
}(ValueChangeAction));
exports.V2ChangeAction = V2ChangeAction;
var Shake = /** @class */ (function (_super) {
    __extends(Shake, _super);
    function Shake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._initial_x = 0;
        _this._initial_y = 0;
        _this._strength_x = 0;
        _this._strength_y = 0;
        return _this;
    }
    /**
     *  创建抖动动画
     * @param {number} duration     动画持续时长
     * @param {number} strength_x   抖动幅度： x方向
     * @param {number} strength_y   抖动幅度： y方向
     * @returns {Shake}
     */
    Shake.create = function (duration, strength_x, strength_y) {
        var act = new Shake();
        act.initWithDuration(duration, strength_x, strength_y);
        return act;
    };
    Shake.prototype.initWithDuration = function (duration, strength_x, strength_y) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._strength_x = strength_x;
        this._strength_y = strength_y;
        return true;
    };
    Shake.prototype.fgRangeRand = function (min, max) {
        var rnd = Math.random();
        return rnd * (max - min) + min;
    };
    Shake.prototype.update = function (time) {
        var randx = this.fgRangeRand(-this._strength_x, this._strength_x);
        var randy = this.fgRangeRand(-this._strength_y, this._strength_y);
        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);
    };
    Shake.prototype.startWithTarget = function (target) {
        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);
        this._initial_x = target.x;
        this._initial_y = target.y;
    };
    Shake.prototype.stop = function () {
        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));
        cc.ActionInterval.prototype['stop'].apply(this);
    };
    return Shake;
}(cc.ActionInterval));
exports.Shake = Shake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxCb29zdHNBY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtJQUF1QyxxQ0FBaUI7SUF3QnBELDJCQUFZLFFBQVEsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxNQUFPO1FBQTdDLFlBRUksaUJBQU8sU0FPVjtRQU5HLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUcsSUFBSSxDQUFDLENBQUM7UUFDakMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixLQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixLQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDOztJQUNqQyxDQUFDO0lBeEJELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxHQUFFLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsK0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQVlELGtDQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FB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QUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLG9CQUFJLEdBQVg7UUFFSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRTNFLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0wsWUFBQztBQUFELENBeERBLEFBd0RDLENBeEQyQixFQUFFLENBQUMsY0FBYyxHQXdENUM7QUF4RGEsc0JBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZUNoYW5nZUFjdGlvbiBleHRlbmRzIGNjLkFjdGlvbkludGVydmFsXHJcbntcclxuICAgIFt4OiBzdHJpbmddOiBhbnk7XHJcbiAgICBzdGFydDphbnk7XHJcbiAgICBlbmQ6YW55O1xyXG4gICAgZGVsdGE6YW55O1xyXG4gICAgY2FsbGJhY2s6RnVuY3Rpb247XHJcbiAgICBjYWxsYmFja1RhcmdldCA6YW55O1xyXG5cclxuICAgIHN1Yih4LHkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuICggeCAtIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCh4LHkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHggK3k7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsKHgseSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4geCp5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGR1cmF0aW9uLGZyb20sdG8sY2FsbGJhY2ssdGFyZ2V0PylcclxuICAgIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZGVsdGEgPSB0aGlzLnN1Yih0byAsIGZyb20pO1xyXG4gICAgICAgIHRoaXMuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZnJvbTtcclxuICAgICAgICB0aGlzLmVuZCA9IHRvO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tUYXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpXHJcbiAgICB7XHJcbiAgICAgICAgZHQgPSB0aGlzLl9jb21wdXRlRWFzZVRpbWUoZHQpO1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5hZGQodGhpcy5zdGFydCx0aGlzLm11bCh0aGlzLmRlbHRhLGR0KSlcclxuICAgICAgICB0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja1RhcmdldCx2KTtcclxuICAgIH1cclxuICAgXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVjJDaGFuZ2VBY3Rpb24gZXh0ZW5kcyBWYWx1ZUNoYW5nZUFjdGlvblxyXG57XHJcbiAgICBzdWIoeCx5KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB4LnN1Yih4LHkpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkKHgseSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4geC5hZGQoeCx5KVxyXG4gICAgfVxyXG5cclxuICAgIG11bCh4LHkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHgubXVsKHgseSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCAgY2xhc3MgU2hha2UgZXh0ZW5kcyBjYy5BY3Rpb25JbnRlcnZhbFxyXG57XHJcbiBcclxuICAgIHByaXZhdGUgX2luaXRpYWxfeDpudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfaW5pdGlhbF95Om51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9zdHJlbmd0aF94Om51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9zdHJlbmd0aF95Om51bWJlciA9IDA7XHJcbiBcclxuICAgIC8qKlxyXG4gICAgICogIOWIm+W7uuaKluWKqOWKqOeUu1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uICAgICDliqjnlLvmjIHnu63ml7bplb9cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aF94ICAg5oqW5Yqo5bmF5bqm77yaIHjmlrnlkJFcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aF95ICAg5oqW5Yqo5bmF5bqm77yaIHnmlrnlkJFcclxuICAgICAqIEByZXR1cm5zIHtTaGFrZX1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTpTaGFrZVxyXG4gICAge1xyXG4gICAgICAgIGxldCBhY3Q6U2hha2UgPSBuZXcgU2hha2UoKTtcclxuICAgICAgICBhY3QuaW5pdFdpdGhEdXJhdGlvbiggZHVyYXRpb24sc3RyZW5ndGhfeCxzdHJlbmd0aF95ICk7XHJcbiAgICAgICAgcmV0dXJuIGFjdDtcclxuICAgIH1cclxuIFxyXG4gICAgcHVibGljIGluaXRXaXRoRHVyYXRpb24oZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydpbml0V2l0aER1cmF0aW9uJ10uYXBwbHkodGhpcyxhcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3ggPSBzdHJlbmd0aF94O1xyXG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3kgPSBzdHJlbmd0aF95O1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gXHJcbiAgICBwdWJsaWMgZmdSYW5nZVJhbmQobWluOm51bWJlcixtYXg6bnVtYmVyKTpudW1iZXJcclxuICAgIHtcclxuICAgICAgICBsZXQgcm5kOm51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgcmV0dXJuIHJuZCAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gICAgfVxyXG4gXHJcbiAgICBwdWJsaWMgdXBkYXRlKHRpbWU6bnVtYmVyKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHJhbmR4ID0gdGhpcy5mZ1JhbmdlUmFuZCgtdGhpcy5fc3RyZW5ndGhfeCx0aGlzLl9zdHJlbmd0aF94KTtcclxuICAgICAgICBsZXQgcmFuZHkgPSB0aGlzLmZnUmFuZ2VSYW5kKC10aGlzLl9zdHJlbmd0aF95LHRoaXMuX3N0cmVuZ3RoX3kpO1xyXG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24ocmFuZHggKyB0aGlzLl9pbml0aWFsX3gscmFuZHkgKyB0aGlzLl9pbml0aWFsX3kpO1xyXG4gICAgfVxyXG4gXHJcbiAgICBwdWJsaWMgc3RhcnRXaXRoVGFyZ2V0KHRhcmdldDpjYy5Ob2RlKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydzdGFydFdpdGhUYXJnZXQnXS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbF94ID0gdGFyZ2V0Lng7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbF95ID0gdGFyZ2V0Lnk7XHJcbiAgICB9XHJcbiBcclxuICAgIHB1YmxpYyBzdG9wKCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24obmV3IGNjLlZlYzIodGhpcy5faW5pdGlhbF94LHRoaXMuX2luaXRpYWxfeSkpO1xyXG4gXHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydzdG9wJ10uYXBwbHkodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/InputSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4643c14ws5Msox+teVpsIzz', 'InputSystem');
// framework/plugin_boosts/misc/InputSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.InputSystem = exports.Input = void 0;
var JoyStick_1 = require("./JoyStick");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Input = null;
var InputSystem = /** @class */ (function (_super) {
    __extends(InputSystem, _super);
    function InputSystem() {
        // @property(cc.Component.EventHandler)
        // onKeyDown:cc.Component.EventHandler;
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._target = null;
        _this.keys = {};
        _this.__touchVec = cc.Vec2.ZERO;
        _this.radius_axis = 256;
        _this.joyStick = null;
        _this.__lastTouch = cc.Vec2.ZERO;
        _this.moveOffset = cc.Vec2.ZERO;
        _this.__curTouchId = -1;
        return _this;
    }
    /**
     * if target is a Component ,this function must be called in onLoad
     * @param target
     */
    InputSystem.prototype.setDelegate = function (target) {
        this._target = target;
    };
    InputSystem.prototype.onLoad = function () {
        exports.Input = this;
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this && (comp.onTouchBegan || comp.onTouchEnded || comp.onTouchMoved)) {
                this._target = comp;
                break;
            }
        }
        console.log("InputSystem Component -> target:", this._target);
    };
    //Horizontal
    //Vertical
    InputSystem.prototype.start = function () {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.triggerKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.triggerKeyUp, this);
        // if(this._target)
        // {
        this.node.on(cc.Node.EventType.TOUCH_START, this.triggerTouchBegan, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.triggerTouchMoved, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.triggerTouchEnded, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.triggerTouchCanceled, this);
        // }
    };
    Object.defineProperty(InputSystem.prototype, "touch", {
        get: function () {
            return this.__touch;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputSystem.prototype, "axis", {
        // only valid when joystick is enabled 
        get: function () {
            if (this.joyStick)
                return this.joyStick.axis;
            else
                return this.__touchVec;
        },
        enumerable: false,
        configurable: true
    });
    InputSystem.prototype.getKey = function (k) {
        return this.keys[k];
    };
    InputSystem.prototype.triggerKeyUp = function (e) {
        if (this._target.onKeyUp)
            this._target.onKeyUp(event);
        this.keys[event["key"]] = false;
    };
    InputSystem.prototype.triggerKeyDown = function (e) {
        if (this._target.onKeyDown)
            this._target.onKeyDown(event);
        this.keys[event["key"]] = true;
    };
    InputSystem.prototype.triggerTouchEnded = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        this.__curTouchId = -1;
        if (this._target.onTouchEnded)
            this._target.onTouchEnded(e);
        this.__touch = null;
        this.__touchVec = cc.Vec2.ZERO;
        if (e.currentTouch)
            if (this.joyStick)
                this.joyStick.touchEnd(e.currentTouch.getLocation());
        this.moveOffset = cc.Vec2.ZERO;
    };
    InputSystem.prototype.triggerTouchMoved = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchMoved)
            this._target.onTouchMoved(e);
        this.__touch = e.currentTouch.getLocation();
        this.moveOffset = this.__touch.sub(this.__lastTouch);
        if (this.__touch && this.__startLocation) {
            this.__touchVec = this.__touch.sub(this.__startLocation);
            if (this.joyStick)
                this.joyStick.touchMove(this.__touch);
        }
        this.__lastTouch = this.__touch;
    };
    InputSystem.prototype.triggerTouchBegan = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchBegan)
            this._target.onTouchBegan(e);
        this.__curTouchId = e.getID();
        this.__startLocation = e.currentTouch.getLocation();
        this.__touch = e.currentTouch.getLocation();
        this.__lastTouch = this.__touch;
        if (this.joyStick)
            this.joyStick.touchStart(this.__startLocation);
    };
    InputSystem.prototype.triggerTouchCanceled = function (e) {
        this.triggerTouchEnded(e);
    };
    InputSystem.prototype.onEnable = function () {
        this.schedule(this.checkTouch, 0.02);
    };
    InputSystem.prototype.onDisable = function () {
        this.unschedule(this.checkTouch);
    };
    InputSystem.prototype.checkTouch = function () {
        if (this.__touch) {
            this.moveOffset = this.__touch.sub(this.__lastTouch);
        }
    };
    __decorate([
        property(JoyStick_1.default)
    ], InputSystem.prototype, "joyStick", void 0);
    InputSystem = __decorate([
        ccclass
    ], InputSystem);
    return InputSystem;
}(cc.Component));
exports.InputSystem = InputSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxJbnB1dFN5c3RlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUFrQztBQUU1QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLEtBQUssR0FBZSxJQUFJLENBQUM7QUFHcEM7SUFBaUMsK0JBQVk7SUFBN0M7UUFHSSx1Q0FBdUM7UUFDdkMsdUNBQXVDO1FBSjNDLHFFQWlMQztRQTNLRyxhQUFPLEdBQU8sSUFBSSxDQUFDO1FBSW5CLFVBQUksR0FBNEIsRUFBRSxDQUFBO1FBTWxDLGdCQUFVLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFbEMsaUJBQVcsR0FBVSxHQUFHLENBQUM7UUFHekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQWdHekIsaUJBQVcsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNuQyxnQkFBVSxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBcUJsQyxrQkFBWSxHQUFVLENBQUMsQ0FBQyxDQUFDOztJQXNDN0IsQ0FBQztJQTFKRzs7O09BR0c7SUFDSCxpQ0FBVyxHQUFYLFVBQVksTUFBTTtRQUVkLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQzFCLENBQUM7SUFJRCw0QkFBTSxHQUFOO1FBRUksYUFBSyxHQUFHLElBQUksQ0FBQztRQUViLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUN4QztZQUNJLElBQUksSUFBSSxHQUFPLFVBQVUsQ0FBQyxDQUFDLENB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UUFFSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsZ0NBQVUsR0FBVjtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU8sRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQTNKRDtRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDO2lEQUNNO0lBckJoQixXQUFXO1FBRHZCLE9BQU87T0FDSyxXQUFXLENBaUx2QjtJQUFELGtCQUFDO0NBakxELEFBaUxDLENBakxnQyxFQUFFLENBQUMsU0FBUyxHQWlMNUM7QUFqTFksa0NBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm95U3RpY2sgZnJvbSBcIi4vSm95U3RpY2tcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IHZhciBJbnB1dDpJbnB1dFN5c3RlbSA9IG51bGw7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgY2xhc3MgSW5wdXRTeXN0ZW0gZXh0ZW5kcyBjYy5Db21wb25lbnRcclxue1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eShjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKVxyXG4gICAgLy8gb25LZXlEb3duOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXI7XHJcblxyXG4gICAgX3RhcmdldDphbnkgPSBudWxsO1xyXG5cclxuXHJcblxyXG4gICAga2V5czp7W2luZGV4OnN0cmluZ106Ym9vbGVhbn0gPSB7fVxyXG5cclxuICAgIF9fdG91Y2g6Y2MuVmVjMjtcclxuXHJcbiAgICBfX3N0YXJ0TG9jYXRpb24gOmNjLlZlYzI7XHJcblxyXG4gICAgX190b3VjaFZlYzpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgIHJhZGl1c19heGlzOm51bWJlciA9IDI1NjtcclxuXHJcbiAgICBAcHJvcGVydHkoSm95U3RpY2spXHJcbiAgICBqb3lTdGljayA6Sm95U3RpY2s9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpZiB0YXJnZXQgaXMgYSBDb21wb25lbnQgLHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgaW4gb25Mb2FkXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFxyXG4gICAgICovXHJcbiAgICBzZXREZWxlZ2F0ZSh0YXJnZXQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICBJbnB1dCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBjb21wb25lbnRzID0gdGhpcy5nZXRDb21wb25lbnRzKGNjLkNvbXBvbmVudCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBjb21wOmFueSA9IGNvbXBvbmVudHNbaV1cclxuICAgICAgICAgICAgaWYoY29tcCAhPSB0aGlzICYmIChjb21wLm9uVG91Y2hCZWdhbiB8fCBjb21wLm9uVG91Y2hFbmRlZHx8Y29tcC5vblRvdWNoTW92ZWQpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSBjb21wO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJbnB1dFN5c3RlbSBDb21wb25lbnQgLT4gdGFyZ2V0OlwiLHRoaXMuX3RhcmdldClcclxuICAgIH1cclxuXHJcbiAgICAvL0hvcml6b250YWxcclxuICAgIC8vVmVydGljYWxcclxuICAgIHN0YXJ0KClcclxuICAgIHtcclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX0RPV04sdGhpcy50cmlnZ2VyS2V5RG93bix0aGlzKTtcclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX1VQLHRoaXMudHJpZ2dlcktleVVwLHRoaXMpO1xyXG4gICAgICAgIC8vIGlmKHRoaXMuX3RhcmdldClcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMudHJpZ2dlclRvdWNoQmVnYW4sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLHRoaXMudHJpZ2dlclRvdWNoTW92ZWQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy50cmlnZ2VyVG91Y2hFbmRlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCx0aGlzLnRyaWdnZXJUb3VjaENhbmNlbGVkLCB0aGlzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldCB0b3VjaCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX190b3VjaDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbmx5IHZhbGlkIHdoZW4gam95c3RpY2sgaXMgZW5hYmxlZCBcclxuICAgIGdldCBheGlzKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLmpveVN0aWNrKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qb3lTdGljay5heGlzO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX190b3VjaFZlYztcclxuICAgIH1cclxuXHJcbiAgICBnZXRLZXkoaylcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzW2tdIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJpZ2dlcktleVVwKGUpIHtcclxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25LZXlVcClcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5VXAoZXZlbnQpXHJcbiAgICAgICAgdGhpcy5rZXlzW2V2ZW50W1wia2V5XCJdXSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJpZ2dlcktleURvd24oZSk6IGFueSB7XHJcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0Lm9uS2V5RG93bilcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5RG93bihldmVudClcclxuICAgICAgICB0aGlzLmtleXNbZXZlbnRbXCJrZXlcIl1dID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSB0cmlnZ2VyVG91Y2hFbmRlZChlKTogYW55IHtcclxuICAgICAgICBpZih0aGlzLl9fY3VyVG91Y2hJZCAhPS0xICYmIGUuZ2V0SUQoKSAhPSB0aGlzLl9fY3VyVG91Y2hJZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSAtMVxyXG4gICAgICAgIGlmKHRoaXMuX3RhcmdldC5vblRvdWNoRW5kZWQpXHJcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5vblRvdWNoRW5kZWQoZSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9fdG91Y2ggPSBudWxsIFxyXG4gICAgICAgIHRoaXMuX190b3VjaFZlYyA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBpZihlLmN1cnJlbnRUb3VjaClcclxuICAgICAgICAgICAgaWYodGhpcy5qb3lTdGljaylcclxuICAgICAgICAgICAgICAgIHRoaXMuam95U3RpY2sudG91Y2hFbmQoZS5jdXJyZW50VG91Y2guZ2V0TG9jYXRpb24oKSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1vdmVPZmZzZXQgPSBjYy5WZWMyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgX19sYXN0VG91Y2g6Y2MuVmVjMiA9IGNjLlZlYzIuWkVSTztcclxuICAgIG1vdmVPZmZzZXQ6Y2MuVmVjMiA9IGNjLlZlYzIuWkVSTztcclxuXHJcbiAgICBwcml2YXRlIHRyaWdnZXJUb3VjaE1vdmVkKGUpOiBhbnkge1xyXG4gICAgICAgIGlmKHRoaXMuX19jdXJUb3VjaElkICE9LTEgJiYgZS5nZXRJRCgpICE9IHRoaXMuX19jdXJUb3VjaElkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaE1vdmVkKVxyXG4gICAgICAgICAgICB0aGlzLl90YXJnZXQub25Ub3VjaE1vdmVkKGUpXHJcblxyXG4gICAgICAgIHRoaXMuX190b3VjaCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5tb3ZlT2Zmc2V0ID0gdGhpcy5fX3RvdWNoLnN1Yih0aGlzLl9fbGFzdFRvdWNoKVxyXG4gICAgICAgIGlmKHRoaXMuX190b3VjaCAmJiB0aGlzLl9fc3RhcnRMb2NhdGlvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX190b3VjaFZlYyA9IHRoaXMuX190b3VjaC5zdWIodGhpcy5fX3N0YXJ0TG9jYXRpb24pO1xyXG4gICAgICAgICAgICBpZih0aGlzLmpveVN0aWNrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaE1vdmUodGhpcy5fX3RvdWNoKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9fbGFzdFRvdWNoID0gdGhpcy5fX3RvdWNoO1xyXG4gICAgfVxyXG5cclxuICAgIF9fY3VyVG91Y2hJZDpudW1iZXIgPSAtMTtcclxuXHJcbiAgICBwcml2YXRlIHRyaWdnZXJUb3VjaEJlZ2FuKGUpOiBhbnkge1xyXG4gICAgICAgIGlmKHRoaXMuX19jdXJUb3VjaElkICE9LTEgJiYgZS5nZXRJRCgpICE9IHRoaXMuX19jdXJUb3VjaElkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaEJlZ2FuKVxyXG4gICAgICAgICAgICB0aGlzLl90YXJnZXQub25Ub3VjaEJlZ2FuKGUpXHJcbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSBlLmdldElEKCk7XHJcbiAgICAgICAgdGhpcy5fX3N0YXJ0TG9jYXRpb24gPSBlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpXHJcbiAgICAgICAgdGhpcy5fX3RvdWNoID0gZS5jdXJyZW50VG91Y2guZ2V0TG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLl9fbGFzdFRvdWNoID0gdGhpcy5fX3RvdWNoO1xyXG4gICAgICAgIGlmKHRoaXMuam95U3RpY2spXHJcbiAgICAgICAgICAgIHRoaXMuam95U3RpY2sudG91Y2hTdGFydCh0aGlzLl9fc3RhcnRMb2NhdGlvbilcclxuICAgIH1cclxuICAgIHByaXZhdGUgdHJpZ2dlclRvdWNoQ2FuY2VsZWQoZSk6IGFueSB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVG91Y2hFbmRlZChlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLmNoZWNrVG91Y2gsMC4wMik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jaGVja1RvdWNoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1RvdWNoKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9fdG91Y2gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVPZmZzZXQgPSB0aGlzLl9fdG91Y2guc3ViKHRoaXMuX19sYXN0VG91Y2gpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bc48cBqkERHuJx+iKzOzwOV', 'MessageBoxManager');
// framework/plugin_boosts/ui/MessageBoxManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBox = void 0;
var ViewManager_1 = require("./ViewManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MessageBoxManager = /** @class */ (function (_super) {
    __extends(MessageBoxManager, _super);
    function MessageBoxManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        return _this;
    }
    MessageBoxManager_1 = MessageBoxManager;
    MessageBoxManager.prototype.onLoad = function () {
        MessageBoxManager_1.instance = this;
    };
    var MessageBoxManager_1;
    MessageBoxManager.instance = null;
    __decorate([
        property(cc.Prefab)
    ], MessageBoxManager.prototype, "prefab", void 0);
    MessageBoxManager = MessageBoxManager_1 = __decorate([
        ccclass
    ], MessageBoxManager);
    return MessageBoxManager;
}(cc.Component));
exports.default = MessageBoxManager;
var MessageBox = /** @class */ (function () {
    function MessageBox() {
    }
    MessageBox.prototype.start = function () {
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    // static UIPath:string = "plugin_boosts/ui/MessageBox"
    MessageBox.show = function (content, title, buttons, extra) {
        title = (title == null || title == undefined) ? "提示" : title;
        return new Promise(function (resolve, reject) {
            ViewManager_1.default.instance.showFromPrefab(MessageBoxManager.instance.prefab, "MessageBox", {
                title: title,
                content: content,
                buttons: buttons,
                extra: extra,
                callback: function (code) {
                    resolve(code);
                }
            });
        });
    };
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    MessageBox.OK = 1;
    MessageBox.CANCEL = 0;
    MessageBox.OK_CANCEL = 2;
    return MessageBox;
}());
exports.MessageBox = MessageBox;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFJMUM7SUFBK0MscUNBQVk7SUFBM0Q7UUFBQSxxRUFTQztRQU5HLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBTTVCLENBQUM7MEJBVG9CLGlCQUFpQjtJQU1sQyxrQ0FBTSxHQUFOO1FBQ0ksbUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN0QyxDQUFDOztJQUhNLDBCQUFRLEdBQXFCLElBQUksQ0FBQztJQUZ6QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNJO0lBSFAsaUJBQWlCO1FBSHJDLE9BQU87T0FHYSxpQkFBaUIsQ0FTckM7SUFBRCx3QkFBQztDQVRELEFBU0MsQ0FUOEMsRUFBRSxDQUFDLFNBQVMsR0FTMUQ7a0JBVG9CLGlCQUFpQjtBQVd0QztJQUFBO0lBZ0NBLENBQUM7SUF2QkcsMEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCwwR0FBMEc7SUFDMUcsdURBQXVEO0lBQ2hELGVBQUksR0FBWCxVQUFZLE9BQU8sRUFBRSxLQUFNLEVBQUMsT0FBUSxFQUFDLEtBQU07UUFFdkMsS0FBSyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksU0FBUyxDQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUEsS0FBSyxDQUFBO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQVMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUN0QyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUM7Z0JBQy9FLEtBQUssT0FBQTtnQkFDTCxPQUFPLFNBQUE7Z0JBQ1AsT0FBTyxTQUFBO2dCQUNQLEtBQUssT0FBQTtnQkFDTCxRQUFRLEVBQUMsVUFBQSxJQUFJO29CQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDakIsQ0FBQzthQUNKLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQTNCRCx3QkFBd0I7SUFDeEIsZUFBZTtJQUNSLGFBQUUsR0FBVSxDQUFDLENBQUM7SUFDZCxpQkFBTSxHQUFVLENBQUMsQ0FBQztJQUVsQixvQkFBUyxHQUFVLENBQUMsQ0FBQztJQXlCaEMsaUJBQUM7Q0FoQ0QsQUFnQ0MsSUFBQTtBQWhDWSxnQ0FBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi9WaWV3TWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcbkBjY2NsYXNzXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZUJveE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnRcclxue1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgXHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6TWVzc2FnZUJveE1hbmFnZXIgPSBudWxsO1xyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICBNZXNzYWdlQm94TWFuYWdlci5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlQm94ICB7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuICAgIHN0YXRpYyBPSzpudW1iZXIgPSAxO1xyXG4gICAgc3RhdGljIENBTkNFTDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHN0YXRpYyBPS19DQU5DRUw6bnVtYmVyID0gMjtcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIHN0YXRpYyBVSVBhdGg6c3RyaW5nID0gXCJwbHVnaW5fYm9vc3RzL3VpL01lc3NhZ2VCb3hcIlxyXG4gICAgc3RhdGljIHNob3coY29udGVudCAsdGl0bGU/LGJ1dHRvbnM/LGV4dHJhPyk6UHJvbWlzZTxudW1iZXI+XHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGUgPSAodGl0bGUgPT0gbnVsbCB8fCB0aXRsZSA9PSB1bmRlZmluZWQgKT8gXCLmj5DnpLpcIiA6dGl0bGVcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8bnVtYmVyPigocmVzb2x2ZSxyZWplY3QpPT57XHJcbiAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3dGcm9tUHJlZmFiKE1lc3NhZ2VCb3hNYW5hZ2VyLmluc3RhbmNlLnByZWZhYixcIk1lc3NhZ2VCb3hcIix7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLFxyXG4gICAgICAgICAgICAgICAgZXh0cmEsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazpjb2RlPT57XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb2RlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Signal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bf602DYuhZP7Z8VfN9eJFzO', 'Signal');
// framework/plugin_boosts/misc/Signal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal = /** @class */ (function () {
    function Signal(c, t) {
        this.add(c, t);
    }
    Signal.prototype.add = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.fire = function () {
        var _a;
        var ps = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            ps[_i] = arguments[_i];
        }
        if (this.callback) {
            (_a = this.callback).call.apply(_a, __spreadArrays([this.target], ps));
        }
    };
    Signal.prototype.on = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.clear = function () {
        this.callback = null;
    };
    return Signal;
}());
exports.default = Signal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTaWduYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBSUksZ0JBQVksQ0FBRSxFQUFDLENBQUU7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNqQixDQUFDO0lBRUQsb0JBQUcsR0FBSCxVQUFJLFFBQWlCLEVBQUcsTUFBTztRQUUzQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQscUJBQUksR0FBSjs7UUFBSyxZQUFLO2FBQUwsVUFBSyxFQUFMLHFCQUFLLEVBQUwsSUFBSztZQUFMLHVCQUFLOztRQUVOLElBQUksSUFBSSxDQUFDLFFBQVEsRUFDakI7WUFDSSxDQUFBLEtBQUEsSUFBSSxDQUFDLFFBQVEsQ0FBQSxDQUFDLElBQUksMkJBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxFQUFFLEdBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRUQsbUJBQUUsR0FBRixVQUFHLFFBQWlCLEVBQUMsTUFBTztRQUV4QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FqQ0EsQUFpQ0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ25hbFxyXG57XHJcbiAgICBjYWxsYmFjazpGdW5jdGlvbiA7XHJcbiAgICB0YXJnZXQ6YW55O1xyXG4gICAgY29uc3RydWN0b3IoYz8sdD8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5hZGQoYyx0KVxyXG4gICAgfVxyXG5cclxuICAgIGFkZChjYWxsYmFjazpGdW5jdGlvbiAsIHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoLi4ucHMpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy50YXJnZXQsLi4ucHMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uKGNhbGxiYWNrOkZ1bmN0aW9uLHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gbnVsbDtcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e4171eQC3dMO4x8/Td1XV1Y', 'DCUI');
// framework/plugin_boosts/ui/DCUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataCenter_1 = require("../misc/DataCenter");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCUI = /** @class */ (function (_super) {
    __extends(DCUI, _super);
    function DCUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.dataBind = "";
        return _this;
    }
    DCUI.prototype.onLoad = function () {
    };
    DCUI.prototype.setDCKey = function (k) {
        this.dataBind = k;
        this.setListener();
    };
    DCUI.prototype.setListener = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
        DataCenter_1.default.on(this.dataBind, this.dataChanged, this);
    };
    DCUI.prototype.onValueChanged = function (v) {
    };
    DCUI.prototype.setDCValue = function (v) {
        DataCenter_1.default.set(this.dataBind, v);
    };
    DCUI.prototype.dataChanged = function (v, old) {
        this.onValueChanged(v);
    };
    DCUI.prototype.onEnable = function () {
        this.setListener();
        this.onValueChanged(DataCenter_1.default.get(this.dataBind));
    };
    DCUI.prototype.onDisable = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
    };
    __decorate([
        property()
    ], DCUI.prototype, "dataBind", void 0);
    DCUI = __decorate([
        ccclass
    ], DCUI);
    return DCUI;
}(cc.Component));
exports.default = DCUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaURBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBMkNDO1FBeENHLGNBQVEsR0FBVyxFQUFFLENBQUM7O0lBd0MxQixDQUFDO0lBdkNHLHFCQUFNLEdBQU47SUFFQSxDQUFDO0lBRUQsdUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDdEIsQ0FBQztJQUdELDBCQUFXLEdBQVg7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFDbkQsb0JBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3RELENBQUM7SUFFRCw2QkFBYyxHQUFkLFVBQWUsQ0FBQztJQUVoQixDQUFDO0lBRUQseUJBQVUsR0FBVixVQUFXLENBQUM7UUFFUixvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCwwQkFBVyxHQUFYLFVBQVksQ0FBQyxFQUFDLEdBQUc7UUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCx1QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO1FBQ2xCLElBQUksQ0FBQyxjQUFjLENBQUMsb0JBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELHdCQUFTLEdBQVQ7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDdkQsQ0FBQztJQXZDRDtRQURDLFFBQVEsRUFBRTswQ0FDVztJQUhMLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0EyQ3hCO0lBQUQsV0FBQztDQTNDRCxBQTJDQyxDQTNDaUMsRUFBRSxDQUFDLFNBQVMsR0EyQzdDO2tCQTNDb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhQ2VudGVyIGZyb20gXCIuLi9taXNjL0RhdGFDZW50ZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENVSSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KClcclxuICAgIGRhdGFCaW5kOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBzZXREQ0tleShrKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmQgPSBrO1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIoKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRMaXN0ZW5lcigpXHJcbiAgICB7XHJcbiAgICAgICAgRGF0YUNlbnRlci5vZmYodGhpcy5kYXRhQmluZCx0aGlzLmRhdGFDaGFuZ2VkLHRoaXMpXHJcbiAgICAgICAgRGF0YUNlbnRlci5vbih0aGlzLmRhdGFCaW5kLHRoaXMuZGF0YUNoYW5nZWQsdGhpcylcclxuICAgIH1cclxuXHJcbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIHNldERDVmFsdWUodilcclxuICAgIHtcclxuICAgICAgICBEYXRhQ2VudGVyLnNldCh0aGlzLmRhdGFCaW5kLCB2KTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhQ2hhbmdlZCh2LG9sZCk6IGFueSB7XHJcbiAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZCh2KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMaXN0ZW5lcigpXHJcbiAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZChEYXRhQ2VudGVyLmdldCh0aGlzLmRhdGFCaW5kKSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKClcclxuICAgIHtcclxuICAgICAgICBEYXRhQ2VudGVyLm9mZih0aGlzLmRhdGFCaW5kLHRoaXMuZGF0YUNoYW5nZWQsdGhpcylcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/LoadingManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '48049jD6zJMmoi+cPkRhX7D', 'LoadingManager');
// framework/plugin_boosts/ui/LoadingManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Loading = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Loading = null;
var LoadingManager = /** @class */ (function (_super) {
    __extends(LoadingManager, _super);
    function LoadingManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this.loadingNode = null;
        _this.loadingSprite = null;
        _this.loadingText = null;
        _this.blockEventComp = null;
        _this._callback = null;
        _this._target = null;
        return _this;
        // update (dt) {}
    }
    LoadingManager.prototype.onLoad = function () {
        this.loadingNode = cc.instantiate(this.prefab);
        this.blockEventComp = this.loadingNode.getComponent(cc.BlockInputEvents);
        this.loadingNode.parent = this.node;
        this.loadingNode.zIndex = 9999;
        this.loadingSprite = this.loadingNode.getComponentInChildren(cc.Sprite);
        this.loadingText = this.loadingNode.getComponentInChildren(cc.Label);
        this.hide();
        exports.Loading = this;
    };
    LoadingManager.prototype.start = function () {
        this.loadingSprite.node.runAction(cc.rotateBy(4, 360).repeatForever());
    };
    LoadingManager.prototype.dealyClose = function () {
        this.hide();
        if (this._callback) {
            this._callback.call(this._target);
        }
    };
    LoadingManager.prototype.show = function (timeout, text, modal, callback, target) {
        if (text === void 0) { text = null; }
        if (modal === void 0) { modal = true; }
        if (callback === void 0) { callback = null; }
        if (target === void 0) { target = null; }
        this.loadingNode.active = true;
        this.loadingNode.resumeAllActions();
        this.blockEventComp.enabled = modal;
        this._callback = callback;
        this._target = target;
        if (text)
            this.loadingText.string = text;
        if (timeout > 0) {
            this.unschedule(this.dealyClose);
            this.scheduleOnce(this.dealyClose, timeout);
        }
    };
    LoadingManager.prototype.hide = function () {
        this.loadingNode.active = false;
        this.loadingNode.pauseAllActions();
    };
    __decorate([
        property(cc.Prefab)
    ], LoadingManager.prototype, "prefab", void 0);
    LoadingManager = __decorate([
        ccclass
    ], LoadingManager);
    return LoadingManager;
}(cc.Component));
exports.default = LoadingManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTG9hZGluZ01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLE9BQU8sR0FBa0IsSUFBSSxDQUFDO0FBR3pDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBNERDO1FBekRHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFDM0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFDL0IsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFDNUIsb0JBQWMsR0FBdUIsSUFBSSxDQUFDO1FBRTFDLGVBQVMsR0FBTyxJQUFJLENBQUM7UUFDckIsYUFBTyxHQUFPLElBQUksQ0FBQzs7UUFnRG5CLGlCQUFpQjtJQUNyQixDQUFDO0lBaERHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLGVBQU8sR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELDhCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsbUNBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFDakI7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDcEM7SUFDTCxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLE9BQU8sRUFBQyxJQUFTLEVBQUMsS0FBWSxFQUFDLFFBQWUsRUFBQyxNQUFhO1FBQXBELHFCQUFBLEVBQUEsV0FBUztRQUFDLHNCQUFBLEVBQUEsWUFBWTtRQUFDLHlCQUFBLEVBQUEsZUFBZTtRQUFDLHVCQUFBLEVBQUEsYUFBYTtRQUU3RCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQTtRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQTtRQUNyQixJQUFHLElBQUk7WUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkMsSUFBRyxPQUFPLEdBQUcsQ0FBQyxFQUNkO1lBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQzdDO0lBQ0wsQ0FBQztJQUVELDZCQUFJLEdBQUo7UUFFSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0lBdEREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ0k7SUFIUCxjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBNERsQztJQUFELHFCQUFDO0NBNURELEFBNERDLENBNUQyQyxFQUFFLENBQUMsU0FBUyxHQTREdkQ7a0JBNURvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgdmFyIExvYWRpbmc6TG9hZGluZ01hbmFnZXIgPSBudWxsO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ01hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBwcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBsb2FkaW5nTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuICAgIGxvYWRpbmdTcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuICAgIGxvYWRpbmdUZXh0OmNjLkxhYmVsID0gbnVsbDtcclxuICAgIGJsb2NrRXZlbnRDb21wOmNjLkJsb2NrSW5wdXRFdmVudHMgPSBudWxsO1xyXG5cclxuICAgIF9jYWxsYmFjazphbnkgPSBudWxsO1xyXG4gICAgX3RhcmdldDphbnkgPSBudWxsO1xyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5wcmVmYWIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tFdmVudENvbXAgPSB0aGlzLmxvYWRpbmdOb2RlLmdldENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKTtcclxuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLnpJbmRleCA9IDk5OTk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nU3ByaXRlID0gdGhpcy5sb2FkaW5nTm9kZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLlNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nVGV4dCA9IHRoaXMubG9hZGluZ05vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCk7XHJcbiAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgTG9hZGluZyA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1Nwcml0ZS5ub2RlLnJ1bkFjdGlvbihjYy5yb3RhdGVCeSg0LDM2MCkucmVwZWF0Rm9yZXZlcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWFseUNsb3NlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICBpZih0aGlzLl9jYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrLmNhbGwodGhpcy5fdGFyZ2V0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93KHRpbWVvdXQsdGV4dD1udWxsLG1vZGFsID0gdHJ1ZSxjYWxsYmFjayA9IG51bGwsdGFyZ2V0ID0gbnVsbClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5yZXN1bWVBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5ibG9ja0V2ZW50Q29tcC5lbmFibGVkID0gbW9kYWxcclxuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrIFxyXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldFxyXG4gICAgICAgIGlmKHRleHQpXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1RleHQuc3RyaW5nID0gdGV4dDtcclxuICAgICAgICBpZih0aW1lb3V0ID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmRlYWx5Q2xvc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmRlYWx5Q2xvc2UsdGltZW91dClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLnBhdXNlQWxsQWN0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCSprite.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '82b09vMdyFCOb0NEdBTtZHy', 'DCSprite');
// framework/plugin_boosts/ui/DCSprite.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCSprite = /** @class */ (function (_super) {
    __extends(DCSprite, _super);
    function DCSprite() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCSprite.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCSprite.prototype.refreshSpriteFrame = function (v) {
        var _this = this;
        // this.sprite.spriteFrame = v;
        var spriteframe = SpriteFrameCache_1.default.instance.getSpriteFrame(v).then(function (sf) {
            _this.sprite.spriteFrame = sf;
        }).catch(function (_) { console.log("request imageUrl error :" + v); });
    };
    DCSprite.prototype.onValueChanged = function (v) {
        this.refreshSpriteFrame(v);
    };
    DCSprite = __decorate([
        ccclass,
        requireComponent(cc.Sprite)
    ], DCSprite);
    return DCSprite;
}(DCUI_1.default));
exports.default = DCSprite;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENTcHJpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2REFBd0Q7QUFFbEQsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFLM0Q7SUFBc0MsNEJBQUk7SUFBMUM7O0lBc0JBLENBQUM7SUFuQkcseUJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELHFDQUFrQixHQUFsQixVQUFtQixDQUFDO1FBQXBCLGlCQU1DO1FBSkcsK0JBQStCO1FBQy9CLElBQUksV0FBVyxHQUFHLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRTtZQUNqRSxLQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUEsQ0FBQyxJQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFDLENBQUMsQ0FBQTtJQUM5RCxDQUFDO0lBRUQsaUNBQWMsR0FBZCxVQUFlLENBQUM7UUFFWixJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQW5CZ0IsUUFBUTtRQUY1QixPQUFPO1FBQ1AsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztPQUNQLFFBQVEsQ0FzQjVCO0lBQUQsZUFBQztDQXRCRCxBQXNCQyxDQXRCcUMsY0FBSSxHQXNCekM7a0JBdEJvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xyXG5pbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHkscmVxdWlyZUNvbXBvbmVudH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuXHJcbkBjY2NsYXNzXHJcbkByZXF1aXJlQ29tcG9uZW50KGNjLlNwcml0ZSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENTcHJpdGUgZXh0ZW5kcyBEQ1VJIHtcclxuXHJcbiAgICBzcHJpdGU6Y2MuU3ByaXRlO1xyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFNwcml0ZUZyYW1lKHYpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSB2O1xyXG4gICAgICAgIGxldCBzcHJpdGVmcmFtZSA9IFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUodikudGhlbihzZj0+e1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zcHJpdGVGcmFtZSA9IHNmO1xyXG4gICAgICAgIH0pLmNhdGNoKF89Pntjb25zb2xlLmxvZyhcInJlcXVlc3QgaW1hZ2VVcmwgZXJyb3IgOlwiICsgdil9KVxyXG4gICAgfVxyXG5cclxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3ByaXRlRnJhbWUodik7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0dc9dQt58ZCx4tQ3mcNvEZr', 'UIComponent');
// framework/plugin_boosts/ui/UIComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIComponent = /** @class */ (function (_super) {
    __extends(UIComponent, _super);
    function UIComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIComponent.prototype.hide = function () {
        this.node.active = false;
    };
    UIComponent.prototype.show = function () {
        this.node.active = true;
    };
    UIComponent = __decorate([
        ccclass
    ], UIComponent);
    return UIComponent;
}(cc.Component));
exports.default = UIComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEOztJQVFBLENBQUM7SUFQRywwQkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQzdCLENBQUM7SUFDRCwwQkFBSSxHQUFKO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFQZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQVEvQjtJQUFELGtCQUFDO0NBUkQsQUFRQyxDQVJ3QyxFQUFFLENBQUMsU0FBUyxHQVFwRDtrQkFSb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgaGlkZSgpe1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHNob3coKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCToggle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f9e52WLze5MBrhxXx/fWqyL', 'DCToggle');
// framework/plugin_boosts/ui/DCToggle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCToggle = /** @class */ (function (_super) {
    __extends(DCToggle, _super);
    function DCToggle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.revserse = false;
        _this.autosync = true;
        return _this;
    }
    DCToggle.prototype.onLoad = function () {
        this.toggle = this.getComponent(cc.Toggle);
        if (this.autosync) {
            var listener = new cc.Component.EventHandler();
            listener.component = "DCToggle";
            listener.target = this.node;
            listener.handler = "onChecked";
            this.toggle.checkEvents.push(listener);
        }
    };
    DCToggle.prototype.onChecked = function (v) {
        if (this.isFromSelf)
            return;
        if (this.revserse) {
            this.setDCValue(!v.isChecked);
        }
        else {
            this.setDCValue(v.isChecked);
        }
    };
    DCToggle.prototype.setChecked = function (b) {
        this.isFromSelf = true;
        if (b)
            this.toggle.check();
        else
            this.toggle.uncheck();
        this.isFromSelf = false;
    };
    DCToggle.prototype.onValueChanged = function (v) {
        if (this.revserse) {
            this.setChecked(!v);
        }
        else {
            this.setChecked(v);
        }
    };
    __decorate([
        property({ tooltip: "If reverse is enabled ,checked is false !, unchecked is true" })
    ], DCToggle.prototype, "revserse", void 0);
    __decorate([
        property({ tooltip: " Make sure data bind type should be boolean" })
    ], DCToggle.prototype, "autosync", void 0);
    DCToggle = __decorate([
        ccclass
    ], DCToggle);
    return DCToggle;
}(DCUI_1.default));
exports.default = DCToggle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENUb2dnbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUUxQixvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBSTtJQUExQztRQUFBLHFFQXlEQztRQXJERyxjQUFRLEdBQVcsS0FBSyxDQUFDO1FBSXpCLGNBQVEsR0FBVyxJQUFJLENBQUM7O0lBaUQ1QixDQUFDO0lBN0NHLHlCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDL0MsUUFBUSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7WUFDaEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQzVCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtTQUN6QztJQUNMLENBQUM7SUFFRCw0QkFBUyxHQUFULFVBQVUsQ0FBQztRQUVQLElBQUcsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPO1FBQzNCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2pDO2FBQUk7WUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNoQztJQUNMLENBQUM7SUFFRCw2QkFBVSxHQUFWLFVBQVcsQ0FBQztRQUVSLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUcsQ0FBQztZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7O1lBRW5CLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFDM0IsQ0FBQztJQUVELGlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN0QjthQUFJO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNyQjtJQUVMLENBQUM7SUFuREQ7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsOERBQThELEVBQUMsQ0FBQzs4Q0FDMUQ7SUFJekI7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsNkNBQTZDLEVBQUMsQ0FBQzs4Q0FDMUM7SUFSUCxRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBeUQ1QjtJQUFELGVBQUM7Q0F6REQsQUF5REMsQ0F6RHFDLGNBQUksR0F5RHpDO2tCQXpEb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1RvZ2dsZSBleHRlbmRzIERDVUkge1xyXG5cclxuICAgIHRvZ2dsZTpjYy5Ub2dnbGU7XHJcbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCJJZiByZXZlcnNlIGlzIGVuYWJsZWQgLGNoZWNrZWQgaXMgZmFsc2UgISwgdW5jaGVja2VkIGlzIHRydWVcIn0pXHJcbiAgICByZXZzZXJzZTpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDpcIiBNYWtlIHN1cmUgZGF0YSBiaW5kIHR5cGUgc2hvdWxkIGJlIGJvb2xlYW5cIn0pXHJcbiAgICBhdXRvc3luYzpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBpc0Zyb21TZWxmOmJvb2xlYW47XHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlRvZ2dsZSk7XHJcbiAgICAgICAgaWYodGhpcy5hdXRvc3luYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbXBvbmVudCA9IFwiRENUb2dnbGVcIjtcclxuICAgICAgICAgICAgbGlzdGVuZXIudGFyZ2V0ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5oYW5kbGVyID0gXCJvbkNoZWNrZWRcIjtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGUuY2hlY2tFdmVudHMucHVzaChsaXN0ZW5lcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DaGVja2VkKHYpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5pc0Zyb21TZWxmKSByZXR1cm47XHJcbiAgICAgICAgaWYodGhpcy5yZXZzZXJzZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RENWYWx1ZSghdi5pc0NoZWNrZWQpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnNldERDVmFsdWUodi5pc0NoZWNrZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRDaGVja2VkKGIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pc0Zyb21TZWxmID0gdHJ1ZTtcclxuICAgICAgICBpZihiKVxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZS5jaGVjaygpXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZS51bmNoZWNrKCk7XHJcbiAgICAgICAgdGhpcy5pc0Zyb21TZWxmID0gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMucmV2c2Vyc2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNldENoZWNrZWQoIXYpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2tlZCh2KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '129ed5o6uNHDKhz6KoueBpN', 'ToastManager');
// framework/plugin_boosts/ui/ToastManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Toast = void 0;
var ToastComponent_1 = require("./ToastComponent");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Toast = null;
var ToastManager = /** @class */ (function (_super) {
    __extends(ToastManager, _super);
    function ToastManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToastManager.prototype.start = function () {
        this.toastPool = new cc.NodePool();
        exports.Toast = this;
    };
    ToastManager.prototype.onDestroy = function () {
        this.toastPool.clear();
    };
    ToastManager.prototype.make = function (text, dur) {
        if (dur === void 0) { dur = 1.3; }
        //show toast 
        var node = this.toastPool.get();
        var toastComp = null;
        if (node == null) {
            node = cc.instantiate(this.prefab);
            toastComp = node.getComponent(ToastComponent_1.default);
            if (toastComp == null) {
                console.warn("Toast.make : Toast Prefab must contains ToastComponent");
            }
            // ToastManager.toastPool.put(node);
            // node = ToastManager.toastPool.get();
        }
        else {
            toastComp = node.getComponent(ToastComponent_1.default);
        }
        if (node.parent == null)
            this.node.addChild(node, 99999);
        this.show(toastComp, text, dur);
        return toastComp;
    };
    ToastManager.prototype.show = function (toastComp, text, dur) {
        var _this = this;
        toastComp.show(text);
        this.scheduleOnce(function (_) {
            toastComp.hide(function (_) {
                _this.toastPool.put(toastComp.node);
                console.log("Toast.hide toastpool size:", _this.toastPool.size());
            });
        }, dur);
    };
    __decorate([
        property(cc.Prefab)
    ], ToastManager.prototype, "prefab", void 0);
    ToastManager = __decorate([
        ccclass
    ], ToastManager);
    return ToastManager;
}(cc.Component));
exports.default = ToastManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbURBQThDO0FBRXhDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsS0FBSyxHQUFnQixJQUFJLENBQUM7QUFHckM7SUFBMEMsZ0NBQVk7SUFBdEQ7O0lBb0RBLENBQUM7SUEvQ0csNEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkMsYUFBSyxHQUFHLElBQUksQ0FBQztJQUNqQixDQUFDO0lBRUQsZ0NBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELDJCQUFJLEdBQUosVUFBSyxJQUFJLEVBQUMsR0FBUztRQUFULG9CQUFBLEVBQUEsU0FBUztRQUVmLGFBQWE7UUFDYixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLElBQUksSUFBSSxJQUFJLEVBQ2hCO1lBQ0ksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25DLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztZQUM5QyxJQUFHLFNBQVMsSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsd0RBQXdELENBQUMsQ0FBQTthQUN6RTtZQUNELG9DQUFvQztZQUNwQyx1Q0FBdUM7U0FDMUM7YUFBSTtZQUNELFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztTQUNqRDtRQUNELElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxLQUFLLENBQUMsQ0FBQztRQUVuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDN0IsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVPLDJCQUFJLEdBQVosVUFBYSxTQUF3QixFQUFDLElBQUksRUFBQyxHQUFHO1FBQTlDLGlCQVNDO1FBUEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQUEsQ0FBQztZQUNmLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2dCQUNaLEtBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBQyxLQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7WUFDbkUsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDVixDQUFDO0lBOUNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ0o7SUFIQyxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBb0RoQztJQUFELG1CQUFDO0NBcERELEFBb0RDLENBcER5QyxFQUFFLENBQUMsU0FBUyxHQW9EckQ7a0JBcERvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRvYXN0Q29tcG9uZW50IGZyb20gXCIuL1RvYXN0Q29tcG9uZW50XCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCB2YXIgVG9hc3Q6VG9hc3RNYW5hZ2VyID0gbnVsbDtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvYXN0TWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICB0b2FzdFBvb2w6Y2MuTm9kZVBvb2w7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcHJlZmFiOmNjLlByZWZhYlxyXG4gICAgXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgdGhpcy50b2FzdFBvb2wgPSBuZXcgY2MuTm9kZVBvb2woKTtcclxuICAgICAgICBUb2FzdCA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnRvYXN0UG9vbC5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1ha2UodGV4dCxkdXIgPSAxLjMpXHJcbiAgICB7XHJcbiAgICAgICAgLy9zaG93IHRvYXN0IFxyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy50b2FzdFBvb2wuZ2V0KCk7XHJcbiAgICAgICAgbGV0IHRvYXN0Q29tcCA9IG51bGw7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnByZWZhYik7XHJcbiAgICAgICAgICAgIHRvYXN0Q29tcCA9IG5vZGUuZ2V0Q29tcG9uZW50KFRvYXN0Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYodG9hc3RDb21wID09IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRvYXN0Lm1ha2UgOiBUb2FzdCBQcmVmYWIgbXVzdCBjb250YWlucyBUb2FzdENvbXBvbmVudFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRvYXN0TWFuYWdlci50b2FzdFBvb2wucHV0KG5vZGUpO1xyXG4gICAgICAgICAgICAvLyBub2RlID0gVG9hc3RNYW5hZ2VyLnRvYXN0UG9vbC5nZXQoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdG9hc3RDb21wID0gbm9kZS5nZXRDb21wb25lbnQoVG9hc3RDb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihub2RlLnBhcmVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQobm9kZSw5OTk5OSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zaG93KHRvYXN0Q29tcCx0ZXh0LGR1cilcclxuICAgICAgICByZXR1cm4gdG9hc3RDb21wO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvdyh0b2FzdENvbXA6VG9hc3RDb21wb25lbnQsdGV4dCxkdXIpXHJcbiAgICB7XHJcbiAgICAgICAgdG9hc3RDb21wLnNob3codGV4dClcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShfPT57XHJcbiAgICAgICAgICAgIHRvYXN0Q29tcC5oaWRlKF89PntcclxuICAgICAgICAgICAgICAgIHRoaXMudG9hc3RQb29sLnB1dCh0b2FzdENvbXAubm9kZSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9hc3QuaGlkZSB0b2FzdHBvb2wgc2l6ZTpcIix0aGlzLnRvYXN0UG9vbC5zaXplKCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sZHVyKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/FSM.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83f52qrCghNrKS6jOC/j6I0', 'FSM');
// framework/plugin_boosts/gamesys/FSM.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.State = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var State = /** @class */ (function () {
    function State(id, name) {
        this.__interval_callbacks = [];
        this.interval_id = 0;
        this.id = id;
        this.name = name;
    }
    State.prototype.onEnter = function (params) { };
    State.prototype.onExit = function () { };
    State.prototype.onUpdate = function (dt) { };
    //messages 
    State.prototype.on = function () { };
    State.prototype.off = function () { };
    State.prototype.clearIntervals = function () {
        this.__interval_callbacks.splice(0, this.__interval_callbacks.length);
    };
    State.prototype.setInterval = function (interval, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, interval: interval, timer: timer });
        return id;
    };
    State.prototype.clearInterval = function (id) {
        this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(id));
    };
    State.prototype.setTimeout = function (delay, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, delay: delay, timer: timer });
        return id;
    };
    State.prototype.clearTimeout = function (id) {
        this.clearInterval(id);
    };
    State.prototype.invokeIntervals = function (dt) {
        for (var i = 0; i < this.__interval_callbacks.length; i++) {
            var element = this.__interval_callbacks[i];
            element.timer = element.timer + dt;
            if (element.interval) {
                if (element.timer >= element.interval) {
                    element.timer = 0;
                    // call
                    element.callback.call(element.target);
                }
            }
            else if (element.delay) {
                if (element.timer >= element.delay) {
                    // call
                    element.callback.call(element.target);
                    this.__interval_callbacks.splice(i);
                    i--;
                }
            }
        }
    };
    return State;
}());
exports.State = State;
var CustomState = /** @class */ (function (_super) {
    __extends(CustomState, _super);
    function CustomState(target, id, name, pattern) {
        var _this = _super.call(this, id, name) || this;
        var enterName = cc.js.formatStr(pattern, "onEnter", _this.name);
        var updateName = cc.js.formatStr(pattern, "onUpdate", _this.name);
        var exitName = cc.js.formatStr(pattern, "onExit", _this.name);
        _this.__target = target;
        _this.__enterFunc = _this.__target[enterName];
        _this.__updateFunc = _this.__target[updateName];
        _this.__exitFunc = _this.__target[exitName];
        return _this;
    }
    CustomState.prototype.onEnter = function (params) {
        this.clearIntervals();
        if (this.__enterFunc) {
            this.__enterFunc.call(this.__target, this, params);
        }
    };
    CustomState.prototype.onExit = function () {
        if (this.__exitFunc) {
            this.__exitFunc.call(this.__target, this);
        }
    };
    CustomState.prototype.onUpdate = function (dt) {
        this.invokeIntervals(dt);
        if (this.__updateFunc) {
            this.__updateFunc.call(this.__target, this, dt);
        }
    };
    return CustomState;
}(State));
var FSM = /** @class */ (function (_super) {
    __extends(FSM, _super);
    function FSM() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.timeElapsed = 0;
        _this._states = {};
        _this._isPaused = false;
        _this.log = false;
        return _this;
    }
    Object.defineProperty(FSM.prototype, "target", {
        get: function () {
            return this._target;
        },
        enumerable: false,
        configurable: true
    });
    FSM.prototype.init = function (target) {
        this._target = target;
        this.timeElapsed = 0;
    };
    FSM.prototype.getState = function (stateId) {
        return this._states[stateId];
    };
    FSM.prototype.getCurrentState = function () {
        return this.c;
    };
    FSM.prototype.getPreviousState = function () {
        return this.p;
    };
    FSM.prototype.addStates = function (states, callbackNamePattern) {
        if (callbackNamePattern === void 0) { callbackNamePattern = "%s_%sState"; }
        var keys = Object.keys(states);
        var enumLen = (keys.length / 2);
        this.namePattern = callbackNamePattern;
        for (var i = 0; i < enumLen; i++) {
            var key = keys[i];
            var value = states[key];
            this.addState(key, value);
        }
    };
    FSM.prototype.addState = function (id, name, enterCallback, exitCallback, updateCallback, target) {
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + "(" + this.target.name + ")" + " Add State :", id, name);
        var state = new CustomState(this.target, id, name, this.namePattern);
        this._states[id] = state;
        if (enterCallback)
            state.__enterFunc = enterCallback;
        if (exitCallback)
            state.__exitFunc = exitCallback;
        if (updateCallback)
            state.__updateFunc = updateCallback;
        if (target)
            state.__target = target;
    };
    /**
     * first state
     * @param: state index or State
     */
    FSM.prototype.enterState = function (stateId, params) {
        this.timeElapsed = 0;
        var state = this._states[stateId];
        this.c = state;
        state.onEnter(params);
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + " First State:", state.name);
    };
    FSM.prototype.revertState = function () {
        this.changeState(this.p.id);
    };
    FSM.prototype.pause = function () {
        this._isPaused = true;
    };
    FSM.prototype.resume = function () {
        this._isPaused = false;
    };
    FSM.prototype.resetCurrentState = function () {
        this.timeElapsed = 0;
        console.log(cc.js.formatStr("[FSM] %s reset currentState", this.target.__classname__));
        this.c.onExit();
        this.c.onEnter();
    };
    FSM.prototype.changeState = function (stateId, params) {
        var state = this._states[stateId];
        if (state == null) {
            console.warn("[FSM] invalid state for stateId " + stateId + " of : " + this.target.__classname__);
            return;
        }
        if (this._isPaused) {
            console.warn("[FSM] fsm is paused ! " + this.target.__classname__ + " changeState to <" + state.name + "> failed!");
            return;
        }
        if (stateId == this.c.id)
            return;
        this.timeElapsed = 0;
        this.c.onExit();
        this.p = this.c;
        this.c = state;
        if (this.log)
            console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s", this.target.__classname__, this.name, this.p.name, state.name));
        this.c.onEnter(params);
    };
    FSM.prototype.isInState = function (stateId) {
        return this.c == this._states[stateId];
    };
    FSM.prototype.update = function (dt) {
        if (this._isPaused)
            return;
        if (FSM.debug)
            dt = 0.016; // use real deta
        this.timeElapsed += dt;
        if (this.c)
            this.c.onUpdate(dt);
    };
    FSM.debug = false;
    return FSM;
}(cc.Component));
exports.default = FSM;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxGU00udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUtJLGVBQVksRUFBRyxFQUFDLElBQUs7UUFZckIseUJBQW9CLEdBQUcsRUFBRSxDQUFBO1FBT3pCLGdCQUFXLEdBQVUsQ0FBQyxDQUFDO1FBakJuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFDRCx1QkFBTyxHQUFQLFVBQVEsTUFBTyxJQUFFLENBQUM7SUFDbEIsc0JBQU0sR0FBTixjQUFTLENBQUM7SUFDVix3QkFBUSxHQUFSLFVBQVMsRUFBRSxJQUFFLENBQUM7SUFDZCxXQUFXO0lBQ1gsa0JBQUUsR0FBRixjQUFLLENBQUM7SUFDTixtQkFBRyxHQUFILGNBQU0sQ0FBQztJQUlQLDhCQUFjLEdBQWQ7UUFFSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUlELDJCQUFXLEdBQVgsVUFBWSxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU87UUFFakMsSUFBSSxFQUFFLEdBQUcsRUFBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzdCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLElBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxNQUFNLFFBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxLQUFLLE9BQUEsRUFBQyxDQUFDLENBQUM7UUFDcEUsT0FBTyxFQUFFLENBQUM7SUFD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QztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNmLElBQUcsSUFBSSxDQUFDLEdBQUc7WUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLHlCQUF5QixFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDeEgsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFM0IsQ0FBQztJQUVELHVCQUFTLEdBQVQsVUFBVSxPQUFPO1FBRWIsT0FBTyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDMUMsQ0FBQztJQUVELG9CQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsSUFBRyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFDMUIsSUFBRyxHQUFHLENBQUMsS0FBSztZQUNSLEVBQUUsR0FBRyxLQUFLLENBQUUsQ0FBQyxnQkFBZ0I7UUFDakMsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7UUFDdkIsSUFBRyxJQUFJLENBQUMsQ0FBQztZQUNMLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFUTSxTQUFLLEdBQUcsS0FBSyxDQUFDO0lBWXpCLFVBQUM7Q0F4SkQsQUF3SkMsQ0F4SmdDLEVBQUUsQ0FBQyxTQUFTLEdBd0o1QztrQkF4Sm9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdGUgXHJcbntcclxuICAgIG5hbWU6c3RyaW5nO1xyXG4gICAgaWQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZD8sbmFtZT8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBvbkVudGVyKHBhcmFtcz8pe31cclxuICAgIG9uRXhpdCgpe31cclxuICAgIG9uVXBkYXRlKGR0KXt9XHJcbiAgICAvL21lc3NhZ2VzIFxyXG4gICAgb24oKXt9XHJcbiAgICBvZmYoKXt9XHJcblxyXG4gICAgX19pbnRlcnZhbF9jYWxsYmFja3MgPSBbXVxyXG5cclxuICAgIGNsZWFySW50ZXJ2YWxzKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZSgwICx0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLmxlbmd0aClcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcnZhbF9pZDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHNldEludGVydmFsKGludGVydmFsLGNhbGxiYWNrLHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGlkID0gKysgdGhpcy5pbnRlcnZhbF9pZDtcclxuICAgICAgICBsZXQgdGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MucHVzaCh7aWQsY2FsbGJhY2ssdGFyZ2V0LGludGVydmFsLHRpbWVyfSk7XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFySW50ZXJ2YWwoaWQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5zcGxpY2UodGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5pbmRleE9mKGlkKSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0VGltZW91dChkZWxheSxjYWxsYmFjayx0YXJnZXQ/KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBpZCA9ICsrIHRoaXMuaW50ZXJ2YWxfaWQ7XHJcbiAgICAgICAgbGV0IHRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnB1c2goe2lkLGNhbGxiYWNrLHRhcmdldCxkZWxheSx0aW1lcn0pO1xyXG4gICAgICAgIHJldHVybiBpZDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclRpbWVvdXQoaWQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jbGVhckludGVydmFsKGlkKVxyXG4gICAgfVxyXG5cclxuICAgIGludm9rZUludGVydmFscyhkdClcclxuICAgIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3NbaV07XHJcbiAgICAgICAgICAgIGVsZW1lbnQudGltZXIgPSBlbGVtZW50LnRpbWVyICsgZHQ7XHJcbiAgICAgICAgICAgIGlmKGVsZW1lbnQuaW50ZXJ2YWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudGltZXIgPj0gZWxlbWVudC5pbnRlcnZhbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jYWxsYmFjay5jYWxsKGVsZW1lbnQudGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihlbGVtZW50LmRlbGF5KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihlbGVtZW50LnRpbWVyID49IGVsZW1lbnQuZGVsYXkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2FsbGJhY2suY2FsbChlbGVtZW50LnRhcmdldClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICBpIC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDdXN0b21TdGF0ZSBleHRlbmRzIFN0YXRlXHJcbntcclxuICAgIF9fZW50ZXJGdW5jOkZ1bmN0aW9uO1xyXG4gICAgX19leGl0RnVuYzpGdW5jdGlvbjtcclxuICAgIF9fdXBkYXRlRnVuYzpGdW5jdGlvbjtcclxuICAgIF9fdGFyZ2V0OmFueTtcclxuICAgIGNvbnN0cnVjdG9yKHRhcmdldCxpZCxuYW1lLHBhdHRlcm4pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoaWQsbmFtZSk7XHJcbiAgICAgICAgbGV0IGVudGVyTmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25FbnRlclwiLHRoaXMubmFtZSlcclxuICAgICAgICBsZXQgdXBkYXRlTmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25VcGRhdGVcIix0aGlzLm5hbWUpXHJcbiAgICAgICAgbGV0IGV4aXROYW1lID0gY2MuanMuZm9ybWF0U3RyKHBhdHRlcm4sXCJvbkV4aXRcIix0aGlzLm5hbWUpXHJcbiAgICAgICAgdGhpcy5fX3RhcmdldCA9IHRhcmdldDtcclxuICAgICAgICB0aGlzLl9fZW50ZXJGdW5jID0gdGhpcy5fX3RhcmdldFtlbnRlck5hbWVdO1xyXG4gICAgICAgIHRoaXMuX191cGRhdGVGdW5jID0gdGhpcy5fX3RhcmdldFt1cGRhdGVOYW1lXTtcclxuICAgICAgICB0aGlzLl9fZXhpdEZ1bmMgPSB0aGlzLl9fdGFyZ2V0W2V4aXROYW1lXTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIG9uRW50ZXIocGFyYW1zKXtcclxuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWxzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX19lbnRlckZ1bmMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9fZW50ZXJGdW5jLmNhbGwodGhpcy5fX3RhcmdldCx0aGlzLHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25FeGl0KCl7XHJcbiAgICAgICAgaWYgKHRoaXMuX19leGl0RnVuYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX19leGl0RnVuYy5jYWxsKHRoaXMuX190YXJnZXQsdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQpe1xyXG4gICAgICAgIHRoaXMuaW52b2tlSW50ZXJ2YWxzKGR0KTtcclxuICAgICAgICBpZiAodGhpcy5fX3VwZGF0ZUZ1bmMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9fdXBkYXRlRnVuYy5jYWxsKHRoaXMuX190YXJnZXQsdGhpcyxkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRlNNIGV4dGVuZHMgY2MuQ29tcG9uZW50XHJcbntcclxuICAgIGM6U3RhdGU7XHJcbiAgICBwOlN0YXRlO1xyXG4gICAgX3RhcmdldDphbnk7XHJcblxyXG4gICAgdGltZUVsYXBzZWQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBfc3RhdGVzOntbaW5kZXg6bnVtYmVyXTpTdGF0ZSB9ID0ge31cclxuXHJcbiAgICBfaXNQYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICBuYW1lUGF0dGVybjpzdHJpbmc7XHJcblxyXG4gICAgbG9nOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBnZXQgdGFyZ2V0KCk6YW55XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KHRhcmdldDphbnkpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKHN0YXRlSWQpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tzdGF0ZUlkXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50U3RhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcmV2aW91c1N0YXRlKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgYWRkU3RhdGVzKHN0YXRlczphbnksY2FsbGJhY2tOYW1lUGF0dGVybiA9IFwiJXNfJXNTdGF0ZVwiKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoc3RhdGVzKTtcclxuICAgICAgICBsZXQgZW51bUxlbiA9IChrZXlzLmxlbmd0aC8yKTtcclxuICAgICAgICB0aGlzLm5hbWVQYXR0ZXJuID0gY2FsbGJhY2tOYW1lUGF0dGVybjtcclxuICAgICAgICBmb3IodmFyIGkgPSAwO2kgPCBlbnVtTGVuO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBrZXlzW2ldXHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHN0YXRlc1trZXldO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hZGRTdGF0ZShrZXksdmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZFN0YXRlKGlkLG5hbWUsZW50ZXJDYWxsYmFjaz8sZXhpdENhbGxiYWNrPyx1cGRhdGVDYWxsYmFjaz8sdGFyZ2V0PylcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLmxvZylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRlNNXVwiK3RoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18gKyBcIihcIisgdGhpcy50YXJnZXQubmFtZStcIilcIitcIiBBZGQgU3RhdGUgOlwiICxpZCwgbmFtZSlcclxuICAgICAgICBsZXQgc3RhdGUgPSBuZXcgQ3VzdG9tU3RhdGUodGhpcy50YXJnZXQsaWQsbmFtZSx0aGlzLm5hbWVQYXR0ZXJuKTtcclxuICAgICAgICB0aGlzLl9zdGF0ZXNbaWRdID0gc3RhdGU7XHJcbiAgICAgICAgaWYoZW50ZXJDYWxsYmFjaylcclxuICAgICAgICAgICAgc3RhdGUuX19lbnRlckZ1bmMgPSBlbnRlckNhbGxiYWNrO1xyXG4gICAgICAgIGlmKGV4aXRDYWxsYmFjaylcclxuICAgICAgICAgICAgc3RhdGUuX19leGl0RnVuYyA9IGV4aXRDYWxsYmFjaztcclxuICAgICAgICBpZih1cGRhdGVDYWxsYmFjaylcclxuICAgICAgICAgICAgc3RhdGUuX191cGRhdGVGdW5jID0gdXBkYXRlQ2FsbGJhY2s7XHJcbiAgICAgICAgaWYodGFyZ2V0KVxyXG4gICAgICAgICAgICBzdGF0ZS5fX3RhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpcnN0IHN0YXRlIFxyXG4gICAgICogQHBhcmFtOiBzdGF0ZSBpbmRleCBvciBTdGF0ZVxyXG4gICAgICovXHJcbiAgICBlbnRlclN0YXRlKHN0YXRlSWQ6bnVtYmVyLHBhcmFtcz8pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcclxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLl9zdGF0ZXNbc3RhdGVJZF1cclxuICAgICAgICB0aGlzLmMgPSBzdGF0ZTtcclxuICAgICAgICBzdGF0ZS5vbkVudGVyKHBhcmFtcyk7XHJcbiAgICAgICAgaWYodGhpcy5sb2cpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0ZTTV1cIit0aGlzLnRhcmdldC5fX2NsYXNzbmFtZV9fICtcIiBGaXJzdCBTdGF0ZTpcIiAsc3RhdGUubmFtZSlcclxuICAgIH1cclxuXHJcbiAgICByZXZlcnRTdGF0ZSgpXHJcbiAgICB7XHJcbiAgICBcdHRoaXMuY2hhbmdlU3RhdGUodGhpcy5wLmlkKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcGF1c2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRDdXJyZW50U3RhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwXHJcbiAgICAgICAgY29uc29sZS5sb2coY2MuanMuZm9ybWF0U3RyKFwiW0ZTTV0gJXMgcmVzZXQgY3VycmVudFN0YXRlXCIsdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXykpXHJcbiAgICAgICAgdGhpcy5jLm9uRXhpdCgpO1xyXG4gICAgICAgIHRoaXMuYy5vbkVudGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU3RhdGUoc3RhdGVJZDpudW1iZXIscGFyYW1zPylcclxuICAgIHtcclxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLl9zdGF0ZXNbc3RhdGVJZF1cclxuICAgICAgICBpZihzdGF0ZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0ZTTV0gaW52YWxpZCBzdGF0ZSBmb3Igc3RhdGVJZCBcIiArIHN0YXRlSWQgK1wiIG9mIDogXCIgKyAgdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLl9pc1BhdXNlZCkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbRlNNXSBmc20gaXMgcGF1c2VkICEgXCIrdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXytcIiBjaGFuZ2VTdGF0ZSB0byA8XCIrIHN0YXRlLm5hbWUgKyBcIj4gZmFpbGVkIVwiKVxyXG4gICAgICAgICAgICByZXR1cm4gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHN0YXRlSWQgPT0gdGhpcy5jLmlkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcclxuICAgICAgICB0aGlzLmMub25FeGl0KCk7XHJcbiAgICAgICAgdGhpcy5wID0gdGhpcy5jO1xyXG4gICAgICAgIHRoaXMuYyA9IHN0YXRlO1xyXG4gICAgICAgIGlmKHRoaXMubG9nKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCJbRlNNXSAlcyAoJXMpOiAlcyAtPiAlc1wiLHRoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18sdGhpcy5uYW1lLHRoaXMucC5uYW1lICwgc3RhdGUubmFtZSkpXHJcbiAgICAgICAgdGhpcy5jLm9uRW50ZXIocGFyYW1zKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBpc0luU3RhdGUoc3RhdGVJZClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jID09IHRoaXMuX3N0YXRlc1tzdGF0ZUlkXVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGRlYnVnID0gZmFsc2U7XHJcbiAgICB1cGRhdGUoZHQpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5faXNQYXVzZWQpIHJldHVybjtcclxuICAgICAgICBpZihGU00uZGVidWcpXHJcbiAgICAgICAgICAgIGR0ID0gMC4wMTYgOyAvLyB1c2UgcmVhbCBkZXRhXHJcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCArPSBkdDtcclxuICAgICAgICBpZih0aGlzLmMpXHJcbiAgICAgICAgICAgIHRoaXMuYy5vblVwZGF0ZShkdCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/PandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f36aidibxFPY2TBTu8gRyi', 'PandoraPoint');
// framework/plugin_boosts/ui/PandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PandoraPoint = /** @class */ (function (_super) {
    __extends(PandoraPoint, _super);
    function PandoraPoint() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numberVisible = true;
        return _this;
        // update (dt) {}
    }
    PandoraPoint.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
        this.label = this.getComponentInChildren(cc.Label);
        this.label.node.active = this.numberVisible;
    };
    PandoraPoint.prototype.start = function () {
    };
    PandoraPoint.prototype.setNumber = function (n) {
        if (this.numberVisible) {
            this.label.string = n + "";
        }
        if (this.numberVisible) {
            this.label.node.active = n != 0;
        }
        this.sprite.enabled = n != 0;
    };
    __decorate([
        property
    ], PandoraPoint.prototype, "numberVisible", void 0);
    PandoraPoint = __decorate([
        ccclass
    ], PandoraPoint);
    return PandoraPoint;
}(cc.Component));
exports.default = PandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcUGFuZG9yYVBvaW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQWlDQztRQTVCRyxtQkFBYSxHQUFXLElBQUksQ0FBQzs7UUEyQjdCLGlCQUFpQjtJQUNyQixDQUFDO0lBeEJHLDZCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoRCxDQUFDO0lBRUQsNEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCxnQ0FBUyxHQUFULFVBQVUsQ0FBUTtRQUVkLElBQUcsSUFBSSxDQUFDLGFBQWEsRUFDckI7WUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUUsRUFBRSxDQUFBO1NBQzVCO1FBQ0QsSUFBRyxJQUFJLENBQUMsYUFBYSxFQUNyQjtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxDQUFDLElBQUUsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBekJEO1FBREMsUUFBUTt1REFDb0I7SUFMWixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBaUNoQztJQUFELG1CQUFDO0NBakNELEFBaUNDLENBakN5QyxFQUFFLENBQUMsU0FBUyxHQWlDckQ7a0JBakNvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5kb3JhUG9pbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIGxhYmVsOmNjLkxhYmVsO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgbnVtYmVyVmlzaWJsZTpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBzcHJpdGU6Y2MuU3ByaXRlXHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCk7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5ub2RlLmFjdGl2ZSA9IHRoaXMubnVtYmVyVmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldE51bWJlcihuOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLm51bWJlclZpc2libGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLnN0cmluZyA9IG4gK1wiXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5udW1iZXJWaXNpYmxlKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwubm9kZS5hY3RpdmUgPSAgbiE9MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZW5hYmxlZCA9IG4gIT0wO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/View.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e1217OaHDFCEbPP4vjLJXLh', 'View');
// framework/plugin_boosts/ui/View.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIComponent_1 = require("./UIComponent");
var ViewManager_1 = require("./ViewManager");
var UIFunctions_1 = require("./UIFunctions");
var LanguageManager_1 = require("../../../Game/Scripts/LanguageManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var View = /** @class */ (function (_super) {
    __extends(View, _super);
    function View() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isDialog = false;
        _this.hasWidget = false;
        _this.opacity = 160;
        _this.childrenAnimation = false;
        _this.touchBlocker = null;
        _this.touchBlockerComp = null;
        _this.guideLabel = null;
        _this.startLabel = null;
        _this.ch_FontSize = 25;
        _this.vi_FontSize = 16;
        _this.eng_FontSize = 20;
        // @property
        // showAnimationName:string = "";
        // @property
        // hideAnimationName:string = "";
        // @property([cc.Component.EventHandler])
        // onShownEvents:cc.Component.EventHandler[] = [];
        // @property([cc.Component.EventHandler])
        // onHiddenEvents:cc.Component.EventHandler[] = [];
        _this.animations = [];
        _this._isHiding = false;
        return _this;
    }
    // isTouchEnabled: boolean = true;
    View.prototype.emit = function (event, msg) {
        event.emit(msg);
        // this.node.emit(msg);  
    };
    View.prototype.onEnable = function () {
        if (this.guideLabel == null || this.startLabel == null) {
            return;
        }
        switch (LanguageManager_1.default.instance.currentLanguage) {
            case LanguageManager_1.LanguageMode.CN:
                this.set_label_lang("连接相同的2个动物", "点击任意处关闭");
                this.set_label_FontSize(this.ch_FontSize);
                break;
            case LanguageManager_1.LanguageMode.VI:
                this.set_label_lang("Nối hai con vật giống hệt nhau.", "Nhấp vào bất kỳ đâu để đóng.");
                this.set_label_FontSize(this.vi_FontSize);
                break;
            case LanguageManager_1.LanguageMode.EN:
                this.set_label_lang("Connect two identical animals.", "Click anywhere to close.");
                this.set_label_FontSize(this.eng_FontSize);
                break;
        }
    };
    View.prototype.set_label_lang = function (guideLabelString, startLabelString) {
        this.guideLabel.string = guideLabelString;
        this.startLabel.string = startLabelString;
    };
    View.prototype.set_label_FontSize = function (fontSize) {
        this.guideLabel.fontSize = fontSize;
        this.startLabel.fontSize = fontSize;
    };
    View.prototype.call = function (event, exp) {
        // eval(exp);
        g.execScript(exp);
    };
    View.prototype.setDelegate = function (target) {
        this.target = target;
    };
    View.prototype.onLoad = function () {
        this.touchBlocker = new cc.Node();
        this.touchBlocker.name = "TouchBlocker";
        this.touchBlocker.width = 2000;
        this.touchBlocker.height = 2000;
        this.touchBlockerComp = this.touchBlocker.addComponent(cc.BlockInputEvents);
        this.node.addChild(this.touchBlocker, 1000);
        if (this.childrenAnimation) {
            this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
        }
        else {
            var anim = this.node.getComponent(cc.Animation);
            if (anim)
                this.animations.push(anim);
        }
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this) {
                if (comp.onShown || comp.onHidden) {
                    this.target = comp;
                    break;
                }
            }
        }
    };
    View.prototype.start = function () {
        this.touchEnabled = true;
    };
    View.prototype.init = function (viewname) {
        this.name = viewname;
    };
    View.prototype.hideAnimationCallback = function () {
        this.node.active = this.visible;
        ViewManager_1.default.instance.checkViewStacks();
    };
    /**
     * //如果 实现了view的animation那么需要 animation 去做隐藏
     * 否则会不会有animtion ，系统 将直接 设置 active 为false
     */
    View.prototype.doHideAnimation = function () {
        // if (!this.isDialog)
        // {
        //todo is in hide animtion return ;
        // if(this.isInHideAnimation())return;
        this.node.active = true;
        this._isHiding = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, this.hideAnimationCallback, this)) {
            this.node.active = false;
            this._isHiding = false;
        }
        console.log("[View] hide:", this.name);
        this._visibleDirty = false;
    };
    View.prototype.isInHideAnimation = function () {
        return this._isHiding;
    };
    View.prototype.onHidden = function () {
        this._visibleDirty = false;
        if (this.target && this.target.onHidden)
            this.target.onHidden();
        // cc.Component.EventHandler.emitEvents(this.onHiddenEvents,[params]);
    };
    View.prototype.hide = function () {
        // super.hide()
        //ViewManager remove dd
        this.touchEnabled = false;
        ViewManager_1.default.instance.hide(this.node);
    };
    Object.defineProperty(View.prototype, "visible", {
        get: function () { return this._visibleDirty; },
        enumerable: false,
        configurable: true
    });
    View.prototype.showAnimationNextFrame = function (callback) {
        var _this = this;
        this.scheduleOnce(function (_) {
            UIFunctions_1.default.doShowAnimations(_this.animations, callback);
        }, 0);
    };
    Object.defineProperty(View.prototype, "touchEnabled", {
        get: function () {
            return !this.touchBlocker.active;
        },
        set: function (b) {
            this.touchBlocker.active = !b;
        },
        enumerable: false,
        configurable: true
    });
    // setTouchEnabled(bEnabled){
    //     this.touchBlockerComp.enabled = bEnabled;
    //     // UIFunctions.setTouchEnabled(this.node,bEnabled);
    // }
    View.prototype.show = function () {
        var _this = this;
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        _super.prototype.show.call(this);
        console.log("[View] show:", this.name, params);
        UIFunctions_1.default.stopAnimations(this.animations);
        // call next frames 
        // this.showAnimationDelay()
        //确保在widget 更新结束后开始动画 ，
        return new Promise(function (resolve, reject) {
            var _a;
            var self = _this;
            var showFinishCallback = function () {
                if (!self.touchEnabled)
                    self.touchEnabled = true;
                resolve();
            };
            if (!_this.hasWidget) {
                UIFunctions_1.default.doShowAnimations(_this.animations, showFinishCallback);
            }
            else {
                _this.showAnimationNextFrame(showFinishCallback);
            }
            _this._visibleDirty = true;
            // Add this block
            var comp = _this.node.getComponent(_this.node.name);
            if (comp && comp.init) {
                comp.init(params[0]); // call init with first param
            }
            if (_this.target && _this.target.onShown) {
                (_a = _this.target).onShown.apply(_a, params);
            }
            // cc.Component.EventHandler.emitEvents(this.onShownEvents,[params]);
        });
    };
    __decorate([
        property
    ], View.prototype, "isDialog", void 0);
    __decorate([
        property
    ], View.prototype, "hasWidget", void 0);
    __decorate([
        property
    ], View.prototype, "opacity", void 0);
    __decorate([
        property
    ], View.prototype, "childrenAnimation", void 0);
    __decorate([
        property(cc.Label)
    ], View.prototype, "guideLabel", void 0);
    __decorate([
        property(cc.Label)
    ], View.prototype, "startLabel", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "ch_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "vi_FontSize", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], View.prototype, "eng_FontSize", void 0);
    View = __decorate([
        ccclass
    ], View);
    return View;
}(UIComponent_1.default));
exports.default = View;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQXdDO0FBQ3hDLDZDQUF3QztBQUV4Qyw2Q0FBd0M7QUFFeEMseUVBQXNGO0FBRWhGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFXO0lBQTdDO1FBQUEscUVBc1FDO1FBNVBHLGNBQVEsR0FBVyxLQUFLLENBQUM7UUFHekIsZUFBUyxHQUFXLEtBQUssQ0FBQztRQUsxQixhQUFPLEdBQVUsR0FBRyxDQUFDO1FBR3JCLHVCQUFpQixHQUFXLEtBQUssQ0FBQztRQUdsQyxrQkFBWSxHQUFXLElBQUksQ0FBQztRQUM1QixzQkFBZ0IsR0FBd0IsSUFBSSxDQUFDO1FBRzdDLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBRXpCLGtCQUFZLEdBQVcsRUFBRSxDQUFDO1FBMEMxQixZQUFZO1FBQ1osaUNBQWlDO1FBQ2pDLFlBQVk7UUFDWixpQ0FBaUM7UUFFakMseUNBQXlDO1FBQ3pDLGtEQUFrRDtRQUVsRCx5Q0FBeUM7UUFDekMsbURBQW1EO1FBRW5ELGdCQUFVLEdBQWtCLEVBQUUsQ0FBQztRQStEL0IsZUFBUyxHQUFXLEtBQUssQ0FBQzs7SUE0RzlCLENBQUM7SUFyUUcsa0NBQWtDO0lBQ2xDLG1CQUFJLEdBQUosVUFBSyxLQUFLLEVBQUMsR0FBRztRQUVWLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDakIseUJBQXlCO0lBQzNCLENBQUM7SUFrQ0QsdUJBQVEsR0FBUjtRQUNJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLElB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QUFJLENBQUMsTUFBTSxDQUFBLENBQUMsT0FBTyxXQUFJLE1BQU0sRUFBRTthQUNsQztZQUNELHFFQUFxRTtRQUN6RSxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUEzUEQ7UUFEQyxRQUFROzBDQUNnQjtJQUd6QjtRQURDLFFBQVE7MkNBQ2lCO0lBSzFCO1FBREMsUUFBUTt5Q0FDWTtJQUdyQjtRQURDLFFBQVE7bURBQ3lCO0lBT2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NENBQ1M7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs0Q0FDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7NkNBQ047SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDOzZDQUNOO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQzs4Q0FDTDtJQXRDVCxJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBc1F4QjtJQUFELFdBQUM7Q0F0UUQsQUFzUUMsQ0F0UWlDLHFCQUFXLEdBc1E1QztrQkF0UW9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlDb21wb25lbnQgZnJvbSBcIi4vVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuL1ZpZXdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdE1hbmFnZXJcIjtcclxuaW1wb3J0IExhbmd1YWdlTWFuYWdlciwgeyBMYW5ndWFnZU1vZGUgfSBmcm9tIFwiLi4vLi4vLi4vR2FtZS9TY3JpcHRzL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IGV4dGVuZHMgVUlDb21wb25lbnQge1xyXG4gICAgLy8gaXNUb3VjaEVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgZW1pdChldmVudCxtc2cpXHJcbiAgICB7XHJcbiAgICAgICAgZXZlbnQuZW1pdChtc2cpXHJcbiAgICAgIC8vIHRoaXMubm9kZS5lbWl0KG1zZyk7ICBcclxuICAgIH1cclxuXHJcbiAgICBuYW1lOnN0cmluZztcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgaXNEaWFsb2c6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgaGFzV2lkZ2V0OmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICB0YXJnZXQ6YW55O1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgb3BhY2l0eTpudW1iZXIgPSAxNjA7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBjaGlsZHJlbkFuaW1hdGlvbjpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIHRvdWNoQmxvY2tlcjpjYy5Ob2RlID0gbnVsbDtcclxuICAgIHRvdWNoQmxvY2tlckNvbXA6IGNjLkJsb2NrSW5wdXRFdmVudHMgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGd1aWRlTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBzdGFydExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgY2hfRm9udFNpemU6IG51bWJlciA9IDI1O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgdmlfRm9udFNpemU6IG51bWJlciA9IDE2O1xyXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuSW50ZWdlciB9KVxyXG4gICAgZW5nX0ZvbnRTaXplOiBudW1iZXIgPSAyMDtcclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ndWlkZUxhYmVsID09IG51bGwgfHwgdGhpcy5zdGFydExhYmVsID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKExhbmd1YWdlTWFuYWdlci5pbnN0YW5jZS5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuQ046XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwi6L+e5o6l55u45ZCM55qEMuS4quWKqOeJqVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi54K55Ye75Lu75oSP5aSE5YWz6ZetXCIsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfRm9udFNpemUodGhpcy5jaF9Gb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2VNb2RlLlZJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfbGFiZWxfbGFuZyhcIk7hu5FpIGhhaSBjb24gduG6rXQgZ2nhu5FuZyBo4buHdCBuaGF1LlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTmjhuqVwIHbDoG8gYuG6pXQga+G7syDEkcOidSDEkeG7gyDEkcOzbmcuXCIsICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9Gb250U2l6ZSh0aGlzLnZpX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZU1vZGUuRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9sYWJlbF9sYW5nKFwiQ29ubmVjdCB0d28gaWRlbnRpY2FsIGFuaW1hbHMuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDbGljayBhbnl3aGVyZSB0byBjbG9zZS5cIiwgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2xhYmVsX0ZvbnRTaXplKHRoaXMuZW5nX0ZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2xhYmVsX2xhbmcoXHJcbiAgICAgICAgZ3VpZGVMYWJlbFN0cmluZzogc3RyaW5nLFxyXG4gICAgICAgIHN0YXJ0TGFiZWxTdHJpbmc6IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuZ3VpZGVMYWJlbC5zdHJpbmcgPSBndWlkZUxhYmVsU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuc3RhcnRMYWJlbC5zdHJpbmcgPSBzdGFydExhYmVsU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHNldF9sYWJlbF9Gb250U2l6ZShmb250U2l6ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5ndWlkZUxhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy5zdGFydExhYmVsLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHByb3BlcnR5XHJcbiAgICAvLyBzaG93QW5pbWF0aW9uTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG4gICAgLy8gQHByb3BlcnR5XHJcbiAgICAvLyBoaWRlQW5pbWF0aW9uTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXHJcbiAgICAvLyBvblNob3duRXZlbnRzOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXJbXSA9IFtdO1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXHJcbiAgICAvLyBvbkhpZGRlbkV2ZW50czpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyW10gPSBbXTtcclxuXHJcbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW107XHJcblxyXG4gICAgY2FsbChldmVudCxleHA6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGV2YWwoZXhwKTtcclxuICAgICAgICBnLmV4ZWNTY3JpcHQoZXhwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZWxlZ2F0ZSh0YXJnZXQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXIgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLm5hbWUgPSBcIlRvdWNoQmxvY2tlclwiXHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXIud2lkdGggPSAyMDAwO1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLmhlaWdodCA9IDIwMDA7XHJcbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXJDb21wID0gdGhpcy50b3VjaEJsb2NrZXIuYWRkQ29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpXHJcbiAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHRoaXMudG91Y2hCbG9ja2VyLDEwMDApXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5jaGlsZHJlbkFuaW1hdGlvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFVJRnVuY3Rpb25zLmdldENoaWxkcmVuQW5pbWF0aW9ucyh0aGlzLm5vZGUpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciBhbmltID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXHJcbiAgICAgICAgICAgIGlmKGFuaW0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29tcG9uZW50cyA9IHRoaXMuZ2V0Q29tcG9uZW50cyhjYy5Db21wb25lbnQpO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgY29tcDphbnkgPSBjb21wb25lbnRzW2ldXHJcbiAgICAgICAgICAgIGlmKGNvbXAgIT0gdGhpcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcC5vblNob3dufHxjb21wLm9uSGlkZGVuKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gY29tcDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudG91Y2hFbmFibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KHZpZXduYW1lKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHZpZXduYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVBbmltYXRpb25DYWxsYmFjaygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRoaXMudmlzaWJsZTtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5jaGVja1ZpZXdTdGFja3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaXNIaWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy/lpoLmnpwg5a6e546w5LqGdmlld+eahGFuaW1hdGlvbumCo+S5iOmcgOimgSBhbmltYXRpb24g5Y675YGa6ZqQ6JePXHJcbiAgICAgKiDlkKbliJnkvJrkuI3kvJrmnIlhbmltdGlvbiDvvIzns7vnu58g5bCG55u05o6lIOiuvue9riBhY3RpdmUg5Li6ZmFsc2VcclxuICAgICAqL1xyXG4gICAgZG9IaWRlQW5pbWF0aW9uKClcclxuICAgIHtcclxuICAgICAgICAvLyBpZiAoIXRoaXMuaXNEaWFsb2cpXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vdG9kbyBpcyBpbiBoaWRlIGFuaW10aW9uIHJldHVybiA7XHJcbiAgICAgICAgLy8gaWYodGhpcy5pc0luSGlkZUFuaW1hdGlvbigpKXJldHVybjtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9pc0hpZGluZyA9IHRydWU7XHJcbiAgICAgICAgaWYoIVVJRnVuY3Rpb25zLmRvSGlkZUFuaW1hdGlvbnModGhpcy5hbmltYXRpb25zLHRoaXMuaGlkZUFuaW1hdGlvbkNhbGxiYWNrLHRoaXMpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0hpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltWaWV3XSBoaWRlOlwiLHRoaXMubmFtZSk7XHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZURpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkhpZGVBbmltYXRpb24oKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNIaWRpbmdcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25IaWRkZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5vbkhpZGRlbilcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQub25IaWRkZW4oKTtcclxuICAgICAgICAvLyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyLmVtaXRFdmVudHModGhpcy5vbkhpZGRlbkV2ZW50cyxbcGFyYW1zXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpe1xyXG4gICAgICAgIC8vIHN1cGVyLmhpZGUoKVxyXG4gICAgICAgIC8vVmlld01hbmFnZXIgcmVtb3ZlIGRkXHJcbiAgICAgICAgdGhpcy50b3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5oaWRlKHRoaXMubm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Zpc2libGVEaXJ0eTpib29sZWFuO1xyXG4gICAgXHJcbiAgICBnZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLl92aXNpYmxlRGlydHk7fVxyXG5cclxuXHJcbiAgICBzaG93QW5pbWF0aW9uTmV4dEZyYW1lKGNhbGxiYWNrKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKF89PntcclxuICAgICAgICAgICAgVUlGdW5jdGlvbnMuZG9TaG93QW5pbWF0aW9ucyh0aGlzLmFuaW1hdGlvbnMsY2FsbGJhY2spXHJcbiAgICAgICAgfSwwKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0b3VjaEVuYWJsZWQoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy50b3VjaEJsb2NrZXIuYWN0aXZlXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRvdWNoRW5hYmxlZChiKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLmFjdGl2ZSAgPSAhYlxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldFRvdWNoRW5hYmxlZChiRW5hYmxlZCl7XHJcbiAgICAvLyAgICAgdGhpcy50b3VjaEJsb2NrZXJDb21wLmVuYWJsZWQgPSBiRW5hYmxlZDtcclxuICAgIC8vICAgICAvLyBVSUZ1bmN0aW9ucy5zZXRUb3VjaEVuYWJsZWQodGhpcy5ub2RlLGJFbmFibGVkKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBzaG93KC4uLnBhcmFtcylcclxuICAgIHtcclxuICAgICAgICBzdXBlci5zaG93KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbVmlld10gc2hvdzpcIix0aGlzLm5hbWUgLCBwYXJhbXMpO1xyXG4gICAgICAgIFVJRnVuY3Rpb25zLnN0b3BBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyk7XHJcbiAgICAgICBcclxuICAgICAgICAvLyBjYWxsIG5leHQgZnJhbWVzIFxyXG4gICAgICAgIC8vIHRoaXMuc2hvd0FuaW1hdGlvbkRlbGF5KClcclxuICAgICAgICAvL+ehruS/neWcqHdpZGdldCDmm7TmlrDnu5PmnZ/lkI7lvIDlp4vliqjnlLsg77yMXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHNob3dGaW5pc2hDYWxsYmFjayA9IGZ1bmN0aW9uKCkgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKCFzZWxmLnRvdWNoRW5hYmxlZClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvdWNoRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzV2lkZ2V0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBVSUZ1bmN0aW9ucy5kb1Nob3dBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyxzaG93RmluaXNoQ2FsbGJhY2spXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QW5pbWF0aW9uTmV4dEZyYW1lKHNob3dGaW5pc2hDYWxsYmFjaylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoaXMgYmxvY2tcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KHRoaXMubm9kZS5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKGNvbXAgJiYgY29tcC5pbml0KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wLmluaXQocGFyYW1zWzBdKTsgIC8vIGNhbGwgaW5pdCB3aXRoIGZpcnN0IHBhcmFtXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5vblNob3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5vblNob3duKC4uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlci5lbWl0RXZlbnRzKHRoaXMub25TaG93bkV2ZW50cyxbcGFyYW1zXSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c4ad6Rf0DpFeay8D3aly6IU', 'ToastComponent');
// framework/plugin_boosts/ui/ToastComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions_1 = require("./UIFunctions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ToastComponent = /** @class */ (function (_super) {
    __extends(ToastComponent, _super);
    function ToastComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
        // update (dt) {}
    }
    ToastComponent.prototype.onLoad = function () {
        this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
    };
    ToastComponent.prototype.start = function () {
    };
    ToastComponent.prototype.hide = function (callback) {
        this.node.active = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, callback)) {
            this.node.active = false;
            // this.node.removeFromParent();
            if (callback) {
                callback(this);
            }
        }
    };
    ToastComponent.prototype.show = function (text) {
        this.label.string = text;
        UIFunctions_1.default.doShowAnimations(this.animations);
    };
    __decorate([
        property(cc.Label)
    ], ToastComponent.prototype, "label", void 0);
    ToastComponent = __decorate([
        ccclass
    ], ToastComponent);
    return ToastComponent;
}(cc.Component));
exports.default = ToastComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF3QztBQUVsQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQWlDQztRQS9CRyxXQUFLLEdBQWEsSUFBSSxDQUFDOztRQThCdkIsaUJBQWlCO0lBQ3JCLENBQUM7SUExQkcsK0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxVQUFVLEdBQUcscUJBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELDhCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLFFBQVE7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBRyxDQUFDLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxRQUFRLENBQUMsRUFDMUQ7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDekIsZ0NBQWdDO1lBQ2hDLElBQUcsUUFBUSxFQUNYO2dCQUNJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQjtTQUNKO0lBQ0wsQ0FBQztJQUNELDZCQUFJLEdBQUosVUFBSyxJQUFTO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUE3QkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSTtJQUZOLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FpQ2xDO0lBQUQscUJBQUM7Q0FqQ0QsQUFpQ0MsQ0FqQzJDLEVBQUUsQ0FBQyxTQUFTLEdBaUN2RDtrQkFqQ29CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9hc3RDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdXHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBVSUZ1bmN0aW9ucy5nZXRDaGlsZHJlbkFuaW1hdGlvbnModGhpcy5ub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoY2FsbGJhY2spOiBhbnkge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGlmKCFVSUZ1bmN0aW9ucy5kb0hpZGVBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyxjYWxsYmFjaykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3codGV4dDogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLmxhYmVsLnN0cmluZyA9IHRleHQ7XHJcbiAgICAgICAgVUlGdW5jdGlvbnMuZG9TaG93QW5pbWF0aW9ucyh0aGlzLmFuaW1hdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ViewManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0f79TopoBICobmtQjrjutG', 'ViewManager');
// framework/plugin_boosts/ui/ViewManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TAG = "[ViewManager]";
var ViewManager = /** @class */ (function (_super) {
    __extends(ViewManager, _super);
    function ViewManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        // baseDir:string = "assets/"
        _this._views = {};
        // 
        _this.modal = null;
        _this.modalOpacity = 160;
        return _this;
        // update (dt) {}
    }
    ViewManager_1 = ViewManager;
    ViewManager.prototype.onLoad = function () {
        ViewManager_1.instance = this;
        this.modal.active = false;
        this.modal.zIndex = 999;
        g.setGlobalInstance(this);
        // cc.game.addPersistRootNode(this.node);
        // this.node.getComponent(cc.Widget).target = cc.find("Canvas")
    };
    ViewManager.prototype.onEnable = function () {
    };
    ViewManager.prototype.onDestroy = function () {
        // cc.game.removePersistRootNode(this.node);
        for (var key in this._views) {
            delete this._views[key];
        }
    };
    ViewManager.prototype.start = function () {
        //load prefab
        // this.modal.active = false;
        // this.sprite = this.getComponent(cc.Sprite)
        // this.modal.zIndex = 999;
    };
    ViewManager.prototype.getVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return view;
                }
            }
        }
        return null;
    };
    ViewManager.prototype.hasVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return true;
                }
            }
        }
        return false;
    };
    ViewManager.prototype.isVisible = function (viewname) {
        var view = null;
        if (typeof (viewname) == "string")
            view = this._views[viewname];
        else
            view = viewname;
        //todo check type 
        if (view) {
            return view.node.active;
        }
        return false;
    };
    ViewManager.prototype.attachViewComp = function (existingView) {
        var viewComp = null;
        if (viewComp == null || viewComp == undefined) {
            viewComp = existingView.getComponent(View_1.default);
            if (viewComp == null) {
                viewComp = existingView.addComponent(View_1.default);
                viewComp.init(existingView.name);
            }
            this._views[existingView.name] = viewComp;
        }
        return viewComp;
    };
    ViewManager.prototype.showView = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        this.modal.active = view.isDialog;
        //check has popuped dialog and  all currentview is dialog show modal forcely.
        if (this.hasVisibleDialog() || view.isDialog) {
            this.modal.active = true;
        }
        if (view.isDialog) {
            this.modal.opacity = view.opacity;
        }
        // propagate params to dialog component
        var comp = view.node.getComponent(view.node.name);
        if (comp && comp.init) {
            comp.init(params[0]); // pass first param object
        }
        return view.show.apply(view, params);
    };
    ViewManager.prototype.showFromPrefab = function (prefab, prefabPath) {
        var params = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            params[_i - 2] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null) {
            var node = cc.instantiate(prefab);
            view = node.getComponent(View_1.default);
            if (view == null) {
                view = node.addComponent(View_1.default);
                view.isDialog = true;
                //default is dialog
            }
            var widget = view.getComponent(cc.Widget);
            if (widget)
                widget.target = cc.find("Canvas");
            view.init(prefabPath);
            this._views[prefabPath] = view;
            if (view.isDialog) {
                this.node.addChild(node, 1000);
            }
            else {
                this.node.addChild(node, 1000);
            }
            // g.foreachNode(view.node,this.updateWidgets,this)
        }
        // node = view.node;
        this.node.color.setA(255);
        console.log(TAG, "show view:" + prefabPath);
        return this.showView.apply(this, __spreadArrays([view], params));
    };
    ViewManager.prototype.showFromPrefabPath = function (prefabPath) {
        var _this = this;
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            console.log("start load prefab:" + prefabPath);
            var beforeTime_1 = new Date().getTime();
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "prefab loaded : " + prefabPath + " " + (new Date().getTime() - beforeTime_1) + "ms");
                _this.showFromPrefab.apply(_this, __spreadArrays([prefab, prefabPath], params));
            });
        }
        else {
            // this.sprite.enabled = false;
            this.modal.active = view.isDialog;
            if (this.hasVisibleDialog() || view.isDialog) {
                this.modal.active = true;
                this.modal.opacity = view.opacity;
            }
            console.log(TAG, "show view:" + prefabPath, params);
            // let viewnode = view.node;
            // view.node.x = 0;
            // view.node.y = 0;
            return view.show.apply(view, params);
        }
    };
    ViewManager.prototype.preload = function (prefabPath) {
        var _this = this;
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "preload view" + prefabPath);
                var node = cc.instantiate(prefab);
                view = node.getComponent(View_1.default);
                var widget = view.getComponent(cc.Widget);
                if (widget)
                    widget.target = cc.find("Canvas");
                view.init(prefabPath);
                _this._views[prefabPath] = view;
                // this.scheduleOnce(_=>node.active = false,0);
                if (view.isDialog) {
                    _this.node.addChild(node, 1000);
                }
                else {
                    _this.node.addChild(node, 1000);
                }
                view.hide();
            });
        }
        else {
        }
    };
    // will enableTouch next show up
    ViewManager.prototype.disableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = false;
        }
    };
    ViewManager.prototype.enableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = true;
        }
    };
    ViewManager.prototype.show = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        // disable current view 's touch  
        if (typeof (view) == "string") {
            return this.showFromPrefabPath.apply(this, __spreadArrays([view], params));
        }
        else {
            if (view == null || view == undefined)
                return;
            if (view.node)
                view = view.node;
            var v = this.attachViewComp(view);
            return this.showView.apply(this, __spreadArrays([v], params));
        }
    };
    ViewManager.prototype.hide = function (viewname, playHideAnim) {
        if (playHideAnim === void 0) { playHideAnim = true; }
        if (typeof (viewname) != "string") {
            // get view name 
            if (viewname == null || viewname == undefined)
                return;
            this.attachViewComp(viewname);
            viewname = viewname.name;
        }
        var view = this._views[viewname];
        if (view != null && view != undefined) {
            view.node.active = false;
            if (view.isDialog) {
                //todo: should support dialog hide animtion  later 
                this.modal.active = false;
            }
            if (this.hasVisibleDialog()) {
                this.modal.active = true;
            }
            // if(view.isInHideAnimation())
            //     return;
            // view.hide();
            if (playHideAnim)
                view.doHideAnimation();
            view.onHidden();
        }
    };
    ViewManager.prototype.checkViewStacks = function () {
        var dialog = this.getVisibleDialog();
        if (dialog) {
            this.modal.active = true;
            this.modal.opacity = dialog.opacity;
        }
    };
    ViewManager.prototype.hideAll = function () {
        for (var viewname in this._views) {
            // let view = this._views[viewname]
            this.hide(viewname);
        }
    };
    var ViewManager_1;
    __decorate([
        property(cc.Node)
    ], ViewManager.prototype, "modal", void 0);
    __decorate([
        property
    ], ViewManager.prototype, "modalOpacity", void 0);
    ViewManager = ViewManager_1 = __decorate([
        ccclass
    ], ViewManager);
    return ViewManager;
}(cc.Component));
exports.default = ViewManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlld01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUdwQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFJLEdBQUcsR0FBVSxlQUFlLENBQUE7QUFFaEM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUErU0M7UUEzU0csZUFBZTtRQUVmLDZCQUE2QjtRQUU3QixZQUFNLEdBQXlCLEVBQUUsQ0FBQTtRQUVyQyxHQUFHO1FBRUMsV0FBSyxHQUFXLElBQUksQ0FBQztRQUdyQixrQkFBWSxHQUFVLEdBQUcsQ0FBQzs7UUErUjFCLGlCQUFpQjtJQUNyQixDQUFDO29CQS9Tb0IsV0FBVztJQWtCNUIsNEJBQU0sR0FBTjtRQUVJLGFBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDeEIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLHlDQUF5QztRQUN6QywrREFBK0Q7SUFDbkUsQ0FBQztJQUVELDhCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsK0JBQVMsR0FBVDtRQUVJLDRDQUE0QztRQUM1QyxLQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDdkIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxhQUFhO1FBRWIsNkJBQTZCO1FBQzdCLDZDQUE2QztRQUM3QywyQkFBMkI7SUFDL0IsQ0FBQztJQUNPLHNDQUFnQixHQUF4QjtRQUVJLEtBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDM0I7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzVCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7Z0JBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUN4QjtvQkFDSSxPQUFPLElBQUksQ0FBQztpQkFDZjthQUNKO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sc0NBQWdCLEdBQXhCO1FBRUksS0FBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUMzQjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDNUIsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtnQkFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ3hCO29CQUNJLE9BQU8sSUFBSSxDQUFBO2lCQUNkO2FBQ0o7U0FDSjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTSwrQkFBUyxHQUFoQixVQUFpQixRQUFRO1FBRXJCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLE9BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRO1lBQzVCLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBOztZQUU1QixJQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ3BCLGtCQUFrQjtRQUNsQixJQUFJLElBQUksRUFDUjtZQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDM0I7UUFDRCxPQUFPLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRU8sb0NBQWMsR0FBdEIsVUFBdUIsWUFBb0I7UUFFdkMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUcsUUFBUSxJQUFJLElBQUksSUFBRyxRQUFRLElBQUksU0FBUyxFQUMzQztZQUNJLFFBQVEsR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDO1lBQzNDLElBQUcsUUFBUSxJQUFJLElBQUksRUFDbkI7Z0JBQ0ksUUFBUSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUM7Z0JBQzNDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3BDO1lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO1NBQzdDO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVPLDhCQUFRLEdBQWhCLFVBQWlCLElBQUk7UUFBQyxnQkFBUzthQUFULFVBQVMsRUFBVCxxQkFBUyxFQUFULElBQVM7WUFBVCwrQkFBUzs7UUFFM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNsQyw2RUFBNkU7UUFDN0UsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUM1QztZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQztTQUM3QjtRQUNELElBQUksSUFBSSxDQUFDLFFBQVEsRUFDakI7WUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1NBQ3JDO1FBRUQsdUNBQXVDO1FBQ3ZDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEQsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsMEJBQTBCO1NBQ25EO1FBQ0QsT0FBTyxJQUFJLENBQUMsSUFBSSxPQUFULElBQUksRUFBUyxNQUFNLEVBQUU7SUFDaEMsQ0FBQztJQUVELG9DQUFjLEdBQWQsVUFBZSxNQUFnQixFQUFDLFVBQWlCO1FBQUUsZ0JBQVM7YUFBVCxVQUFTLEVBQVQscUJBQVMsRUFBVCxJQUFTO1lBQVQsK0JBQVM7O1FBRXhELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkMsSUFBRyxJQUFJLElBQUksSUFBSSxFQUNmO1lBQ0ksSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNqQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQTtZQUM5QixJQUFHLElBQUksSUFBSSxJQUFJLEVBQ2Y7Z0JBQ0ksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNyQixtQkFBbUI7YUFDdEI7WUFDRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxJQUFHLE1BQU07Z0JBQ0wsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUM7WUFDL0IsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtnQkFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7YUFDakM7aUJBQUk7Z0JBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2pDO1lBQ0QsbURBQW1EO1NBQ3REO1FBQ0Qsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQyxZQUFZLEdBQUcsVUFBVSxDQUFFLENBQUE7UUFDM0MsT0FBTyxJQUFJLENBQUMsUUFBUSxPQUFiLElBQUksa0JBQVUsSUFBSSxHQUFJLE1BQU0sR0FBRTtJQUN6QyxDQUFDO0lBRUQsd0NBQWtCLEdBQWxCLFVBQW1CLFVBQWlCO1FBQXBDLGlCQXlCQztRQXpCb0MsZ0JBQVM7YUFBVCxVQUFTLEVBQVQscUJBQVMsRUFBVCxJQUFTO1lBQVQsK0JBQVM7O1FBRTFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDbEMsSUFBRyxJQUFJLElBQUksSUFBSSxJQUFHLElBQUksSUFBSSxTQUFTLEVBQ25DO1lBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsR0FBRSxVQUFVLENBQUMsQ0FBQTtZQUM3QyxJQUFJLFlBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3RDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsTUFBTSxFQUFDLFVBQUMsQ0FBQyxFQUFDLE1BQWdCO2dCQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQyxrQkFBa0IsR0FBRSxVQUFVLEdBQUUsR0FBRyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxZQUFVLENBQUMsR0FBRSxJQUFJLENBQUMsQ0FBQTtnQkFDaEcsS0FBSSxDQUFDLGNBQWMsT0FBbkIsS0FBSSxrQkFBZ0IsTUFBTSxFQUFDLFVBQVUsR0FBSSxNQUFNLEdBQUU7WUFDckQsQ0FBQyxDQUFDLENBQUE7U0FDTDthQUFJO1lBQ0QsK0JBQStCO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDbEMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUM1QztnQkFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBSSxJQUFJLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDckM7WUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQyxZQUFZLEdBQUcsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1lBQ2xELDRCQUE0QjtZQUM1QixtQkFBbUI7WUFDbkIsbUJBQW1CO1lBQ25CLE9BQVEsSUFBSSxDQUFDLElBQUksT0FBVCxJQUFJLEVBQVMsTUFBTSxFQUFFO1NBQ2hDO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVAsVUFBUSxVQUFpQjtRQUF6QixpQkF5QkM7UUF2QkcsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxJQUFHLElBQUksSUFBSSxJQUFJLElBQUcsSUFBSSxJQUFJLFNBQVMsRUFDbkM7WUFDSSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLE1BQU0sRUFBQyxVQUFDLENBQUMsRUFBQyxNQUFnQjtnQkFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUMsY0FBYyxHQUFFLFVBQVUsQ0FBQyxDQUFBO2dCQUMzQyxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFBO2dCQUNqQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzFDLElBQUcsTUFBTTtvQkFDTCxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7Z0JBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3RCLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUMvQiwrQ0FBK0M7Z0JBQy9DLElBQUksSUFBSSxDQUFDLFFBQVEsRUFDakI7b0JBQ0ksS0FBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNqQztxQkFBSTtvQkFDRCxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pDO2dCQUNELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNoQixDQUFDLENBQUMsQ0FBQTtTQUNMO2FBQUk7U0FDSjtJQUNMLENBQUM7SUFFRCxnQ0FBZ0M7SUFDaEMsa0NBQVksR0FBWixVQUFhLFFBQVE7UUFFakIsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQTtRQUN0QyxJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1NBQzdCO0lBQ0wsQ0FBQztJQUVELGlDQUFXLEdBQVgsVUFBWSxRQUFRO1FBRWhCLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUE7UUFDdEMsSUFBRyxJQUFJLEVBQ1A7WUFDSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFHRCwwQkFBSSxHQUFKLFVBQUssSUFBSTtRQUFFLGdCQUFTO2FBQVQsVUFBUyxFQUFULHFCQUFTLEVBQVQsSUFBUztZQUFULCtCQUFTOztRQUVoQixrQ0FBa0M7UUFDbEMsSUFBSSxPQUFNLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxFQUM1QjtZQUNJLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixPQUF2QixJQUFJLGtCQUFvQixJQUFJLEdBQUksTUFBTSxHQUFFO1NBQ2xEO2FBQ0c7WUFDQSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUcsSUFBSSxJQUFJLFNBQVM7Z0JBQUcsT0FBTztZQUM5QyxJQUFHLElBQUksQ0FBQyxJQUFJO2dCQUFFLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQy9CLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDakMsT0FBTyxJQUFJLENBQUMsUUFBUSxPQUFiLElBQUksa0JBQVUsQ0FBQyxHQUFJLE1BQU0sR0FBRTtTQUNyQztJQUNMLENBQUM7SUFHRCwwQkFBSSxHQUFKLFVBQUssUUFBUSxFQUFDLFlBQW1CO1FBQW5CLDZCQUFBLEVBQUEsbUJBQW1CO1FBRTdCLElBQUcsT0FBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsRUFDL0I7WUFDSSxpQkFBaUI7WUFDakIsSUFBSSxRQUFRLElBQUksSUFBSSxJQUFHLFFBQVEsSUFBSSxTQUFTO2dCQUFFLE9BQU87WUFDckQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUM3QixRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztTQUM1QjtRQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDaEMsSUFBRyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxTQUFTLEVBQ3BDO1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixtREFBbUQ7Z0JBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUM3QjtZQUNELElBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQzFCO2dCQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQzthQUM1QjtZQUNELCtCQUErQjtZQUMvQixjQUFjO1lBQ2QsZUFBZTtZQUNmLElBQUcsWUFBWTtnQkFDWCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ25CO0lBQ0wsQ0FBQztJQUVELHFDQUFlLEdBQWY7UUFFSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUNwQyxJQUFHLE1BQU0sRUFDVDtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQ3ZDO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFFSSxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDN0IsbUNBQW1DO1lBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDOztJQWhTRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNHO0lBR3JCO1FBREMsUUFBUTtxREFDaUI7SUFmVCxXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBK1MvQjtJQUFELGtCQUFDO0NBL1NELEFBK1NDLENBL1N3QyxFQUFFLENBQUMsU0FBUyxHQStTcEQ7a0JBL1NvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xyXG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuL1RvYXN0TWFuYWdlclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG52YXIgVEFHOnN0cmluZyA9IFwiW1ZpZXdNYW5hZ2VyXVwiXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIHN0YXRpYyBpbnN0YW5jZTpWaWV3TWFuYWdlcjtcclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIC8vIGJhc2VEaXI6c3RyaW5nID0gXCJhc3NldHMvXCJcclxuXHJcbiAgICBfdmlld3M6e1tpbmRleDpzdHJpbmddOlZpZXd9ID0ge31cclxuXHJcbi8vIFxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBtb2RhbDpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIG1vZGFsT3BhY2l0eTpudW1iZXIgPSAxNjA7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tb2RhbC56SW5kZXggPSA5OTk7XHJcbiAgICAgICAgZy5zZXRHbG9iYWxJbnN0YW5jZSh0aGlzKTtcclxuICAgICAgICAvLyBjYy5nYW1lLmFkZFBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KS50YXJnZXQgPSBjYy5maW5kKFwiQ2FudmFzXCIpXHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gY2MuZ2FtZS5yZW1vdmVQZXJzaXN0Um9vdE5vZGUodGhpcy5ub2RlKTtcclxuICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLl92aWV3cyl7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgLy9sb2FkIHByZWZhYlxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHRoaXMubW9kYWwuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpXHJcbiAgICAgICAgLy8gdGhpcy5tb2RhbC56SW5kZXggPSA5OTk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldFZpc2libGVEaWFsb2coKVxyXG4gICAge1xyXG4gICAgICAgIGZvcih2YXIgbmFtZSBpbiB0aGlzLl92aWV3cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbbmFtZV1cclxuICAgICAgICAgICAgaWYodmlldy5pc0RpYWxvZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKG5hbWUpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhc1Zpc2libGVEaWFsb2coKVxyXG4gICAge1xyXG4gICAgICAgIGZvcih2YXIgbmFtZSBpbiB0aGlzLl92aWV3cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbbmFtZV1cclxuICAgICAgICAgICAgaWYodmlldy5pc0RpYWxvZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKG5hbWUpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNWaXNpYmxlKHZpZXduYW1lKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB2aWV3ID0gbnVsbDtcclxuICAgICAgICBpZiAodHlwZW9mKHZpZXduYW1lKSA9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB2aWV3ID0gdmlld25hbWU7XHJcbiAgICAgICAgLy90b2RvIGNoZWNrIHR5cGUgXHJcbiAgICAgICAgaWYgKHZpZXcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlldy5ub2RlLmFjdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2hWaWV3Q29tcChleGlzdGluZ1ZpZXc6Y2MuTm9kZSk6Vmlld1xyXG4gICAge1xyXG4gICAgICAgIGxldCB2aWV3Q29tcCA9IG51bGw7XHJcbiAgICAgICAgaWYodmlld0NvbXAgPT0gbnVsbHx8IHZpZXdDb21wID09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZpZXdDb21wID0gZXhpc3RpbmdWaWV3LmdldENvbXBvbmVudChWaWV3KTtcclxuICAgICAgICAgICAgaWYodmlld0NvbXAgPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmlld0NvbXAgPSBleGlzdGluZ1ZpZXcuYWRkQ29tcG9uZW50KFZpZXcpO1xyXG4gICAgICAgICAgICAgICAgdmlld0NvbXAuaW5pdChleGlzdGluZ1ZpZXcubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmlld3NbZXhpc3RpbmdWaWV3Lm5hbWVdID0gdmlld0NvbXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2aWV3Q29tcDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dWaWV3KHZpZXcsLi4ucGFyYW1zKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdmlldy5pc0RpYWxvZztcclxuICAgICAgICAvL2NoZWNrIGhhcyBwb3B1cGVkIGRpYWxvZyBhbmQgIGFsbCBjdXJyZW50dmlldyBpcyBkaWFsb2cgc2hvdyBtb2RhbCBmb3JjZWx5LlxyXG4gICAgICAgIGlmICh0aGlzLmhhc1Zpc2libGVEaWFsb2coKSB8fCB2aWV3LmlzRGlhbG9nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSAgdHJ1ZTsgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZXcuaXNEaWFsb2cpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsLm9wYWNpdHkgPSB2aWV3Lm9wYWNpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBwcm9wYWdhdGUgcGFyYW1zIHRvIGRpYWxvZyBjb21wb25lbnRcclxuICAgICAgICBsZXQgY29tcCA9IHZpZXcubm9kZS5nZXRDb21wb25lbnQodmlldy5ub2RlLm5hbWUpO1xyXG4gICAgICAgIGlmIChjb21wICYmIGNvbXAuaW5pdCkge1xyXG4gICAgICAgICAgICBjb21wLmluaXQocGFyYW1zWzBdKTsgLy8gcGFzcyBmaXJzdCBwYXJhbSBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZpZXcuc2hvdyguLi5wYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dGcm9tUHJlZmFiKHByZWZhYjpjYy5QcmVmYWIscHJlZmFiUGF0aDpzdHJpbmcgLC4uLnBhcmFtcylcclxuICAgIHtcclxuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdO1xyXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxyXG4gICAgICAgICAgICB2aWV3ID0gbm9kZS5nZXRDb21wb25lbnQoVmlldylcclxuICAgICAgICAgICAgaWYodmlldyA9PSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2aWV3ID0gbm9kZS5hZGRDb21wb25lbnQoVmlldyk7XHJcbiAgICAgICAgICAgICAgICB2aWV3LmlzRGlhbG9nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vZGVmYXVsdCBpcyBkaWFsb2dcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgd2lkZ2V0ID0gdmlldy5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KTtcclxuICAgICAgICAgICAgaWYod2lkZ2V0KVxyXG4gICAgICAgICAgICAgICAgd2lkZ2V0LnRhcmdldCA9IGNjLmZpbmQoXCJDYW52YXNcIilcclxuICAgICAgICAgICAgdmlldy5pbml0KHByZWZhYlBhdGgpO1xyXG4gICAgICAgICAgICB0aGlzLl92aWV3c1twcmVmYWJQYXRoXSA9IHZpZXc7XHJcbiAgICAgICAgICAgIGlmKHZpZXcuaXNEaWFsb2cpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGcuZm9yZWFjaE5vZGUodmlldy5ub2RlLHRoaXMudXBkYXRlV2lkZ2V0cyx0aGlzKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBub2RlID0gdmlldy5ub2RlO1xyXG4gICAgICAgIHRoaXMubm9kZS5jb2xvci5zZXRBKDI1NSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coVEFHLFwic2hvdyB2aWV3OlwiICsgcHJlZmFiUGF0aCApXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1ZpZXcodmlldywuLi5wYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dGcm9tUHJlZmFiUGF0aChwcmVmYWJQYXRoOnN0cmluZywuLi5wYXJhbXMpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1twcmVmYWJQYXRoXVxyXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGFydCBsb2FkIHByZWZhYjpcIiArcHJlZmFiUGF0aClcclxuICAgICAgICAgICAgbGV0IGJlZm9yZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiUGF0aCxjYy5QcmVmYWIsKGUscHJlZmFiOmNjLlByZWZhYikgPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJwcmVmYWIgbG9hZGVkIDogXCIrIHByZWZhYlBhdGggK1wiIFwiKyAgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gYmVmb3JlVGltZSkgK1wibXNcIilcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zyb21QcmVmYWIocHJlZmFiLHByZWZhYlBhdGgsLi4ucGFyYW1zKTtcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc3ByaXRlLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSB2aWV3LmlzRGlhbG9nO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWaXNpYmxlRGlhbG9nKCkgfHwgdmlldy5pc0RpYWxvZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSAgdHJ1ZTsgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5vcGFjaXR5ID0gdmlldy5vcGFjaXR5OyAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJzaG93IHZpZXc6XCIgKyBwcmVmYWJQYXRoICxwYXJhbXMpXHJcbiAgICAgICAgICAgIC8vIGxldCB2aWV3bm9kZSA9IHZpZXcubm9kZTtcclxuICAgICAgICAgICAgLy8gdmlldy5ub2RlLnggPSAwO1xyXG4gICAgICAgICAgICAvLyB2aWV3Lm5vZGUueSA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiAgdmlldy5zaG93KC4uLnBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQocHJlZmFiUGF0aDpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1twcmVmYWJQYXRoXVxyXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiUGF0aCxjYy5QcmVmYWIsKGUscHJlZmFiOmNjLlByZWZhYikgPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJwcmVsb2FkIHZpZXdcIisgcHJlZmFiUGF0aClcclxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxyXG4gICAgICAgICAgICAgICAgdmlldyA9IG5vZGUuZ2V0Q29tcG9uZW50KFZpZXcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZGdldCA9IHZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XHJcbiAgICAgICAgICAgICAgICBpZih3aWRnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnRhcmdldCA9IGNjLmZpbmQoXCJDYW52YXNcIilcclxuICAgICAgICAgICAgICAgIHZpZXcuaW5pdChwcmVmYWJQYXRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdID0gdmlldztcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2NoZWR1bGVPbmNlKF89Pm5vZGUuYWN0aXZlID0gZmFsc2UsMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0RpYWxvZylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQobm9kZSwxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlldy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0pIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB3aWxsIGVuYWJsZVRvdWNoIG5leHQgc2hvdyB1cFxyXG4gICAgZGlzYWJsZVRvdWNoKHZpZXdOb2RlKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXHJcbiAgICAgICAgaWYodmlldylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVRvdWNoKHZpZXdOb2RlKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXHJcbiAgICAgICAgaWYodmlldylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNob3codmlldywgLi4ucGFyYW1zKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGRpc2FibGUgY3VycmVudCB2aWV3ICdzIHRvdWNoICBcclxuICAgICAgICBpZiAodHlwZW9mKHZpZXcpID09IFwic3RyaW5nXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93RnJvbVByZWZhYlBhdGgodmlldywuLi5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpZiAodmlldyA9PSBudWxsfHwgdmlldyA9PSB1bmRlZmluZWQpICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmKHZpZXcubm9kZSkgdmlldyA9IHZpZXcubm9kZTtcclxuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXcpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dWaWV3KHYsLi4ucGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhpZGUodmlld25hbWUscGxheUhpZGVBbmltID0gdHJ1ZSlcclxuICAgIHtcclxuICAgICAgICBpZih0eXBlb2Yodmlld25hbWUpICE9IFwic3RyaW5nXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBnZXQgdmlldyBuYW1lIFxyXG4gICAgICAgICAgICBpZiAodmlld25hbWUgPT0gbnVsbHx8IHZpZXduYW1lID09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXduYW1lKVxyXG4gICAgICAgICAgICB2aWV3bmFtZSA9IHZpZXduYW1lLm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXHJcbiAgICAgICAgaWYodmlldyAhPSBudWxsICYmIHZpZXcgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmlldy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodmlldy5pc0RpYWxvZyApe1xyXG4gICAgICAgICAgICAgICAgLy90b2RvOiBzaG91bGQgc3VwcG9ydCBkaWFsb2cgaGlkZSBhbmltdGlvbiAgbGF0ZXIgXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzVmlzaWJsZURpYWxvZygpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYodmlldy5pc0luSGlkZUFuaW1hdGlvbigpKVxyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB2aWV3LmhpZGUoKTtcclxuICAgICAgICAgICAgaWYocGxheUhpZGVBbmltIClcclxuICAgICAgICAgICAgICAgIHZpZXcuZG9IaWRlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgIHZpZXcub25IaWRkZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tWaWV3U3RhY2tzKClcclxuICAgIHtcclxuICAgICAgICBsZXQgZGlhbG9nID0gdGhpcy5nZXRWaXNpYmxlRGlhbG9nKClcclxuICAgICAgICBpZihkaWFsb2cpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWwub3BhY2l0eSA9IGRpYWxvZy5vcGFjaXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlQWxsKClcclxuICAgIHtcclxuICAgICAgICBmb3IgKHZhciB2aWV3bmFtZSBpbiB0aGlzLl92aWV3cyl7XHJcbiAgICAgICAgICAgIC8vIGxldCB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSh2aWV3bmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCLabel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a56c0Fh1bpDto6UwDov+u7M', 'DCLabel');
// framework/plugin_boosts/ui/DCLabel.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCLabel = /** @class */ (function (_super) {
    __extends(DCLabel, _super);
    function DCLabel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCLabel.prototype.onLoad = function () {
        this.label = this.getComponent(cc.Label);
    };
    DCLabel.prototype.onValueChanged = function (v) {
        if (!v) {
            console.log("[DCLabel] warn!", "not found field " + this.dataBind);
            v = "0";
        }
        this.label.string = v;
    };
    DCLabel = __decorate([
        ccclass,
        requireComponent(cc.Label)
    ], DCLabel);
    return DCLabel;
}(DCUI_1.default));
exports.default = DCLabel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENMYWJlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBRXBCLElBQUEsS0FBdUMsRUFBRSxDQUFDLFVBQVUsRUFBbkQsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUMsZ0JBQWdCLHNCQUFpQixDQUFDO0FBSzNEO0lBQXFDLDJCQUFJO0lBQXpDOztJQWtCQSxDQUFDO0lBZkcsd0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELGdDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxDQUFDLENBQUMsRUFBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUcsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQ25FLENBQUMsR0FBRyxHQUFHLENBQUE7U0FDVjtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBZmdCLE9BQU87UUFGM0IsT0FBTztRQUNQLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7T0FDTixPQUFPLENBa0IzQjtJQUFELGNBQUM7Q0FsQkQsQUFrQkMsQ0FsQm9DLGNBQUksR0FrQnhDO2tCQWxCb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSxyZXF1aXJlQ29tcG9uZW50fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuQGNjY2xhc3NcclxuQHJlcXVpcmVDb21wb25lbnQoY2MuTGFiZWwpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERDTGFiZWwgZXh0ZW5kcyBEQ1VJIHtcclxuXHJcbiAgICBsYWJlbDpjYy5MYWJlbDtcclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF2KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRENMYWJlbF0gd2FybiFcIiAsIFwibm90IGZvdW5kIGZpZWxkIFwiICsgdGhpcy5kYXRhQmluZClcclxuICAgICAgICAgICAgdiA9IFwiMFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gdjtcclxuICAgIH1cclxuICAgXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIFunctions.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10205trRZVOELcrvc3TW2mW', 'UIFunctions');
// framework/plugin_boosts/ui/UIFunctions.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions = /** @class */ (function () {
    function UIFunctions() {
    }
    UIFunctions.getChildrenAnimations = function (node) {
        var animations = [];
        var anim = node.getComponent(cc.Animation);
        if (anim)
            animations.push(anim);
        for (var i = 0; i < node.childrenCount; i++) {
            var child = node.children[i];
            var anim = child.getComponent(cc.Animation);
            if (anim)
                animations.push(anim);
        }
        return animations;
    };
    UIFunctions.stopAnimations = function (animations) {
        animations.forEach(function (anim) {
            anim.stop();
        });
    };
    UIFunctions.doShowAnimations = function (animations, finishCallback, target) {
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length > 0) {
                var clip = clips[0];
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Normal;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (finishCallback) {
            var func_1 = function () {
                // console.log("finish animations")
                if (maxDurationAnimation)
                    maxDurationAnimation.off("finished", func_1);
                finishCallback.call(target);
            };
            if (maxDurationAnimation)
                maxDurationAnimation.on("finished", func_1);
            else
                finishCallback.call(target);
        }
    };
    // static getLongestAnimation(animations)
    // {
    //     animations.forEach((anim:cc.Animation)=>{
    //         let clips = anim.getClips()
    //         for (clips)
    //         //以最长的为准
    //     }
    // }
    //TODO:还未实现
    UIFunctions.isAnimationRunning = function (animations) {
        return false;
    };
    UIFunctions.doHideAnimations = function (animations, finishCallback, target) {
        var hasHideAnimation = false;
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length == 2) {
                var clip = clips[clips.length - 1];
                // anim.on("finished",onHideAnimationFinished)
                hasHideAnimation = true;
                anim.play(clip.name);
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
            else if (clips.length == 1) {
                var clip = clips[0];
                // clip.wrapMode = cc.WrapMode.Reverse;
                hasHideAnimation = true;
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Reverse;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (maxDurationAnimation && finishCallback) {
            var func_2 = function () {
                // console.log("finish animations")
                maxDurationAnimation.off("finished", func_2);
                finishCallback.call(target);
            };
            maxDurationAnimation.on("finished", func_2);
        }
        return hasHideAnimation;
    };
    UIFunctions.getToggleIndex = function (toggle) {
        var container = toggle.node.getParent();
        for (var i = 0; i < container.childrenCount; i++) {
            var child = container.children[i];
            if (toggle.node == child) {
                return i;
            }
        }
        return -1;
    };
    UIFunctions.selectToggleIndex = function (toggleContainer, index) {
        if (toggleContainer == null) {
            console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :");
            return;
        }
        var toggleNode = toggleContainer.children[index];
        if (toggleNode) {
            var toggle = toggleNode.getComponent(cc.Toggle);
            if (toggle) {
                console.log("[UIFunction.selectToggleIndex] :" + index);
                toggle.check();
            }
        }
        else {
            console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:" + index);
        }
    };
    // set btn 
    UIFunctions.setTouchEnabled = function (node, b) {
        g.foreachNode(node, function (child) {
            var btn = child.getComponent(cc.Button);
            if (btn) {
                console.log("[UIFunction] " + child.name + " touch : " + b);
                btn.interactable = b;
            }
        });
    };
    UIFunctions.setButtonEnabled = function (btn, b) {
        btn.node.opacity = b ? 255 : 125;
        btn.interactable = b;
    };
    return UIFunctions;
}());
exports.default = UIFunctions;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlGdW5jdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2S0EsQ0FBQztJQTFLVSxpQ0FBcUIsR0FBNUIsVUFBNkIsSUFBSTtRQUM3QixJQUFJLFVBQVUsR0FBa0IsRUFBRSxDQUFBO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsSUFBSTtZQUNILFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEVBQzFDO1lBQ0ksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUMzQyxJQUFHLElBQUk7Z0JBQ0gsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUM1QjtRQUNELE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFTSwwQkFBYyxHQUFyQixVQUFzQixVQUFVO1FBRTVCLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFpQjtZQUNqQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sNEJBQWdCLEdBQXZCLFVBQXdCLFVBQVUsRUFBQyxjQUF3QixFQUFDLE1BQU87UUFFL0QsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFFO1FBQ3JCLElBQUksb0JBQWlDLENBQUM7UUFDdEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQWlCO1lBQ2pDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQTtZQUMzQixJQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUNuQjtnQkFDSSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQ25CLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNwQyxTQUFTLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFBO2dCQUN2QyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxFQUMvQjtvQkFDSSxXQUFXLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQztvQkFDN0Isb0JBQW9CLEdBQUcsSUFBSSxDQUFDO2lCQUMvQjthQUNKO1FBQ0wsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLGNBQWMsRUFDbEI7WUFDSSxJQUFJLE1BQUksR0FBRztnQkFFUCxtQ0FBbUM7Z0JBQ25DLElBQUcsb0JBQW9CO29CQUNuQixvQkFBb0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLE1BQUksQ0FBQyxDQUFDO2dCQUM5QyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hDLENBQUMsQ0FBQTtZQUNELElBQUcsb0JBQW9CO2dCQUNuQixvQkFBb0IsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFDLE1BQUksQ0FBQyxDQUFDOztnQkFFekMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUVuQztJQUNMLENBQUM7SUFFRCx5Q0FBeUM7SUFDekMsSUFBSTtJQUNKLGdEQUFnRDtJQUNoRCxzQ0FBc0M7SUFDdEMsc0JBQXNCO0lBRXRCLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1IsSUFBSTtJQUVKLFdBQVc7SUFDSiw4QkFBa0IsR0FBekIsVUFBMEIsVUFBMEI7UUFDaEQsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVNLDRCQUFnQixHQUF2QixVQUF3QixVQUFVLEVBQUMsY0FBd0IsRUFBQyxNQUFPO1FBRS9ELElBQUksZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQzdCLElBQUksV0FBVyxHQUFHLENBQUMsQ0FBRTtRQUNyQixJQUFJLG9CQUFpQyxDQUFDO1FBQ3RDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFpQjtZQUNqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUE7WUFDM0IsSUFBRyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDcEI7Z0JBQ0ksSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQ2hDLDhDQUE4QztnQkFDOUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2dCQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDcEIsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsRUFDL0I7b0JBQ0ksV0FBVyxHQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7b0JBQzdCLG9CQUFvQixHQUFHLElBQUksQ0FBQztpQkFDL0I7YUFDSjtpQkFBSyxJQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUMxQjtnQkFDSSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLHVDQUF1QztnQkFDdkMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2dCQUN4QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDcEMsU0FBUyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQTtnQkFDeEMsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsRUFDL0I7b0JBQ0ksV0FBVyxHQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7b0JBQzdCLG9CQUFvQixHQUFHLElBQUksQ0FBQztpQkFDL0I7YUFDSjtRQUNMLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxvQkFBb0IsSUFBSSxjQUFjLEVBQzFDO1lBQ0ksSUFBSSxNQUFJLEdBQUc7Z0JBRVAsbUNBQW1DO2dCQUNuQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLE1BQUksQ0FBQyxDQUFDO2dCQUMxQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hDLENBQUMsQ0FBQTtZQUNELG9CQUFvQixDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUMsTUFBSSxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLGdCQUFnQixDQUFDO0lBQzVCLENBQUM7SUFFTSwwQkFBYyxHQUFyQixVQUFzQixNQUFnQjtRQUVsQyxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsYUFBYSxFQUFDLENBQUMsRUFBRSxFQUMvQztZQUNJLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDakMsSUFBRyxNQUFNLENBQUMsSUFBSSxJQUFJLEtBQUssRUFDdkI7Z0JBQ0ksT0FBTyxDQUFDLENBQUM7YUFDWjtTQUNKO1FBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7SUFFTSw2QkFBaUIsR0FBeEIsVUFBeUIsZUFBdUIsRUFBQyxLQUFLO1FBRWxELElBQUcsZUFBZSxJQUFJLElBQUksRUFBRTtZQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLDREQUE0RCxDQUFFLENBQUE7WUFDM0UsT0FBTztTQUNWO1FBQ0QsSUFBSSxVQUFVLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNoRCxJQUFHLFVBQVUsRUFDYjtZQUNJLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQy9DLElBQUcsTUFBTSxFQUNUO2dCQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLEdBQUcsS0FBSyxDQUFDLENBQUE7Z0JBQ3ZELE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTthQUNqQjtTQUNKO2FBQUk7WUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLGdFQUFnRSxHQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3hGO0lBQ0wsQ0FBQztJQUVELFdBQVc7SUFDSiwyQkFBZSxHQUF0QixVQUF1QixJQUFJLEVBQUMsQ0FBQztRQUV6QixDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksRUFBQyxVQUFBLEtBQUs7WUFDcEIsSUFBSSxHQUFHLEdBQWEsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakQsSUFBRyxHQUFHLEVBQ047Z0JBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUE7Z0JBQzNELEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO1FBQ0wsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sNEJBQWdCLEdBQXZCLFVBQXdCLEdBQUcsRUFBQyxDQUFDO1FBRXpCLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQSxDQUFDLENBQUEsR0FBRyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUM7UUFDN0IsR0FBRyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUE7SUFDeEIsQ0FBQztJQUVMLGtCQUFDO0FBQUQsQ0E3S0EsQUE2S0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJRnVuY3Rpb25zXHJcbntcclxuICAgIFxyXG4gICAgc3RhdGljIGdldENoaWxkcmVuQW5pbWF0aW9ucyhub2RlKTogY2MuQW5pbWF0aW9uW10ge1xyXG4gICAgICAgIGxldCBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW11cclxuICAgICAgICB2YXIgYW5pbSA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbilcclxuICAgICAgICBpZihhbmltKVxyXG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbSlcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaTwgbm9kZS5jaGlsZHJlbkNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICB2YXIgYW5pbSA9IGNoaWxkLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXHJcbiAgICAgICAgICAgIGlmKGFuaW0pXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc3RvcEFuaW1hdGlvbnMoYW5pbWF0aW9ucylcclxuICAgIHtcclxuICAgICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW06Y2MuQW5pbWF0aW9uKT0+e1xyXG4gICAgICAgICAgICBhbmltLnN0b3AoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkb1Nob3dBbmltYXRpb25zKGFuaW1hdGlvbnMsZmluaXNoQ2FsbGJhY2s/OkZ1bmN0aW9uLHRhcmdldD8pXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IG1heER1cmF0aW9uID0gMCA7XHJcbiAgICAgICAgbGV0IG1heER1cmF0aW9uQW5pbWF0aW9uOmNjLkFuaW1hdGlvbjtcclxuICAgICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW06Y2MuQW5pbWF0aW9uKT0+e1xyXG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcclxuICAgICAgICAgICAgaWYoY2xpcHMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1swXVxyXG4gICAgICAgICAgICAgICAgbGV0IGFuaW1TdGF0ZSA9IGFuaW0ucGxheShjbGlwLm5hbWUpXHJcbiAgICAgICAgICAgICAgICBhbmltU3RhdGUud3JhcE1vZGUgPSBjYy5XcmFwTW9kZS5Ob3JtYWxcclxuICAgICAgICAgICAgICAgIGlmIChjbGlwLmR1cmF0aW9uID4gbWF4RHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4RHVyYXRpb24gID0gY2xpcC5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbiA9IGFuaW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChmaW5pc2hDYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gZnVuY3Rpb24oKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImZpbmlzaCBhbmltYXRpb25zXCIpXHJcbiAgICAgICAgICAgICAgICBpZihtYXhEdXJhdGlvbkFuaW1hdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbi5vZmYoXCJmaW5pc2hlZFwiLGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgZmluaXNoQ2FsbGJhY2suY2FsbCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKG1heER1cmF0aW9uQW5pbWF0aW9uKVxyXG4gICAgICAgICAgICAgICAgbWF4RHVyYXRpb25BbmltYXRpb24ub24oXCJmaW5pc2hlZFwiLGZ1bmMpO1xyXG4gICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICAgICAgZmluaXNoQ2FsbGJhY2suY2FsbCh0YXJnZXQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhdGljIGdldExvbmdlc3RBbmltYXRpb24oYW5pbWF0aW9ucylcclxuICAgIC8vIHtcclxuICAgIC8vICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW06Y2MuQW5pbWF0aW9uKT0+e1xyXG4gICAgLy8gICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcclxuICAgIC8vICAgICAgICAgZm9yIChjbGlwcylcclxuICAgICAgICAgICAgXHJcbiAgICAvLyAgICAgICAgIC8v5Lul5pyA6ZW/55qE5Li65YeGXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vVE9ETzrov5jmnKrlrp7njrBcclxuICAgIHN0YXRpYyBpc0FuaW1hdGlvblJ1bm5pbmcoYW5pbWF0aW9uczogY2MuQW5pbWF0aW9uW10pOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZG9IaWRlQW5pbWF0aW9ucyhhbmltYXRpb25zLGZpbmlzaENhbGxiYWNrPzpGdW5jdGlvbix0YXJnZXQ/KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBoYXNIaWRlQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IG1heER1cmF0aW9uID0gMCA7XHJcbiAgICAgICAgbGV0IG1heER1cmF0aW9uQW5pbWF0aW9uOmNjLkFuaW1hdGlvbjtcclxuICAgICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW06Y2MuQW5pbWF0aW9uKT0+e1xyXG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBhbmltLmdldENsaXBzKClcclxuICAgICAgICAgICAgaWYoY2xpcHMubGVuZ3RoID09IDIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBjbGlwID0gY2xpcHNbY2xpcHMubGVuZ3RoLTFdXHJcbiAgICAgICAgICAgICAgICAvLyBhbmltLm9uKFwiZmluaXNoZWRcIixvbkhpZGVBbmltYXRpb25GaW5pc2hlZClcclxuICAgICAgICAgICAgICAgIGhhc0hpZGVBbmltYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYW5pbS5wbGF5KGNsaXAubmFtZSlcclxuICAgICAgICAgICAgICAgIGlmIChjbGlwLmR1cmF0aW9uID4gbWF4RHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4RHVyYXRpb24gID0gY2xpcC5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbiA9IGFuaW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGNsaXBzLmxlbmd0aCA9PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xpcCA9IGNsaXBzWzBdO1xyXG4gICAgICAgICAgICAgICAgLy8gY2xpcC53cmFwTW9kZSA9IGNjLldyYXBNb2RlLlJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICBoYXNIaWRlQW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBhbmltU3RhdGUgPSBhbmltLnBsYXkoY2xpcC5uYW1lKVxyXG4gICAgICAgICAgICAgICAgYW5pbVN0YXRlLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuUmV2ZXJzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsaXAuZHVyYXRpb24gPiBtYXhEdXJhdGlvbilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbiAgPSBjbGlwLmR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uID0gYW5pbTtcclxuICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKG1heER1cmF0aW9uQW5pbWF0aW9uICYmIGZpbmlzaENhbGxiYWNrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGZ1bmMgPSBmdW5jdGlvbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmluaXNoIGFuaW1hdGlvbnNcIilcclxuICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uLm9mZihcImZpbmlzaGVkXCIsZnVuYyk7XHJcbiAgICAgICAgICAgICAgICBmaW5pc2hDYWxsYmFjay5jYWxsKHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF4RHVyYXRpb25BbmltYXRpb24ub24oXCJmaW5pc2hlZFwiLGZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzSGlkZUFuaW1hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VG9nZ2xlSW5kZXgodG9nZ2xlOmNjLlRvZ2dsZSlcclxuICAgIHtcclxuICAgICAgICBsZXQgY29udGFpbmVyID0gdG9nZ2xlLm5vZGUuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBjb250YWluZXIuY2hpbGRyZW5Db3VudDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBjb250YWluZXIuY2hpbGRyZW5baV1cclxuICAgICAgICAgICAgaWYodG9nZ2xlLm5vZGUgPT0gY2hpbGQgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNlbGVjdFRvZ2dsZUluZGV4KHRvZ2dsZUNvbnRhaW5lcjpjYy5Ob2RlLGluZGV4KVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRvZ2dsZUNvbnRhaW5lciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltVSUZ1bmN0aW9uLnNlbGVjdFRvZ2dsZUluZGV4XSA6IGludmFsaWQgdG9nZ2xlQ29udGFpbmVyIDpcIiApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRvZ2dsZU5vZGUgPSB0b2dnbGVDb250YWluZXIuY2hpbGRyZW5baW5kZXhdXHJcbiAgICAgICAgaWYodG9nZ2xlTm9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSB0b2dnbGVOb2RlLmdldENvbXBvbmVudChjYy5Ub2dnbGUpXHJcbiAgICAgICAgICAgIGlmKHRvZ2dsZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbVUlGdW5jdGlvbi5zZWxlY3RUb2dnbGVJbmRleF0gOlwiICsgaW5kZXgpXHJcbiAgICAgICAgICAgICAgICB0b2dnbGUuY2hlY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltVSUZ1bmN0aW9uLnNlbGVjdFRvZ2dsZUluZGV4XSA6Y2Fubm90IGZpbmQgdG9nZ2xlIHdpdGggaW5kZXg6XCIrIGluZGV4KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXQgYnRuIFxyXG4gICAgc3RhdGljIHNldFRvdWNoRW5hYmxlZChub2RlLGIpXHJcbiAgICB7XHJcbiAgICAgICAgZy5mb3JlYWNoTm9kZShub2RlLGNoaWxkPT57XHJcbiAgICAgICAgICAgIGxldCBidG46Y2MuQnV0dG9uID0gY2hpbGQuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbilcclxuICAgICAgICAgICAgaWYoYnRuKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltVSUZ1bmN0aW9uXSBcIiArIGNoaWxkLm5hbWUgKyBcIiB0b3VjaCA6IFwiICsgYilcclxuICAgICAgICAgICAgICAgIGJ0bi5pbnRlcmFjdGFibGUgPSBiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0QnV0dG9uRW5hYmxlZChidG4sYilcclxuICAgIHtcclxuICAgICAgICBidG4ubm9kZS5vcGFjaXR5ID0gYj8yNTU6MTI1O1xyXG4gICAgICAgIGJ0bi5pbnRlcmFjdGFibGUgPSBiXHJcbiAgICB9XHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Common.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6d4aCOiTtJz6R1xuSQrtdC', 'Common');
// framework/plugin_boosts/utils/Common.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var Common = /** @class */ (function () {
    function Common() {
    }
    Common.loadJson = function (path) {
        return new Promise(function (resolve, reject) {
            cc.loader.loadRes(path, cc.JsonAsset, function (errorcode, data) {
                resolve(data.json);
            });
        });
    };
    Common.sleep = function (timeout) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                resolve();
            }, timeout * 1000);
        });
    };
    Common.isGreaterDays = function (before, num) {
        if (num === void 0) { num = 7; }
        var now = new Date();
        var diff = now.getTime() - before;
        if (diff > 86400000 * num) // 24*60*60*1000
         {
            return true;
        }
    };
    Common.setDisplay = function (sp, url) {
        SpriteFrameCache_1.default.instance.getSpriteFrame(url).then(function (sf) { sp.spriteFrame = sf; });
    };
    Common.generate_action = function (params) {
        var scale_action = cc.scaleTo(params.time, params.scale_x, params.scale_y);
        return scale_action;
    };
    //弹性效果 果冻效果 
    Common.jellyJump = function (node) {
        var spawn_action1 = this.generate_action({ time: 0.06, scale_x: 0.7, scale_y: 0.7, scale_z: 1 });
        // let  spawn_action2 = this.generate_action({time : 0.12, scale_x : 1.3, scale_y  :1.3, scale_z :1})
        var spawn_action3 = this.generate_action({ time: 0.07, scale_x: 1, scale_y: 1.4, scale_z: 1 });
        // let  spawn_action4 = this.generate_action({time : 0.07, scale_x : 1.3, scale_y  :1.3, scale_z: 1})
        // let  spawn_action5 = this.generate_action({time : 0.07, scale_x : 1.2, scale_y : 1.2, scale_z : 1})
        var spawn_action5 = cc.scaleTo(0.8, 1.3).easing(cc.easeElasticOut(0.3));
        var seq_actions = cc.sequence(spawn_action1, 
        //  spawn_action2,
        spawn_action3, 
        // spawn_action4,
        spawn_action5);
        node.runAction(seq_actions);
    };
    Common.jellyJump2 = function (node, from, scale) {
        node.scale = from;
        var act = cc.scaleTo(0.8, scale, scale).easing(cc.easeElasticOut(0.3));
        node.runAction(act);
    };
    Common.moveBezier = function (prefab, from, to, callback, dur, delay) {
        if (callback === void 0) { callback = null; }
        if (dur === void 0) { dur = 1; }
        if (delay === void 0) { delay = 0; }
        var sprite = cc.instantiate(prefab);
        sprite.opacity = 255;
        sprite.setPosition(from);
        var bezier = [];
        var x = from.x, y = from.y;
        var ex = to.x, ey = to.y;
        bezier[0] = cc.v2(x, y);
        bezier[1] = cc.v2(x + Math.abs(ex - x + 100) * 0.5, y + Math.abs(ey - y + 100) * 0.5);
        bezier[2] = cc.v2(ex, ey);
        sprite.runAction(cc.sequence(cc.delayTime(delay), cc.bezierTo(dur, bezier), cc.fadeOut(0.3), cc.callFunc(callback)));
        return sprite;
    };
    return Common;
}());
exports.default = Common;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcQ29tbW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2REFBd0Q7QUFFeEQ7SUFBQTtJQWtGQSxDQUFDO0lBaEZVLGVBQVEsR0FBZixVQUFnQixJQUFJO1FBRWhCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxVQUFDLFNBQVMsRUFBQyxJQUFJO2dCQUNoRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3RCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sWUFBSyxHQUFaLFVBQWEsT0FBTztRQUVoQixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFDLE1BQU07WUFDOUIsVUFBVSxDQUFDO2dCQUNQLE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxFQUFFLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQTtRQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFFTSxvQkFBYSxHQUFwQixVQUFxQixNQUFNLEVBQUUsR0FBTztRQUFQLG9CQUFBLEVBQUEsT0FBTztRQUVoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUE7UUFDakMsSUFBRyxJQUFJLEdBQUcsUUFBUSxHQUFHLEdBQUcsRUFBRSxnQkFBZ0I7U0FDMUM7WUFDSSxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUVNLGlCQUFVLEdBQWpCLFVBQWtCLEVBQUUsRUFBQyxHQUFHO1FBRXBCLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENB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Q0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQTtRQUNsRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNuSCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUwsYUFBQztBQUFELENBbEZBLEFBa0ZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25cclxue1xyXG4gICAgc3RhdGljIGxvYWRKc29uKHBhdGgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocGF0aCAsY2MuSnNvbkFzc2V0LChlcnJvcmNvZGUsZGF0YSk9PntcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YS5qc29uKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNsZWVwKHRpbWVvdXQpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICAgICAgfSwgdGltZW91dCAqIDEwMDApXHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNHcmVhdGVyRGF5cyhiZWZvcmUsIG51bSA9IDcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdmFyIGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gYmVmb3JlXHJcbiAgICAgICAgaWYoZGlmZiA+IDg2NDAwMDAwICogbnVtKSAvLyAyNCo2MCo2MCoxMDAwXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldERpc3BsYXkoc3AsdXJsKVxyXG4gICAge1xyXG4gICAgICAgIFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUodXJsKS50aGVuKHNmPT57c3Auc3ByaXRlRnJhbWUgPSBzZn0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBnZW5lcmF0ZV9hY3Rpb24ocGFyYW1zKXtcclxuICAgICAgICBsZXQgc2NhbGVfYWN0aW9uID0gY2Muc2NhbGVUbyhwYXJhbXMudGltZSwgcGFyYW1zLnNjYWxlX3gsIHBhcmFtcy5zY2FsZV95KVxyXG4gICAgICAgIHJldHVybiBzY2FsZV9hY3Rpb25cclxuICAgIH1cclxuXHJcbiAgICAvL+W8ueaAp+aViOaenCDmnpzlhrvmlYjmnpwgXHJcbiAgICBzdGF0aWMgIGplbGx5SnVtcChub2RlKVxyXG4gICAge1xyXG4gICAgICAgIGxldCAgc3Bhd25fYWN0aW9uMSA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNiwgc2NhbGVfeCA6IDAuNywgc2NhbGVfeSA6IDAuNywgc2NhbGVfejogMX0pXHJcbiAgICAgICAgLy8gbGV0ICBzcGF3bl9hY3Rpb24yID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjEyLCBzY2FsZV94IDogMS4zLCBzY2FsZV95ICA6MS4zLCBzY2FsZV96IDoxfSlcclxuICAgICAgICBsZXQgIHNwYXduX2FjdGlvbjMgPSB0aGlzLmdlbmVyYXRlX2FjdGlvbih7dGltZSA6IDAuMDcsIHNjYWxlX3ggOiAxLCBzY2FsZV95ICA6MS40LCBzY2FsZV96IDoxfSlcclxuICAgICAgICAvLyBsZXQgIHNwYXduX2FjdGlvbjQgPSB0aGlzLmdlbmVyYXRlX2FjdGlvbih7dGltZSA6IDAuMDcsIHNjYWxlX3ggOiAxLjMsIHNjYWxlX3kgIDoxLjMsIHNjYWxlX3o6IDF9KVxyXG4gICAgICAgIC8vIGxldCAgc3Bhd25fYWN0aW9uNSA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNywgc2NhbGVfeCA6IDEuMiwgc2NhbGVfeSA6IDEuMiwgc2NhbGVfeiA6IDF9KVxyXG4gICAgICAgIGxldCBzcGF3bl9hY3Rpb241ID0gY2Muc2NhbGVUbygwLjgsIDEuMykuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuMykpO1xyXG4gICAgICAgIGxldCAgc2VxX2FjdGlvbnMgPSBjYy5zZXF1ZW5jZShzcGF3bl9hY3Rpb24xLFxyXG4gICAgICAgICAgICAvLyAgc3Bhd25fYWN0aW9uMixcclxuICAgICAgICAgICAgICAgIHNwYXduX2FjdGlvbjMsXHJcbiAgICAgICAgICAgICAgICAvLyBzcGF3bl9hY3Rpb240LFxyXG4gICAgICAgICAgICAgICAgc3Bhd25fYWN0aW9uNSlcclxuICAgICAgICBub2RlLnJ1bkFjdGlvbihzZXFfYWN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGplbGx5SnVtcDIobm9kZSxmcm9tLHNjYWxlKVxyXG4gICAge1xyXG4gICAgICAgIG5vZGUuc2NhbGUgPSBmcm9tO1xyXG4gICAgICAgIGxldCBhY3QgPSBjYy5zY2FsZVRvKDAuOCwgc2NhbGUsc2NhbGUpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjMpKTtcclxuICAgICAgICBub2RlLnJ1bkFjdGlvbihhY3QpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1vdmVCZXppZXIocHJlZmFiLGZyb20sdG8sY2FsbGJhY2sgPSBudWxsLGR1ciA9IDEsZGVsYXkgPSAwKXtcclxuICAgICAgICBsZXQgc3ByaXRlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxyXG4gICAgICAgIHNwcml0ZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgIHNwcml0ZS5zZXRQb3NpdGlvbihmcm9tKVxyXG5cclxuICAgICAgICBsZXQgYmV6aWVyID0gW11cclxuICAgICAgICBsZXQgeCA9IGZyb20ueCwgeSA9IGZyb20ueVxyXG4gICAgICAgIGxldCBleCA9IHRvLngsIGV5ID0gdG8ueTtcclxuICAgICAgICBiZXppZXJbMF0gPSBjYy52Mih4LCB5KVxyXG4gICAgICAgIGJlemllclsxXSA9IGNjLnYyKHggKyBNYXRoLmFicyhleCAtIHgrIDEwMCkgKiAwLjUsIHkgKyBNYXRoLmFicyhleSAtIHkrMTAwKSAqIDAuNSlcclxuICAgICAgICBiZXppZXJbMl0gPSBjYy52MihleCwgZXkpXHJcblxyXG4gICAgICAgIHNwcml0ZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGRlbGF5KSxjYy5iZXppZXJUbyhkdXIsIGJlemllcikgLCBjYy5mYWRlT3V0KDAuMyksY2MuY2FsbEZ1bmMoY2FsbGJhY2spKSlcclxuICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgfVxyXG5cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Intersection.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f4dfDdP95AjIAwGFL34sfm', 'Intersection');
// framework/plugin_boosts/utils/Intersection.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Intersection = /** @class */ (function () {
    function Intersection() {
    }
    // contains and intesect
    Intersection.circleIntersectRect = function (circle_pt, radius, rect) {
        var cx = 0;
        var cy = 0;
        //Find the point on the collision box closest to the center of the circle
        if (circle_pt.x < rect.x)
            cx = rect.x;
        else if (circle_pt.x > rect.x + rect.width)
            cx = rect.x + rect.width;
        else
            cx = circle_pt.x;
        if (circle_pt.y < rect.y)
            cy = rect.y;
        else if (circle_pt.y > rect.y + rect.height)
            cy = rect.y + rect.height;
        else
            cy = circle_pt.y;
        var v2 = cc.v2(cx, cy);
        v2.subSelf(circle_pt);
        if (v2.magSqr() < radius * radius)
            return true;
        return false;
    };
    return Intersection;
}());
exports.default = Intersection;
/***
// 矩形和圆形碰撞检测
bool IsCirlceCollisionRect(float circleXPos, float circleYPos, float radius, float rectX, float rectY, float rectW, float rectH)
{
    float arcR  = radius;
    float arcOx = circleXPos;
    float arcOy = circleYPos;

    //分别判断矩形4个顶点与圆心的距离是否<=圆半径；如果<=，说明碰撞成功
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;

    //判断当圆心的Y坐标进入矩形内时X的位置，如果X在(rectX-arcR)到(rectX+rectW+arcR)这个范围内，则碰撞成功
    float minDisX = 0;
    if(arcOy >= rectY && arcOy <= rectY + rectH)
    {
        if(arcOx < rectX)
            minDisX = rectX - arcOx;
        else if(arcOx > rectX + rectW)
            minDisX = arcOx - rectX - rectW;
        else
            return true;
        if(minDisX <= arcR)
            return true;
    }

    //判断当圆心的X坐标进入矩形内时Y的位置，如果X在(rectY-arcR)到(rectY+rectH+arcR)这个范围内，则碰撞成功
    float minDisY = 0;
    if(arcOx >= rectX && arcOx <= rectX + rectW)
    {
        if(arcOy < rectY)
            minDisY = rectY - arcOy;
        else if(arcOy > rectY + rectH)
            minDisY = arcOy - rectY - rectH;
        else
            return true;
        if(minDisY <= arcR)
            return true;
    }

    return false;
}

// 线段和线段碰撞检测
bool IsLineCollisionLine(cocos2d::CCPoint p1, cocos2d::CCPoint p2, cocos2d::CCPoint p3, cocos2d::CCPoint p4)
{
    float x1 = p1.x, x2 = p2.x, x3 = p3.x, x4 = p4.x;
    float y1 = p1.y, y2 = p2.y, y3 = p3.y, y4 = p4.y;

    float d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);
    // If d is zero, there is no intersection
    if (d == 0)
        return false;

    // Get the x and y
    float pre = (x1*y2 - y1*x2), post = (x3*y4 - y3*x4);
    float x = ( pre * (x3 - x4) - (x1 - x2) * post ) / d;
    float y = ( pre * (y3 - y4) - (y1 - y2) * post ) / d;

    // Check if the x and y coordinates are within both lines
    if ( x < MIN(x1, x2) || x > MAX(x1, x2) ||
        x < MIN(x3, x4) || x > MAX(x3, x4) )
        return false;

    if ( y < MIN(y1, y2) || y > MAX(y1, y2) ||
        y < MIN(y3, y4) || y > MAX(y3, y4) )
        return false;

    return true;
}

static float mult(cocos2d::CCPoint a, cocos2d::CCPoint b, cocos2d::CCPoint c)
{
    return (a.x-c.x)*(b.y-c.y)-(b.x-c.x)*(a.y-c.y);
}

bool IsLineCollisionLine2(cocos2d::CCPoint aa, cocos2d::CCPoint bb, cocos2d::CCPoint cc, cocos2d::CCPoint dd)
{
    if ( MAX(aa.x, bb.x)<MIN(cc.x, dd.x) )
        return false;

    if ( MAX(aa.y, bb.y)<MIN(cc.y, dd.y) )
        return false;

    if ( MAX(cc.x, dd.x)<MIN(aa.x, bb.x) )
        return false;

    if ( MAX(cc.y, dd.y)<MIN(aa.y, bb.y) )
        return false;

    if (mult(cc, bb, aa)*mult(bb, dd, aa)<0.0001f)
        return false;

    if (mult(aa, dd, cc)*mult(dd, bb, cc)<0.0001f)
        return false;

    return true;
}

// 线段和矩形碰撞检测
bool IsLineCollisionRect(cocos2d::CCPoint lineStartPoint, cocos2d::CCPoint lineEndPoint, cocos2d::CCPoint rectleftBottomPoint, float width, float height)
{
    // 因为这个方法专门进行射线光束的碰撞检测，所以暂不进行线段在矩形内的碰撞检测
    cocos2d::CCPoint leftLineStartPoint = rectleftBottomPoint;
    cocos2d::CCPoint leftLineEndPoint   = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);

    cocos2d::CCPoint rightLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    cocos2d::CCPoint rightLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint topLineStartPoint  = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);
    cocos2d::CCPoint topLineEndPoint    = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint bottomLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y);
    cocos2d::CCPoint bottomLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    
    cocos2d::CCPoint leftBottomLineStartPoint= rectleftBottomPoint;
    cocos2d::CCPoint rightTopLineEndPoint    = rightLineEndPoint;

    cocos2d::CCPoint leftTopLineStartPoint   = leftLineEndPoint;
    cocos2d::CCPoint rightBottomLineEndPoint = rightLineStartPoint;


    do
    {
        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftLineStartPoint, leftLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, rightLineStartPoint, rightLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, topLineStartPoint, topLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, bottomLineStartPoint, bottomLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftBottomLineStartPoint, rightTopLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftTopLineStartPoint, rightBottomLineEndPoint))
            break;

        return false;
    }
    while (false);

    return true;
}

static  bool  IsRectCollisionRect2(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    cocos2d::CCPoint leftTopPoint     = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint leftBottomPoint  = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);
    cocos2d::CCPoint rightTopPoint    = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint rightBottomPoint = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);

    if ( (leftTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (leftBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    return false;
}

// 矩形和矩形碰撞检测
bool  IsRectCollisionRect(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    if (IsRectCollisionRect2(rect1CenterPoint, rect1W, rect1H, rect2CenterPoint, rect2W, rect2H))
        return true;
    
    if (IsRectCollisionRect2(rect2CenterPoint, rect2W, rect2H, rect1CenterPoint, rect1W, rect1H))
        return true;

    return false;
}

**/ 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcSW50ZXJzZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBeUJBLENBQUM7SUF2Qkcsd0JBQXdCO0lBQ2pCLGdDQUFtQixHQUExQixVQUEyQixTQUFpQixFQUFFLE1BQU0sRUFBRSxJQUFJO1FBQ3RELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLHlFQUF5RTtRQUN6RSxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSztZQUN0QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBOztZQUV4QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUN2QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBOztZQUV6QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLEVBQUUsR0FBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQTtRQUNwQixFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ3JCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sR0FBRyxNQUFNO1lBQzdCLE9BQU8sSUFBSSxDQUFBO1FBQ2YsT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0F6QkEsQUF5QkMsSUFBQTs7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlNRyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyc2VjdGlvblxyXG57XHJcbiAgICAvLyBjb250YWlucyBhbmQgaW50ZXNlY3RcclxuICAgIHN0YXRpYyBjaXJjbGVJbnRlcnNlY3RSZWN0KGNpcmNsZV9wdDpjYy5WZWMyLMKgcmFkaXVzLMKgcmVjdCl7XHJcbiAgICDCoMKgwqDCoGxldMKgY3jCoD0gMFxyXG4gICAgwqDCoMKgwqBsZXTCoGN5wqA9IDBcclxuICAgIMKgwqDCoMKgLy9GaW5kwqB0aGXCoHBvaW50wqBvbsKgdGhlwqBjb2xsaXNpb27CoGJveMKgY2xvc2VzdMKgdG/CoHRoZcKgY2VudGVywqBvZsKgdGhlwqBjaXJjbGVcclxuICAgIMKgwqDCoMKgaWbCoChjaXJjbGVfcHQueMKgPMKgcmVjdC54KVxyXG4gICAgwqDCoMKgwqDCoMKgwqDCoGN4wqA9wqByZWN0LnhcclxuICAgIMKgwqDCoMKgZWxzZSBpZsKgKGNpcmNsZV9wdC54wqA+wqByZWN0LnjCoCvCoHJlY3Qud2lkdGgpXHJcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoHJlY3QueMKgK8KgcmVjdC53aWR0aFxyXG4gICAgwqDCoMKgwqBlbHNlXHJcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoGNpcmNsZV9wdC54XHJcbiAgICDCoMKgwqDCoGlmwqAoY2lyY2xlX3B0LnnCoDzCoHJlY3QuecKgKVxyXG4gICAgwqDCoMKgwqDCoMKgwqDCoGN5wqA9wqByZWN0LnlcclxuICAgIMKgwqDCoMKgZWxzZSBpZijCoGNpcmNsZV9wdC55wqA+wqByZWN0LnnCoCvCoHJlY3QuaGVpZ2h0KVxyXG4gICAgwqDCoMKgwqDCoMKgwqDCoGN5wqA9wqByZWN0LnnCoCvCoHJlY3QuaGVpZ2h0XHJcbiAgICDCoMKgwqDCoGVsc2VcclxuICAgIMKgwqDCoMKgwqDCoMKgwqBjecKgPcKgY2lyY2xlX3B0LnlcclxuICAgICAgICBsZXQgdjIgPWNjLnYyKGN4LGN5KSBcclxuICAgICAgICB2Mi5zdWJTZWxmKGNpcmNsZV9wdCkgICAgXHJcbiAgICDCoMKgwqDCoGlmwqAodjIubWFnU3FyKCnCoDzCoHJhZGl1cyAqIHJhZGl1cylcclxuICAgIMKgwqDCoMKgwqDCoMKgwqByZXR1cm7CoHRydWVcclxuICAgIMKgwqDCoMKgcmV0dXJuwqBmYWxzZVxyXG4gICAgfVxyXG59XHJcbi8qKipcclxuLy8g55+p5b2i5ZKM5ZyG5b2i56Kw5pKe5qOA5rWLXHJcbmJvb2wgSXNDaXJsY2VDb2xsaXNpb25SZWN0KGZsb2F0IGNpcmNsZVhQb3MsIGZsb2F0IGNpcmNsZVlQb3MsIGZsb2F0IHJhZGl1cywgZmxvYXQgcmVjdFgsIGZsb2F0IHJlY3RZLCBmbG9hdCByZWN0VywgZmxvYXQgcmVjdEgpXHJcbntcclxuICAgIGZsb2F0IGFyY1IgID0gcmFkaXVzO1xyXG4gICAgZmxvYXQgYXJjT3ggPSBjaXJjbGVYUG9zO1xyXG4gICAgZmxvYXQgYXJjT3kgPSBjaXJjbGVZUG9zO1xyXG5cclxuICAgIC8v5YiG5Yir5Yik5pat55+p5b2iNOS4qumhtueCueS4juWchuW/g+eahOi3neemu+aYr+WQpjw95ZyG5Y2K5b6E77yb5aaC5p6cPD3vvIzor7TmmI7norDmkp7miJDlip8gICBcclxuICAgIGlmKCgocmVjdFgtYXJjT3gpICogKHJlY3RYLWFyY094KSArIChyZWN0WS1hcmNPeSkgKiAocmVjdFktYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcclxuICAgICAgICByZXR1cm4gdHJ1ZTsgICBcclxuICAgIGlmKCgocmVjdFgrcmVjdFctYXJjT3gpICogKHJlY3RYK3JlY3RXLWFyY094KSArIChyZWN0WS1hcmNPeSkgKiAocmVjdFktYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcclxuICAgICAgICByZXR1cm4gdHJ1ZTsgICBcclxuICAgIGlmKCgocmVjdFgtYXJjT3gpICogKHJlY3RYLWFyY094KSArIChyZWN0WStyZWN0SC1hcmNPeSkgKiAocmVjdFkrcmVjdEgtYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcclxuICAgICAgICByZXR1cm4gdHJ1ZTsgICBcclxuICAgIGlmKCgocmVjdFgrcmVjdFctYXJjT3gpICogKHJlY3RYK3JlY3RXLWFyY094KSArIChyZWN0WStyZWN0SC1hcmNPeSkgKiAocmVjdFkrcmVjdEgtYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAvL+WIpOaWreW9k+WchuW/g+eahFnlnZDmoIfov5vlhaXnn6nlvaLlhoXml7ZY55qE5L2N572u77yM5aaC5p6cWOWcqChyZWN0WC1hcmNSKeWIsChyZWN0WCtyZWN0VythcmNSKei/meS4quiMg+WbtOWGhe+8jOWImeeisOaSnuaIkOWKnyAgIFxyXG4gICAgZmxvYXQgbWluRGlzWCA9IDA7ICAgXHJcbiAgICBpZihhcmNPeSA+PSByZWN0WSAmJiBhcmNPeSA8PSByZWN0WSArIHJlY3RIKVxyXG4gICAgeyAgIFxyXG4gICAgICAgIGlmKGFyY094IDwgcmVjdFgpICAgXHJcbiAgICAgICAgICAgIG1pbkRpc1ggPSByZWN0WCAtIGFyY094OyAgIFxyXG4gICAgICAgIGVsc2UgaWYoYXJjT3ggPiByZWN0WCArIHJlY3RXKSAgIFxyXG4gICAgICAgICAgICBtaW5EaXNYID0gYXJjT3ggLSByZWN0WCAtIHJlY3RXOyAgIFxyXG4gICAgICAgIGVsc2UgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgIFxyXG4gICAgICAgIGlmKG1pbkRpc1ggPD0gYXJjUikgICBcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7ICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy/liKTmlq3lvZPlnIblv4PnmoRY5Z2Q5qCH6L+b5YWl55+p5b2i5YaF5pe2WeeahOS9jee9ru+8jOWmguaenFjlnKgocmVjdFktYXJjUinliLAocmVjdFkrcmVjdEgrYXJjUinov5nkuKrojIPlm7TlhoXvvIzliJnnorDmkp7miJDlip9cclxuICAgIGZsb2F0IG1pbkRpc1kgPSAwOyAgIFxyXG4gICAgaWYoYXJjT3ggPj0gcmVjdFggJiYgYXJjT3ggPD0gcmVjdFggKyByZWN0VylcclxuICAgIHsgICBcclxuICAgICAgICBpZihhcmNPeSA8IHJlY3RZKSAgIFxyXG4gICAgICAgICAgICBtaW5EaXNZID0gcmVjdFkgLSBhcmNPeTsgICBcclxuICAgICAgICBlbHNlIGlmKGFyY095ID4gcmVjdFkgKyByZWN0SCkgICBcclxuICAgICAgICAgICAgbWluRGlzWSA9IGFyY095IC0gcmVjdFkgLSByZWN0SDsgICBcclxuICAgICAgICBlbHNlICBcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7ICAgXHJcbiAgICAgICAgaWYobWluRGlzWSA8PSBhcmNSKSAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7IFxyXG59XHJcblxyXG4vLyDnur/mrrXlkoznur/mrrXnorDmkp7mo4DmtYtcclxuYm9vbCBJc0xpbmVDb2xsaXNpb25MaW5lKGNvY29zMmQ6OkNDUG9pbnQgcDEsIGNvY29zMmQ6OkNDUG9pbnQgcDIsIGNvY29zMmQ6OkNDUG9pbnQgcDMsIGNvY29zMmQ6OkNDUG9pbnQgcDQpXHJcbntcclxuICAgIGZsb2F0IHgxID0gcDEueCwgeDIgPSBwMi54LCB4MyA9IHAzLngsIHg0ID0gcDQueDtcclxuICAgIGZsb2F0IHkxID0gcDEueSwgeTIgPSBwMi55LCB5MyA9IHAzLnksIHk0ID0gcDQueTtcclxuXHJcbiAgICBmbG9hdCBkID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xyXG4gICAgLy8gSWYgZCBpcyB6ZXJvLCB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb25cclxuICAgIGlmIChkID09IDApIFxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHggYW5kIHlcclxuICAgIGZsb2F0IHByZSA9ICh4MSp5MiAtIHkxKngyKSwgcG9zdCA9ICh4Myp5NCAtIHkzKng0KTtcclxuICAgIGZsb2F0IHggPSAoIHByZSAqICh4MyAtIHg0KSAtICh4MSAtIHgyKSAqIHBvc3QgKSAvIGQ7XHJcbiAgICBmbG9hdCB5ID0gKCBwcmUgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiBwb3N0ICkgLyBkO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gYm90aCBsaW5lc1xyXG4gICAgaWYgKCB4IDwgTUlOKHgxLCB4MikgfHwgeCA+IE1BWCh4MSwgeDIpIHx8XHJcbiAgICAgICAgeCA8IE1JTih4MywgeDQpIHx8IHggPiBNQVgoeDMsIHg0KSApXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGlmICggeSA8IE1JTih5MSwgeTIpIHx8IHkgPiBNQVgoeTEsIHkyKSB8fFxyXG4gICAgICAgIHkgPCBNSU4oeTMsIHk0KSB8fCB5ID4gTUFYKHkzLCB5NCkgKSBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbnN0YXRpYyBmbG9hdCBtdWx0KGNvY29zMmQ6OkNDUG9pbnQgYSwgY29jb3MyZDo6Q0NQb2ludCBiLCBjb2NvczJkOjpDQ1BvaW50IGMpXHJcbntcclxuICAgIHJldHVybiAoYS54LWMueCkqKGIueS1jLnkpLShiLngtYy54KSooYS55LWMueSk7XHJcbn1cclxuXHJcbmJvb2wgSXNMaW5lQ29sbGlzaW9uTGluZTIoY29jb3MyZDo6Q0NQb2ludCBhYSwgY29jb3MyZDo6Q0NQb2ludCBiYiwgY29jb3MyZDo6Q0NQb2ludCBjYywgY29jb3MyZDo6Q0NQb2ludCBkZClcclxue1xyXG4gICAgaWYgKCBNQVgoYWEueCwgYmIueCk8TUlOKGNjLngsIGRkLngpIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKCBNQVgoYWEueSwgYmIueSk8TUlOKGNjLnksIGRkLnkpIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKCBNQVgoY2MueCwgZGQueCk8TUlOKGFhLngsIGJiLngpIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKCBNQVgoY2MueSwgZGQueSk8TUlOKGFhLnksIGJiLnkpIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKG11bHQoY2MsIGJiLCBhYSkqbXVsdChiYiwgZGQsIGFhKTwwLjAwMDFmKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBpZiAobXVsdChhYSwgZGQsIGNjKSptdWx0KGRkLCBiYiwgY2MpPDAuMDAwMWYpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyDnur/mrrXlkoznn6nlvaLnorDmkp7mo4DmtYtcclxuYm9vbCBJc0xpbmVDb2xsaXNpb25SZWN0KGNvY29zMmQ6OkNDUG9pbnQgbGluZVN0YXJ0UG9pbnQsIGNvY29zMmQ6OkNDUG9pbnQgbGluZUVuZFBvaW50LCBjb2NvczJkOjpDQ1BvaW50IHJlY3RsZWZ0Qm90dG9tUG9pbnQsIGZsb2F0IHdpZHRoLCBmbG9hdCBoZWlnaHQpXHJcbntcclxuICAgIC8vIOWboOS4uui/meS4quaWueazleS4k+mXqOi/m+ihjOWwhOe6v+WFieadn+eahOeisOaSnuajgOa1i++8jOaJgOS7peaaguS4jei/m+ihjOe6v+auteWcqOefqeW9ouWGheeahOeisOaSnuajgOa1i1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCBsZWZ0TGluZVN0YXJ0UG9pbnQgPSByZWN0bGVmdEJvdHRvbVBvaW50O1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCBsZWZ0TGluZUVuZFBvaW50ICAgPSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54LCBsZWZ0TGluZVN0YXJ0UG9pbnQueStoZWlnaHQpO1xyXG5cclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRMaW5lU3RhcnRQb2ludD0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkpO1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCByaWdodExpbmVFbmRQb2ludCAgPSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54K3dpZHRoLCBsZWZ0TGluZVN0YXJ0UG9pbnQueStoZWlnaHQpO1xyXG5cclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgdG9wTGluZVN0YXJ0UG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgdG9wTGluZUVuZFBvaW50ICAgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcclxuXHJcbiAgICBjb2NvczJkOjpDQ1BvaW50IGJvdHRvbUxpbmVTdGFydFBvaW50PSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54LCBsZWZ0TGluZVN0YXJ0UG9pbnQueSk7XHJcbiAgICBjb2NvczJkOjpDQ1BvaW50IGJvdHRvbUxpbmVFbmRQb2ludCAgPSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54K3dpZHRoLCBsZWZ0TGluZVN0YXJ0UG9pbnQueSk7XHJcbiAgICBcclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdEJvdHRvbUxpbmVTdGFydFBvaW50PSByZWN0bGVmdEJvdHRvbVBvaW50O1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCByaWdodFRvcExpbmVFbmRQb2ludCAgICA9IHJpZ2h0TGluZUVuZFBvaW50O1xyXG5cclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcExpbmVTdGFydFBvaW50ICAgPSBsZWZ0TGluZUVuZFBvaW50O1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCByaWdodEJvdHRvbUxpbmVFbmRQb2ludCA9IHJpZ2h0TGluZVN0YXJ0UG9pbnQ7XHJcblxyXG5cclxuICAgIGRvIFxyXG4gICAge1xyXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0TGluZVN0YXJ0UG9pbnQsIGxlZnRMaW5lRW5kUG9pbnQpKVxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgaWYgKElzTGluZUNvbGxpc2lvbkxpbmUyKGxpbmVTdGFydFBvaW50LCBsaW5lRW5kUG9pbnQsIHJpZ2h0TGluZVN0YXJ0UG9pbnQsIHJpZ2h0TGluZUVuZFBvaW50KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCB0b3BMaW5lU3RhcnRQb2ludCwgdG9wTGluZUVuZFBvaW50KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBib3R0b21MaW5lU3RhcnRQb2ludCwgYm90dG9tTGluZUVuZFBvaW50KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0Qm90dG9tTGluZVN0YXJ0UG9pbnQsIHJpZ2h0VG9wTGluZUVuZFBvaW50KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0VG9wTGluZVN0YXJ0UG9pbnQsIHJpZ2h0Qm90dG9tTGluZUVuZFBvaW50KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbiAgICB3aGlsZSAoZmFsc2UpO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5zdGF0aWMgIGJvb2wgIElzUmVjdENvbGxpc2lvblJlY3QyKGNvY29zMmQ6OkNDUG9pbnQgcmVjdDFDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDFXLCBmbG9hdCByZWN0MUgsIGNvY29zMmQ6OkNDUG9pbnQgcmVjdDJDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDJXLCBmbG9hdCByZWN0MkgpXHJcbntcclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcFBvaW50ICAgICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54LXJlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnkrcmVjdDJILzIuMGYpO1xyXG4gICAgY29jb3MyZDo6Q0NQb2ludCBsZWZ0Qm90dG9tUG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChyZWN0MkNlbnRlclBvaW50LngtcmVjdDJXLzIuMGYsIHJlY3QyQ2VudGVyUG9pbnQueS1yZWN0MkgvMi4wZik7XHJcbiAgICBjb2NvczJkOjpDQ1BvaW50IHJpZ2h0VG9wUG9pbnQgICAgPSBjb2NvczJkOjpDQ1BvaW50KHJlY3QyQ2VudGVyUG9pbnQueCtyZWN0MlcvMi4wZiwgcmVjdDJDZW50ZXJQb2ludC55K3JlY3QySC8yLjBmKTtcclxuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRCb3R0b21Qb2ludCA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54K3JlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnktcmVjdDJILzIuMGYpO1xyXG5cclxuICAgIGlmICggKGxlZnRUb3BQb2ludC54PihyZWN0MUNlbnRlclBvaW50LngtcmVjdDFXLzIuMGYpKSAmJiAobGVmdFRvcFBvaW50Lng8KHJlY3QxQ2VudGVyUG9pbnQueCtyZWN0MVcvMi4wZikpIFxyXG4gICAgICAgICYmIChsZWZ0VG9wUG9pbnQueT4ocmVjdDFDZW50ZXJQb2ludC55LXJlY3QxSC8yLjBmKSkgJiYgKGxlZnRUb3BQb2ludC55PChyZWN0MUNlbnRlclBvaW50LnkrcmVjdDFILzIuMGYpKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIChsZWZ0Qm90dG9tUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKGxlZnRCb3R0b21Qb2ludC54PChyZWN0MUNlbnRlclBvaW50LngrcmVjdDFXLzIuMGYpKSBcclxuICAgICAgICAmJiAobGVmdEJvdHRvbVBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChsZWZ0Qm90dG9tUG9pbnQueTwocmVjdDFDZW50ZXJQb2ludC55K3JlY3QxSC8yLjBmKSkpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgaWYgKCAocmlnaHRUb3BQb2ludC54PihyZWN0MUNlbnRlclBvaW50LngtcmVjdDFXLzIuMGYpKSAmJiAocmlnaHRUb3BQb2ludC54PChyZWN0MUNlbnRlclBvaW50LngrcmVjdDFXLzIuMGYpKSBcclxuICAgICAgICAmJiAocmlnaHRUb3BQb2ludC55PihyZWN0MUNlbnRlclBvaW50LnktcmVjdDFILzIuMGYpKSAmJiAocmlnaHRUb3BQb2ludC55PChyZWN0MUNlbnRlclBvaW50LnkrcmVjdDFILzIuMGYpKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIChyaWdodEJvdHRvbVBvaW50Lng+KHJlY3QxQ2VudGVyUG9pbnQueC1yZWN0MVcvMi4wZikpICYmIChyaWdodEJvdHRvbVBvaW50Lng8KHJlY3QxQ2VudGVyUG9pbnQueCtyZWN0MVcvMi4wZikpIFxyXG4gICAgICAgICYmIChyaWdodEJvdHRvbVBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChyaWdodEJvdHRvbVBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8g55+p5b2i5ZKM55+p5b2i56Kw5pKe5qOA5rWLXHJcbmJvb2wgIElzUmVjdENvbGxpc2lvblJlY3QoY29jb3MyZDo6Q0NQb2ludCByZWN0MUNlbnRlclBvaW50LCBmbG9hdCByZWN0MVcsIGZsb2F0IHJlY3QxSCwgY29jb3MyZDo6Q0NQb2ludCByZWN0MkNlbnRlclBvaW50LCBmbG9hdCByZWN0MlcsIGZsb2F0IHJlY3QySClcclxue1xyXG4gICAgaWYgKElzUmVjdENvbGxpc2lvblJlY3QyKHJlY3QxQ2VudGVyUG9pbnQsIHJlY3QxVywgcmVjdDFILCByZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCkpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBcclxuICAgIGlmIChJc1JlY3RDb2xsaXNpb25SZWN0MihyZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCwgcmVjdDFDZW50ZXJQb2ludCwgcmVjdDFXLCByZWN0MUgpKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuKiovIl19
//------QC-SOURCE-SPLIT------
