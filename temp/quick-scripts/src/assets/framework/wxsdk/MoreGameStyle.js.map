{"version":3,"sources":["assets\\framework\\wxsdk\\MoreGameStyle.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConfig } from \"./GameConfigs\";\r\nimport MoreGameComponent from \"./MoreGameComponent\";\r\nimport { Task } from \"./MoreGameManager\";\r\n//小游戏跳转\r\n//https://developers.weixin.qq.com/miniprogram/dev/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html?search-key=navigateToMiniProgram\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MoreGameStyle extends MoreGameComponent {\r\n\r\n    @property([cc.Sprite])\r\n    icons:cc.Sprite[] = []\r\n\r\n    @property([cc.Button])\r\n    buttons:cc.Button[] = []\r\n\r\n    @property([cc.Label])\r\n    labels:cc.Label[] = []\r\n\r\n    datas:any[]  = []\r\n\r\n    get count()\r\n    {\r\n        return this.icons.length;\r\n    }\r\n\r\n    onLoad()\r\n    {\r\n        for (var i = 0 ;i < this.buttons.length;i++)\r\n        {\r\n            let btn = this.buttons[i]\r\n            let eventHandler = new cc.Component.EventHandler();\r\n            eventHandler.target = this.node;\r\n            eventHandler.component = \"MoreGameStyle\"\r\n            eventHandler.handler = \"onClick\"\r\n            eventHandler.customEventData = i +\"\";\r\n            btn.clickEvents.push(eventHandler)\r\n            this.labels[i].node.active = false\r\n            this.icons[i].node.active = false;\r\n            btn.interactable = false;\r\n        } \r\n    }\r\n\r\n\r\n    onClick(sender,data:string)\r\n    {\r\n        let i = Number(data)\r\n        let list = this.list\r\n        let task = list[i]\r\n        this.manager.clickGame(task.gameConfig);\r\n    }\r\n\r\n\r\n    onShow()\r\n    {\r\n        let list:Task[] = this.list;\r\n        for (var i = 0 ;i < this.icons.length;i++)\r\n        {\r\n            let task = list[i];\r\n            let icon = this.icons[i]\r\n            if(task)\r\n            {\r\n                let label = this.labels[i]\r\n                label.string = task.gameConfig.title\r\n                this.labels[i].node.active = true\r\n                icon.node.active = true;\r\n                this.buttons[i].interactable = true\r\n                this.manager.getSpriteFrame(task.gameConfig.icon).then(sf=>{\r\n                    icon.spriteFrame = sf;\r\n                })\r\n                \r\n            }\r\n        }\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}