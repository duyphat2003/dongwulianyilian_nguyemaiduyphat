{"version":3,"sources":["assets\\framework\\wxsdk\\MoreGameStyle.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConfig } from \"./GameConfigs\";\nimport MoreGameComponent from \"./MoreGameComponent\";\nimport { Task } from \"./MoreGameManager\";\n//小游戏跳转\n//https://developers.weixin.qq.com/miniprogram/dev/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html?search-key=navigateToMiniProgram\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class MoreGameStyle extends MoreGameComponent {\n\n    @property([cc.Sprite])\n    icons:cc.Sprite[] = []\n\n    @property([cc.Button])\n    buttons:cc.Button[] = []\n\n    @property([cc.Label])\n    labels:cc.Label[] = []\n\n    datas:any[]  = []\n\n    get count()\n    {\n        return this.icons.length;\n    }\n\n    onLoad()\n    {\n        for (var i = 0 ;i < this.buttons.length;i++)\n        {\n            let btn = this.buttons[i]\n            let eventHandler = new cc.Component.EventHandler();\n            eventHandler.target = this.node;\n            eventHandler.component = \"MoreGameStyle\"\n            eventHandler.handler = \"onClick\"\n            eventHandler.customEventData = i +\"\";\n            btn.clickEvents.push(eventHandler)\n            this.labels[i].node.active = false\n            this.icons[i].node.active = false;\n            btn.interactable = false;\n        } \n    }\n\n\n    onClick(sender,data:string)\n    {\n        let i = Number(data)\n        let list = this.list\n        let task = list[i]\n        this.manager.clickGame(task.gameConfig);\n    }\n\n\n    onShow()\n    {\n        let list:Task[] = this.list;\n        for (var i = 0 ;i < this.icons.length;i++)\n        {\n            let task = list[i];\n            let icon = this.icons[i]\n            if(task)\n            {\n                let label = this.labels[i]\n                label.string = task.gameConfig.title\n                this.labels[i].node.active = true\n                icon.node.active = true;\n                this.buttons[i].interactable = true\n                this.manager.getSpriteFrame(task.gameConfig.icon).then(sf=>{\n                    icon.spriteFrame = sf;\n                })\n                \n            }\n        }\n    }\n    // update (dt) {}\n}\n"]}