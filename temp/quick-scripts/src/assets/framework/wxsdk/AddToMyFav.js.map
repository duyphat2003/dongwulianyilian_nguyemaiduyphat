{"version":3,"sources":["assets\\framework\\wxsdk\\AddToMyFav.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { UserInfo } from \"../../Game/Scripts/Info\";\nimport Platform from \"../Platform\";\n\nconst {ccclass, property} = cc._decorator;\n\n\nenum PositionType\n{\n    left,\n    bottom,\n    auto,\n}\n\n@ccclass\nexport default class AddToMyFav extends cc.Component {\n\n    @property(cc.Node)\n    pointer:cc.Node = null;\n\n    @property({type:cc.Enum(PositionType)})\n    posType:PositionType = PositionType.auto;\n\n    @property()\n    hideAfterSec:number = 30;\n\n    widget:cc.Widget = null;\n\n    onLoad () {\n        this.widget = this.getComponent(cc.Widget);\n    }\n\n    start () {\n        if(cc.sys.platform == cc.sys.WECHAT_GAME)\n        {\n            let options = Platform.getLaunchOptions()\n            console.log(\"场景值 :\" ,options);\n            if(options.scene == 1001 || options.scene == 1089)\n            {\n                this.node.active = false;\n                return;\n            }\n        }\n        // if(g.isNextDay(UserInfo.showAddFavTime) )\n        // {\n        //     UserInfo.showAddFavTime = new Date().getTime();\n        // }else{\n        //     this.node.active = false;\n        //     return;\n        // }\n        if(this.posType == PositionType.auto)\n        {\n            let ratio = cc.winSize.height/cc.winSize.width;\n            if(ratio > 1.98)\n            {\n                this.showStyle2();\n            }else{\n                this.showStyle1();\n            }\n        }else if(this.posType == PositionType.bottom)\n        {\n            this.showStyle1()\n        }\n        else if(this.posType == PositionType.left)\n        {\n            this.showStyle2()\n        }\n        \n        this.scheduleOnce(this.click_hide,this.hideAfterSec);\n    }\n\n    click_hide()\n    {\n        this.node.active = false;\n    }\n\n    showStyle1()\n    {\n        this.pointer.rotation = 0;\n        this.widget.top = 128;\n        this.widget.right = 140;\n        this.widget.updateAlignment()\n    }\n\n\n    showStyle2()\n    {\n        this.pointer.rotation = 90;\n        this.widget.top = 40;\n        this.widget.right = 300;\n        this.widget.updateAlignment()\n    }\n}"]}