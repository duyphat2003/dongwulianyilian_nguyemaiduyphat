{"version":3,"sources":["assets\\framework\\plugin_boosts\\utils\\Common.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import SpriteFrameCache from \"../misc/SpriteFrameCache\";\r\n\r\nexport default class Common\r\n{\r\n    static loadJson(path)\r\n    {\r\n        return new Promise((resolve,reject)=>{\r\n            cc.loader.loadRes(path ,cc.JsonAsset,(errorcode,data)=>{\r\n                resolve(data.json)\r\n            })\r\n        })\r\n    }\r\n\r\n    static sleep(timeout)\r\n    {\r\n        return new Promise((resolve,reject)=>{\r\n            setTimeout(() => {\r\n                resolve()\r\n            }, timeout * 1000)\r\n        })\r\n        \r\n    }\r\n\r\n    static isGreaterDays(before, num = 7)\r\n    {\r\n        let now = new Date();\r\n        var diff = now.getTime() - before\r\n        if(diff > 86400000 * num) // 24*60*60*1000\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    static setDisplay(sp,url)\r\n    {\r\n        SpriteFrameCache.instance.getSpriteFrame(url).then(sf=>{sp.spriteFrame = sf})\r\n    }\r\n\r\n\r\n    static generate_action(params){\r\n        let scale_action = cc.scaleTo(params.time, params.scale_x, params.scale_y)\r\n        return scale_action\r\n    }\r\n\r\n    //弹性效果 果冻效果 \r\n    static  jellyJump(node)\r\n    {\r\n        let  spawn_action1 = this.generate_action({time : 0.06, scale_x : 0.7, scale_y : 0.7, scale_z: 1})\r\n        // let  spawn_action2 = this.generate_action({time : 0.12, scale_x : 1.3, scale_y  :1.3, scale_z :1})\r\n        let  spawn_action3 = this.generate_action({time : 0.07, scale_x : 1, scale_y  :1.4, scale_z :1})\r\n        // let  spawn_action4 = this.generate_action({time : 0.07, scale_x : 1.3, scale_y  :1.3, scale_z: 1})\r\n        // let  spawn_action5 = this.generate_action({time : 0.07, scale_x : 1.2, scale_y : 1.2, scale_z : 1})\r\n        let spawn_action5 = cc.scaleTo(0.8, 1.3).easing(cc.easeElasticOut(0.3));\r\n        let  seq_actions = cc.sequence(spawn_action1,\r\n            //  spawn_action2,\r\n                spawn_action3,\r\n                // spawn_action4,\r\n                spawn_action5)\r\n        node.runAction(seq_actions);\r\n    }\r\n\r\n    static jellyJump2(node,from,scale)\r\n    {\r\n        node.scale = from;\r\n        let act = cc.scaleTo(0.8, scale,scale).easing(cc.easeElasticOut(0.3));\r\n        node.runAction(act)\r\n    }\r\n\r\n    static moveBezier(prefab,from,to,callback = null,dur = 1,delay = 0){\r\n        let sprite = cc.instantiate(prefab)\r\n        sprite.opacity = 255;\r\n        sprite.setPosition(from)\r\n\r\n        let bezier = []\r\n        let x = from.x, y = from.y\r\n        let ex = to.x, ey = to.y;\r\n        bezier[0] = cc.v2(x, y)\r\n        bezier[1] = cc.v2(x + Math.abs(ex - x+ 100) * 0.5, y + Math.abs(ey - y+100) * 0.5)\r\n        bezier[2] = cc.v2(ex, ey)\r\n\r\n        sprite.runAction(cc.sequence(cc.delayTime(delay),cc.bezierTo(dur, bezier) , cc.fadeOut(0.3),cc.callFunc(callback)))\r\n        return sprite;\r\n    }\r\n\r\n}"]}