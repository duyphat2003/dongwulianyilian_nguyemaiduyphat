{"version":3,"sources":["assets\\framework\\plugin_boosts\\gamesys\\Device.ts"],"names":[],"mappings":";;;;;AAAA,uDAAkD;AAElD;IAAA;IAyFA,CAAC;IAlFU,sBAAe,GAAtB,UAAuB,CAAS;QAE5B,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAA;QACtB,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC;IAEM,mBAAY,GAAnB,UAAoB,CAAC;QAEjB,EAAE,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,IAAI,IAAI,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC;QAC/C,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC;QACxB,IAAG,CAAC,CAAC,EACL;YACI,EAAE,CAAC,WAAW,CAAC,eAAe,EAAE,CAAA;SACnC;aAAI;YACD,EAAE,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;SACrC;IACL,CAAC;IAIM,uBAAgB,GAAvB;QAEI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAClC,CAAC;IAEM,4BAAqB,GAA5B;QAEI,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;IACnC,CAAC;IAEM,mBAAY,GAAnB,UAAoB,CAAC;QAEjB,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,IAAI,IAAI,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC;QAC7C,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC;QACxB,IAAG,CAAC,CAAC,EACL;YACI,EAAE,CAAC,WAAW,CAAC,UAAU,EAAE,CAAA;SAC9B;aAAI;YACD,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE,CAAA;SAC/B;IACL,CAAC;IAGM,iBAAU,GAAjB,UAAkB,IAAI,EAAC,IAAY;QAAZ,qBAAA,EAAA,YAAY;QAE/B,IAAG,MAAM,CAAC,YAAY,EACtB;YACI,IAAG,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,EACpC;gBACI,IAAG,IAAI,CAAC,iBAAiB,EACzB;oBACI,OAAO,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAC,IAAI,CAAC,CAAA;iBAC9C;qBAAI;oBACD,qBAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC/B;aACJ;;gBACG,OAAO,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAC,IAAI,CAAC,CAAA;SAClD;IACL,CAAC;IAEM,gBAAS,GAAhB;QAEI,EAAE,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IAC/B,CAAC;IAEM,gBAAS,GAAhB,UAAiB,IAAI,EAAC,IAAW;QAAX,qBAAA,EAAA,WAAW;QAE7B,IAAG,MAAM,CAAC,YAAY,EACtB;YACI,OAAO,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;SAC9C;IACL,CAAC;IAEM,cAAO,GAAd;QAEI,IAAG,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,EACxC;YACI,EAAE,CAAC,YAAY,EAAE,CAAA;SACpB;aAAI;YACD,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAA;SAC5D;IACL,CAAC;IArFM,mBAAY,GAAG,IAAI,CAAC;IAEpB,mBAAY,GAAG,IAAI,CAAC;IAoBpB,wBAAiB,GAAG,KAAK,CAAC;IAgErC,aAAC;CAzFD,AAyFC,IAAA;kBAzFoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import SoundHelper from \"../../qqsdk/SoundHelper\";\r\n\r\nexport default class Device \r\n{\r\n\r\n    static isSfxEnabled = true;\r\n\r\n    static isBgmEnabled = true;\r\n\r\n    static setSoundsEnable(b:boolean)\r\n    {\r\n        Device.setSFXEnable(b)\r\n        Device.setBGMEnable(b);\r\n    }\r\n\r\n    static setSFXEnable(b)\r\n    {\r\n        cc.audioEngine.setEffectsVolume(b == true?1:0);\r\n        Device.isSfxEnabled = b;\r\n        if(!b)\r\n        {\r\n            cc.audioEngine.pauseAllEffects()\r\n        }else{\r\n            cc.audioEngine.resumeAllEffects();\r\n        }\r\n    }\r\n\r\n    static _useCCAudioEngine = false;\r\n\r\n    static useCCAudioEngine()\r\n    {\r\n        this._useCCAudioEngine = true;\r\n    }\r\n\r\n    static useDefaultAudioEngine()\r\n    {\r\n        this._useCCAudioEngine = false;\r\n    }\r\n\r\n    static setBGMEnable(b)\r\n    {\r\n        cc.audioEngine.setMusicVolume(b == true?1:0);\r\n        Device.isBgmEnabled = b;\r\n        if(!b)\r\n        {\r\n            cc.audioEngine.pauseMusic()\r\n        }else{\r\n            cc.audioEngine.resumeMusic()\r\n        }\r\n    }\r\n\r\n\r\n    static playEffect(clip,loop = false)\r\n    {\r\n        if(Device.isSfxEnabled)\r\n        {\r\n            if(cc.sys.platform == cc.sys.QQ_PLAY)\r\n            {\r\n                if(this._useCCAudioEngine)\r\n                {\r\n                    return cc.audioEngine.playEffect(clip,loop)\r\n                }else{\r\n                    SoundHelper.playSound(clip);\r\n                }\r\n            }else\r\n                return cc.audioEngine.playEffect(clip,loop)\r\n        }\r\n    }\r\n\r\n    static stopMusic()\r\n    {\r\n        cc.audioEngine.stopMusic();\r\n    }\r\n\r\n    static playMusic(clip,loop = true)\r\n    {\r\n        if(Device.isBgmEnabled)\r\n        {\r\n            return cc.audioEngine.playMusic(clip,loop);\r\n        }\r\n    }\r\n\r\n    static vibrate()\r\n    {\r\n        if(cc.sys.WECHAT_GAME == cc.sys.platform)\r\n        {\r\n            wx.vibrateShort()\r\n        }else{\r\n            console.log(\"not support vibrate on except-wx platfrom \")\r\n        }\r\n    }\r\n}"]}