window.__require=function e(t,o,n){function i(s,r){if(!o[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,o,n)}return o[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({AddToMyFav:[function(e,t,o){"use strict";cc._RF.push(t,"b7431S0vqlPiqNKDpwvWLTc","AddToMyFav"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../Platform"),a=cc._decorator,s=a.ccclass,r=a.property;(function(e){e[e.left=0]="left",e[e.bottom=1]="bottom",e[e.auto=2]="auto"})(n||(n={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pointer=null,t.posType=n.auto,t.hideAfterSec=30,t.widget=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.widget=this.getComponent(cc.Widget)},t.prototype.start=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=i.default.getLaunchOptions();if(console.log("\u573a\u666f\u503c :",e),1001==e.scene||1089==e.scene)return void(this.node.active=!1)}this.posType==n.auto?cc.winSize.height/cc.winSize.width>1.98?this.showStyle2():this.showStyle1():this.posType==n.bottom?this.showStyle1():this.posType==n.left&&this.showStyle2(),this.scheduleOnce(this.click_hide,this.hideAfterSec)},t.prototype.click_hide=function(){this.node.active=!1},t.prototype.showStyle1=function(){this.pointer.rotation=0,this.widget.top=128,this.widget.right=140,this.widget.updateAlignment()},t.prototype.showStyle2=function(){this.pointer.rotation=90,this.widget.top=40,this.widget.right=300,this.widget.updateAlignment()},__decorate([r(cc.Node)],t.prototype,"pointer",void 0),__decorate([r({type:cc.Enum(n)})],t.prototype,"posType",void 0),__decorate([r()],t.prototype,"hideAfterSec",void 0),__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../Platform":"Platform"}],Animal:[function(e,t,o){"use strict";cc._RF.push(t,"ba634us93lPYrBZpOaL4ofo","Animal"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.animation=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.animation=this.getComponentInChildren(cc.Animation),this.animation.on("finished",this.onFinish,this)},t.prototype.onFinish=function(e,t){"animal_jump"==t.clip.name&&this.animation.play("animal_idle")},t.prototype.start=function(){this.animation.play("animal_idle")},t.prototype.connected=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Normal},t.prototype._loopJump=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Loop},t.prototype.loopJump=function(e){this.scheduleOnce(this._loopJump,g.randomFloat(0,e))},__decorate([a(cc.Sprite)],t.prototype,"sprite",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],BKTool:[function(e,t,o){"use strict";cc._RF.push(t,"313f56eFUNNW6GE0RObNSkH","BKTool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.PUIN="2896237320",e.headUrl="",e.nickName="",e.videoAd=void 0,e.bannerAd=void 0,e.videoAdLoadCount=0,e.viewAdLoadCount=0,e.bannerAdLoadCount=0,e}(),i=function(){function e(){}return e.skipGame=function(e){BK.QQ.skipGame(e,"IJPay")},e.versionCompare=function(e,t){return(e=parseInt(e.replace(/\./g,"").substring(0,3)))>=parseInt(t.replace(/\./g,"").substring(0,3))},e.shareToArk=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",isToFriend:!0,summary:"\u5355\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(e){console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data))},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.share=function(e){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",socialPicPath:"GameRes://qrcode.png",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u591a\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(t){console.log("\u5206\u4eab\u6210\u529f",t.code,JSON.stringify(t.data)),0==t.data.ret?e&&e("success",t.data):e&&e("fail",t.data)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t.code,JSON.stringify(t.msg)),e&&e("fail")},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.shareLink=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",msgUrl:"https://gitee.com/javen205/Brickengine_Guide?",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"H5\u94fe\u63a5\u5206\u4eab-By Javen"})},e.screenShotShare=function(){var e=BK.Director.screenPixelSize,t=e.width,o=e.height;BK.Share.share({range:{x:t/2,y:o/2,width:t,height:o},qqImgUrl:"",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u622a\u56fe\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(e){console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data))},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210,\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.follow=function(){console.log("Global.PUIN>"+n.PUIN),BK.QQ.enterPubAccountCard(n.PUIN)},e.getNick=function(){return n.nickName},e.createShortCut=function(){BK.QQ.createShortCut("")},e.getHead=function(){return n.headUrl},e.prototype.openUrl=function(e){BK.MQQ.Webview.open(e)},e.prototype.saveGameData=function(e){return new Promise(function(t){BK.QQ.saveGameData(e,function(e,o,n){BK.Console.log(1,1,"saveGameData : "+e+", "+o+", "+n),t({errCode:e,cmd:o,data:n})})})},e.prototype.loadGameData=function(){return new Promise(function(e){BK.QQ.loadGameData(function(t,o,n){BK.Console.log(1,1,"loadGameData : "+t+", "+o+", "+n),e({errCode:t,cmd:o,data:n})})})},e.prototype.sendB2CRedPacket=function(e){return new Promise(function(t){BK.QQ.sendB2CRedPacket(e,function(e,o,n){BK.Script.log(1,1,"sendB2CRedPacket : "+e+", "+o+", "+JSON.stringify(n)),t({errCode:e,cmd:o,data:n})})})},e.login=function(){BK.MQQ.Account.getHead(GameStatusInfo.openId,function(e,t){n.headUrl=t}),BK.MQQ.Account.getNick(GameStatusInfo.openId,function(e,t){n.nickName=t})},e.test=function(){var e=GameStatusInfo.openId;console.log("openId:",e);var t=BK.getSystemInfoSync();BK.Console.log("\u6e38\u620f\u7248\u672c\u53f7:"+t.gameVersion),BK.Console.log("\u662f\u5426\u623f\u4e3b:"+t.isMaster),BK.Console.log("\u623f\u95f4\u53f7:"+t.roomId),BK.Console.log("\u7cfb\u7edf\u7248\u672c:"+t.osVersion),BK.Console.log("\u7f51\u7edc\u7c7b\u578b:"+t.networkType),BK.Console.log("\u5e73\u53f0:"+t.platform),BK.Console.log("\u5f53\u524d\u7528\u6237\u7684\u6807\u8bc6:"+t.openId),BK.Console.log("\u624b\u673aqq\u7248\u672c:"+t.QQVer),BK.Console.log("\u662f\u5426\u9996\u6b21\u5b89\u88c5:"+t.isFirstInstall),BK.Console.log("\u5f53\u524d\u804a\u5929\u7a97\u7c7b\u578b:"+t.aioType),BK.Console.log("\u6e38\u620f\u542f\u52a8\u5165\u53e3:"+t.src),BK.Console.log("\u662f\u5426\u4e3a\u7ba1\u7406\u8d26\u53f7:"+t.isWhiteUser),BK.Console.log("\u6e38\u620f\u7c7b\u578b:"+t.gameType),BK.Console.log("\u5177\u4f53\u673a\u578b:"+t.model),BK.Console.log("\u6027\u522b:"+t.sex)},e.uploadScore=function(e,t){var o={userData:[{openId:GameStatusInfo.openId,startMs:((new Date).getTime()-3e5).toString(),endMs:(new Date).getTime().toString(),scoreInfo:{score:e}}],attr:{score:{type:"rank",order:1}}};BK.QQ.uploadScoreWithoutRoom(1,o,function(e,o,n){console.log("-------------uploadScoreWithoutRoom callback  cmd"+o+" errCode:"+e+"  data:"+JSON.stringify(n)),t&&t(e,n)})},e.getRankList=function(e){BK.QQ.getRankListWithoutRoom("score",1,0,function(t,o,n){if(console.log("--------------------getRankListWithoutRoom callback  cmd"+o+" errCode:"+t),0==t){if(n){var i=n.data.ranking_list;console.log("=====data not null "+i.length),console.log(JSON.stringify(n)),e&&e(t,i)}}else e&&e(t)})},e.loadVideoAd=function(t){console.log("============BKTOOl.loadVideoAD",n.videoAd);var o=BK.Advertisement.createVideoAd();o.onError(function(o){console.log(">>>>>>>>>BKTools onError code:"+o.code+" msg:"+o.msg),n.viewAdLoadCount+=1,n.viewAdLoadCount<4&&e.loadVideoAd(t),t&&t("error")}),o.onPlayFinish(function(){console.log("BKTools onPlayFinish..."),n.videoAd=void 0,t&&t("finish")}),o.onClose(function(){console.log("BKTools onClose..."),t&&t("close"),n.videoAd=void 0}),o.onLoad(function(){console.log("BKTools onLoad"),n.videoAd=o,n.videoAdLoadCount=0,t&&t("load",o)})},e.loadBannerAd=function(t,o){if(!o){var i=BK.getSystemInfoSync().QQVer;console.log("\u5f53\u524d\u624bQ\u7248\u672c:"+i);var a=e.versionCompare(i,"7.8.5");console.log("\u5f53\u524d\u7248\u672c\u5927\u4e8e7.8.5:"+a),o=a?1003:1002}console.log("loadBannerAd viewId:"+o);var s=BK.Advertisement.createBannerAd({viewId:o});s.onError(function(i){console.log("BKTools onError code:"+i.code+" msg:"+i.msg),n.bannerAdLoadCount+=1,n.bannerAdLoadCount<4&&e.loadBannerAd(t,o),t&&t("error")}),s.onLoad(function(){console.log("BKTools onLoad"),n.bannerAd=s,n.viewAdLoadCount=0,t&&t("load",s)})},e.showBannerAd=function(){console.log("BKTools \u663e\u793abanner\u5e7f\u544a"),n.bannerAd?n.bannerAd.show():(console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),e.loadBannerAd(function(t){"load"==t&&e.showBannerAd()}))},e.hideBannerAd=function(){n.bannerAd?(n.bannerAd.hide(),n.bannerAd=void 0):console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90\u65e0\u6cd5\u5173\u95ed....")},e.showToast=function(e,t){t||(t=3e3),cc.sys.platform==cc.sys.QQ_PLAY&&BK.UI.showToast({title:e,duration:t,complete:function(){console.log("BKTools showToast complete:"+e)}})},e.keepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!0})},e.cancelKeepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!1})},e}();o.default=i,cc._RF.pop()},{}],BoostsAction:[function(e,t,o){"use strict";cc._RF.push(t,"47da3PXgqdE55aSvY0ox9B4","BoostsAction"),Object.defineProperty(o,"__esModule",{value:!0}),o.Shake=o.V2ChangeAction=o.ValueChangeAction=void 0;var n=function(e){function t(t,o,n,i,a){var s=e.call(this)||this;return s.delta=s.sub(n,o),s.setDuration(t),s.callback=i,s.start=o,s.end=n,s.callbackTarget=a,s}return __extends(t,e),t.prototype.sub=function(e,t){return e-t},t.prototype.add=function(e,t){return e+t},t.prototype.mul=function(e,t){return e*t},t.prototype.update=function(e){e=this._computeEaseTime(e);var t=this.add(this.start,this.mul(this.delta,e));this.callback.call(this.callbackTarget,t)},t}(cc.ActionInterval);o.ValueChangeAction=n;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.sub=function(e,t){return e.sub(e,t)},t.prototype.add=function(e,t){return e.add(e,t)},t.prototype.mul=function(e,t){return e.mul(e,t)},t}(n);o.V2ChangeAction=i;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._initial_x=0,t._initial_y=0,t._strength_x=0,t._strength_y=0,t}return __extends(t,e),t.create=function(e,o,n){var i=new t;return i.initWithDuration(e,o,n),i},t.prototype.initWithDuration=function(e,t,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=t,this._strength_y=o,!0},t.prototype.fgRangeRand=function(e,t){return Math.random()*(t-e)+e},t.prototype.update=function(){var e=this.fgRangeRand(-this._strength_x,this._strength_x),t=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,t+this._initial_y)},t.prototype.startWithTarget=function(e){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=e.x,this._initial_y=e.y},t.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},t}(cc.ActionInterval);o.Shake=a,cc._RF.pop()},{}],ClickAudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"679c3x/ZwhD8KnIy6p5lX5y","ClickAudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ClickAudio"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audio=null,t.elastic=!1,t}return __extends(t,e),t.prototype.onLoad=function(){g.foreachNode(this.node,this.each,this)},t.prototype.each=function(e){if(e.getComponent(cc.Button)){var t=e.getComponent(n.default);null==t&&((t=e.addComponent(n.default)).elastic=this.elastic,t.audio=this.audio)}},t.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],t.prototype,"audio",void 0),__decorate([s],t.prototype,"elastic",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./ClickAudio":"ClickAudio"}],ClickAudio:[function(e,t,o){"use strict";cc._RF.push(t,"5ee8a8X6jFF5qtYOWlGoNww","ClickAudio"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../gamesys/Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audio=null,t.elastic=!1,t._oldScale=1,t}return __extends(t,e),t.prototype.anim2=function(){var e=cc.scaleBy(.6,.9,.9).easing(cc.easeElasticOut(.3));this.node.runAction(e)},t.prototype.anim2back=function(){var e=cc.scaleTo(.6,this._oldScale,this._oldScale).easing(cc.easeElasticOut(.3));this.node.runAction(e)},t.prototype.onLoad=function(){var e=this;if(this.elastic){var t=this.getComponent(cc.Button);t.transition=cc.Button.Transition.COLOR,t.normalColor=cc.Color.WHITE,t.pressedColor=new cc.Color(200,200,200),this._oldScale=this.node.scale}this.node.on("touchstart",function(){e.elastic&&e.anim2()},this.node),this.node.on("touchend",function(){n.default.playEffect(e.audio,!1),e.elastic&&e.anim2back()}),this.node.on("touchcancel",function(){e.elastic&&e.anim2back()})},__decorate([s({type:cc.AudioClip})],t.prototype,"audio",void 0),__decorate([s],t.prototype,"elastic",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"../gamesys/Device":"Device"}],Common:[function(e,t,o){"use strict";cc._RF.push(t,"d6d4aCOiTtJz6R1xuSQrtdC","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../misc/SpriteFrameCache"),i=function(){function e(){}return e.loadJson=function(e){return new Promise(function(t){cc.loader.loadRes(e,cc.JsonAsset,function(e,o){t(o.json)})})},e.sleep=function(e){return new Promise(function(t){setTimeout(function(){t()},1e3*e)})},e.isGreaterDays=function(e,t){if(void 0===t&&(t=7),(new Date).getTime()-e>864e5*t)return!0},e.setDisplay=function(e,t){n.default.instance.getSpriteFrame(t).then(function(t){e.spriteFrame=t})},e.generate_action=function(e){return cc.scaleTo(e.time,e.scale_x,e.scale_y)},e.jellyJump=function(e){var t=this.generate_action({time:.06,scale_x:.7,scale_y:.7,scale_z:1}),o=this.generate_action({time:.07,scale_x:1,scale_y:1.4,scale_z:1}),n=cc.scaleTo(.8,1.3).easing(cc.easeElasticOut(.3)),i=cc.sequence(t,o,n);e.runAction(i)},e.jellyJump2=function(e,t,o){e.scale=t;var n=cc.scaleTo(.8,o,o).easing(cc.easeElasticOut(.3));e.runAction(n)},e.moveBezier=function(e,t,o,n,i,a){void 0===n&&(n=null),void 0===i&&(i=1),void 0===a&&(a=0);var s=cc.instantiate(e);s.opacity=255,s.setPosition(t);var r=[],c=t.x,l=t.y,u=o.x,p=o.y;return r[0]=cc.v2(c,l),r[1]=cc.v2(c+.5*Math.abs(u-c+100),l+.5*Math.abs(p-l+100)),r[2]=cc.v2(u,p),s.runAction(cc.sequence(cc.delayTime(a),cc.bezierTo(i,r),cc.fadeOut(.3),cc.callFunc(n))),s},e}();o.default=i,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache"}],ConnectManager:[function(e,t,o){"use strict";cc._RF.push(t,"ac5faec2blDKJorwXTfZFZx","ConnectManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.connManager=void 0;var n=e("./Socket"),i=function(){function e(){this._allConns=null,this._allConns={}}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.create=function(e,t){if(null==this._allConns[e]){var o=new n.Socket(t);this._allConns[e]=o,null==this._defaultKey&&(this._defaultKey=e)}},e.prototype.setDefaultKey=function(e){null!=e&&this._allConns[e]&&(this._defaultKey=e)},e.prototype.getDefault=function(){return this.getConn(this._defaultKey)},e.prototype.getConn=function(e){return null==e?null:null!=this._allConns[e]?this._allConns[e]:null},e.prototype.sendMessage=function(e,t){null==t&&(t=this._defaultKey);var o=this.getConn(t);null!=o&&o.sendMessage(e)},e.prototype.enableHeartbeat=function(e){this.getConn(e).enableHeartbeat(!0)},e.prototype.sendCustomMessage=function(e){var t=this.getConn(this._defaultKey);null!=t&&t.sendCustomMessage(e)},e.prototype.remove=function(e){var t=this.getConn(e);null!=t&&(delete this._allConns[e],t.close())},e._instance=null,e}();o.connManager=i.getInstance(),cc._RF.pop()},{"./Socket":"Socket"}],Consts:[function(e,t,o){"use strict";cc._RF.push(t,"ccf28Nj1JdBbY/NtYiwJtcW","Consts"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.CenterY=0,e.CenterX=0,e.ColSize=84,e.RowSize=61,e.StagePageCount=3,e.FreeSkinId=5,e}();o.default=n,cc._RF.pop()},{}],DCBackground:[function(e,t,o){"use strict";cc._RF.push(t,"4d867LSTWNEB7LUL3KAjVve","DCBackground"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/plugin_boosts/ui/DCUI"),i=e("../../../framework/plugin_boosts/misc/SpriteFrameCache"),a=e("../Info"),s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},t.prototype.start=function(){},t.prototype.onValueChanged=function(e){var t=this,o=a.UserInfo.getSkinById(e);console.log(o),i.default.instance.getSpriteFrame("Game/Textures/Bgs/"+o.img+".png").then(function(e){return t.sprite.spriteFrame=e})},__decorate([r],t)}(n.default));o.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/DCUI":"DCUI","../Info":"Info"}],DCLabel:[function(e,t,o){"use strict";cc._RF.push(t,"a56c0Fh1bpDto6UwDov+u7M","DCLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./DCUI"),i=cc._decorator,a=i.ccclass,s=(i.property,i.requireComponent),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.getComponent(cc.Label)},t.prototype.onValueChanged=function(e){e||(console.log("[DCLabel] warn!","not found field "+this.dataBind),e="0"),this.label.string=e},__decorate([a,s(cc.Label)],t)}(n.default);o.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCPandoraPoint:[function(e,t,o){"use strict";cc._RF.push(t,"7213alSGlhOObvGLLyQvhtZ","DCPandoraPoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./DCUI"),i=e("./PandoraPoint"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.point=this.getComponent(i.default)},t.prototype.onValueChanged=function(e){this.point.setNumber(e)},__decorate([s],t)}(n.default));o.default=r,cc._RF.pop()},{"./DCUI":"DCUI","./PandoraPoint":"PandoraPoint"}],DCParticleSystem:[function(e,t,o){"use strict";cc._RF.push(t,"f51daFLsqdJ/4k4IuDQeRuR","DCParticleSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/plugin_boosts/ui/DCUI"),i=e("../Info"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onValueChanged=function(e){var t=this,o=i.UserInfo.getSkinById(e);this.ps&&this.ps.node&&this.ps.node.destroy(),cc.loader.loadRes("Game/Particles/"+o.ps,cc.ParticleAsset,function(e,n){console.log(o.ps,n);var i=new cc.Node;t.ps=i.addComponent(cc.ParticleSystem),t.ps.file=n,t.node.addChild(i)})},__decorate([s],t)}(n.default));o.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/DCUI":"DCUI","../Info":"Info"}],DCSprite:[function(e,t,o){"use strict";cc._RF.push(t,"82b09vMdyFCOb0NEdBTtZHy","DCSprite"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./DCUI"),i=e("../misc/SpriteFrameCache"),a=cc._decorator,s=a.ccclass,r=(a.property,a.requireComponent),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},t.prototype.refreshSpriteFrame=function(e){var t=this;i.default.instance.getSpriteFrame(e).then(function(e){t.sprite.spriteFrame=e}).catch(function(){console.log("request imageUrl error :"+e)})},t.prototype.onValueChanged=function(e){this.refreshSpriteFrame(e)},__decorate([s,r(cc.Sprite)],t)}(n.default);o.default=c,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache","./DCUI":"DCUI"}],DCToggle:[function(e,t,o){"use strict";cc._RF.push(t,"f9e52WLze5MBrhxXx/fWqyL","DCToggle"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./DCUI"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.revserse=!1,t.autosync=!0,t}return __extends(t,e),t.prototype.onLoad=function(){if(this.toggle=this.getComponent(cc.Toggle),this.autosync){var e=new cc.Component.EventHandler;e.component="DCToggle",e.target=this.node,e.handler="onChecked",this.toggle.checkEvents.push(e)}},t.prototype.onChecked=function(e){this.isFromSelf||(this.revserse?this.setDCValue(!e.isChecked):this.setDCValue(e.isChecked))},t.prototype.setChecked=function(e){this.isFromSelf=!0,e?this.toggle.check():this.toggle.uncheck(),this.isFromSelf=!1},t.prototype.onValueChanged=function(e){this.revserse?this.setChecked(!e):this.setChecked(e)},__decorate([s({tooltip:"If reverse is enabled ,checked is false !, unchecked is true"})],t.prototype,"revserse",void 0),__decorate([s({tooltip:" Make sure data bind type should be boolean"})],t.prototype,"autosync",void 0),__decorate([a],t)}(n.default);o.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCUI:[function(e,t,o){"use strict";cc._RF.push(t,"e4171eQC3dMO4x8/Td1XV1Y","DCUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../misc/DataCenter"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataBind="",t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.setDCKey=function(e){this.dataBind=e,this.setListener()},t.prototype.setListener=function(){n.default.off(this.dataBind,this.dataChanged,this),n.default.on(this.dataBind,this.dataChanged,this)},t.prototype.onValueChanged=function(){},t.prototype.setDCValue=function(e){n.default.set(this.dataBind,e)},t.prototype.dataChanged=function(e){this.onValueChanged(e)},t.prototype.onEnable=function(){this.setListener(),this.onValueChanged(n.default.get(this.dataBind))},t.prototype.onDisable=function(){n.default.off(this.dataBind,this.dataChanged,this)},__decorate([s()],t.prototype,"dataBind",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"../misc/DataCenter":"DataCenter"}],DailyGetDialog:[function(e,t,o){"use strict";cc._RF.push(t,"d3b8fModWBPmovqTucbpm5C","DailyGetDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Info"),i=e("../../../framework/plugin_boosts/ui/View"),a=e("../../../framework/Platform"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamond=0,t.rewardLabel=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){this.diamond=g.randomInt(20,50),this.rewardLabel.string=cc.js.formatStr("\u94bb\u77f3 x "+this.diamond)},t.prototype.click_get=function(){n.UserInfo.addDiamond(this.diamond),n.UserInfo.dailyGetTime=(new Date).getTime(),n.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.share_succ=function(){n.UserInfo.addDiamond(2*this.diamond),n.UserInfo.dailyGetTime=(new Date).getTime(),n.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.click_get_double=function(){var e=n.UserInfo.getChoice(n.ChoiceType.DailyGet);0==e?this.share_succ():1==e?a.default.share(this.share_succ,this):a.default.watch_video(this.share_succ,this)},__decorate([c(cc.Label)],t.prototype,"rewardLabel",void 0),__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],DataCenter:[function(e,t,o){"use strict";cc._RF.push(t,"2946dm7U5hPgIxciZRaL5Q+","DataCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.field=o.dc=void 0;var n=e("../utils/EventManager"),i={},a={};o.dc=function(e,t){return void 0===t&&(t=!0),function(o){o.prototype.constructor,a[o]={name:e,serializable:t}}},o.field=function(e){return function(t,o){e&&e.default&&(t[o]=e.default);var n=t.constructor,a=i[n];null==a&&(a=[],i[n]=a),a.push(o)}};var s=function(){function e(){this.__namespace="DataCenter",this.kvs={},this.kts={},this.kvs={},this.kts={}}return e.prototype.registerFields=function(e){console.log(this);var t=this.__proto__.constructor,o=i[t],n=a[t];for(var s in o){var r=o[s];"function"!=typeof r&&(this.register(r,this[r]),delete this[r])}e=e||n.name,this.endRegister(e,n.serializable)},e.prototype.register=function(e,t){var o=this.constructor.prototype,n=this;o.__defineGetter__(e,function(){return n.getData(e)}),o.__defineSetter__(e,function(t){n.setData(e,t)}),this.kvs[e]=t;var i=typeof t;this.kts[e]=i,console.log("[DataCenter] register :"+e+":"+t+"("+i+")")},e.prototype.setData=function(e,t){var o=this.kvs[e];if(o!=t){var i=this.kts[e],a=this._field_(e);i!=typeof t&&(console.warn("[DataCenter] wrong type <"+typeof t+"> for :"+a+"<"+i+"> ,converting..."),"number"==i?t=Number(t):"boolean"==i&&(t="true"==t)),this.kvs[e]=t,console.log("[DataCenter] onValueChanged",a,t),n.event.emit(a,t,o)}},e.prototype._field_=function(e){return this.__namespace+"."+e},e.prototype.getData=function(e){return this.kvs[e]},e.prototype.limit=function(e,t,o){return e>o?o:e<t?0:e},e.prototype.addData=function(e,t){if(null!=(t=Number(t))){var o=this.kvs[e],i=Number(o)+t;this.kvs[e]=i,n.event.emit(this._field_(e),i,o)}},e.prototype.load=function(){for(var e in this.kvs){var t=localStorage.getItem(this._field_(e)),o=t;if(t){var n=this.kts[e];"number"==n?o=Number(t):"boolean"==n&&(o="true"==t)}else o=this.getData(e);this.kvs[e]=o}},e.prototype.save=function(){for(var e in console.log("[DataCenter] save :=================================="),this.kvs){var t=this.kvs[e],o=this._field_(e);localStorage.setItem(o,t.toString()),console.log(cc.js.formatStr("%s:%s",o,t))}console.log("[DataCenter] save succ :==================================")},e.prototype.endRegister=function(t,o){void 0===o&&(o=!0),this.__namespace=t,e.alldata[t]=this,o&&(this.load(),this.save())},e.off=function(e,t,o){n.event.off(e,t,o)},e.on=function(e,t,o){n.event.on(e,t,o),this.set(e,this.get(e))},e.get=function(t){var o=t.split("."),n=o[0],i=o[1],a=e.alldata[n];return a?a[i]:null},e.set=function(t,o){var n=t.split("."),i=n[0],a=n[1],s=e.alldata[i];s&&(s[a]=o)},e.register=function(e){var t=new e;return t.registerFields(),t},e.alldata={},e}();o.default=s,cc._RF.pop()},{"../utils/EventManager":"EventManager"}],Device:[function(e,t,o){"use strict";cc._RF.push(t,"b88b4v3H5tF7ozLVLmzIPqR","Device"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../qqsdk/SoundHelper"),i=function(){function e(){}return e.setSoundsEnable=function(t){e.setSFXEnable(t),e.setBGMEnable(t)},e.setSFXEnable=function(t){cc.audioEngine.setEffectsVolume(1==t?1:0),e.isSfxEnabled=t,t?cc.audioEngine.resumeAllEffects():cc.audioEngine.pauseAllEffects()},e.useCCAudioEngine=function(){this._useCCAudioEngine=!0},e.useDefaultAudioEngine=function(){this._useCCAudioEngine=!1},e.setBGMEnable=function(t){cc.audioEngine.setMusicVolume(1==t?1:0),e.isBgmEnabled=t,t?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},e.playEffect=function(t,o){if(void 0===o&&(o=!1),e.isSfxEnabled){if(cc.sys.platform!=cc.sys.QQ_PLAY)return cc.audioEngine.playEffect(t,o);if(this._useCCAudioEngine)return cc.audioEngine.playEffect(t,o);n.default.playSound(t)}},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.playMusic=function(t,o){if(void 0===o&&(o=!0),e.isBgmEnabled)return cc.audioEngine.playMusic(t,o)},e.vibrate=function(){cc.sys.WECHAT_GAME==cc.sys.platform?wx.vibrateShort():console.log("not support vibrate on except-wx platfrom ")},e.isSfxEnabled=!0,e.isBgmEnabled=!0,e._useCCAudioEngine=!1,e}();o.default=i,cc._RF.pop()},{"../../qqsdk/SoundHelper":"SoundHelper"}],EventManager:[function(e,t,o){"use strict";cc._RF.push(t,"334c9avVx5ILbx/6NU/H45V","EventManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.event=void 0;var n=function(){function e(){this._eventList={}}return e.prototype.on=function(e,t,o){var n;null!=this._eventList[e]?(n=this._eventList[e]).push({listen:t,target:o}):((n=new Array).push({listen:t,target:o}),this._eventList[e]=n)},e.prototype.off=function(e,t,o){if(null==t||t instanceof Function||(o=t,t=null),null!=this._eventList[e])if(null==t&&null==o)delete this._eventList[e];else for(var n=this._eventList[e],i=n.length-1;i>=0;i--)null!=t&&null!=o?n[i].listen==t&&n[i].target==o&&n.splice(i,1):null!=t&&n[i].listen==t?n.splice(i,1):null!=o&&n[i].target==o&&n.splice(i,1)},e.prototype.emit=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var n=!1;if(null!=this._eventList[e]){var i=this._eventList[e];console.log("emit message: ",e,i.length);for(var a=0;a<i.length;a++){var s=i[a];null!=s.target?s.listen.apply(s.target,t)&&(n=!0):s.listen.apply(this,t)&&(n=!0)}}return n},e}();o.event=new n,cc._RF.pop()},{}],FSM:[function(e,t,o){"use strict";cc._RF.push(t,"83f52qrCghNrKS6jOC/j6I0","FSM"),Object.defineProperty(o,"__esModule",{value:!0}),o.State=void 0;var n=cc._decorator,i=(n.ccclass,n.property,function(){function e(e,t){this.__interval_callbacks=[],this.interval_id=0,this.id=e,this.name=t}return e.prototype.onEnter=function(){},e.prototype.onExit=function(){},e.prototype.onUpdate=function(){},e.prototype.on=function(){},e.prototype.off=function(){},e.prototype.clearIntervals=function(){this.__interval_callbacks.splice(0,this.__interval_callbacks.length)},e.prototype.setInterval=function(e,t,o){var n=++this.interval_id;return this.__interval_callbacks.push({id:n,callback:t,target:o,interval:e,timer:0}),n},e.prototype.clearInterval=function(e){this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(e))},e.prototype.setTimeout=function(e,t,o){var n=++this.interval_id;return this.__interval_callbacks.push({id:n,callback:t,target:o,delay:e,timer:0}),n},e.prototype.clearTimeout=function(e){this.clearInterval(e)},e.prototype.invokeIntervals=function(e){for(var t=0;t<this.__interval_callbacks.length;t++){var o=this.__interval_callbacks[t];o.timer=o.timer+e,o.interval?o.timer>=o.interval&&(o.timer=0,o.callback.call(o.target)):o.delay&&o.timer>=o.delay&&(o.callback.call(o.target),this.__interval_callbacks.splice(t),t--)}},e}());o.State=i;var a=function(e){function t(t,o,n,i){var a=e.call(this,o,n)||this,s=cc.js.formatStr(i,"onEnter",a.name),r=cc.js.formatStr(i,"onUpdate",a.name),c=cc.js.formatStr(i,"onExit",a.name);return a.__target=t,a.__enterFunc=a.__target[s],a.__updateFunc=a.__target[r],a.__exitFunc=a.__target[c],a}return __extends(t,e),t.prototype.onEnter=function(e){this.clearIntervals(),this.__enterFunc&&this.__enterFunc.call(this.__target,this,e)},t.prototype.onExit=function(){this.__exitFunc&&this.__exitFunc.call(this.__target,this)},t.prototype.onUpdate=function(e){this.invokeIntervals(e),this.__updateFunc&&this.__updateFunc.call(this.__target,this,e)},t}(i),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeElapsed=0,t._states={},t._isPaused=!1,t.log=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._target=e,this.timeElapsed=0},t.prototype.getState=function(e){return this._states[e]},t.prototype.getCurrentState=function(){return this.c},t.prototype.getPreviousState=function(){return this.p},t.prototype.addStates=function(e,t){void 0===t&&(t="%s_%sState");var o=Object.keys(e),n=o.length/2;this.namePattern=t;for(var i=0;i<n;i++){var a=o[i],s=e[a];this.addState(a,s)}},t.prototype.addState=function(e,t,o,n,i,s){this.log&&console.log("[FSM]"+this.target.__classname__+"("+this.target.name+") Add State :",e,t);var r=new a(this.target,e,t,this.namePattern);this._states[e]=r,o&&(r.__enterFunc=o),n&&(r.__exitFunc=n),i&&(r.__updateFunc=i),s&&(r.__target=s)},t.prototype.enterState=function(e,t){this.timeElapsed=0;var o=this._states[e];this.c=o,o.onEnter(t),this.log&&console.log("[FSM]"+this.target.__classname__+" First State:",o.name)},t.prototype.revertState=function(){this.changeState(this.p.id)},t.prototype.pause=function(){this._isPaused=!0},t.prototype.resume=function(){this._isPaused=!1},t.prototype.resetCurrentState=function(){this.timeElapsed=0,console.log(cc.js.formatStr("[FSM] %s reset currentState",this.target.__classname__)),this.c.onExit(),this.c.onEnter()},t.prototype.changeState=function(e,t){var o=this._states[e];null!=o?this._isPaused?console.warn("[FSM] fsm is paused ! "+this.target.__classname__+" changeState to <"+o.name+"> failed!"):e!=this.c.id&&(this.timeElapsed=0,this.c.onExit(),this.p=this.c,this.c=o,this.log&&console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s",this.target.__classname__,this.name,this.p.name,o.name)),this.c.onEnter(t)):console.warn("[FSM] invalid state for stateId "+e+" of : "+this.target.__classname__)},t.prototype.isInState=function(e){return this.c==this._states[e]},t.prototype.update=function(e){this._isPaused||(t.debug&&(e=.016),this.timeElapsed+=e,this.c&&this.c.onUpdate(e))},t.debug=!1,t}(cc.Component);o.default=s,cc._RF.pop()},{}],FrameSwitch:[function(e,t,o){"use strict";cc._RF.push(t,"92ea6+rkJ5BQ7Twyd4FI92I","FrameSwitch"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=(n.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frames=[],t.target=null,t._index=0,t.randomOnLoad=!1,t}return __extends(t,e),t.prototype.onLoad=function(){null==this.target&&(this.target=this.getComponent(cc.Sprite)),this.randomOnLoad&&this.switchRandom()},t.prototype.switchRandom=function(){this.index=g.randomInt(0,this.frames.length)},Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this.switch(e)},enumerable:!1,configurable:!0}),t.prototype.switch=function(e){var t=this.frames.length,o=Math.min(Math.max(0,e),t-1);this.target.spriteFrame=this.frames[o],this._index=o},t.prototype.start=function(){},__decorate([a([cc.SpriteFrame])],t.prototype,"frames",void 0),__decorate([a(cc.Sprite)],t.prototype,"target",void 0),__decorate([a],t.prototype,"randomOnLoad",void 0),__decorate([i],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],GameConfigs:[function(e,t,o){"use strict";cc._RF.push(t,"0ff8cbMXJFLVaQF1Sqnm6gc","GameConfigs"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0,o.GameConfig={game_id:"animalines",wx_appid:"wxbcc31e8a2b24cb41",default_share_title:"\u6700\u840c\u52a8\u7269\u8fde\u8fde\u770b",deafult_share_imgUrl:"resources/wechat_share.jpg"},cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"4c9b5SEXlhDAqXGat0NcWmI","Game"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Res"),i=e("./HexonTile"),a=e("./GridManager"),s=e("../../../framework/plugin_boosts/misc/InputSystem"),r=e("../Info"),c=e("./Animal"),l=e("../../../framework/plugin_boosts/ui/ViewManager"),u=e("../../../framework/Platform"),p=e("../../../framework/plugin_boosts/ui/ToastManager"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isGameOver=!1,t._moveCount=0,t._playTime=0,t._colCount=6,t._rowCount=7,t._pickedTile=null,t.tileLayer=null,t.levelLabel=null,t.timeLabel=null,t.stepLabel=null,t.focusNode=null,t._figureList=[],t.perfectMoveCount=0,t}var o;return __extends(t,e),o=t,t.prototype.get_isGameOver=function(){return this._isGameOver},t.prototype.get_minCol=function(){return this._levelData.mincol},t.prototype.get_moveCount=function(){return this._moveCount},t.prototype.loadLevel=function(e){e=Math.min(e,n.R.levelJson.json.levels.length-1),this._levelData=n.R.levelJson.json.levels[e],this.levelLabel.string=e+"",1==e&&this.scheduleOnce(this.openGuide,.1)},t.prototype.openGuide=function(){l.default.instance.show("Game/OpenGuide")},t.prototype.onLoad=function(){var e=this;o.instance=this,this.loadLevel(r.UserInfo.currentLevel),this.hideFocus(),this._tileList=[],this._rowCount=this._levelData.size,this._colCount-=1;for(var t=0,c=this._rowCount;c>t;){var l,u=t++,p=[];l=u<=this._rowCount/2?this._levelData.mincol+u:this._levelData.mincol-1+this._rowCount-u;for(var d=0;l>d;){var h=d++,f=cc.instantiate(n.R.TilePrefab),_=f.getComponent(i.default);f.parent=this.tileLayer,f.zIndex=this._rowCount-u,_.set_row(u),_.set_col(h);var g=cc.instantiate(n.R.TileShadow),m=g.getComponent(i.default);m.set_row(u),m.set_col(h),g.y-=3,g.parent=this.tileLayer,g.zIndex=0,p.push(_)}this._tileList.push(p)}this._gridManager=this.tileLayer.addComponent(a.default),this._gridManager.init(this._levelData.mincol),this.setFigure(),this.addComponent(s.InputSystem),r.UserInfo.timePassed=0,r.UserInfo.stepUsed=0,this.schedule(function(){r.UserInfo.timePassed+=1,e.timeLabel.string=r.UserInfo.timePassed+"s",e.stepLabel.string=r.UserInfo.stepUsed+"\u6b65"},1)},t.prototype.onTouchBegan=function(e){var t=this;if(!t._isGameOver){var o=e.currentTouch.getLocation();o=this.node.convertToNodeSpaceAR(o);var i=t.findTileByPos(o.x,o.y);if(null!=i&&0!=i.get_animal()){for(cc.audioEngine.playEffect(n.R.audio_down,!1),t._pickedTile=i,t.removeGridFromTile(t._pickedTile),t._pickedTile.connect(null),null!=t._pickedTile.targetTile&&(t.removeGridFromTile(t._pickedTile.targetTile),t._pickedTile.targetTile.connect(null),t._pickedTile.targetTile.set_isConnecting(!1)),t._pickedTile.set_isConnecting(!0),i=t._pickedTile.getHead();null!=i;)i.set_isConnecting(!0),i=i.connectedTile;this.showFocus(t._pickedTile.get_animal()),this.moveFocus(o)}this.checkCompelete()}},t.prototype.checkCompelete=function(){this.checkConnectedAll()&&this.checkFillAll()},t.prototype.isTileConnected=function(e,t){var o,n=e._row;o=e._col+(n<=this._rowCount/2?0:e._row-(this._rowCount/2|0));var i,a=t._row;return i=t._col+(a<=this._rowCount/2?0:t._row-(this._rowCount/2|0)),n-1==a&&o-1==i||n-1==a&&o==i||n==a&&o-1==i||n==a&&o+1==i||n+1==a&&o==i||n+1==a&&o+1==i},t.prototype.onTouchMoved=function(e){var t=this;if(!t._isGameOver){var o=e.currentTouch.getLocation();o=this.node.convertToNodeSpaceAR(o);var n=t.findTileByPos(o.x,o.y);if(null!=t._pickedTile&&null!=n)if(t.isTileConnected(t._pickedTile,n)){if(0==n.get_animal())(null==t._pickedTile.targetTile||null==t._pickedTile.reverseConnectedTile)&&(t._gridManager.setState(t._pickedTile.get_row(),t._pickedTile.get_col(),n.get_row(),n.get_col(),!0),t._pickedTile.connect(n),t._pickedTile=n,t._pickedTile.set_isConnecting(!0));else if(n.get_animal()==t._pickedTile.get_animal())if(0!=n.isChangable||n.equals(t._pickedTile.getHead())){for(t._pickedTile=n,n=t._pickedTile;null!=n&&null!=n.connectedTile;)t._gridManager.setState(n.get_row(),n.get_col(),n.connectedTile.get_row(),n.connectedTile.get_col(),!1),n=n.connectedTile;t._pickedTile.connect(null)}else null==n.reverseConnectedTile&&(t._gridManager.setState(t._pickedTile.get_row(),t._pickedTile.get_col(),n.get_row(),n.get_col(),!0),t._pickedTile.connect(n),t._pickedTile=n)}else if(n.get_animal()==t._pickedTile.get_animal()&&!n.equals(t._pickedTile)&&null!=n.connectedTile){for(t._pickedTile=n,n=t._pickedTile;null!=n&&null!=n.connectedTile;)t._gridManager.setState(n.get_row(),n.get_col(),n.connectedTile.get_row(),n.connectedTile.get_col(),!1),n=n.connectedTile;t._pickedTile.connect(null)}this.moveFocus(o)}},t.prototype.onTouchEnded=function(){var e=this,t=!1;if(!e._isGameOver){if(null!=e._pickedTile){var o=e._pickedTile.getHead();for(null!=e._pickedTile.animalSprite&&null!=o&&null!=o.animalSprite&&(t=!0,e._pickedTile.animalSprite.connected(),o.animalSprite.connected());null!=o;)o.set_isConnecting(!1),o=o.connectedTile;e._moveCount++,r.UserInfo.stepUsed++}e._pickedTile=null,this.hideFocus(),e.checkConnectedAll()&&(e.checkFillAll()?(e._isGameOver=!0,e.danceAll()):p.Toast.make("\u5fc5\u987b\u586b\u6ee1\u6240\u6709\u683c\u5b50")),1!=t||e._isGameOver||cc.audioEngine.playEffect(n.R.audio_link,!1)}},t.prototype.showFocus=function(e){console.log(e),this.focusNode.active=!0,this.focusNode.zIndex=100,this.focusNode.color=n.R.colors[e].clone()},t.prototype.moveFocus=function(e){this.focusNode.position=e},t.prototype.hideFocus=function(){this.focusNode.active=!1},t.prototype.danceAll=function(){cc.audioEngine.playEffect(n.R.audio_win,!1);for(var e=0,t=this._tileList;e<t.length;){var o=t[e];++e;for(var i=0;i<o.length;){var a=o[i];++i,null!=a.animalSprite&&a.animalSprite.loopJump(1)}}this.scheduleOnce(this.showWinDialog,1)},t.prototype.showWinDialog=function(){l.default.instance.show("Game/WinDialog")},t.prototype.click_pause=function(){l.default.instance.show("Game/PauseDialog")},t.prototype.click_share=function(){u.default.share()},t.prototype.setFigure=function(){this._figureList=[];for(var e=[],t=0;10>t;)t++,e.push(null);t=0;for(var o=this._levelData.figure;t<o.length;){var i=o[t];++t;var a=this._tileList[i[0]][i[1]],s=a.get_borderPosition(),r=i[2],l=cc.instantiate(n.R.animalPrefabs[r-1]);a.animalSprite=l.getComponent(c.default),l.setPosition(s.x,s.y),l.parent=this.tileLayer,l.zIndex=110,a.set_animal(i[2]),a.isChangable=!1,this._figureList.push(a),null==e[i[2]]?e[i[2]]=a:(a.targetTile=e[i[2]],e[i[2]].targetTile=a)}this.perfectMoveCount=this._figureList.length/2|0},t.prototype.findTileByPos=function(e,t){for(var o=null,n=1e6,i=cc.v2(e,t),a=this._tileList,s=0;s<a.length;++s)for(var r=a[s],c=0;c<r.length;++c){var l=r[c],u=r[c].node.position,p=i.sub(u).mag();p<50&&p<n&&(n=p,o=l)}return o},t.prototype.removeGridFromTile=function(e){for(;null!=e&&null!=e.connectedTile;)this._gridManager.setState(e.get_row(),e.get_col(),e.connectedTile.get_row(),e.connectedTile.get_col(),!1),e=e.connectedTile},t.prototype.checkFillAll=function(){for(var e=0,t=this._tileList;e<t.length;){var o=t[e];++e;for(var n=0;n<o.length;){var i=o[n];if(++n,0==i.get_animal())return!1}}return!0},t.prototype.checkConnectedAll=function(){for(var e=0,t=this._tileList;e<t.length;){var o=t[e];++e;for(var n=0;n<o.length;){var i=o[n];if(++n,null!=i.targetTile){var a=i.getHead(),s=i.getTail();if(0==i.targetTile.equals(a)&&0==i.targetTile.equals(s))return!1}}}return!0},t.instance=null,__decorate([f(cc.Node)],t.prototype,"tileLayer",void 0),__decorate([f(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([f(cc.Label)],t.prototype,"timeLabel",void 0),__decorate([f(cc.Label)],t.prototype,"stepLabel",void 0),__decorate([f(cc.Node)],t.prototype,"focusNode",void 0),o=__decorate([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/misc/InputSystem":"InputSystem","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","./Animal":"Animal","./GridManager":"GridManager","./HexonTile":"HexonTile","./Res":"Res"}],GetDialog:[function(e,t,o){"use strict";cc._RF.push(t,"714f07aCe9N55KDdTLTUVv8","GetDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/plugin_boosts/ui/View"),i=e("../Info"),a=e("../../../framework/plugin_boosts/ui/ViewManager"),s=e("../../../framework/Platform"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamondLabel=null,t.count=0,t.node_close=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.share_suc=function(){i.UserInfo.addDiamond(2*this.count),i.UserInfo.save(),this.getComponent(n.default).hide(),a.default.instance.show("Game/LuckyDialog")},t.prototype.click_double=function(){var e=i.UserInfo.getChoice(i.ChoiceType.Get);1==e?s.default.share(this.share_suc,this):0==e?this.share_suc():s.default.watch_video(this.share_suc,this)},t.prototype.onShown=function(e){this.count=e,this.diamondLabel.string="+"+e,this.node_close.active=!1,this.unschedule(this.delayShow),this.scheduleOnce(this.delayShow,2)},t.prototype.delayShow=function(){this.node_close.active=!0},t.prototype.click_no=function(){this.getComponent(n.default).hide(),i.UserInfo.addDiamond(this.count),i.UserInfo.save(),a.default.instance.show("Game/LuckyDialog")},__decorate([l(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([l(cc.Node)],t.prototype,"node_close",void 0),__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info"}],GridManager:[function(e,t,o){"use strict";cc._RF.push(t,"3b45a0/RCtHwJWRliu8sGTN","GridManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ds/IntMap"),i=e("./Game"),a=e("./Res"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._minCol=null,t}return __extends(t,e),t.prototype.addGrid=function(e,t,o){null==this._gridList&&(this._gridList=new n.default),this._gridList.exists(e)||this._gridList.set(e,new n.default),this._gridList.get(e).set(t,o)},t.prototype.init=function(e){this._minCol=e},t.prototype.start=function(){var e=i.default.instance._rowCount,t=i.default.instance._tileList;this._gridList=new n.default;for(var o=0;e>o;)for(var s=o++,r=0,c=(e/2>=s?this._minCol+s:this._minCol-1+e-s)-1;c>r;){var l=r++,u=t[s][l].get_borderPosition(),p=t[s][l+1].get_borderPosition(),d=cc.v2((u.x+p.x)/2,(u.y+p.y)/2);(g=cc.instantiate(a.R.Line46)).setPosition(d),g.active=!1,g.parent=this.node,g.zIndex=109,this.addGrid(s+s,l+l+1,g)}for(o=0,s=e/2|0;s>o;)for(c=e/2>=(r=o++)?this._minCol+r:this._minCol-1+e-r,l=0;c>l;){u=l++;for(var h=0;2>h;h++){var f=t[r][u].get_borderPosition(),_=t[r+1][u+h].get_borderPosition();f=cc.v2((f.x+_.x)/2,(f.y+_.y)/2);var g=null;(g=0==h?cc.instantiate(a.R.Line37):cc.instantiate(a.R.Line19)).setPosition(f),g.active=!1,g.parent=this.node,g.zIndex=109,this.addGrid(r+r+1,u+u+h,g)}}for(o=0,s=e/2|0;s>o;)for(c=e/2>=(r=e-(r=o++)-1)?this._minCol+r:this._minCol-1+e-r,l=0;c>l;){u=l++;for(var m=0;2>m;m++)f=t[r][u].get_borderPosition(),_=t[r-1][u+m].get_borderPosition(),f=cc.v2((f.x+_.x)/2,(f.y+_.y)/2),g=null,(g=0==m?cc.instantiate(a.R.Line19):cc.instantiate(a.R.Line37)).setPosition(f),g.active=!1,g.zIndex=109,g.parent=this.node,this.addGrid(r+r-1,u+u+m,g)}},t.prototype.setState=function(e,t,o,n,i){if(this._gridList.exists(e+o)){var a=this._gridList.get(e+o);a.exists(t+n)&&(a.get(t+n).active=i)}},t}(cc.Component);o.default=s,cc._RF.pop()},{"./Game":"Game","./Res":"Res","./ds/IntMap":"IntMap"}],HbDialog:[function(e,t,o){"use strict";cc._RF.push(t,"ec5aa26/dhLhpV83mVeVmkA","HbDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/Platform"),i=e("../../../framework/plugin_boosts/ui/ViewManager"),a=e("../../../framework/plugin_boosts/ui/ToastManager"),s=e("../hex-lines-game/Res"),r=e("../Info"),c=e("../../../framework/plugin_boosts/gamesys/Device"),l=e("../../../framework/plugin_boosts/ui/View"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.click=function(){1==r.UserInfo.getChoice(r.ChoiceType.HB)?n.default.share(this.share_suc,this):n.default.watch_video(this.share_suc,this)},t.prototype.share_suc=function(){var e=s.R.skinConfig.json[3];a.Toast.make("\u606d\u559c\u83b7\u5f97\u76ae\u80a4 \uff1a"+e.text),c.default.playEffect(s.R.audio_unlock),r.UserInfo.unlock(e.id),r.UserInfo.selectedSkin=e.id,r.UserInfo.save(),i.default.instance.show("Game/ShopDialog"),this.getComponent(l.default).hide()},__decorate([p],t)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Res":"Res"}],HexonTile:[function(e,t,o){"use strict";cc._RF.push(t,"64d50rBFZhG5qLba7sOg6x9","HexonTile"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./Consts"),a=e("./Game"),s=e("./Res"),r=cc._decorator,c=r.ccclass,l=r.property;(function(e){e[e.Empty=0]="Empty",e[e.Type1=1]="Type1",e[e.Type2=2]="Type2",e[e.Type3=3]="Type3",e[e.Type4=4]="Type4",e[e.Type5=5]="Type5",e[e.Type6=6]="Type6",e[e.Type7=7]="Type7"})(n||(n={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._col=0,t._row=0,t._animal=0,t.isChangable=!0,t._isConnecting=!1,t.connectedTile=null,t.reverseConnectedTile=null,t.targetTile=null,t._sprite=null,t._baseSprite=null,t.animalSprite=null,t._tileType=0,t}return __extends(t,e),t.prototype.get_col=function(){return this._col},t.prototype.set_col=function(e){return this._col=e,e=this._col-(this._row<=a.default.instance._rowCount/2?a.default.instance.get_minCol()+this._row:a.default.instance.get_minCol()-1+a.default.instance._rowCount-this._row)/2+.5,this._baseSprite.node.x=i.default.CenterX+e*i.default.ColSize,this._col},t.prototype.get_row=function(){return this._row},t.prototype.set_row=function(e){return this._row=e,this._baseSprite.node.y=i.default.CenterY+(this._row-(a.default.instance._rowCount/2|0))*i.default.RowSize,this._row},t.prototype.get_borderPosition=function(){return this._baseSprite.node.position},t.prototype.get_isConnecting=function(){return this._isConnecting},t.prototype.set_isConnecting=function(e){return this._isConnecting=e,this.set_tileType(this._tileType),this._isConnecting},t.prototype.get_animal=function(){return this._animal},t.prototype.set_animal=function(e){switch(this._animal=e,e){case 1:this.set_tileType(n.Type1);break;case 2:this.set_tileType(n.Type2);break;case 3:this.set_tileType(n.Type3);break;case 4:this.set_tileType(n.Type4);break;case 5:this.set_tileType(n.Type5);break;case 6:this.set_tileType(n.Type6);break;case 7:this.set_tileType(n.Type7);break;default:this.set_tileType(n.Empty)}return this._animal},t.prototype.getTileTexture=function(e,t,o){if(0==e)return s.R.tileTextures[0];var n;return n=t?e:o?14+e:7+e,s.R.tileTextures[n]},t.prototype.set_tileType=function(e){if(this._tileType=e,this.isChangable&&this.get_isConnecting())this._baseSprite.spriteFrame=this.getTileTexture(this.get_animal(),!0,!1);else{var t,o=this.getTail();t=!this.isChangable&&null!=this.reverseConnectedTile||null!=o&&!o.isChangable?this.getTileTexture(this.get_animal(),!1,!0):this.getTileTexture(this.get_animal(),!1,!1),this._baseSprite.spriteFrame=t}return this._tileType},t.prototype.onAdded=function(){this.set_tileType(n.Empty)},t.prototype.connect=function(e){null==e?null!=this.connectedTile&&(1==this.connectedTile.isChangable&&this.connectedTile.set_animal(0),this.connectedTile.connect(null),this.connectedTile=this.connectedTile.reverseConnectedTile=null):(this.connectedTile=e,e.set_animal(this.get_animal()),e.reverseConnectedTile=this)},t.prototype.getTail=function(){for(var e=this.connectedTile,t=null;null!=e;)t=e,e=e.connectedTile;return t},t.prototype.getHead=function(){for(var e=this.reverseConnectedTile,t=null;null!=e;)t=e,e=e.reverseConnectedTile;return t},t.prototype.equals=function(e){return null!=e&&this.get_row()==e.get_row()&&this.get_col()==e.get_col()},t.prototype.start=function(){},__decorate([l({type:cc.Sprite,visible:!0,displayName:"Animal Sprite"})],t.prototype,"_sprite",void 0),__decorate([l({type:cc.Sprite,visible:!0,displayName:"Base Sprite"})],t.prototype,"_baseSprite",void 0),__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Consts":"Consts","./Game":"Game","./Res":"Res"}],InfiniteBackground:[function(e,t,o){"use strict";cc._RF.push(t,"ea63dhsLFFNTK51F3JClP8v","InfiniteBackground"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.camera=null,t.currentNode=null,t.repeatCount=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.currentNode=this.bgNode,this.size=this.currentNode.getContentSize(),this.nodepool=new cc.NodePool},t.prototype.start=function(){null==this.prev&&(this.prev=cc.instantiate(this.bgNode),this.node.addChild(this.prev),this.prev.y=-this.size.height)},t.prototype.reset=function(){this.repeatCount=0},t.prototype.update=function(){if(null!=this.currentNode){var e=cc.Vec2.ZERO;if(this.camera.getWorldToCameraPoint(this.currentNode.position,e),this.prev,e.y<10&&null==this.next){this.pre_prev=this.prev,this.prev=this.currentNode;var t=this.nodepool.get();null==t&&(t=cc.instantiate(this.currentNode)),t.setPosition(0,this.size.height*++this.repeatCount),this.node.addChild(t),this.currentNode=t,this.camera.getWorldToCameraPoint(t.position,e),this.next=null}e.y>this.size.height-10&&this.pre_prev&&this.nodepool.put(this.pre_prev)}},__decorate([a(cc.Node)],t.prototype,"bgNode",void 0),__decorate([a(cc.Camera)],t.prototype,"camera",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],Info:[function(e,t,o){"use strict";cc._RF.push(t,"894ddeHxZNOMqD6BW+YheZr","Info"),Object.defineProperty(o,"__esModule",{value:!0}),o.UserInfo=o.ChoiceType=void 0;var n,i=e("../../framework/plugin_boosts/misc/DataCenter"),a=e("./hex-lines-game/Res"),s=e("../../framework/plugin_boosts/ui/ToastManager"),r=e("../../framework/plugin_boosts/gamesys/Device"),c=e("../../framework/Platform"),l=e("../../framework/wxsdk/MoreGameManager");(function(e){e[e.DailyGet=0]="DailyGet",e[e.Levelup=1]="Levelup",e[e.Get=2]="Get",e[e.Shop=3]="Shop",e[e.BannerAdRefresh=4]="BannerAdRefresh",e[e.HB=5]="HB"})(n=o.ChoiceType||(o.ChoiceType={}));var u=function(e){function t(){var t=e.call(this)||this;return t.choices=[],t.version="6",t.level=1,t.selectedSkin="2",t.dailyGetTime=new Date(2018,1,1).getTime(),t.freedrawTime=t.dailyGetTime,t.luckyVideoWatchTime=t.dailyGetTime,t.shopFreeDiamondTime=t.dailyGetTime,t.diamond=0,t.sfx_enabled=!0,t.firstTimeReach=!1,t.luckyVideoWatchCount=0,t.timePassed=0,t.stepUsed=0,t.currentLevel=1,t.unlock(t.selectedSkin),setTimeout(function(){t.save()},6e4),t}return __extends(t,e),t.prototype.getChoice=function(e){return this.choices[e]||0},t.prototype.init=function(){c.default.configGetSignal.on(this.onGetConfig,this),c.default.requestServerConfigs("t_games",this.onGetGames,this)},t.prototype.onGetGames=function(e){l.default.instance.addList(e)},t.prototype.onGetConfig=function(e){if(e){var t=e[0];t&&(this.choices=JSON.parse(t[this.version]))}c.default.initBannerAd(this.getChoice(n.BannerAdRefresh))},t.prototype.addDiamond=function(e,t){void 0===t&&(t=!0),this.diamond+="number"==typeof e?e:parseInt(e),t&&(s.Toast.make("\u83b7\u5f97\u94bb\u77f3 x"+e),r.default.playEffect(a.R.audio_get_diamond)),this.firstTimeReach||this.diamond>=500&&(s.Toast.make("\u54c7\u53ef\u4ee5\u4e70\u76ae\u80a4\u4e86\uff0c\u5feb\u53bb\u76ae\u80a4\u5546\u5e97\u770b\u770b\u5427!",2),this.firstTimeReach=!0,o.UserInfo.save())},t.prototype.isUnlock=function(e){var t=localStorage.getItem("unlocked_"+e);return!!t&&"1"==t},t.prototype.isAllUnlocked=function(){for(var e=0,t=0;t<a.R.skinConfig.json.length;t++){var n=a.R.skinConfig.json[t];o.UserInfo.isUnlock(n.id)&&e++}return e==a.R.skinConfig.json.length},t.prototype.getSkinById=function(e){return a.R.skinConfig.json.filter(function(t){return t.id==e})[0]},t.prototype.unlock=function(e){localStorage.setItem("unlocked_"+e,"1")},__decorate([i.field()],t.prototype,"level",void 0),__decorate([i.field()],t.prototype,"selectedSkin",void 0),__decorate([i.field()],t.prototype,"dailyGetTime",void 0),__decorate([i.field()],t.prototype,"freedrawTime",void 0),__decorate([i.field()],t.prototype,"luckyVideoWatchTime",void 0),__decorate([i.field()],t.prototype,"shopFreeDiamondTime",void 0),__decorate([i.field()],t.prototype,"diamond",void 0),__decorate([i.field()],t.prototype,"sfx_enabled",void 0),__decorate([i.field()],t.prototype,"firstTimeReach",void 0),__decorate([i.field()],t.prototype,"luckyVideoWatchCount",void 0),__decorate([i.dc("Info")],t)}(i.default);o.default=u,o.UserInfo=i.default.register(u),cc._RF.pop()},{"../../framework/Platform":"Platform","../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/misc/DataCenter":"DataCenter","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../framework/wxsdk/MoreGameManager":"MoreGameManager","./hex-lines-game/Res":"Res"}],InputSystem:[function(e,t,o){"use strict";cc._RF.push(t,"4643c14ws5Msox+teVpsIzz","InputSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.InputSystem=o.Input=void 0;var n=e("./JoyStick"),i=cc._decorator,a=i.ccclass,s=i.property;o.Input=null;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=null,t.keys={},t.__touchVec=cc.Vec2.ZERO,t.radius_axis=256,t.joyStick=null,t.__lastTouch=cc.Vec2.ZERO,t.moveOffset=cc.Vec2.ZERO,t.__curTouchId=-1,t}return __extends(t,e),t.prototype.setDelegate=function(e){this._target=e},t.prototype.onLoad=function(){o.Input=this;for(var e=this.getComponents(cc.Component),t=0;t<e.length;t++){var n=e[t];if(n!=this&&(n.onTouchBegan||n.onTouchEnded||n.onTouchMoved)){this._target=n;break}}console.log("InputSystem Component -> target:",this._target)},t.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.triggerKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.triggerKeyUp,this),this.node.on(cc.Node.EventType.TOUCH_START,this.triggerTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.triggerTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.triggerTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.triggerTouchCanceled,this)},Object.defineProperty(t.prototype,"touch",{get:function(){return this.__touch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this.joyStick?this.joyStick.axis:this.__touchVec},enumerable:!1,configurable:!0}),t.prototype.getKey=function(e){return this.keys[e]},t.prototype.triggerKeyUp=function(){this._target.onKeyUp&&this._target.onKeyUp(event),this.keys[event.key]=!1},t.prototype.triggerKeyDown=function(){this._target.onKeyDown&&this._target.onKeyDown(event),this.keys[event.key]=!0},t.prototype.triggerTouchEnded=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this.__curTouchId=-1,this._target.onTouchEnded&&this._target.onTouchEnded(e),this.__touch=null,this.__touchVec=cc.Vec2.ZERO,e.currentTouch&&this.joyStick&&this.joyStick.touchEnd(e.currentTouch.getLocation()),this.moveOffset=cc.Vec2.ZERO)},t.prototype.triggerTouchMoved=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this._target.onTouchMoved&&this._target.onTouchMoved(e),this.__touch=e.currentTouch.getLocation(),this.moveOffset=this.__touch.sub(this.__lastTouch),this.__touch&&this.__startLocation&&(this.__touchVec=this.__touch.sub(this.__startLocation),this.joyStick&&this.joyStick.touchMove(this.__touch)),this.__lastTouch=this.__touch)},t.prototype.triggerTouchBegan=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this._target.onTouchBegan&&this._target.onTouchBegan(e),this.__curTouchId=e.getID(),this.__startLocation=e.currentTouch.getLocation(),this.__touch=e.currentTouch.getLocation(),this.__lastTouch=this.__touch,this.joyStick&&this.joyStick.touchStart(this.__startLocation))},t.prototype.triggerTouchCanceled=function(e){this.triggerTouchEnded(e)},t.prototype.onEnable=function(){this.schedule(this.checkTouch,.02)},t.prototype.onDisable=function(){this.unschedule(this.checkTouch)},t.prototype.checkTouch=function(){this.__touch&&(this.moveOffset=this.__touch.sub(this.__lastTouch))},__decorate([s(n.default)],t.prototype,"joyStick",void 0),__decorate([a],t)}(cc.Component);o.InputSystem=r,cc._RF.pop()},{"./JoyStick":"JoyStick"}],IntMap:[function(e,t,o){"use strict";cc._RF.push(t,"11eeadKZERHbLgjtZ/2KsFr","IntMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.h={}}return e.prototype.set=function(e,t){this.h[e]=t},e.prototype.get=function(e){return this.h[e]},e.prototype.exists=function(e){return this.h.hasOwnProperty(e)},e.prototype.remove=function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},e.prototype.keys=function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return com.iter(t)},e}();o.default=n,cc._RF.pop()},{}],Intersection:[function(e,t,o){"use strict";cc._RF.push(t,"2f4dfDdP95AjIAwGFL34sfm","Intersection"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.circleIntersectRect=function(e,t,o){var n,i;n=e.x<o.x?o.x:e.x>o.x+o.width?o.x+o.width:e.x,i=e.y<o.y?o.y:e.y>o.y+o.height?o.y+o.height:e.y;var a=cc.v2(n,i);return a.subSelf(e),a.magSqr()<t*t},e}();o.default=n,cc._RF.pop()},{}],JoyStick:[function(e,t,o){"use strict";cc._RF.push(t,"297d6dgG6ZIJJ+ZjeNWq2ub","JoyStick"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.outterCircle=null,t.innerCircle=null,t.radius=250,t.innerCircleRadius=20,t.releaseAfterOver=!1,t.dynamicJoystick=!1,t.autoRadius=!1,t.isReleased=!1,t._startPos=cc.Vec2.ZERO,t}return __extends(t,e),t.prototype.onLoad=function(){this.autoRadius&&(this.radius=this.outterCircle.getBoundingBox().height/2),this.innerCircle.setPosition(0,0),this.node.active=!1},t.prototype.start=function(){this.releaseStick()},t.prototype.releaseStick=function(){var e=cc.moveTo(.5,cc.Vec2.ZERO).easing(cc.easeExponentialOut());this.innerCircle.runAction(e),this.isReleased=!0,this.dynamicJoystick&&this.scheduleOnce(this.delayClose,1)},t.prototype.delayClose=function(){this.node.active=!1},Object.defineProperty(t.prototype,"axis",{get:function(){if(this.isReleased)return cc.Vec2.ZERO;var e=this.innerCircle.getPosition();return e.normalizeSelf(),e},enumerable:!1,configurable:!0}),t.prototype.move=function(e){e.mag()>this.radius&&(this.releaseAfterOver&&this.releaseStick(),e.normalizeSelf(),e.mulSelf(this.radius)),this.innerCircle.setPosition(e)},t.prototype.touchStart=function(e){if(this.enabled){if(this.isReleased=!1,this._startPos=e,this.unschedule(this.delayClose),this.node.active=!0,this.dynamicJoystick){var t=this.node.getParent().convertToNodeSpaceAR(e);this.node.setPosition(t)}this.move(cc.Vec2.ZERO)}},t.prototype.touchMove=function(e){if(this.enabled){var t=e.sub(this._startPos);this.move(t)}},t.prototype.touchEnd=function(){this.enabled&&this.releaseStick()},__decorate([a(cc.Node)],t.prototype,"outterCircle",void 0),__decorate([a(cc.Node)],t.prototype,"innerCircle",void 0),__decorate([a],t.prototype,"radius",void 0),__decorate([a],t.prototype,"innerCircleRadius",void 0),__decorate([a],t.prototype,"releaseAfterOver",void 0),__decorate([a],t.prototype,"dynamicJoystick",void 0),__decorate([a],t.prototype,"autoRadius",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],LevelDialog:[function(e,t,o){"use strict";cc._RF.push(t,"4c94fc8PDtI1o3JM9m3WRKN","LevelDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Info"),i=e("../../../framework/plugin_boosts/ui/game/LevelSelector"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){this.selector.currentLevel=n.UserInfo.level,this.selector.refresh(),this.scheduleOnce(this.refreshLevels,.1)},t.prototype.refreshLevels=function(){this.selector.scrollToCurrentLevel()},t.prototype.select_level=function(e){this.gotoLevel(e.name)},t.prototype.refreshLevelItem=function(){},t.prototype.gotoLevel=function(e){e=parseInt(e),console.log("enter level",e),n.UserInfo.currentLevel=e,cc.director.loadScene("Game")},t.prototype.click_continue=function(){this.gotoLevel(n.UserInfo.level)},__decorate([r(i.default)],t.prototype,"selector",void 0),__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/game/LevelSelector":"LevelSelector","../Info":"Info"}],LevelSelector:[function(e,t,o){"use strict";cc._RF.push(t,"b7942O9SJ1JFpcT0/D7YiFO","LevelSelector"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=(n.help,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageview=null,t.template=null,t.onSelectLevel=new cc.Component.EventHandler,t.onRefreshItem=new cc.Component.EventHandler,t.index=0,t.max=9,t.itemCountPerPage=0,t.pages=[],t.currentLevel=1,t.autoScrollToCurrentLevel=!0,t}return __extends(t,e),t.prototype.selectLevel=function(e){this.onSelectLevel?this.onSelectLevel.emit([e.target,Number(e.target.name)]):console.warn("LevelSelector: onSelectLevel callback is nil")},t.prototype.onLoad=function(){this.pages.splice(0,this.pages.length),this.itemCountPerPage=this.template.childrenCount;var e=Math.floor(this.max/this.itemCountPerPage);this.max%this.itemCountPerPage>0&&(e+=1);for(var t=0;t<e-1;t++){var o=cc.instantiate(this.template);this.pageview.addPage(o),this.pages.push(o)}this.pages.push(this.template);for(var n=0;n<e;n++){o=this.pages[n];for(var i=0;i<o.childrenCount;i++){var a=o.children[i],s=a.getChildByName("label"),r=n*this.itemCountPerPage+Number(i)+1;r>this.max&&(a.active=!1),a.name=r+"",s.getComponent(cc.Label).string=a.name}}},t.prototype.refreshItem=function(e,t){t>this.currentLevel?(e.opacity=100,e.getComponent(cc.Button).enabled=!1):(e.opacity=255,e.getComponent(cc.Button).enabled=!0)},t.prototype.refresh=function(){console.log("LevelSelctor: refresh");for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e],o=0;o<t.childrenCount;o++){var n=t.children[o],i=e*this.itemCountPerPage+Number(o)+1;this.refreshItem(n,i),this.onRefreshItem.emit([n,i])}this.autoScrollToCurrentLevel&&this.scrollToCurrentLevel()},t.prototype.start=function(){},t.prototype.scrollToCurrentLevel=function(){var e=this.currentLevel,t=Math.floor(e/this.itemCountPerPage);0==e%this.itemCountPerPage&&(t-=1),this.pageview.scrollToPage(t,.3)},t.prototype.nextPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()+1,.3)},t.prototype.prevPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()-1,.3)},__decorate([a(cc.PageView)],t.prototype,"pageview",void 0),__decorate([a(cc.Node)],t.prototype,"template",void 0),__decorate([a(cc.Component.EventHandler)],t.prototype,"onSelectLevel",void 0),__decorate([a(cc.Component.EventHandler)],t.prototype,"onRefreshItem",void 0),__decorate([a],t.prototype,"index",void 0),__decorate([a],t.prototype,"max",void 0),__decorate([i],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],LevelupDialog:[function(e,t,o){"use strict";cc._RF.push(t,"192e1nHc39B4b1vo/mjTFG2","LevelupDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Info"),i=e("../../../framework/plugin_boosts/ui/View"),a=e("../../../framework/Platform"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamondLabel=null,t.btnLabel=null,t.tipLabel=null,t.levelLabel=null,t.mult=1,t.baseDiamond=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(e,t){t=Math.min(t,1);var o=Math.floor(Math.max(30*t,10));this.baseDiamond=o,this.diamondLabel.string=o.toString(),this.levelLabel.string=cc.js.formatStr("- \u7b2c %s \u5173 - ",e),Math.random()>.7?(this.mult=g.randomInt(3,6),this.btnLabel.string=this.mult+"\u500d\u9886\u53d6"):(this.btnLabel.string="\u53cc\u500d\u9886\u53d6",this.mult=2),this.tipLabel.string="\u606d\u559c\u83b7\u5f97"+this.btnLabel.string+"\u5956\u52b1\u673a\u4f1a"},t.prototype.click_get=function(){n.UserInfo.addDiamond(this.baseDiamond),n.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.share_suc=function(){n.UserInfo.addDiamond(this.baseDiamond*this.mult),n.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.click_getex=function(){var e=n.UserInfo.getChoice(n.ChoiceType.Levelup);1==e?a.default.share(this.share_suc,this):0==e?this.share_suc():a.default.watch_video(this.share_suc,this)},__decorate([c(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([c(cc.Label)],t.prototype,"btnLabel",void 0),__decorate([c(cc.Label)],t.prototype,"tipLabel",void 0),__decorate([c(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],LoadingManager:[function(e,t,o){"use strict";cc._RF.push(t,"48049jD6zJMmoi+cPkRhX7D","LoadingManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.Loading=void 0;var n=cc._decorator,i=n.ccclass,a=n.property;o.Loading=null;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.loadingNode=null,t.loadingSprite=null,t.loadingText=null,t.blockEventComp=null,t._callback=null,t._target=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.loadingNode=cc.instantiate(this.prefab),this.blockEventComp=this.loadingNode.getComponent(cc.BlockInputEvents),this.loadingNode.parent=this.node,this.loadingNode.zIndex=9999,this.loadingSprite=this.loadingNode.getComponentInChildren(cc.Sprite),this.loadingText=this.loadingNode.getComponentInChildren(cc.Label),this.hide(),o.Loading=this},t.prototype.start=function(){this.loadingSprite.node.runAction(cc.rotateBy(4,360).repeatForever())},t.prototype.dealyClose=function(){this.hide(),this._callback&&this._callback.call(this._target)},t.prototype.show=function(e,t,o,n,i){void 0===t&&(t=null),void 0===o&&(o=!0),void 0===n&&(n=null),void 0===i&&(i=null),this.loadingNode.active=!0,this.loadingNode.resumeAllActions(),this.blockEventComp.enabled=o,this._callback=n,this._target=i,t&&(this.loadingText.string=t),e>0&&(this.unschedule(this.dealyClose),this.scheduleOnce(this.dealyClose,e))},t.prototype.hide=function(){this.loadingNode.active=!1,this.loadingNode.pauseAllActions()},__decorate([a(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],LocalLifeSystem:[function(e,t,o){"use strict";cc._RF.push(t,"550c0O4ualLIYQoOOiFtGsz","LocalLifeSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.LifeSystem=o.LocalLifeSystem=void 0;var n=e("../utils/EventManager"),i=e("../misc/Signal"),a=function(){function e(){this.sec_per_live=300,this.live_free_get=5,this.max_freeLives_seconds=this.live_free_get*this.sec_per_live,this.livesSeconds=0,this.isEnabledAutoRecovery=!0,this.recoverySignal=new i.default}return e.prototype.init=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.sec_per_live=e||this.sec_per_live,this.live_free_get=t||this.live_free_get,this.max_freeLives_seconds=this.sec_per_live*this.live_free_get,this.livesSeconds=0,this.lastLifeSaveTime=Number(localStorage.getItem("sys_life_lastLifeSaveTime")||(new Date).getTime()),g.setGlobalInstance(o.LifeSystem,"LocalLifeSystem"),n.event.on("onEnterForeground",this.onEnterForeground,this),this.onTimeRequested((new Date).getTime()),console.log("\u4f53\u529b\u7cfb\u7edf\u521d\u59cb\u5316",this)},e.prototype.onEnterForeground=function(){this.onTimeRequested((new Date).getTime())},Object.defineProperty(e.prototype,"nextLifeTime",{get:function(){return(this.lives+1)*this.sec_per_live-this.livesSeconds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lives",{get:function(){return Math.floor(this.livesSeconds/this.sec_per_live)},enumerable:!1,configurable:!0}),e.prototype.save=function(){this.lastLifeSaveTime=(new Date).getTime(),localStorage.setItem("sys_life_lastLifeSaveTime",this.lastLifeSaveTime+"")},e.prototype.onTimeRequested=function(e){if(this.lastLifeSaveTime){var t=Math.floor((e-this.lastLifeSaveTime)/1e3);this.livesSeconds=Math.min(this.max_freeLives_seconds,t)}},e.prototype.startCheck=function(e,t){var o=this;if(!this.task_checkLives){var n=e.call(t);this.task_checkLives=setInterval(function(){var i=e.call(t);n!=i&&i==o.live_free_get-1&&(o.livesSeconds=0,o.save()),i<o.live_free_get&&(o.livesSeconds=o.livesSeconds+1,i+o.lives>i&&(console.log("\u83b7\u5f97\u5728\u7ebf\u5956\u52b1\u4e00\u9897\u661f",o.lives),o.recoverySignal.fire(o.lives),o.livesSeconds=0,o.save())),n=i},1e3)}},e}();o.LocalLifeSystem=a,o.LifeSystem=new a,cc._RF.pop()},{"../misc/Signal":"Signal","../utils/EventManager":"EventManager"}],LocalTimeSystem:[function(e,t,o){"use strict";cc._RF.push(t,"2f847KAJNJCwrvg4K3CKFUv","LocalTimeSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.init=function(t){null!=t&&null!=t&&(e.utc_sec=t,cc.sys.WECHAT_GAME==cc.sys.platform&&(wx.onHide(this.onHidden),wx.onShow(this.onShown)),g.setGlobalInstance(e))},e.startTimer=function(){this.timer=setInterval(function(){e.utc_sec+=1e3},1e3)},e.stopTimer=function(){clearInterval(this.timer)},e.getSec=function(){return e.utc_sec||(new Date).getTime()/1e3},e.getDate=function(){if(e.utc_sec){var t=new Date;return t.setTime(1e3*e.utc_sec),t}return new Date},e.onHidden=function(){console.log("game enter background")},e.onShown=function(){console.log("game enter foreground")},e}();o.default=n,cc._RF.pop()},{}],LuckyDialog:[function(e,t,o){"use strict";cc._RF.push(t,"a94275+JmtMx6iZb18iwKTe","LuckyDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/plugin_boosts/ui/ToastManager"),i=e("../../../framework/plugin_boosts/ui/ViewManager"),a=e("../../../framework/plugin_boosts/ui/View"),s=e("../Info"),r=e("../../../framework/Platform"),c=e("../../../framework/plugin_boosts/gamesys/Device"),l=e("../hex-lines-game/Res"),u=e("../../../framework/plugin_boosts/ui/UIFunctions"),p=e("../Main"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canRotate=!0,t.sprites=[],t.labels=[],t.btn_freedraw=null,t.btn_videodraw=null,t.freedrawTip=null,t.drawLabel=null,t.pool=[],t}var o;return __extends(t,e),o=t,t.prototype.start=function(){},t.prototype.share_succ=function(){this.startDraw(),s.UserInfo.freedrawTime=(new Date).getTime(),s.UserInfo.save(),p.default.instance.refreshRedpoints(),this.onShown()},t.prototype.click_freeedraw=function(){g.isNextDay(s.UserInfo.freedrawTime)&&this.share_succ()},t.prototype.onLoad=function(){for(var e=0;e<l.R.luckyConfig.json.length;e++)for(var t=l.R.luckyConfig.json[e],o=parseFloat(t.chance),n=0;n<2*o;n++)this.pool.push(e);this.pool.shuffle(),console.log(this.pool)},t.prototype.startDraw=function(){var e=g.getRandomInArray(this.pool);this.startWheel(e),c.default.playEffect(l.R.audio_draw)},t.prototype.click_videodraw=function(){var e=this;if(s.UserInfo.luckyVideoWatchCount>=o.MaxVideoCount){if(!g.isNextDay(s.UserInfo.luckyVideoWatchTime))return;s.UserInfo.luckyVideoWatchCount=0,s.UserInfo.luckyVideoWatchTime=(new Date).getTime()}else r.default.watch_video(function(){s.UserInfo.luckyVideoWatchCount++,e.startDraw()})},t.prototype.calculateAngle=function(e){return 60*-(e-1)-30-1440-this.wheelSp.node.rotation%360},t.prototype.onShown=function(){s.UserInfo.luckyVideoWatchCount>=o.MaxVideoCount?(this.drawLabel.string="\u5df2\u7528\u5b8c",u.default.setButtonEnabled(this.btn_videodraw,!1)):(this.drawLabel.string="\u770b\u89c6\u9891\u62bd\u5956",u.default.setButtonEnabled(this.btn_videodraw,!0)),g.isGreaterDate(new Date,new Date(s.UserInfo.freedrawTime))?(this.btn_freedraw.interactable=!0,this.btn_freedraw.node.opacity=255,this.freedrawTip.active=!1):(this.btn_freedraw.interactable=!1,this.btn_freedraw.node.opacity=100,this.freedrawTip.active=!0);for(var e=0;e<l.R.luckyConfig.json.length;e++){var t=l.R.luckyConfig.json[e];this.labels[e].string=t.gold_reward+""}},t.prototype.startWheel=function(e){console.log("target wheel:",e);var t=this.calculateAngle(e);if(this._canRotate){this._canRotate=!1;var o=cc.rotateBy(Math.abs(t/400),t),i=cc.callFunc(function(){this._canRotate=!0,this.showRes(e)}.bind(this)),a=cc.sequence(o,i);this.wheelSp.node.runAction(a.easing(cc.easeQuadraticActionInOut()))}else n.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},t.prototype.showRes=function(e){var t=l.R.luckyConfig.json[e];isNaN(Number(t.gold_reward))?(n.Toast.make("\u606d\u559c\u4f60\u62bd\u4e2d\u4e86 "+t.gold_reward),s.UserInfo.unlock(g.randomInt(0,6))):(this.getComponent(a.default).hide(),i.default.instance.show("Game/GetDialog",t.gold_reward))},t.prototype.update=function(){},t.prototype.click_close=function(){this._canRotate?this.getComponent(a.default).hide():n.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},t.MaxVideoCount=5,__decorate([f(cc.Sprite)],t.prototype,"wheelSp",void 0),__decorate([f([cc.Sprite])],t.prototype,"sprites",void 0),__decorate([f([cc.Label])],t.prototype,"labels",void 0),__decorate([f(cc.Button)],t.prototype,"btn_freedraw",void 0),__decorate([f(cc.Button)],t.prototype,"btn_videodraw",void 0),__decorate([f(cc.Node)],t.prototype,"freedrawTip",void 0),__decorate([f(cc.Label)],t.prototype,"drawLabel",void 0),o=__decorate([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/UIFunctions":"UIFunctions","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../Main":"Main","../hex-lines-game/Res":"Res"}],Main:[function(e,t,o){"use strict";cc._RF.push(t,"979d2m9WlRN0519FkcUBa5E","Main"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../framework/plugin_boosts/ui/ViewManager"),i=e("./Info"),a=e("../../framework/Platform"),s=e("../../framework/plugin_boosts/gamesys/Device"),r=e("./hex-lines-game/Res"),c=e("../../framework/plugin_boosts/ui/ToastManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.drawRedPoint=null,t.skinRedPoint=null,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,a.default.login(),i.UserInfo.init(),s.default.playMusic(r.R.audio_bgm)},t.prototype.refreshRedpoints=function(){g.isNextDay(i.UserInfo.freedrawTime)?this.drawRedPoint.active=!0:this.drawRedPoint.active=!1,this.skinRedPoint.active=i.UserInfo.diamond>=500&&!i.UserInfo.isAllUnlocked()},t.prototype.start=function(){g.isNextDay(i.UserInfo.dailyGetTime)&&n.default.instance.show("Game/DailyDialog"),this.refreshRedpoints(),g.isNextDay(i.UserInfo.luckyVideoWatchTime)&&(i.UserInfo.luckyVideoWatchTime=(new Date).getTime(),i.UserInfo.luckyVideoWatchCount=0),a.default.showBannerAd()},t.prototype.click_play=function(){n.default.instance.show("Game/LevelDialog")},t.prototype.toggle_sfx=function(e){s.default.setSoundsEnable(!e.isChecked)},t.prototype.click_skin=function(){n.default.instance.show("Game/ShopDialog")},t.prototype.click_rank=function(){n.default.instance.show("wechat/WxRankDialog")},t.prototype.onShare=function(){},t.prototype.click_share=function(){a.default.share(this.onShare)},t.prototype.click_luck=function(){n.default.instance.show("Game/LuckyDialog")},t.prototype.click_more=function(){c.Toast.make("\u656c\u8bf7\u671f\u5f85")},t.instance=null,__decorate([p(cc.Node)],t.prototype,"drawRedPoint",void 0),__decorate([p(cc.Node)],t.prototype,"skinRedPoint",void 0),o=__decorate([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../framework/Platform":"Platform","../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../framework/plugin_boosts/ui/ViewManager":"ViewManager","./Info":"Info","./hex-lines-game/Res":"Res"}],MessageBase:[function(e,t,o){"use strict";cc._RF.push(t,"dde8btrP25FeqHeKW+G4Pfb","MessageBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageBase=void 0;var n=e("./MessageType"),i=e("./Message"),a=e("./ConnectManager"),s=function(){function e(){for(var e in this.Cmd={},this.Error={},this._allFuncs={},game.Command){var t=game.Command[e];this.Cmd[t]=e}for(var e in game.ErrorCode)t=game.ErrorCode[e],this.Error[t]=e}return e.prototype.useSocketKey=function(e){this._socketKey=e},e.prototype.addListener=function(e,t){this._allFuncs[e]=t},e.prototype.removeListener=function(e){null!=this._allFuncs[e]&&(this._allFuncs[e]=null)},e.prototype.onMessage=function(e){if(e.type==n.SocketTag.KSOCKET_MESSAGE){var t=new Uint8Array(e.msg),o=new flatbuffers.ByteBuffer(t),i=game.Package.getRootAsPackage(o);return null!=this._allFuncs[i.cmd()]?this._allFuncs[i.cmd()].call(this,i):this.onHandler(i)}return this.onSocket(e.type),!0},e.prototype.onSocket=function(){},e.prototype.onHandler=function(){return!1},e.prototype.sendMessage=function(e){a.connManager.sendMessage(e,this._socketKey)},e.prototype.onDestory=function(){this._allFuncs=null},e.prototype.send=function(e,t,o,n){void 0===t&&(t=""),void 0===o&&(o=null),void 0===n&&(n=null),console.log("Send Message : ["+this.Cmd[e]+"]");var s=a.connManager.getDefault(),r=new i.Message(e),c=game[t];if(null!=c){null==n&&(n=this.createBuilder());var l=c["start"+t],u=c["end"+t];l.call(c,n),o&&o(n),n.finish(u.call(c,n)),r.addBuilder(n)}else r.addString(t);s.sendMessage(r)},e.prototype.createBuilder=function(){return new flatbuffers.Builder},e}();o.MessageBase=s,cc._RF.pop()},{"./ConnectManager":"ConnectManager","./Message":"Message","./MessageType":"MessageType"}],MessageBoxComponent:[function(e,t,o){"use strict";cc._RF.push(t,"5d14c63Zc1PupexE+EkksQp","MessageBoxComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./View"),i=e("./MessageBoxManager"),a=cc._decorator,s=a.ccclass,r=a.property,c=(a.executeInEditMode,a.playOnFocus,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_title=null,t.node_content=null,t.btn_ok=null,t.btn_cancel=null,t.messageBoxCallback=null,t.label_ok=null,t.label_cancel=null,t.group_ok_cancel=null,t.group_ok=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.label_ok=this.btn_ok.getChildByName("Label").getComponent(cc.Label),this.label_cancel=this.btn_cancel.getChildByName("Label").getComponent(cc.Label),this.getComponent(n.default).setDelegate(this),this.bgAnimation=this.node.getChildByName("bg").getComponent(cc.Animation)},t.prototype.onHidden=function(){},t.prototype.onShown=function(e){this.node_title.string=e.title,this.node_content.string=e.content,this.messageBoxCallback=e.callback,e.extra&&(this.label_ok.string=e.extra.okText,this.label_cancel.string=e.extra.cancelText),e.buttons==i.MessageBox.OK_CANCEL?(this.group_ok_cancel.active=!0,this.group_ok.active=!1):(this.group_ok.active=!0,this.group_ok_cancel.active=!1)},t.prototype.start=function(){},t.prototype.on_btn_ok_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.OK),this.getComponent(n.default).hide()},t.prototype.on_btn_cancel_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.CANCEL),this.getComponent(n.default).hide()},__decorate([r(cc.Label)],t.prototype,"node_title",void 0),__decorate([r(cc.Label)],t.prototype,"node_content",void 0),__decorate([r(cc.Node)],t.prototype,"btn_ok",void 0),__decorate([r(cc.Node)],t.prototype,"btn_cancel",void 0),__decorate([r(cc.Node)],t.prototype,"group_ok_cancel",void 0),__decorate([r(cc.Node)],t.prototype,"group_ok",void 0),__decorate([s],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./MessageBoxManager":"MessageBoxManager","./View":"View"}],MessageBoxManager:[function(e,t,o){"use strict";cc._RF.push(t,"bc48cBqkERHuJx+iKzOzwOV","MessageBoxManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageBox=void 0;var n=e("./ViewManager"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.instance=null,__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),o=__decorate([a],t)}(cc.Component);o.default=r;var c=function(){function e(){}return e.prototype.start=function(){},e.show=function(e,t,o,i){return t=null==t||null==t?"\u63d0\u793a":t,new Promise(function(a){n.default.instance.showFromPrefab(r.instance.prefab,"MessageBox",{title:t,content:e,buttons:o,extra:i,callback:function(e){a(e)}})})},e.OK=1,e.CANCEL=0,e.OK_CANCEL=2,e}();o.MessageBox=c,cc._RF.pop()},{"./ViewManager":"ViewManager"}],MessageDispatch:[function(e,t,o){"use strict";cc._RF.push(t,"27032HakQBLd5OVLXAxtzCc","MessageDispatch"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageDispatch=void 0;var n=function(){function e(){this._handler=null,this._allMessageBases={}}return e.getInstance=function(){return null==this._instace&&(this._instace=new e),this._instace},e.prototype.register=function(e,t){return null==e?null:null==t?null:(null==this._allMessageBases[e]&&(this._allMessageBases[e]=[]),this._allMessageBases[e].push(t),t)},e.prototype.isNull=function(e){var t=this._allMessageBases[e];return null!=t&&t.length>0},e.prototype.registerUnique=function(e,t){if(null==e)return null;var o=this._allMessageBases[e];return null!=o&&o.length>0?this._allMessageBases[e][0]:this.register(e,t)},e.prototype.getBean=function(e){if(null==e)return null;var t=this._allMessageBases[e];return null!=t&&t.length>0?t[0]:null},e.prototype.unRegister=function(e){var t=this._allMessageBases[e];if(null!=t){for(var o=0;o<t.length;o++)t[o].onDestory();this._allMessageBases[e]=null,delete this._allMessageBases[e]}},e.prototype.onMessage=function(e){for(var t in this._allMessageBases)if(null!=this._allMessageBases[t])for(var o=this._allMessageBases[t],n=0;n<o.length;n++)if(o[n].onMessage(e))return!0;return!1},e._instace=null,e}();o.MessageDispatch=n,cc._RF.pop()},{}],MessageHandler:[function(e,t,o){"use strict";cc._RF.push(t,"af7b1a7LUJIBaVXazyQWhWN","MessageHandler"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var n=e("./Message"),i=e("./MessageType"),a=e("./MessageDispatch"),s=function(){function e(e){this._writeMessage=null,this._messages=null,this._messages=[],this._heartbeatTime=0,this._writeMessage=[],this._webSocket=e,this.setHeartbeatInterval(30),this._isEnableHeartbeat=!1}return Object.defineProperty(e.prototype,"enableHeartbeat",{get:function(){return this._isEnableHeartbeat},set:function(e){this._isEnableHeartbeat=e},enumerable:!1,configurable:!0}),e.prototype.setHeartbeatInterval=function(e){e<=0&&(e=1),this._heartbeatInterval=1e3*e},e.prototype.onUpdate=function(){if(this._writeMessage.length>0){var e=(t=this._writeMessage[0]).pack();this._webSocket.readyState==WebSocket.OPEN&&(console.log("size: "+e.byteLength),this._webSocket.send(e),this._writeMessage.shift())}if(this._messages.length>0){var t=this._messages.shift();this.dispatchMessage(t)}return this._isEnableHeartbeat&&this.checkHeartbeat(),!1},e.prototype.checkHeartbeat=function(){(new Date).getTime()-this._heartbeatTime>=this._heartbeatInterval&&(this.sendMessage(new n.Message(game.Command.Heartbeat)),this._heartbeatTime=(new Date).getTime())},e.prototype.dispatchMessage=function(e){a.MessageDispatch.getInstance().onMessage(e)||this._messages.push(e)},e.prototype.dispatchSocket=function(e){var t={type:e};this.dispatchMessage(t)},e.prototype.dispatch=function(e,t){var o=this;if(e==i.SocketTag.KSOCKET_OPEN)clearInterval(this.updateTimer),this.updateTimer=setInterval(function(e){return o.onUpdate(e)},1e3/60),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_CLOSE)clearInterval(this.updateTimer),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_ERROR)clearInterval(this.updateTimer),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_MESSAGE){var n={type:e,msg:t};this.dispatchMessage(n)}},e.prototype.clearWriteMessage=function(){this._writeMessage=[]},e.prototype.clearMessage=function(){this._messages=[]},e.prototype.sendMessage=function(e){this._writeMessage.push(e)},e}();o.MessageHandler=s,cc._RF.pop()},{"./Message":"Message","./MessageDispatch":"MessageDispatch","./MessageType":"MessageType"}],MessageType:[function(e,t,o){"use strict";cc._RF.push(t,"9f654W7umlMeasjS7fKQj29","MessageType"),Object.defineProperty(o,"__esModule",{value:!0}),o.SocketTag=void 0,function(e){e[e.KSOCKET_OPEN=0]="KSOCKET_OPEN",e[e.KSOCKET_CLOSE=1]="KSOCKET_CLOSE",e[e.KSOCKET_MESSAGE=2]="KSOCKET_MESSAGE",e[e.KSOCKET_ERROR=3]="KSOCKET_ERROR"}(o.SocketTag||(o.SocketTag={})),cc._RF.pop()},{}],Message:[function(e,t,o){"use strict";cc._RF.push(t,"fb4e0zpbzJB4YN77Kns7y3M","Message"),Object.defineProperty(o,"__esModule",{value:!0}),o.Message=void 0;var n=function(){function e(e){this._cmd=e,this._data=null}return e.prototype.addBuilder=function(e){this._data=e.asUint8Array()},e.prototype.addString=function(e){this._data=e},e.prototype.pack=function(){var e=this.toString().asUint8Array(),t=new Uint8Array(e);return console.log("send message: "+t),t.buffer},e.prototype.toString=function(){var e=new flatbuffers.Builder,t=null;null!=this._data&&(t=e.createString(this._data)),game.Package.startPackage(e),game.Package.addCmd(e,this._cmd),null!=this._data&&game.Package.addData(e,t);var o=game.Package.endPackage(e);return e.finish(o),e},e}();o.Message=n,cc._RF.pop()},{}],MoreGameComponent:[function(e,t,o){"use strict";cc._RF.push(t,"662f9RcpGtJGpMGll8qVj04","MoreGameComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MoreGameManager"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isManaged=!0,t.refreshInterval=60,t.priority_min=50,t._list=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"count",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return n.default.instance},enumerable:!1,configurable:!0}),t.prototype.requestTask=function(){var e=this.manager.getTasks(this.priority_min,this.count);this.manager.finishTasks(this._list),this.show(e),this.manager.startTasks(e)},t.prototype.start=function(){},t.prototype.onEnable=function(){this.schedule(this.requestTask,this.refreshInterval,cc.macro.REPEAT_FOREVER,0)},t.prototype.onDisable=function(){this.unschedule(this.requestTask)},t.prototype.onShow=function(){},t.prototype.show=function(e){this._list=e,this.onShow()},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),__decorate([s],t.prototype,"refreshInterval",void 0),__decorate([s],t.prototype,"priority_min",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./MoreGameManager":"MoreGameManager"}],MoreGameDialog:[function(e,t,o){"use strict";cc._RF.push(t,"da60azHmcJF6oz1R2L0H11s","MoreGameDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MoreGameManager"),i=e("./MoreGameItem"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.banner=null,t.title=null,t.template=null,t.scrollView=null,t.items=[],t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateChildWidget=function(e){var t=e.getComponent(cc.Widget);t&&t.updateAlignment()},t.prototype.updateView=function(){var e=this.banner.spriteFrame.getRect(),t=this.root.getContentSize().width/e.width*e.height;this.banner.sizeMode=cc.Sprite.SizeMode.RAW,this.banner.node.height=t,this.banner.getComponent(cc.Widget).updateAlignment();var o=this.scrollView.getComponent(cc.Widget);o.top=t,o.updateAlignment(),g.foreachNode(this.scrollView.node,this.updateChildWidget,this)},t.prototype.onEnable=function(){this.scheduleOnce(this.updateView)},t.prototype.showBanner=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.banner.spriteFrame.getRect(),this.updateView(),[2]})})},t.prototype.toUserfriendlyNum=function(e){return e>1e4?(e/1e4).toFixed(1)+"\u4e07":e+""},t.prototype.onShown=function(){this.showBanner();var e=n.default.instance.gameList;this.scrollView.content.removeAllChildren(),this.items.splice(0,this.items.length);for(var t=0;t<e.length;t++){var o=e[t],a=cc.instantiate(this.template),s=a.getComponent(i.default);s.title.string=o.title,s.content.string=o.content,s.player_num.string=this.toUserfriendlyNum(o.players||1e5),s.setStar(o.star||4),this.items.push(s),this.scrollView.content.addChild(a),s.btn.clickEvents.length>0&&(s.btn.clickEvents[0].customEventData=t+""),s.btnSelf.clickEvents.length>0&&(s.btnSelf.clickEvents[0].customEventData=t+"")}this.showIcons()},t.prototype.showIcons=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o,i,a;return __generator(this,function(s){switch(s.label){case 0:e=n.default.instance.gameList,t=0,s.label=1;case 1:return t<e.length?(o=e[t],i=this.items[t],a=i.icon,[4,n.default.instance.getSpriteFrame(o.icon)]):[3,4];case 2:a.spriteFrame=s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.on_click_enter=function(e,t){var o=n.default.instance.gameList[Number(t)];console.log(o),n.default.instance.clickGame(o)},__decorate([r(cc.Node)],t.prototype,"root",void 0),__decorate([r(cc.Sprite)],t.prototype,"banner",void 0),__decorate([r(cc.Label)],t.prototype,"title",void 0),__decorate([r(cc.Node)],t.prototype,"template",void 0),__decorate([r(cc.ScrollView)],t.prototype,"scrollView",void 0),__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./MoreGameItem":"MoreGameItem","./MoreGameManager":"MoreGameManager"}],MoreGameItem:[function(e,t,o){"use strict";cc._RF.push(t,"b9f111MRGFKg7CINn50/KaQ","MoreGameItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.content=null,t.icon=null,t.btn=null,t.btnSelf=null,t.star_progress=null,t.player_num=null,t}return __extends(t,e),t.prototype.setStar=function(e){this.star_progress.width=25*e},t.prototype.onLoad=function(){this.btnSelf=this.getComponent(cc.Button)},__decorate([a(cc.Label)],t.prototype,"title",void 0),__decorate([a(cc.Label)],t.prototype,"content",void 0),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Button)],t.prototype,"btn",void 0),__decorate([a(cc.Node)],t.prototype,"star_progress",void 0),__decorate([a(cc.Label)],t.prototype,"player_num",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],MoreGameManager:[function(e,t,o){"use strict";cc._RF.push(t,"1f843kK46NKi6g8v7uZN6EC","MoreGameManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var n=e("./MoreGameComponent"),i=e("./GameConfigs"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(){function e(e){this.isRunning=!1,this.cd=0,this.max_cd=0,this.id=e}return e.prototype.start=function(){this.isRunning=!0},e.prototype.finish=function(){this.isRunning=!1,this.cd=this.max_cd},e}();o.Task=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recommendComps=[],t.gameList=[],t.tasks=[],t.frames={},t}var o;return __extends(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=cc.find("Canvas").addComponent(o)),this._instance},set:function(e){this._instance=e},enumerable:!1,configurable:!0}),t.prototype.getSpriteFrame=function(e){return __awaiter(this,void 0,Promise,function(){var t,o=this;return __generator(this,function(){return null==(t=this.frames[e])?[2,new Promise(function(n,i){console.log("[MoreGameManager] request image:"+e),cc.loader.load({url:e,type:"png"},function(a,s){s?(t=new cc.SpriteFrame(s),o.addSpriteFrame(e,t),n(t)):i()})})]:[2,new Promise(function(e){return e(t)})]})})},t.prototype.addSpriteFrame=function(e,t){return this.frames[e]=t,t},t.prototype.onLoad=function(){o.instance=this},t.prototype.getTasks=function(e,t){for(var o=[],n=0;n<this.tasks.length&&((i=this.tasks[n]).gameConfig.priority&&i.gameConfig.priority>e&&0==i.cd&&(o.push(i),this.tasks.splice(n,1),n--),!(o.length>=t));n++);if(o.length<t)for(n=0;n<this.tasks.length;n++){var i=this.tasks[n];-1==o.indexOf(i)&&(o.push(i),this.tasks.splice(n,1),n--)}return g.extendArray(this.tasks,o),o},t.prototype.finishTasks=function(e){for(var t=0;t<e.length;t++){var o=e[t];o&&o.finish()}},t.prototype.startTasks=function(e){for(var t=0;t<e.length;t++){var o=e[t];o&&o.start()}},t.prototype.createTasks=function(){for(var e=0;e<this.gameList.length;e++){var t=new c(e);t.gameConfig=this.gameList[e],t.gameConfig.priority=t.gameConfig.priority||100,t.max_cd=100/t.gameConfig.priority*10,this.tasks.push(t)}},t.prototype.addList=function(e){if(null!=e){Array.isArray(e)?(this.gameList.splice(0,this.gameList.length),g.extendArray(this.gameList,e)):this.gameList.push(e),this.gameList.sort(function(e,t){return e.priority?t.priority?t.priority-e.priority:0:1}),this.createTasks();for(var t=0;t<this.recommendComps.length;t++)this.recommendComps[t].requestTask()}},t.prototype.updateFinishedTask=function(){for(var e=0;e<this.tasks.length;e++){var t=this.tasks[e];t.cd>0&&(t.cd=Math.max(0,t.cd-1))}},t.prototype.clickGame=function(e){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f..."),wx.navigateToMiniProgram({appId:e.wx_appid,extraData:{wx_appid:i.GameConfig.wx_appid},envVersion:"release",success:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u6210\u529f :"+e.wx_appid)},fail:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u5931\u8d25 :"+e.wx_appid)}})},t.prototype.onEnable=function(){this.schedule(this.updateFinishedTask,1,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.updateFinishedTask)},t.prototype.start=function(){},__decorate([r([n.default])],t.prototype,"recommendComps",void 0),o=__decorate([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./GameConfigs":"GameConfigs","./MoreGameComponent":"MoreGameComponent"}],MoreGameStyle:[function(e,t,o){"use strict";cc._RF.push(t,"583d3QfyxhKU6/QqcEwAh29","MoreGameStyle"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MoreGameComponent"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icons=[],t.buttons=[],t.labels=[],t.datas=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"count",{get:function(){return this.icons.length},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){for(var e=0;e<this.buttons.length;e++){var t=this.buttons[e],o=new cc.Component.EventHandler;o.target=this.node,o.component="MoreGameStyle",o.handler="onClick",o.customEventData=e+"",t.clickEvents.push(o),this.labels[e].node.active=!1,this.icons[e].node.active=!1,t.interactable=!1}},t.prototype.onClick=function(e,t){var o=Number(t),n=this.list[o];this.manager.clickGame(n.gameConfig)},t.prototype.onShow=function(){for(var e=this.list,t=function(){var t=e[n],i=o.icons[n];t&&(o.labels[n].string=t.gameConfig.title,o.labels[n].node.active=!0,i.node.active=!0,o.buttons[n].interactable=!0,o.manager.getSpriteFrame(t.gameConfig.icon).then(function(e){i.spriteFrame=e}))},o=this,n=0;n<this.icons.length;n++)t()},__decorate([s([cc.Sprite])],t.prototype,"icons",void 0),__decorate([s([cc.Button])],t.prototype,"buttons",void 0),__decorate([s([cc.Label])],t.prototype,"labels",void 0),__decorate([a],t)}(n.default);o.default=r,cc._RF.pop()},{"./MoreGameComponent":"MoreGameComponent"}],Net:[function(e,t,o){"use strict";cc._RF.push(t,"9e139lB+RRCNpxXRSqgoURG","Net"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.httpGet=function(e,t){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300){var e=o.responseText;t(e)}},o.open("GET",e,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate"),o.timeout=5e3,o.send()},e.httpPost=function(e,t,o){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;o(e)}else o(-1)},n.open("POST",e,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.timeout=5e3,n.send(t)},e}();o.default=n,cc._RF.pop()},{}],PandoraPoint:[function(e,t,o){"use strict";cc._RF.push(t,"3f36aidibxFPY2TBTu8gRyi","PandoraPoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberVisible=!0,t}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),this.label=this.getComponentInChildren(cc.Label),this.label.node.active=this.numberVisible},t.prototype.start=function(){},t.prototype.setNumber=function(e){this.numberVisible&&(this.label.string=e+""),this.numberVisible&&(this.label.node.active=0!=e),this.sprite.enabled=0!=e},__decorate([a],t.prototype,"numberVisible",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],PauseDialog:[function(e,t,o){"use strict";cc._RF.push(t,"83fb9osUoVEppfk8B6mkJYV","PauseDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/Platform"),i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.click_share=function(){n.default.share()},t.prototype.click_home=function(){cc.director.loadScene("Main")},t.prototype.click_restart=function(){cc.director.loadScene("Game")},__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../framework/Platform":"Platform"}],Platform:[function(e,t,o){"use strict";cc._RF.push(t,"8fc52zVaq1FVrE4//XvMzeK","Platform"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./wxsdk/sdk"),a=e("./plugin_boosts/ui/ToastManager"),s=e("./qqsdk/BKTool"),r=e("./plugin_boosts/misc/SpriteFrameCache"),c=e("./plugin_boosts/misc/Signal"),l=e("./plugin_boosts/utils/EventManager");(function(e){e[e.Hide=99]="Hide",e[e.Next=100]="Next",e[e.RankSmall=101]="RankSmall",e[e.Rank=102]="Rank"})(n||(n={}));var u=function(){function e(){}return e.getOpenID=function(){if(cc.sys.WECHAT_GAME==cc.sys.platform){var e=i.wxsdk.userInfo;return e&&e.openID?e.openID:""}return cc.sys.QQ_PLAY==cc.sys.platform?GameStatusInfo.openId:"123"},e.getNick=function(){return cc.sys.QQ_PLAY==cc.sys.platform?s.default.getNick():cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.userInfo&&i.wxsdk.userInfo.nickName||"\u81ea\u5df2":"\u73a9\u5bb6\u81ea\u5df2"},e.getHead=function(){if(cc.sys.QQ_PLAY==cc.sys.platform)return s.default.getHead();if(cc.sys.WECHAT_GAME==cc.sys.platform){var e=i.wxsdk.userInfo;return e&&e.avatarUrl?e.avatarUrl:"https://tank.wdfunny.com/speed_logo/2.jpg"}return"https://tank.wdfunny.com/speed_logo/1.jpg"},e.loadHeadQQ=function(e){var t="GameSandBox://_head/"+GameStatusInfo.openId+".jpg",o=BK.FileUtil.isFileExist(t);cc.log(t+" is exit :"+o),o?cc.loader.load(t,function(t,o){null==t&&(e.spriteFrame=new cc.SpriteFrame(o))}):BK.MQQ.Account.getHeadEx(GameStatusInfo.openId,function(t,o){cc.log("openId:"+t+" imgPath:"+o);var n=new Image;n.onload=function(){var t=new cc.Texture2D;t.initWithElement(n),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t)},n.src=o})},e.loadSelfHead=function(t){cc.sys.QQ_PLAY==cc.sys.platform?this.loadHeadQQ(t):r.default.instance.getSpriteFrame(e.getHead()).then(function(e){return t.spriteFrame=e})},e.exit=function(){cc.sys.WECHAT_GAME==cc.sys.platform?(wx.offShow(e.onEnterForeground),wx.offHide(e.onEnterBackground)):(cc.sys.QQ_PLAY,cc.sys.platform)},e.login=function(){var t=this;this.isAndroid="Android"==cc.sys.os,console.log("================= os",cc.sys.os),this.isIOS="iOS"==cc.sys.os,cc.sys.WECHAT_GAME==cc.sys.platform?(i.wxsdk.login(),i.wxsdk.requestConfig(function(e){t.configGetSignal.fire(e)}),wx.onShow(e.onEnterForeground),wx.onHide(e.onEnterBackground)):cc.sys.QQ_PLAY==cc.sys.platform&&(s.default.login(),BK.onEnterForeground(e.onEnterForeground),BK.onEnterBackground(e.onEnterBackground))},e.requestServerConfigs=function(e,t,o){cc.sys.WECHAT_GAME==cc.sys.platform&&i.wxsdk.requestDB(e,t,o)},e.getGameID=function(){return cc.sys.QQ_PLAY==cc.sys.platform&&GameStatusInfo.gameId,"speed_wanyiwan"},e.getLaunchOptions=function(){return cc.sys.WECHAT_GAME==cc.sys.platform?wx.getLaunchOptionsSync():{}},e.getCity=function(){return""},e.share=function(t,o){if(console.log("######\u5f00\u59cb\u5206\u4eab"),cc.sys.WECHAT_GAME==cc.sys.platform){i.wxsdk.openShare();var n=(new Date).getTime();e.onEnterForegroundSignal.on(function(){e.onEnterForegroundSignal.clear(),(new Date).getTime()-n>2333?setTimeout(function(){t&&t.call(o)},500):a.Toast.make("\u5206\u4eab\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u6362\u5176\u5b83\u7fa4\u5206\u4eab")})}else cc.sys.QQ_PLAY==cc.sys.platform?s.default.share(function(e){"success"==e&&t&&t.call(o)}):t&&t.call(o)},e.watch_video=function(t,o){if(console.log("######\u5f00\u59cb\u770b\u89c6\u9891"),cc.sys.WECHAT_GAME==cc.sys.platform)i.wxsdk.loadVideoAd(function(n,i){"load"==n?(cc.audioEngine.pauseMusic(),e.bannnerRefreshEnabled=!1):"close"==n&&(e.bannnerRefreshEnabled=!0,i?t&&t.call(o):a.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"))});else if(cc.sys.QQ_PLAY==cc.sys.platform){cc.audioEngine.pauseMusic();var n=!1;s.default.loadVideoAd(function(e,i){"load"==e?i.show():"finish"==e?n=!0:"close"==e&&(n?t&&t.call(o):a.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"))})}else t&&t.call(o)},e.showBannerAd=function(){console.log("######\u663e\u793aBanner\u5e7f\u544a"),cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.showBannerAd():cc.sys.QQ_PLAY==cc.sys.platform&&s.default.showBannerAd()},e.initBannerAd=function(t){void 0===t&&(t=1),0!=t&&(cc.sys.QQ_PLAY==cc.sys.platform?setInterval(function(){console.log("######\u52a0\u8f7dBanner\u5e7f\u544a"),s.default.hideBannerAd(),s.default.loadBannerAd(function(e){"load"==e&&s.default.showBannerAd()})},3e4):cc.sys.WECHAT_GAME==cc.sys.platform&&setInterval(function(){e.bannnerRefreshEnabled&&(console.log("######\u52a0\u8f7dBanner\u5e7f\u544a"),i.wxsdk.hideBannerAd(),i.wxsdk.loadBannerAd(function(e){"load"==e&&i.wxsdk.showBannerAd()}))},4e4))},e.jumpTo=function(){},e.showRankDialog=function(){console.log("[Platform]#showRankDialog"),a.Toast.make("#[Platform]#showRankDialog")},e.onEnterForeground=function(){console.log("=====================onEnterForeground====================="),cc.sys.platform,cc.sys.QQ_PLAY,cc.audioEngine.resumeMusic(),e.onEnterForegroundSignal.fire(),l.event.emit("onEnterForeground")},e.onEnterBackground=function(){l.event.emit("onEnterBackground")},e.onGameExit=function(){},e.showSmallRank=function(){i.wxsdk.postMessage(n.RankSmall)},e.showRank=function(){i.wxsdk.postMessage(n.Rank)},e.hideRank=function(){i.wxsdk.postMessage(n.RankSmall)},e.getRankList=function(e,t){if(console.log("[Platform]#\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e"),cc.sys.platform==cc.sys.QQ_PLAY)return s.default.getRankList(function(o,n){e&&e.call(t,o,n)});cc.sys.platform,cc.sys.WECHAT_GAME},e.uploadScore=function(e){console.log("[Platform]#\u4e0a\u4f20\u5206\u6570"),e?cc.sys.platform==cc.sys.QQ_PLAY?s.default.uploadScore(e):cc.sys.WECHAT_GAME==cc.sys.platform&&i.wxsdk.uploadScore(e):console.log("score \u4e0a\u4f20\u5931\u8d25\uff1anull")},e.bannnerRefreshEnabled=!0,e.onEnterForegroundSignal=new c.default,e.isAndroid=!1,e.isIOS=!1,e.configGetSignal=new c.default,e}();o.default=u,cc._RF.pop()},{"./plugin_boosts/misc/Signal":"Signal","./plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","./plugin_boosts/ui/ToastManager":"ToastManager","./plugin_boosts/utils/EventManager":"EventManager","./qqsdk/BKTool":"BKTool","./wxsdk/sdk":"sdk"}],PoolManager:[function(e,t,o){"use strict";cc._RF.push(t,"69495bpMX5Av5pbrNxnGI8/","PoolManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t,o){this.nodePool={},this.nodes={},this.managed=!1,this.aliveObjects=[],this.onCreateObject=t,this.target=o,this.root=e,e&&e.on(cc.Node.EventType.CHILD_REMOVED,this.onNodeRemove,this)}return e.prototype.onNodeRemove=function(e){this.put(e)},e.prototype.objects=function(){return this.aliveObjects},e.prototype.clearAlives=function(){for(;0<this.aliveObjects.length;)this.aliveObjects[0].removeFromParent()},e.prototype.getPool=function(e){"string"==typeof e&&"number"==typeof e||(e=e._uuid||e.name);var t=this.nodePool[e];return null==t&&(t=new cc.NodePool,this.nodePool[e]=t),t},e.prototype.get=function(e){var t=this.getPool(e).get();return this.onCreateObject&&null==t?(t=this.onCreateObject.call(this.target,e),this.root&&t.setParent(this.root),t||console.warn(t,"onCreateObject must return an object"),this.managed&&this.aliveObjects.push(t),this.nodes[t.uuid]=e,t):(this.root&&t.setParent(this.root),this.managed&&this.aliveObjects.push(t),t)},e.prototype.tag=function(e,t){this.nodes[e.uuid]=t},e.prototype.put=function(e,t){void 0===t&&(t=null),null==t&&(t=this.nodes[e.uuid]),this.getPool(t).put(e),this.managed&&this.aliveObjects.splice(this.aliveObjects.indexOf(e),1)},e.prototype.clear=function(e){if(this.managed&&this.aliveObjects.splice(0,this.aliveObjects.length),e)this.getPool(e).clear();else for(var t in this.nodePool)this.nodePool[t].clear()},e.prototype.size=function(e){return this.getPool(e).size()},e}();o.default=n,cc._RF.pop()},{}],PsFxPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"dc35b3gh69DGIz45mLQJxDM","PsFxPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./PsFx"),i=e("./Device"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t._fx=null,t.spriteFrame=null,t.duration=-1,t.randomRotaion=!1,t}return __extends(t,e),t.prototype.start=function(){},Object.defineProperty(t.prototype,"fx",{get:function(){if(null==this._fx&&this.prefab){var e=cc.instantiate(this.prefab);if(null==e)return null;var t=e.getComponent(n.default);null==t&&(t=this.addComponent(n.default)),e.setPosition(0,0),e.setParent(this.node),this._fx=t}return this._fx},enumerable:!1,configurable:!0}),t.prototype.isPlaying=function(){return this.fx.isPlaying},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){var e=this._fx;e&&(e.node.active=!1)},t.prototype.sleep=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return i.default.playEffect(this.audioClip,!1),(e=this.fx)?(e.node.active=!0,this.randomRotaion&&(e.node.rotation=g.randomInt(0,360)),e.reset(),[2,e.play(this.audioClip,this.spriteFrame)]):[3,1];case 1:return this.duration>0?[4,this.sleep(1e3*this.duration)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},__decorate([r(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"audioClip",void 0),__decorate([r],t.prototype,"duration",void 0),__decorate([r],t.prototype,"randomRotaion",void 0),__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./Device":"Device","./PsFx":"PsFx"}],PsFx:[function(e,t,o){"use strict";cc._RF.push(t,"5e90fpm8LtO1JagTdF3cTrm","PsFx"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.particles=[],t.animations=[],t.armature=null,t.isPlaying=!1,t.sfx=null,t.sprite=null,t.playedTime=0,t.duration=-1,t.fadeAfterFinish=-1,t.repeatTime=1,t.removeAfterFinish=!1,t}return __extends(t,e),t.prototype.onLoad=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite));var e=this.getComponent(cc.Animation);e&&this.animations.push(e);var t=this.getComponent(cc.ParticleSystem);t&&this.particles.push(t);for(var o=0;o<this.node.childrenCount;o++){var n=this.node.children[o],i=n.getComponent(cc.ParticleSystem);if(i)this.particles.push(i);else{var a=n.getComponent(cc.Animation);a&&this.animations.push(a)}}"undefined"!=typeof dragonBones&&(this.armature=this.getComponent(dragonBones.ArmatureDisplay),this.armature||(this.armature=this.getComponentInChildren(dragonBones.ArmatureDisplay)))},t.prototype.play=function(e,t){var o=this;void 0===e&&(e=null),void 0===t&&(t=null),this.isPlaying=!0;var i=0;e&&(this.sfx=e),t&&(this.sprite.spriteFrame=t),this.node.active=!0;for(var a=0;a<this.particles.length;a++)(s=this.particles[a]).resetSystem(),i<s.duration&&(i=s.duration+s.life+s.lifeVar);for(a=0;a<this.animations.length;a++){var s,r=(s=this.animations[a]).getClips();if(r&&r.length>0){var c=r[0],l=c.duration/c.speed;l>i&&(i=l),s.play(c.name)}}if(this.sfx&&n.default.playEffect(this.sfx,!1),this.armature){if(this.armature.playAnimation("",this.repeatTime),(i=this.duration)<=0)return new Promise(function(e){o.armature.addEventListener(dragonBones.EventObject.COMPLETE,function(){console.log("armature play complete"),o.removeAfterFinish?o.node.removeFromParent():o.fadeOnFinish(e)})})}else i+=.1;return new Promise(function(e){setTimeout(function(){o.isValid&&(o.removeAfterFinish?o.node.removeFromParent():o.fadeOnFinish(e))},1e3*i)})},t.prototype.fadeOnFinish=function(e){this.isPlaying=!1;for(var t=0;t<this.particles.length;t++)this.particles[t].stopSystem();if(this.fadeAfterFinish>0){var o=cc.sequence(cc.fadeOut(this.fadeAfterFinish),cc.callFunc(e));this.node.runAction(o)}else e()},t.prototype.reset=function(){this.playedTime=0},t.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],t.prototype,"sfx",void 0),__decorate([s(cc.Sprite)],t.prototype,"sprite",void 0),__decorate([s],t.prototype,"duration",void 0),__decorate([s],t.prototype,"fadeAfterFinish",void 0),__decorate([s],t.prototype,"repeatTime",void 0),__decorate([s],t.prototype,"removeAfterFinish",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./Device":"Device"}],PsSpawner:[function(e,t,o){"use strict";cc._RF.push(t,"12e8aPL0IBPxYKO3t/sxN/O","PsSpawner"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./PsFx"),i=e("./PoolManager"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.poolmgr=new i.default},t.prototype.start=function(){},t.prototype.clear=function(){this.poolmgr&&this.poolmgr.clear()},t.prototype.getFx=function(e){var t=this;return new Promise(function(o){var i=t.poolmgr.get(e);if(null==i){if(!(e instanceof cc.Prefab))return void cc.loader.loadRes(e,cc.Prefab,function(a,s){(i=cc.instantiate(s)).setParent(t.node);var r=i.getComponent(n.default);r.name=e,o(r)});i=cc.instantiate(e),t.poolmgr.tag(i,e)}i.setParent(t.node),i.active=!1;var a=i.getComponent(n.default);a.reset(),o(a)})},t.prototype.onFxFinshPlay=function(e){this.poolmgr.put(e.node)},t.prototype.play=function(e,t,o,n,i){return void 0===t&&(t=cc.Vec2.ZERO),void 0===o&&(o=0),__awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.getFx(e)];case 1:return(a=s.sent()).node.position=t,a.node.rotation=o,[4,a.play(n,i)];case 2:return s.sent(),this.onFxFinshPlay(a),[2]}})})},t.prototype.play2=function(e,t,o,n){return void 0===t&&(t=cc.Vec2.ZERO),void 0===o&&(o=0),void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,this.getFx(e)];case 1:return(i=a.sent()).node.position=t,i.node.scale=n,i.node.rotation=o,[4,i.play()];case 2:return a.sent(),this.onFxFinshPlay(i),[2]}})})},t.prototype.play3=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,n=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this.getFx(e)];case 1:return(o=i.sent()).node.position=t,o.play().then(function(){return n.onFxFinshPlay(o)}),[2,o.node]}})})},__decorate([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./PoolManager":"PoolManager","./PsFx":"PsFx"}],Res:[function(e,t,o){"use strict";cc._RF.push(t,"81fb28+15NDNaH9M81MKxwU","Res"),Object.defineProperty(o,"__esModule",{value:!0}),o.R=void 0;var n=cc._decorator,i=n.ccclass,a=n.property;o.R=null;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelJson=null,t.TilePrefab=null,t.TileShadow=null,t.Line46=null,t.Line37=null,t.Line19=null,t.audio_bgm=null,t.audio_unlock=null,t.audio_invalid=null,t.audio_draw=null,t.audio_down=null,t.audio_win=null,t.audio_link=null,t.audio_get_diamond=null,t.tileTextures=[],t.animalPrefabs=[],t.skinConfig=null,t.luckyConfig=null,t.colors=[],t}return __extends(t,e),t.prototype.onLoad=function(){o.R=this},t.prototype.start=function(){},__decorate([a(cc.JsonAsset)],t.prototype,"levelJson",void 0),__decorate([a(cc.Prefab)],t.prototype,"TilePrefab",void 0),__decorate([a(cc.Prefab)],t.prototype,"TileShadow",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line46",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line37",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line19",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_bgm",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_unlock",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_invalid",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_draw",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_down",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_win",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_link",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_get_diamond",void 0),__decorate([a([cc.SpriteFrame])],t.prototype,"tileTextures",void 0),__decorate([a([cc.Prefab])],t.prototype,"animalPrefabs",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"skinConfig",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"luckyConfig",void 0),__decorate([a([cc.Color])],t.prototype,"colors",void 0),__decorate([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ShopDialog:[function(e,t,o){"use strict";cc._RF.push(t,"1b7cbT64WtHxpoRfvlVr4EN","ShopDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ShopItemTemplate"),i=e("../../../framework/plugin_boosts/misc/SpriteFrameCache"),a=e("../hex-lines-game/Res"),s=e("../../../framework/Platform"),r=e("../Info"),c=e("../../../framework/plugin_boosts/ui/ToastManager"),l=e("../../../framework/plugin_boosts/ui/UIFunctions"),u=e("../../../framework/plugin_boosts/gamesys/Device"),p=e("../Main"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollview=null,t.freeDiamondLabel=null,t.freeDiamondBtn=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){var e=this;this.scrollview.showlist(function(t,o){var a=t.getComponent(n.default);a.data=o,a.diamondLabel.string=o.cost;var s=!r.UserInfo.isUnlock(o.id);a.btnBuyNode.active=s,a.maskNode.active=s,a.borderNode.color=cc.Color.WHITE,a.titleLabel.string=o.text,a.selectedFlag.active=r.UserInfo.selectedSkin==o.id,a.btnSignal.add(e.click_unlock,e),i.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/"+o.mini_img+".jpg").then(function(e){return a.bgmini.spriteFrame=e})},a.R.skinConfig.json),this.refreshBtnStatus()},t.prototype.refreshBtnStatus=function(){g.isNextDay(r.UserInfo.shopFreeDiamondTime)?(this.freeDiamondLabel.string="\u514d\u8d39\u5f9750",l.default.setButtonEnabled(this.freeDiamondBtn,!0)):(this.freeDiamondLabel.string="\u5df2\u9886\u53d6",l.default.setButtonEnabled(this.freeDiamondBtn,!1))},t.prototype.click_close=function(){},t.prototype.share_succ=function(){r.UserInfo.addDiamond(50),r.UserInfo.shopFreeDiamondTime=(new Date).getTime(),r.UserInfo.save(),this.refreshBtnStatus()},t.prototype.click_free=function(){var e=r.UserInfo.getChoice(r.ChoiceType.Shop);1==e?s.default.share(this.share_succ,this):0==e?this.share_succ():s.default.watch_video(this.share_succ,this)},t.prototype.selectBg=function(e){r.UserInfo.selectedSkin=e.id,r.UserInfo.save(),this.onShown()},t.prototype.click_unlock=function(e){if(r.UserInfo.isUnlock(e.id))return this.selectBg(e),void c.Toast.make("\u5df2\u9009\u62e9 "+e.text);r.UserInfo.diamond>=e.cost?(r.UserInfo.diamond-=e.cost,r.UserInfo.unlock(e.id),this.selectBg(e),c.Toast.make(cc.js.formatStr("%s\u5df2\u89e3\u9501",e.text)),u.default.playEffect(a.R.audio_unlock),p.default.instance&&p.default.instance.refreshRedpoints()):(c.Toast.make("\u94bb\u77f3\u4e0d\u8db3"),u.default.playEffect(a.R.audio_invalid))},__decorate([f(cc.ScrollView)],t.prototype,"scrollview",void 0),__decorate([f(cc.Label)],t.prototype,"freeDiamondLabel",void 0),__decorate([f(cc.Button)],t.prototype,"freeDiamondBtn",void 0),__decorate([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/UIFunctions":"UIFunctions","../Info":"Info","../Main":"Main","../hex-lines-game/Res":"Res","./ShopItemTemplate":"ShopItemTemplate"}],ShopItemTemplate:[function(e,t,o){"use strict";cc._RF.push(t,"0b667/xvIZJapTB+ZTBqkHL","ShopItemTemplate"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/plugin_boosts/misc/Signal"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.selectedFlag=null,t.bgmini=null,t.btnBuyNode=null,t.maskNode=null,t.borderNode=null,t.diamondLabel=null,t.btnSignal=new n.default,t.data=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.click_unlock=function(){this.btnSignal.fire(this.data)},__decorate([s(cc.Label)],t.prototype,"titleLabel",void 0),__decorate([s(cc.Node)],t.prototype,"selectedFlag",void 0),__decorate([s(cc.Sprite)],t.prototype,"bgmini",void 0),__decorate([s(cc.Node)],t.prototype,"btnBuyNode",void 0),__decorate([s(cc.Node)],t.prototype,"maskNode",void 0),__decorate([s(cc.Node)],t.prototype,"borderNode",void 0),__decorate([s(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/Signal":"Signal"}],Signal:[function(e,t,o){"use strict";cc._RF.push(t,"bf602DYuhZP7Z8VfN9eJFzO","Signal"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t){this.add(e,t)}return e.prototype.add=function(e,t){this.callback=e,this.target=t},e.prototype.fire=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.callback&&(e=this.callback).call.apply(e,__spreadArrays([this.target],t))},e.prototype.on=function(e,t){this.callback=e,this.target=t},e.prototype.clear=function(){this.callback=null},e}();o.default=n,cc._RF.pop()},{}],Socket:[function(e,t,o){"use strict";cc._RF.push(t,"8cfb4mvQk5BQqbWZvml7K36","Socket"),Object.defineProperty(o,"__esModule",{value:!0}),o.Socket=void 0;var n=e("./MessageHandler"),i=e("./MessageType"),a=function(){function e(e){this._config=null,this._reconnetTimes=200,this._defaultTimeout=1e4,this.retryTimer=0,this.initSocket(e)}return e.prototype.initSocket=function(e){this._config=e,this._config.timeout||(this._config.timeout=this._defaultTimeout),this._config.retime&&(this._reconnetTimes=this._config.retime),this.connect()},e.prototype.connect=function(){var e=this,t=this._config.host;this._config.port&&(t=this._config.host+":"+this._config.port),console.log("start connect server>>>>",t),this._webSocket=new WebSocket(t),this._messageHandler=new n.MessageHandler(this._webSocket),this._webSocket.onopen=function(){return e.onSocketOpen()},this._webSocket.onmessage=function(t){return e.onReceiveMessage(t)},this._webSocket.onclose=function(){return e.onSocketClose()},this._webSocket.onerror=function(){return e.onSocketError()}},e.prototype.close=function(){this._webSocket&&this._webSocket.close()},e.prototype.flush=function(){},e.prototype.enableHeartbeat=function(e){this._messageHandler.enableHeartbeat=e},e.prototype.onSocketOpen=function(){console.log("connect "+this._config.host+" success"),this._messageHandler.dispatch(i.SocketTag.KSOCKET_OPEN,"")},e.prototype.onReceiveMessage=function(e){var t=this;void 0===e&&(e=null),console.log("websocket receive message:"+e.data),"undefined"==typeof wx?this.toArrayBuffer(e.data).then(function(e){t._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,e)}):this._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,e.data)},e.prototype.toArrayBuffer=function(e){var t,o=new FileReader;return o.readAsArrayBuffer(e),new Promise(function(e){o.onload=function(){t=o.result,e(t)}})},e.prototype.sendMessage=function(e){return this._webSocket.readyState==WebSocket.OPEN&&(this._messageHandler.sendMessage(e),!0)},e.prototype.sendCustomMessage=function(e){this._messageHandler.dispatchMessage(e)},e.prototype.reconnect=function(){var t=this;e.count>=2||this._webSocket.readyState==WebSocket.OPEN?clearTimeout(this.retryTimer):(this._webSocket.readyState==WebSocket.CLOSED&&this.connect(),this.retryTimer=setTimeout(function(){t.reconnect()},this._reconnetTimes))},e.prototype.onSocketClose=function(e){void 0===e&&(e=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_CLOSE,""),console.log("websocket connect close.",this._webSocket.readyState),this.close(),this.reconnect()},e.prototype.onSocketError=function(e){void 0===e&&(e=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_ERROR,""),console.log("websocket io error.")},e.count=0,e}();o.Socket=a,cc._RF.pop()},{"./MessageHandler":"MessageHandler","./MessageType":"MessageType"}],SoundHelper:[function(e,t,o){"use strict";cc._RF.push(t,"09a8fa41vxIUZkdgCG77DBM","SoundHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.int=function(){for(var e=0;e<this.music.length;e++)this.music[e].id=-1;cc.sys.platform===cc.sys.QQ_PLAY&&(this.QQMusic=[new BK.Audio(0,"GameRes://"+this.music[0].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[1].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[2].nativeUrl,-1)])},e.playMusic=function(e){if(e=void 0===e?0:e,cc.sys.platform===cc.sys.QQ_PLAY)return-1===this.music[e].id?(this.QQMusic[e].startMusic(),this.music[e].id=1):this.QQMusic[e].resumeMusic(),void(0!==e&&(this.qqFlag=!1));-1===this.music[e].id?this.music[e].id=cc.audioEngine.play(this.music[e],!0,this.musicVolume):cc.audioEngine.resume(this.music[e].id)},e.getSoundContext=function(){var e=this._soundContext[this._soundContext.length];return e?this._soundContext.pop():e=BK.createAudioContext(),e},e.playSound2=function(e){new BK.Audio(1,"GameRes://"+e.toString(),1).startMusic(e)},e.playSound=function(e){null==this.QQSoundContext&&(this.QQSoundContext=BK.createAudioContext({type:"effect"})),this.QQSoundContext.src="GameRes://"+e.toString(),this.QQSoundContext.play()},e.stopMusic=function(e){if(e=void 0===e?0:e,-1!==this.music[e].id){if(cc.sys.platform===cc.sys.QQ_PLAY)return this.QQMusic[e].stopMusic(),this.music[e].id=-1,void(this.QQMusic[e]=new BK.Audio(0,"GameRes://"+this.music[e].nativeUrl,-1));cc.audioEngine.stop(this.music[e].id),this.music[e].id=-1}},e.pauseMusic=function(e){e=void 0===e?0:e,cc.sys.platform!==cc.sys.QQ_PLAY?-1!==this.music[e].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[e].id)&&cc.audioEngine.pause(this.music[e].id):this.QQMusic[e].pauseMusic()},e.setMusicOff=function(e){if(e)this.playMusic();else for(var t=0;t<this.music.length;t++)this.pauseMusic(t)},e.setSoundOff=function(){},e.setMusicVolume=function(e){this.musicVolume=e;for(var t=0;t<this.music.length;t++)-1!==this.music[t].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[t].id)&&cc.audioEngine.setVolume(this.music[t].id,this.musicVolume)},e.setSoundVolume=function(){},e.qqMusicResume=function(){cc.sys.platform===cc.sys.QQ_PLAY&&(-1!==this.music[1].id||-1!==this.music[2].id||this.qqFlag||this.playMusic(0))},e.musicVolume=1,e.music=[],e.QQSoundContext=null,e.qqFlag=!0,e._soundContext=[],e}();o.default=n,cc._RF.pop()},{}],SpriteFrameCache:[function(e,t,o){"use strict";cc._RF.push(t,"8756by7qCVIPpJ06/9qmobv","SpriteFrameCache"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.frames={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.getSpriteFrame=function(e){return __awaiter(this,void 0,Promise,function(){var t,o=this;return __generator(this,function(){return null==(t=this.frames[e])?[2,new Promise(function(n,i){e&&""!=e?-1==e.indexOf("http")?cc.loader.loadRes(e,cc.SpriteFrame,function(t,a){t?i():a?(o.addSpriteFrame(e,a),n(a)):i()}):cc.loader.load({url:e,type:"png"},function(a,s){a?i():s?(t=new cc.SpriteFrame(s),o.addSpriteFrame(e,t),n(t)):i()}):i("empty-url")})]:[2,new Promise(function(e){return e(t)})]})})},e.prototype.addSpriteFrame=function(e,t){return this.frames[e]=t,t},e.prototype.clear=function(){for(var e in this.frames){var t=this.frames[e];cc.loader.release(t),delete this.frames[e]}},e.prototype.remove=function(e){var t=this.frames[e];cc.loader.release(t),delete this.frames[e]},e}();o.default=n,cc._RF.pop()},{}],ToastComponent:[function(e,t,o){"use strict";cc._RF.push(t,"c4ad6Rf0DpFeay8D3aly6IU","ToastComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./UIFunctions"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.animations=n.default.getChildrenAnimations(this.node)},t.prototype.start=function(){},t.prototype.hide=function(e){this.node.active=!0,n.default.doHideAnimations(this.animations,e)||(this.node.active=!1,e&&e(this))},t.prototype.show=function(e){this.label.string=e,n.default.doShowAnimations(this.animations)},__decorate([s(cc.Label)],t.prototype,"label",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./UIFunctions":"UIFunctions"}],ToastManager:[function(e,t,o){"use strict";cc._RF.push(t,"129ed5o6uNHDKhz6KoueBpN","ToastManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.Toast=void 0;var n=e("./ToastComponent"),i=cc._decorator,a=i.ccclass,s=i.property;o.Toast=null;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.toastPool=new cc.NodePool,o.Toast=this},t.prototype.onDestroy=function(){this.toastPool.clear()},t.prototype.make=function(e,t){void 0===t&&(t=1.3);var o=this.toastPool.get(),i=null;return null==o?null==(i=(o=cc.instantiate(this.prefab)).getComponent(n.default))&&console.warn("Toast.make : Toast Prefab must contains ToastComponent"):i=o.getComponent(n.default),null==o.parent&&this.node.addChild(o,99999),this.show(i,e,t),i},t.prototype.show=function(e,t,o){var n=this;e.show(t),this.scheduleOnce(function(){e.hide(function(){n.toastPool.put(e.node),console.log("Toast.hide toastpool size:",n.toastPool.size())})},o)},__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./ToastComponent":"ToastComponent"}],UIComponent:[function(e,t,o){"use strict";cc._RF.push(t,"0dc9dQt58ZCx4tQ3mcNvEZr","UIComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.hide=function(){this.node.active=!1},t.prototype.show=function(){this.node.active=!0},__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],UIFunctions:[function(e,t,o){"use strict";cc._RF.push(t,"10205trRZVOELcrvc3TW2mW","UIFunctions"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getChildrenAnimations=function(e){var t=[];(n=e.getComponent(cc.Animation))&&t.push(n);for(var o=0;o<e.childrenCount;o++){var n;(n=e.children[o].getComponent(cc.Animation))&&t.push(n)}return t},e.stopAnimations=function(e){e.forEach(function(e){e.stop()})},e.doShowAnimations=function(e,t,o){var n,i=0;if(e.forEach(function(e){var t=e.getClips();if(t.length>0){var o=t[0];e.play(o.name).wrapMode=cc.WrapMode.Normal,o.duration>i&&(i=o.duration,n=e)}}),t){var a=function(){n&&n.off("finished",a),t.call(o)};n?n.on("finished",a):t.call(o)}},e.isAnimationRunning=function(){return!1},e.doHideAnimations=function(e,t,o){var n,i=!1,a=0;if(e.forEach(function(e){var t=e.getClips();if(2==t.length){var o=t[t.length-1];i=!0,e.play(o.name),o.duration>a&&(a=o.duration,n=e)}else 1==t.length&&(o=t[0],i=!0,e.play(o.name).wrapMode=cc.WrapMode.Reverse,o.duration>a&&(a=o.duration,n=e))}),n&&t){var s=function(){n.off("finished",s),t.call(o)};n.on("finished",s)}return i},e.getToggleIndex=function(e){for(var t=e.node.getParent(),o=0;o<t.childrenCount;o++){var n=t.children[o];if(e.node==n)return o}return-1},e.selectToggleIndex=function(e,t){if(null!=e){var o=e.children[t];if(o){var n=o.getComponent(cc.Toggle);n&&(console.log("[UIFunction.selectToggleIndex] :"+t),n.check())}else console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:"+t)}else console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :")},e.setTouchEnabled=function(e,t){g.foreachNode(e,function(e){var o=e.getComponent(cc.Button);o&&(console.log("[UIFunction] "+e.name+" touch : "+t),o.interactable=t)})},e.setButtonEnabled=function(e,t){e.node.opacity=t?255:125,e.interactable=t},e}();o.default=n,cc._RF.pop()},{}],ViewManager:[function(e,t,o){"use strict";cc._RF.push(t,"c0f79TopoBICobmtQjrjutG","ViewManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./View"),i=cc._decorator,a=i.ccclass,s=i.property,r="[ViewManager]",c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._views={},t.modal=null,t.modalOpacity=160,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.modal.active=!1,this.modal.zIndex=999,g.setGlobalInstance(this)},t.prototype.onEnable=function(){},t.prototype.onDestroy=function(){for(var e in this._views)delete this._views[e]},t.prototype.start=function(){},t.prototype.getVisibleDialog=function(){for(var e in this._views){var t=this._views[e];if(t.isDialog&&this.isVisible(e))return t}return null},t.prototype.hasVisibleDialog=function(){for(var e in this._views)if(this._views[e].isDialog&&this.isVisible(e))return!0;return!1},t.prototype.isVisible=function(e){var t;return!!(t="string"==typeof e?this._views[e]:e)&&t.node.active},t.prototype.attachViewComp=function(e){var t=null;return null!=t&&null!=t||(null==(t=e.getComponent(n.default))&&(t=e.addComponent(n.default)).init(e.name),this._views[e.name]=t),t},t.prototype.showView=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return this.modal.active=e.isDialog,(this.hasVisibleDialog()||e.isDialog)&&(this.modal.active=!0),e.isDialog&&(this.modal.opacity=e.opacity),e.show.apply(e,t)},t.prototype.showFromPrefab=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=this._views[t];if(null==a){var s=cc.instantiate(e);null==(a=s.getComponent(n.default))&&((a=s.addComponent(n.default)).isDialog=!0);var c=a.getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),a.init(t),this._views[t]=a,a.isDialog,this.node.addChild(s,1e3)}return this.node.color.setA(255),console.log(r,"show view:"+t),this.showView.apply(this,__spreadArrays([a],o))},t.prototype.showFromPrefabPath=function(e){for(var t=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var i=this._views[e];if(null!=i&&null!=i)return this.modal.active=i.isDialog,(this.hasVisibleDialog()||i.isDialog)&&(this.modal.active=!0,this.modal.opacity=i.opacity),console.log(r,"show view:"+e,o),i.show.apply(i,o);console.log("start load prefab:"+e);var a=(new Date).getTime();cc.loader.loadRes(e,cc.Prefab,function(n,i){console.log(r,"prefab loaded : "+e+" "+((new Date).getTime()-a)+"ms"),t.showFromPrefab.apply(t,__spreadArrays([i,e],o))})},t.prototype.preload=function(e){var t=this,o=this._views[e];null!=o&&null!=o||cc.loader.loadRes(e,cc.Prefab,function(i,a){console.log(r,"preload view"+e);var s=cc.instantiate(a),c=(o=s.getComponent(n.default)).getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),o.init(e),t._views[e]=o,o.isDialog,t.node.addChild(s,1e3),o.hide()})},t.prototype.disableTouch=function(e){var t=e.getComponent(n.default);t&&(t.touchEnabled=!1)},t.prototype.enableTouch=function(e){var t=e.getComponent(n.default);t&&(t.touchEnabled=!0)},t.prototype.show=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if("string"==typeof e)return this.showFromPrefabPath.apply(this,__spreadArrays([e],t));if(null!=e&&null!=e){e.node&&(e=e.node);var n=this.attachViewComp(e);return this.showView.apply(this,__spreadArrays([n],t))}},t.prototype.hide=function(e,t){if(void 0===t&&(t=!0),"string"!=typeof e){if(null==e||null==e)return;this.attachViewComp(e),e=e.name}var o=this._views[e];null!=o&&null!=o&&(o.node.active=!1,o.isDialog&&(this.modal.active=!1),this.hasVisibleDialog()&&(this.modal.active=!0),t&&o.doHideAnimation(),o.onHidden())},t.prototype.checkViewStacks=function(){var e=this.getVisibleDialog();e&&(this.modal.active=!0,this.modal.opacity=e.opacity)},t.prototype.hideAll=function(){for(var e in this._views)this.hide(e)},__decorate([s(cc.Node)],t.prototype,"modal",void 0),__decorate([s],t.prototype,"modalOpacity",void 0),o=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./View":"View"}],View:[function(e,t,o){"use strict";cc._RF.push(t,"e1217OaHDFCEbPP4vjLJXLh","View"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./UIComponent"),i=e("./ViewManager"),a=e("./UIFunctions"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDialog=!1,t.hasWidget=!1,t.opacity=160,t.childrenAnimation=!1,t.touchBlocker=null,t.touchBlockerComp=null,t.animations=[],t._isHiding=!1,t}return __extends(t,e),t.prototype.emit=function(e,t){e.emit(t)},t.prototype.call=function(e,t){g.execScript(t)},t.prototype.setDelegate=function(e){this.target=e},t.prototype.onLoad=function(){if(this.touchBlocker=new cc.Node,this.touchBlocker.name="TouchBlocker",this.touchBlocker.width=2e3,this.touchBlocker.height=2e3,this.touchBlockerComp=this.touchBlocker.addComponent(cc.BlockInputEvents),this.node.addChild(this.touchBlocker,1e3),this.childrenAnimation)this.animations=a.default.getChildrenAnimations(this.node);else{var e=this.node.getComponent(cc.Animation);e&&this.animations.push(e)}for(var t=this.getComponents(cc.Component),o=0;o<t.length;o++){var n=t[o];if(n!=this&&(n.onShown||n.onHidden)){this.target=n;break}}},t.prototype.start=function(){this.touchEnabled=!0},t.prototype.init=function(e){this.name=e},t.prototype.hideAnimationCallback=function(){this.node.active=this.visible,i.default.instance.checkViewStacks()},t.prototype.doHideAnimation=function(){this.node.active=!0,this._isHiding=!0,a.default.doHideAnimations(this.animations,this.hideAnimationCallback,this)||(this.node.active=!1,this._isHiding=!1),console.log("[View] hide:",this.name),this._visibleDirty=!1},t.prototype.isInHideAnimation=function(){return this._isHiding},t.prototype.onHidden=function(){this._visibleDirty=!1,this.target&&this.target.onHidden&&this.target.onHidden()},t.prototype.hide=function(){this.touchEnabled=!1,i.default.instance.hide(this.node)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visibleDirty},enumerable:!1,configurable:!0}),t.prototype.showAnimationNextFrame=function(e){var t=this;this.scheduleOnce(function(){a.default.doShowAnimations(t.animations,e)},0)},Object.defineProperty(t.prototype,"touchEnabled",{get:function(){return!this.touchBlocker.active},set:function(e){this.touchBlocker.active=!e},enumerable:!1,configurable:!0}),t.prototype.show=function(){for(var t=this,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return e.prototype.show.call(this),console.log("[View] show:",this.name,o),a.default.stopAnimations(this.animations),new Promise(function(e){var n,i=t,s=function(){i.touchEnabled||(i.touchEnabled=!0),e()};t.hasWidget?t.showAnimationNextFrame(s):a.default.doShowAnimations(t.animations,s),t._visibleDirty=!0,t.target&&t.target.onShown&&(n=t.target).onShown.apply(n,o)})},__decorate([c],t.prototype,"isDialog",void 0),__decorate([c],t.prototype,"hasWidget",void 0),__decorate([c],t.prototype,"opacity",void 0),__decorate([c],t.prototype,"childrenAnimation",void 0),__decorate([r],t)}(n.default);o.default=l,cc._RF.pop()},{"./UIComponent":"UIComponent","./UIFunctions":"UIFunctions","./ViewManager":"ViewManager"}],WinDialog:[function(e,t,o){"use strict";cc._RF.push(t,"7d78f0lU+VOW7rncsSfgC5s","WinDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Info"),i=e("../../../framework/Platform"),a=e("../../../framework/plugin_boosts/ui/ViewManager"),s=e("../hex-lines-game/Consts"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ps=null,t.levelLabel=null,t.stepLabel=null,t.timeLabel=null,t.percentLabel=null,t.diamondLabel=null,t.diamondNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){this.ps.resetSystem(),i.default.showSmallRank(),this.levelLabel.string=cc.js.formatStr("- \u7b2c %s \u5173 - ",n.UserInfo.currentLevel),this.stepLabel.string=n.UserInfo.stepUsed.toString(),this.timeLabel.string=n.UserInfo.timePassed.toString()+"s";var e=g.decreaseFomula(.99,.3,n.UserInfo.timePassed+n.UserInfo.stepUsed,n.UserInfo.currentLevel+50);if(this.percentLabel.string=(100*e).toFixed(0)+"%",this.diamondNode.active=!1,n.UserInfo.level==n.UserInfo.currentLevel){var t=n.UserInfo.level;if(n.UserInfo.getChoice(n.ChoiceType.Levelup)>0&&Math.random()>.5&&t>=3)this.scheduleOnce(function(){a.default.instance.show("Game/LevelupDialog",t,e)},1),this.diamondNode.active=!1;else{this.diamondNode.active=!0,e=Math.min(e,1);var o=Math.floor(Math.max(30*e,10));this.diamondLabel.string=o.toString(),n.UserInfo.addDiamond(o)}n.UserInfo.level=t+1,i.default.uploadScore(n.UserInfo.level),n.UserInfo.save()}1==n.UserInfo.getChoice(n.ChoiceType.HB)&&n.UserInfo.level>=3&&(n.UserInfo.isUnlock(s.default.FreeSkinId)||a.default.instance.show("Game/HbDialog"))},t.prototype.click_rank=function(){a.default.instance.show("wechat/WxRankDialog")},t.prototype.click_shop=function(){a.default.instance.show("Game/ShopDialog")},t.prototype.click_next=function(){n.UserInfo.currentLevel=n.UserInfo.currentLevel+1,cc.director.loadScene("Game")},t.prototype.click_home=function(){cc.director.loadScene("Main")},t.prototype.click_share=function(){i.default.share()},__decorate([l(cc.ParticleSystem)],t.prototype,"ps",void 0),__decorate([l(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([l(cc.Label)],t.prototype,"stepLabel",void 0),__decorate([l(cc.Label)],t.prototype,"timeLabel",void 0),__decorate([l(cc.Label)],t.prototype,"percentLabel",void 0),__decorate([l(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([l(cc.Node)],t.prototype,"diamondNode",void 0),__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Consts":"Consts"}],WxRankDialog:[function(e,t,o){"use strict";cc._RF.push(t,"80fd3Nn4dFF45QylMONs3ro","WxRankDialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Platform"),i=e("../plugin_boosts/ui/View"),a=e("../plugin_boosts/ui/ViewManager"),s=e("../plugin_boosts/misc/Signal"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.first=!0,t.closeSignal=new s.default,t}return __extends(t,e),t.prototype.onShown=function(e,t){this.closeSignal.on(e,t),this.first?this.scheduleOnce(this.reOpen,.1):n.default.showRank()},t.prototype.reOpen=function(){n.default.showRank(),this.first=!1,this.getComponent(i.default).hide(),a.default.instance.show("wechat/WxRankDialog")},t.prototype.click_close=function(){n.default.hideRank(),this.getComponent(i.default).hide(),this.closeSignal.fire()},__decorate([c],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../Platform":"Platform","../plugin_boosts/misc/Signal":"Signal","../plugin_boosts/ui/View":"View","../plugin_boosts/ui/ViewManager":"ViewManager"}],com:[function(e,t){"use strict";cc._RF.push(t,"e25bakBQd9I5LmDR7yLx+Jf","com");var o=function(){};o.dateStr=function(e){var t=e.getMonth()+1,o=e.getDate(),n=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(10>t?"0"+t:""+t)+"-"+(10>o?"0"+o:""+o)+" "+(10>n?"0"+n:""+n)+":"+(10>i?"0"+i:""+i)+":"+(10>a?"0"+a:""+a)},o.strDate=function(e){switch(e.length){case 8:e=e.split(":");var t=new Date;return t.setTime(0),t.setUTCHours(e[0]),t.setUTCMinutes(e[1]),t.setUTCSeconds(e[2]),t;case 10:return e=e.split("-"),new Date(e[0],e[1]-1,e[2],0,0,0);case 19:return t=e.split(" "),e=t[0].split("-"),t=t[1].split(":"),new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2]);default:throw"Invalid date format : "+e}},o.cca=function(e,t){var o=e.charCodeAt(t);return o!=o?void 0:o},o.substr=function(e,t,o){return null!=t&&0!=t&&null!=o&&0>o?"":(null==o&&(o=e.length),0>t?0>(t=e.length+t)&&(t=0):0>o&&(o=e.length+o-t),e.substr(t,o))},o.remove=function(e,t){var o=e.indexOf(t);return-1!=o&&(e.splice(o,1),!0)},o.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},cc._RF.pop()},{}],easing:[function(e,t,o){"use strict";function n(e,t,o,n){return o-i(n-e,0,o,n)+t}function i(e,t,o,n){return(e/=n)<1/2.75?7.5625*o*e*e+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t}cc._RF.push(t,"e6742QWT6FGKZZTNPiWFV4s","easing"),Object.defineProperty(o,"__esModule",{value:!0}),o.easeInOutBounce=o.easeOutBounce=o.easeInBounce=o.easeInOutBack=o.easeOutBack=o.easeInBack=o.easeInOutElastic=o.easeOutElastic=o.easeInElastic=o.easeInOutCirc=o.easeOutCirc=o.easeInCirc=o.easeInOutExpo=o.easeOutExpo=o.easeInExpo=o.easeInOutSine=o.easeOutSine=o.easeInSine=o.easeInOutQuint=o.easeOutQuint=o.easeInQuint=o.easeInOutQuart=o.easeOutQuart=o.easeInQuart=o.easeInOutCubic=o.easeOutCubic=o.easeInCubic=o.easeInOutQuad=o.easeOutQuad=o.easeInQuad=o.linear=void 0,o.linear=function(e,t,o,n){return o*e/n+t},o.easeInQuad=function(e,t,o,n){return o*(e/=n)*e+t},o.easeOutQuad=function(e,t,o,n){return-o*(e/=n)*(e-2)+t},o.easeInOutQuad=function(e,t,o,n){return(e/=n/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},o.easeInCubic=function(e,t,o,n){return o*(e/=n)*e*e+t},o.easeOutCubic=function(e,t,o,n){return o*((e=e/n-1)*e*e+1)+t},o.easeInOutCubic=function(e,t,o,n){return(e/=n/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},o.easeInQuart=function(e,t,o,n){return o*(e/=n)*e*e*e+t},o.easeOutQuart=function(e,t,o,n){return-o*((e=e/n-1)*e*e*e-1)+t},o.easeInOutQuart=function(e,t,o,n){return(e/=n/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},o.easeInQuint=function(e,t,o,n){return o*(e/=n)*e*e*e*e+t},o.easeOutQuint=function(e,t,o,n){return o*((e=e/n-1)*e*e*e*e+1)+t},o.easeInOutQuint=function(e,t,o,n){return(e/=n/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},o.easeInSine=function(e,t,o,n){return-o*Math.cos(e/n*(Math.PI/2))+o+t},o.easeOutSine=function(e,t,o,n){return o*Math.sin(e/n*(Math.PI/2))+t},o.easeInOutSine=function(e,t,o,n){return-o/2*(Math.cos(Math.PI*e/n)-1)+t},o.easeInExpo=function(e,t,o,n){return 0===e?t:o*Math.pow(2,10*(e/n-1))+t},o.easeOutExpo=function(e,t,o,n){return e===n?t+o:o*(1-Math.pow(2,-10*e/n))+t},o.easeInOutExpo=function(e,t,o,n){return 0===e?t:e===n?t+o:(e/=n/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(2-Math.pow(2,-10*--e))+t},o.easeInCirc=function(e,t,o,n){return-o*(Math.sqrt(1-(e/=n)*e)-1)+t},o.easeOutCirc=function(e,t,o,n){return o*Math.sqrt(1-(e=e/n-1)*e)+t},o.easeInOutCirc=function(e,t,o,n){return(e/=n/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},o.easeInElastic=function(e,t,o,n){var i=1.70158,a=0,s=o;return 0===e?t:1==(e/=n)?t+o:(a||(a=.3*n),s<Math.abs(o)?(s=o,i=a/4):i=a/(2*Math.PI)*Math.asin(o/s),-s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/a)+t)},o.easeOutElastic=function(e,t,o,n){var i=1.70158,a=0,s=o;return 0===e?t:1==(e/=n)?t+o:(a||(a=.3*n),s<Math.abs(o)?(s=o,i=a/4):i=a/(2*Math.PI)*Math.asin(o/s),s*Math.pow(2,-10*e)*Math.sin(2*(e*n-i)*Math.PI/a)+o+t)},o.easeInOutElastic=function(e,t,o,n){var i=1.70158,a=0,s=o;return 0===e?t:2==(e/=n/2)?t+o:(a||(a=.3*1.5*n),s<Math.abs(o)?(s=o,i=a/4):i=a/(2*Math.PI)*Math.asin(o/s),e<1?s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/a)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/a)*.5+o+t)},o.easeInBack=function(e,t,o,n,i){return void 0===i&&(i=1.70158),o*(e/=n)*e*((i+1)*e-i)+t},o.easeOutBack=function(e,t,o,n,i){return void 0===i&&(i=1.70158),o*((e=e/n-1)*e*((i+1)*e+i)+1)+t},o.easeInOutBack=function(e,t,o,n,i){return void 0===i&&(i=1.70158),(e/=n/2)<1?o/2*e*e*((1+(i*=1.525))*e-i)+t:o/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},o.easeInBounce=n,o.easeOutBounce=i,o.easeInOutBounce=function(e,t,o,a){return e<a/2?.5*n(2*e,0,o,a)+t:.5*i(2*e-a,0,o,a)+.5*o+t},cc._RF.pop()},{}],sdk:[function(e,t,o){"use strict";cc._RF.push(t,"39d4a0B6RRGXqBM/1udBqAy","sdk"),Object.defineProperty(o,"__esModule",{value:!0}),o.wxsdk=void 0;var n=e("../plugin_boosts/utils/EventManager"),i=e("./GameConfigs"),a=function(){function e(){}return e.videoAd=void 0,e.bannerAd=void 0,e.videoAdLoadCount=0,e.bannerAdLoadCount=0,e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"Ver",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(g.iswxgame()&&null==this._version){this._systemInfo=wx.getSystemInfoSync();var e=this._systemInfo.SDKVersion.replace(/\./g,"");this._version=parseInt(e)}},e.prototype.requestDB=function(e,t,o){this._db.collection(e).get({success:function(n){console.log("get "+e+" succ:",n.data),t&&t.call(o,n.data)},fail:function(){console.log("get "+e+" fail:"),t&&t.call(o)}})},e.prototype.requestConfig=function(e){this._db.collection("t_conf").get({success:function(t){console.log("get configs succ:",t.data),e&&e(t.data)},fail:function(t){console.log("get configs fail:",t),e&&e(null)}})},e.prototype.requestShareContent=function(e){var t=this;if(null==this._shareConfig)this._db.collection("t_share").get({success:function(o){if(console.log("share configs succ:",o.data),t._shareConfig=o.data,o.data&&o.data.length>0){var n=o.data.length,i=o.data[g.randomInt(0,n)];e&&e(i)}else e&&e(null)},fail:function(t){console.log("share configs fail:",t),e&&e(null)}});else{var o=this._shareConfig.length,n=this._shareConfig[g.randomInt(0,o)];e&&e(n)}},e.prototype.getShareContentSync=function(){if(this._shareConfig&&this._shareConfig.length>0){var e=this._shareConfig.length;return this._shareConfig[g.randomInt(0,e)]}return{title:i.GameConfig.default_share_title,imageUrl:cc.url.raw(i.GameConfig.deafult_share_imgUrl)}},e.prototype.getShareContent=function(e){var t=this;return new Promise(function(o){t.requestShareContent(function(t){if(t)o(t);else{var n={title:e||i.GameConfig.default_share_title,imageUrl:cc.url.raw(i.GameConfig.deafult_share_imgUrl)};o(n)}})})},e.prototype.openShare=function(e,t,o){return void 0===o&&(o=""),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return g.iswxgame()?[4,this.getShareContent(e)]:[2];case 1:return n=i.sent(),console.log(n),null!=n&&(t=t||this._userInfo&&this._userInfo.openId||0,n.query="share_id="+t+"&time="+(new Date).getTime()+"&"+o,console.log("open Share",n.query),wx.shareAppMessage(n)),[2]}})})},e.prototype.createButton=function(e,t,o,n,i){console.log("-------------createButton");var a=wx.createUserInfoButton({type:"text",text:"     ",style:{x:t||0,y:o||0,width:n||cc.winSize.width,height:i||cc.winSize.height,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff"}});a.onTap(function(t){a.destroy(),t&&t.userInfo?e&&e(t):e&&e(null)})},Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo.userInfo},enumerable:!1,configurable:!0}),e.prototype.getUserInfo=function(e){console.log("-------------getUserInfo"),wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(t){console.log("getUserInfo success.",t),e&&e(t)},fail:function(t){console.log("getUserInfo:",t),e&&e(null)},complete:null})},e.prototype.oldAuthUser=function(e){wx.authorize({scope:"scope.userInfo",success:function(t){console.log(t),e&&e(!0)},fail:function(t){console.log(t),e&&e(!1)},complete:null})},e.prototype.authUserInfo=function(e){this.wxLogin(function(t){t&&wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?e&&e(!0):e&&e(!1)},fail:null,complete:null})})},e.prototype.showShareMenu=function(){var e=this;wx.showShareMenu({withShareTicket:!0,success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:null}),wx.onShareAppMessage(function(){return e.getShareContentSync()})},e.prototype.wxLogin=function(e){wx.login({success:function(t){console.log("code ",t.code),e&&e(!0)},fail:function(){e&&e(!1)},complete:null})},e.prototype.loginToServer=function(e){null==e&&(e={}),this._userInfo=e,e.parentId=this._parentId,this.showShareMenu(),n.event.emit("wxlogin")},e.prototype.login=function(e,t,o,n){if(g.iswxgame()){var i=this;wx.cloud.init({traceUser:!0}),this._db=wx.cloud.database(),i.authUserInfo(function(a){null!=i._userInfo&&null!=i._userInfo.userInfo||(i._version>=220&&!a?i.createButton(function(e){i.loginToServer(e)},e,t,o,n):a?i.getUserInfo(function(e){i.loginToServer(e)}):i.oldAuthUser(function(e){e?i.getUserInfo(function(e){i.loginToServer(e)}):i.loginToServer(null)}))})}},e.prototype.getParent=function(){if(!g.iswxgame())return"";var e=wx.getLaunchOptionsSync();return 1007==e.scene||1008==e.scene?e.query.user_id:""},e.prototype.postMessage=function(e,t){g.iswxgame()&&wx.getOpenDataContext().postMessage({cmd:e,data:t})},e.prototype.uploadScore=function(e,t){var o=new Array;o.push({key:"score",value:e+""});var n={KVDataList:o,success:function(e){t&&t(e)},fail:function(){},complete:function(){}};wx.setUserCloudStorage(n)},e.prototype.loadBannerAd=function(e){var t=this;a.bannerAd&&a.bannerAd.destroy(),this._systemInfo||(this._systemInfo=wx.getSystemInfoSync());var o=wx.createBannerAd({adUnitId:"adunit-fe3c074ad86d1b59",style:{left:0,top:0,width:this._systemInfo.windowWidth}});o.onLoad(function(){a.bannerAd=o,a.bannerAdLoadCount=0,o.style.left=t._systemInfo.windowWidth/2-o.style.realWidth/2,o.style.top=t._systemInfo.windowHeight-o.style.realHeight,e&&e("load",o)}),o.onError(function(o){console.log("wxsdk onError code:"+o.code+" msg:"+o.msg),a.bannerAdLoadCount+=1,a.bannerAdLoadCount<4&&t.loadBannerAd(e),e&&e("error")})},e.prototype.showBannerAd=function(){var e=this;console.log("Wxsdk \u663e\u793abanner\u5e7f\u544a",a.bannerAd),a.bannerAd?a.bannerAd.show():(console.log("Wxsdk \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),this.loadBannerAd(function(t){"load"==t&&e.showBannerAd()}))},e.prototype.hideBannerAd=function(){a.bannerAd&&a.bannerAd.hide()},e.prototype.loadVideoAd=function(e){var t=this;console.log("============wxsdk.loadVideoAD");var o=wx.createRewardedVideoAd({adUnitId:"adunit-5214efbe348a768c"});this.hideBannerAd(),o.load().then(function(){o.show()}),o.onError(function(){a.videoAdLoadCount+=1,a.videoAdLoadCount<4&&t.loadVideoAd(e),e&&e("error")}),o.onClose(function(t){console.log("wxsdk onClose..."),e&&e("close",t.isEnded),a.videoAd=null}),o.onLoad(function(){console.log("wxsdk onLoad"),a.videoAd=o,a.videoAdLoadCount=0,t.showBannerAd(),e&&e("load",o)})},e}();o.wxsdk=new s,cc._RF.pop()},{"../plugin_boosts/utils/EventManager":"EventManager","./GameConfigs":"GameConfigs"}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"50795zUaKtEKpR26yc6eNG8","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["Info","Main","Animal","Consts","Game","GridManager","HexonTile","Res","com","IntMap","DCBackground","DCParticleSystem","DailyGetDialog","GetDialog","HbDialog","LevelDialog","LevelupDialog","LuckyDialog","PauseDialog","ShopDialog","ShopItemTemplate","WinDialog","Platform","ConnectManager","Message","MessageBase","MessageDispatch","MessageHandler","MessageType","Socket","Device","FSM","InfiniteBackground","LocalLifeSystem","LocalTimeSystem","PoolManager","PsFx","PsFxPlayer","PsSpawner","easing","BoostsAction","ClickAudio","ClickAudioManager","DataCenter","FrameSwitch","InputSystem","JoyStick","Net","Signal","SpriteFrameCache","DCLabel","DCPandoraPoint","DCSprite","DCToggle","DCUI","LoadingManager","MessageBoxComponent","MessageBoxManager","PandoraPoint","ToastComponent","ToastManager","UIComponent","UIFunctions","View","ViewManager","LevelSelector","Common","EventManager","Intersection","BKTool","SoundHelper","AddToMyFav","GameConfigs","MoreGameComponent","MoreGameDialog","MoreGameItem","MoreGameManager","MoreGameStyle","WxRankDialog","sdk","use_v2.0.x_cc.Toggle_event"]);